import{b as be,d as Y,e as pe,c as _,p as q,w as Ne,S as me,Q as P,j as e,I as fe}from"./index-P4xldYDK.js";import{d as D,u as he,e as we,f as De,r as Te}from"./router-vn-0iGwJ.js";import{c as Q,b as Pe,a as h,d as Ie}from"./index.esm-19LW8OGO.js";import{r as b}from"./tailwind-umh7vczy.js";import{u as ue,F as Le}from"./formik.esm-ilDmhU_v.js";import{F as ye}from"./FormProvider-Er-x6P3I.js";import{T as L}from"./TextField-ficLdNNo.js";import{T as Se}from"./TextAreaField-AQXsY0OP.js";import"./index-9INnh4Fj.js";import{P as Fe}from"./index-PCnKgv-B.js";import{r as qe}from"./resizeImage-IgRojBvG.js";import{u as Ae}from"./useErrorFocusFields-f_sEGw1K.js";import{O as Ce}from"./OverLayLoader-BxKzl8pX.js";import{u as ve}from"./usePathWisePermission-vrlv8sQs.js";import"./reactQuery-VYMV1vFj.js";import{S as v}from"./SelectField-wnM8MQsu.js";import"./module-v1C6_CxY.js";/* empty css              */import"./reactPdfViewerCore-t_0I17fT.js";import"./reactPdfViewerDefaultLayout-S9Yj6FAR.js";import"./axios-lPgvryBG.js";import"./reactIcons-lANGEfNm.js";import"./headlessui-pLs_kC1m.js";import"./customInputValidation-8tSUGdUh.js";function Re(r){var a,p,w,c,z,M,G,X,k,ee,ae,se;be();const[m,g]=D.useState(""),{AutoFocusErrorField:o}=Ae(),[t,l]=D.useState([]),A=he(),T=Y({}),[U,R]=D.useState(null),{id:I}=we(),{pathname:y}=De();ve((p=(a=y==null?void 0:y.split("/"))==null?void 0:a.slice(0,-1))==null?void 0:p.join("/"));const{coords:f,isGeolocationEnabled:J}=pe(),j=_({api:q.staticSafDetail,config:{applicationId:I},value:[I],options:{enabled:!!I}});_({api:(w=Ne)==null?void 0:w.workFlowInfo,config:{workflowId:(z=(c=j==null?void 0:j.data)==null?void 0:c.data)==null?void 0:z.workflow_id},value:[(G=(M=j==null?void 0:j.data)==null?void 0:M.data)==null?void 0:G.workflow_id],options:{enabled:!!((k=(X=j==null?void 0:j.data)==null?void 0:X.data)!=null&&k.workflow_id)}});const n=ue({enableReinitialize:!0,initialValues:{...r==null?void 0:r.data,geoTagged:(ae=(ee=r==null?void 0:r.data)==null?void 0:ee.geoTagged)==null?void 0:ae.map(s=>({...s})),comment:((se=r==null?void 0:r.data)==null?void 0:se.comment)||""},validationSchema:Q().shape({geoTagged:Pe().of(Q().shape({latitude:h().required("Latitude is required"),longitude:h().required("Longitude is required"),directionType:h().required("Direction is required"),imagePath:Ie().required("Image is required")}))}),onSubmit:async s=>{me.fire({title:"Are you sure?",text:"\n          You are going to submit the application for the survey. Please make sure all the details are correct.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(x=>{x.isConfirmed&&H(s)}).catch(x=>{var d,N;console.log(x),P.error((N=(d=x==null?void 0:x.response)==null?void 0:d.data)==null?void 0:N.message)})}}),H=async s=>{var x,d,N;try{const u=await(T==null?void 0:T.mutateAsync({api:q.surveyNewApplyByTc,data:{propertyType:s==null?void 0:s.propertyType,apartmentId:s==null?void 0:s.apartmentId,plotArea:s==null?void 0:s.plotArea,propAddress:s==null?void 0:s.address,mobileNo:s==null?void 0:s.mobile,ownerName:s==null?void 0:s.name,ward:s==null?void 0:s.wardId,zone:s==null?void 0:s.zoneId,consumerNo:s==null?void 0:s.consumerNo,licenseNo:s==null?void 0:s.licenseNo,isWaterHarvesting:(s==null?void 0:s.isWaterHarvesting)=="yes",harvestingDate:s==null?void 0:s.waterHarvestingDate,isApplicationFormDoc:(s==null?void 0:s.isApplicationFormDoc)=="yes",isSaleDeedDoc:(s==null?void 0:s.isSaleDeedDoc)=="yes",isLayoutSactionMapDoc:(s==null?void 0:s.isLayoutSactionMapDoc)=="yes",isNaOrderDoc:(s==null?void 0:s.isNaOrderDoc)=="yes",isNamunaDDoc:(s==null?void 0:s.isNamunaDDoc)=="yes",isOthersDoc:(s==null?void 0:s.isOthersDoc)=="yes",isMeasurementDoc:(s==null?void 0:s.isMeasurementDoc)=="yes",isPhotoDoc:(s==null?void 0:s.isPhotoDoc)=="yes",isIdProofDoc:(s==null?void 0:s.isIdProofDoc)=="yes"}}));(x=u==null?void 0:u.data)!=null&&x.status&&await V(s,(N=(d=u==null?void 0:u.data)==null?void 0:d.data)==null?void 0:N.safId)}catch(u){console.log(u)}},V=async(s,x)=>{var N,u,S,F,O;const d=new FormData;d.append("safId",x),s==null||s.geoTagged.forEach((i,C)=>{d.append("latitude[".concat(C,"]"),i==null?void 0:i.latitude),d.append("longitude[".concat(C,"]"),i==null?void 0:i.longitude),d.append("directionType[".concat(C,"]"),i==null?void 0:i.directionType),d.append("imagePath[".concat(C,"]"),i==null?void 0:i.imagePath)});try{const i=await T.mutateAsync({api:q.geoTagging,data:d});(N=i==null?void 0:i.data)!=null&&N.status?(P.success((u=i==null?void 0:i.data)==null?void 0:u.message),A("/amc-app/property/saf-generated-new/".concat(x),{replace:!0})):P.error((S=i==null?void 0:i.data)==null?void 0:S.message)}catch(i){P.error((O=(F=i==null?void 0:i.response)==null?void 0:F.data)==null?void 0:O.message)}},{submitCount:B,isSubmitting:E,errors:W,isValid:$}=n,Z=async(s,x,d)=>{var S,F;await((S=window==null?void 0:window.ReactNativeWebView)==null?void 0:S.postMessage(JSON.stringify({Key:"OPEN_CAMERA"})));const N=await qe(s.target.files[0]),u=new File([N],(F=s.target.files[0])==null?void 0:F.name,{type:"image/*"});n.setFieldValue("geoTagged.".concat(x,".latitude"),f==null?void 0:f.latitude),n.setFieldValue("geoTagged.".concat(x,".longitude"),f==null?void 0:f.longitude),n.setFieldValue("geoTagged.".concat(x,".directionType"),d==null?void 0:d.directionType),n.setFieldValue("geoTagged.".concat(x,".imagePath"),u),R(u)};return Te.useEffect(()=>{var s;l(((s=r==null?void 0:r.data)==null?void 0:s.isWaterHarvesting)=="yes"?[{id:1,title:"Front Image",directionType:"Front"},{id:2,title:"Left Image",directionType:"Left"},{id:3,title:"Right Image",directionType:"Right"},{id:4,title:"Rain Water Harvesting Image",directionType:"waterHarvesting",isRainWaterHarvesting:!0}]:[{id:1,title:"Front Image",directionType:"Front"},{id:2,title:"Left Image",directionType:"Left"},{id:3,title:"Right Image",directionType:"Right"}])},[r==null?void 0:r.data]),D.useEffect(()=>{o({submitCount:B,isSubmitting:E,errors:W,isValid:$})},[W,B,E]),J||me.fire({text:"Geolocation is not enabled! Please enable to use this app",icon:"error",confirmButtonText:"Ok"}),m?e.jsx("div",{className:"p-16 flex text-center text-red-500 font-semibold h-screen justify-center items-center",children:"Network Error"}):j!=null&&j.isLoading?e.jsx(fe,{}):e.jsxs(e.Fragment,{children:[T.isLoading&&e.jsx(Ce,{}),e.jsx("div",{children:e.jsxs(ye,{formik:n,children:[e.jsx(Le,{name:"geoTagged",children:s=>t.map((x,d)=>{var N,u,S,F,O,i,C,te,re,ne,ie,de,oe,ce,le,xe,ge;return e.jsxs(D.Fragment,{children:[e.jsxs(b.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:x==null?void 0:x.title})}),e.jsxs(b.CardBody,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Latitude : "}),e.jsx(L,{disabled:!0,type:"text",isDynamic:!0,name:"geoTagged.".concat(d,".latitude"),formik:n}),e.jsxs("h1",{className:"font-semibold text-sm",children:["Longitude :"," "]}),e.jsx(L,{disabled:!0,type:"text",isDynamic:!0,name:"geoTagged.".concat(d,".longitude"),formik:n})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("div",{children:((u=(N=n==null?void 0:n.values)==null?void 0:N.geoTagged[d])==null?void 0:u.imagePath)&&e.jsx("img",{className:"w-full h-64",loading:"lazy",src:(F=(S=n==null?void 0:n.values)==null?void 0:S.geoTagged[d])!=null&&F.imagePath?URL.createObjectURL((i=(O=n==null?void 0:n.values)==null?void 0:O.geoTagged[d])==null?void 0:i.imagePath):null,alt:(re=(te=(C=n==null?void 0:n.values)==null?void 0:C.geoTagged[d])==null?void 0:te.imagePath)==null?void 0:re.name})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",capture:"environment",name:"imagePath",accept:"image/*",id:"imagePath",onChange:je=>Z(je,d,x)}),e.jsx("span",{className:"text-sm text-red-500",children:(de=(ie=(ne=n==null?void 0:n.errors)==null?void 0:ne.geoTagged)==null?void 0:ie[d])==null?void 0:de.imagePath})]}),e.jsx("div",{children:e.jsx("h1",{className:"text-sm text-red-900",children:((ce=(oe=n==null?void 0:n.values)==null?void 0:oe.geoTagged[d])==null?void 0:ce.imagePath)&&Math.round(((ge=(xe=(le=n==null?void 0:n.values)==null?void 0:le.geoTagged[d])==null?void 0:xe.imagePath)==null?void 0:ge.size)/1024/1024*100)/100+"MB"})})]})]})]}),e.jsx("div",{className:"my-4 border-b-2"})]},d)})}),e.jsx(Se,{name:"comment",label:"Comment",formik:n}),e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[e.jsx(b.Button,{type:"button",onClick:()=>{var s;r==null||r.prev({...r==null?void 0:r.data,geoTagged:(s=n==null?void 0:n.values)==null?void 0:s.geoTagged})},size:"sm",className:"bg-blue-500 text-white",children:e.jsx("small",{children:"Back"})}),e.jsx(b.Button,{type:"submit",size:"sm",className:"bg-blue-500 text-white",children:e.jsx("small",{children:"Final Submit"})})]})]})})]})}function Be(r){const{data:m,consumerDetails:g,licenseDetails:o}=r,t=()=>{r.next({...m,...m},!1)},l=()=>{r.prev({...m,...m})};return e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-row justify-between mb-3",children:e.jsx("h1",{className:"text-sm font-semibold",children:"View Details"})}),e.jsx(b.Card,{children:e.jsxs(b.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"Basic Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:m==null?void 0:m.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile"}),e.jsxs("p",{className:"text-xs text-gray-800",children:["+91 ",m==null?void 0:m.mobile]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address"}),e.jsx("p",{className:"text-xs text-gray-800",children:m==null?void 0:m.address})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),(g==null?void 0:g.consumer_no)&&e.jsx(b.Card,{children:e.jsxs(b.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"Consumer Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer No"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.consumer_no})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.applicant_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Building Type"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.building_type})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),(o==null?void 0:o.application_no)&&e.jsx(b.Card,{children:e.jsxs(b.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"License Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"License No"}),e.jsx("p",{className:"text-xs text-gray-800",children:o==null?void 0:o.license_no})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:o==null?void 0:o.premises_owner_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Firm Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:o==null?void 0:o.firm_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address"}),e.jsx("p",{className:"text-xs text-gray-800",children:o==null?void 0:o.entity_address})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("div",{className:"flex flex-row gap-8 justify-center",children:[e.jsx(b.Button,{size:"sm",className:"px-8",onClick:l,color:"blue-gray",children:"Back"}),e.jsx(b.Button,{size:"sm",className:"px-8",onClick:t,variant:"gradient",color:"blue",children:"Next"})]})]})}const K=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],Ee=[{id:1,label:"Zone A-East",value:"1"},{id:2,label:"Zone B-West",value:"2"},{id:3,label:"Zone C-North",value:"3"},{id:4,label:"Zone D-South",value:"4"}],We=[{docname:"isPhotoDoc",label:"Photograph"},{docname:"isIdProofDoc",label:"Id Proof"},{docname:"isApplicationFormDoc",label:"Application Form"},{docname:"isSaleDeedDoc",label:"Sale Deed"},{docname:"isMeasurementDoc",label:"Measurement"},{docname:"isLayoutSactionMapDoc",label:"Layout Saction Map"},{docname:"isNaOrderDoc",label:"NA Order"},{docname:"isNamunaDDoc",label:"7/12/Namuna D"},{docname:"isOthersDoc",label:"Others"}];function ze(r){var n,H,V,B,E,W,$,Z;he();const{mutateAsync:m,isLoading:g}=Y({}),o=Y({});Y({});const t=ue({validationSchema:Q().shape({name:h().required("Name is required"),mobile:h().required("Mobile is required"),zoneId:h().required("Zone is required"),wardId:h().required().label("Ward"),address:h().required("Address is required"),propertyType:h().required("Property Type is required"),consumerNo:h().when("isConsumer",{is:a=>a==="yes",then:()=>h().required("Consumer No is required")}),licenseNo:h().when("isLicense",{is:a=>a==="yes",then:()=>h().required("License No is required")}),waterHarvestingDate:h().when("isWaterHarvesting",{is:a=>a==="yes",then:()=>h().required("Date is required")}),isPhotoDoc:h().matches(/yes/,"Required"),isIdProofDoc:h().matches(/yes/,"Required"),isApplicationFormDoc:h().matches(/yes/,"Required"),isSaleDeedDoc:h().matches(/yes/,"Required")}),initialValues:r==null?void 0:r.data,onSubmit:async(a,{})=>{console.log(a),r==null||r.next({...r==null?void 0:r.data,...a},!1)}}),{values:l}=t,{data:A,isPending:T,isError:U,error:R,isLoading:I}=_({api:q.getWardByZone,config:{zoneId:l==null?void 0:l.zoneId},value:[l==null?void 0:l.zoneId],options:{enabled:!!(l!=null&&l.zoneId)}}),y=_({api:q.masterSaf,config:{},options:{enabled:!0}}),f=_({api:q.getAptByWard,config:{wardMstrId:l==null?void 0:l.wardId},value:[l==null?void 0:l.wardId],options:{enabled:((n=t.values)==null?void 0:n.propertyType)==3}}),J=async()=>{var a,p,w;try{const c=await o.mutateAsync({api:q.consumerVerify,data:{consumerNo:(a=t==null?void 0:t.values)==null?void 0:a.consumerNo}});(p=c==null?void 0:c.data)!=null&&p.status?(r==null||r.setConsumerDetails((w=c==null?void 0:c.data)==null?void 0:w.data),P.success("Consumer Verified")):P.error("Consumer not found")}catch(c){P.error(c.message)}},j=async()=>{var a,p,w;try{const c=await o.mutateAsync({api:q.tradeVerify,data:{licenseNo:(a=t==null?void 0:t.values)==null?void 0:a.licenseNo}});(p=c==null?void 0:c.data)!=null&&p.status?(r==null||r.setLicenseDetails((w=c==null?void 0:c.data)==null?void 0:w.data),P.success("License Verified")):(console.log(c==null?void 0:c.data),P.error("License not found"))}catch(c){P.error(c.message)}};return e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-row justify-between mb-3",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Basic Details"})}),e.jsx(b.Card,{children:e.jsx("div",{className:"p-4",children:e.jsx(ye,{formik:t,children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{children:e.jsx(L,{isRequiredLabel:!0,label:"Property Owner Name",name:"name",type:"text",formik:t,placeholder:"Enter property owner name"})}),e.jsx(L,{isRequiredLabel:!0,label:"Mobile",name:"mobile",type:"text",formik:t,placeholder:"Enter your mobile number",onInput:a=>{a.target.value.length>10?a.target.value=a.target.value.slice(0,10):a.target.value=a.target.value.replace(/[^0-9]/g,"")}}),e.jsxs(v,{label:"Zone",name:"zoneId",formik:t,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"select"}),Ee.map(a=>e.jsx("option",{value:a==null?void 0:a.value,children:a==null?void 0:a.label},a==null?void 0:a.id))]}),e.jsxs("div",{children:[e.jsxs(v,{isRequiredLabel:!0,label:"Ward",formik:t,name:"wardId",disabled:I,children:[e.jsx("option",{value:"",children:"select"}),(H=A==null?void 0:A.data)==null?void 0:H.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.ward_name},a==null?void 0:a.id))]}),e.jsx("small",{className:"text-blue-500",children:I?"Please wait...":""})]}),e.jsxs(v,{isRequiredLabel:!0,label:"Property Type",name:"propertyType",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),(E=(B=(V=y==null?void 0:y.data)==null?void 0:V.data)==null?void 0:B.property_type)==null?void 0:E.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.property_type},a==null?void 0:a.id))]}),((W=t==null?void 0:t.values)==null?void 0:W.propertyType)==3&&e.jsxs(v,{label:"Apartment",name:"apartmentId",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),(Z=($=f==null?void 0:f.data)==null?void 0:$.data)==null?void 0:Z.map((a,p)=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.apartment_name},p+1))]}),e.jsx(L,{label:"Area of Plot",name:"plotArea",type:"number",onInput:a=>{a.target.value.length>10?a.target.value=a.target.value.slice(0,10):a.target.value=a.target.value.replace(/[^0-9]/g,"")},formik:t,placeholder:"Enter area of plot"}),e.jsx(L,{isRequiredLabel:!0,label:"Address",name:"address",type:"text",formik:t,placeholder:"Enter your address"}),e.jsx(v,{label:"Is Water Connection?",name:"isConsumer",formik:t,children:K.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isConsumer==="yes"&&e.jsx(L,{isRequiredLabel:!0,onBlur:J,label:"Consumer No",name:"consumerNo",type:"text",formik:t,placeholder:"Enter your consumer number"}),e.jsx(v,{label:"Is Trade License?",name:"isLicense",formik:t,children:K.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isLicense==="yes"&&e.jsx(L,{isRequiredLabel:!0,label:"License No",onBlur:j,name:"licenseNo",type:"text",formik:t,placeholder:"Enter your license number"}),e.jsx(v,{label:"Is Water Harvesting?",name:"isWaterHarvesting",formik:t,children:K.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isWaterHarvesting==="yes"&&e.jsx(L,{isRequiredLabel:!0,label:"Water Harvesting Date",name:"waterHarvestingDate",type:"date",formik:t}),e.jsx("h1",{className:"text-xs font-semibold",children:"Please select the document you have"}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:We.map(a=>{var p,w,c,z,M;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"checkbox",name:a.docname,value:(p=t==null?void 0:t.values)==null?void 0:p[a.docname],checked:((w=t==null?void 0:t.values)==null?void 0:w[a.docname])==="yes",onChange:G=>{t.setFieldValue(a.docname,G.target.checked?"yes":"no")}}),e.jsxs("h1",{className:"text-xs font-semibold",children:[a.label,(a.docname==="isPhotoDoc"||(a==null?void 0:a.docname)=="isIdProofDoc"||(a==null?void 0:a.docname)=="isApplicationFormDoc"||(a==null?void 0:a.docname)=="isSaleDeedDoc")&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-red-500",children:" *"}),e.jsx("div",{className:"text-red-500 text-[10px]",children:((c=t==null?void 0:t.errors)==null?void 0:c[a.docname])&&((z=t==null?void 0:t.touched)==null?void 0:z[a.docname])&&((M=t==null?void 0:t.errors)==null?void 0:M[a.docname])})]})]})]},a.docname)})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(b.Button,{size:"sm",type:"submit",color:"blue",loading:g,formik:t,fullWidth:!0,label:"Submit",children:"Next"})})]})})})})]})}function ca(){const[r,m]=D.useState(0),[g,o]=D.useState({name:"",mobile:"",zoneId:"",wardId:"",address:"",isConsumer:"no",isLicense:"no",consumerNo:"",licenseNo:"",propertyType:"",apartmentId:"",plotArea:"",isWaterHarvesting:"no",waterHarvestingDate:"",comment:"",isApplicationFormDoc:"no",isSaleDeedDoc:"no",isLayoutSactionMapDoc:"no",isNaOrderDoc:"no",isNamunaDDoc:"no",isOthersDoc:"no",isMeasurementDoc:"no",isPhotoDoc:"no",isIdProofDoc:"no",geoTagged:[{latitude:"",longitude:"",altitude:"",accuracy:"",imagePath:"",directionType:"",rainWaterHarvesting:""}]}),[t,l]=D.useState({}),[A,T]=D.useState({});D.useState(""),D.useState("");const U=y=>{console.log(y)},R=(y,f=!1)=>{if(o({...g,...y}),f){U(y);return}m(r+1)},I=y=>{o({...g,...y}),m(r-1)};return e.jsx(Fe,{title:"New Survey Form",children:e.jsx("div",{className:"px-4 py-6 flex-1",children:e.jsx("div",{children:{0:e.jsx(ze,{next:R,data:g,setData:o,setConsumerDetails:l,setLicenseDetails:T}),1:e.jsx(Be,{next:R,prev:I,data:g,setData:o,setConsumerDetails:l,consumerDetails:t,licenseDetails:A,setLicenseDetails:T}),2:e.jsx(Re,{next:R,prev:I,data:g,setData:o,setConsumerDetails:l,consumerDetails:t,setLicenseDetails:T})}[r]})})})}export{ca as default};
