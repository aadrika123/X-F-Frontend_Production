import{M as T,u as I,r as n,g as L,h as B,d as f,e as E,f as a,F as M,j as e,B as j,i as u,A as _}from"./index-5e7d8a49.js";import{P as O}from"./PilotWorkflowDocumentRow-c1d3fb2f.js";import{u as R}from"./useSetTitle-8d8f6298.js";T.setAppElement("#root");function W(){var p,g,h,x;const{t:r}=I(),{api_privateLandApplicationFullDetailById:b,api_privateLandViewDocuments:y}=_();R("Agency Details");const[c,N]=n.useState();n.useState(),L();const{id:i}=B(),[s,w]=n.useState(),[m,d]=n.useState(!1),[U,A]=n.useState(!1),[q,v]=n.useState(""),k=()=>A(!0);n.useEffect(()=>{P()},[]);const P=()=>{console.log("before document fetch ",i);let o={applicationId:i};f.post(y,o,E()).then(l=>{var t;console.log("document list at saf application details ",l),N((t=l==null?void 0:l.data)==null?void 0:t.data)}).catch(l=>{console.log("error at saf application details ",l)})},D=o=>{console.log("incoming doc url modal => ",o),v(o),k()},S=()=>{d(!0);const l={headers:{Authorization:`Bearer ${window.localStorage.getItem("token")}`,Accept:"application/json"}};f.post(b,{applicationId:i,type:"Active"},l).then(function(t){console.log("agency application details",t.data.data),w(t.data.data),d(!1)}).catch(function(t){console.log("agency application details error...",t),d(!1)})};return n.useEffect(()=>{S()},[]),a(M,{children:[m&&e(j,{}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:a("div",{className:"col-span-12 rounded-lg  p-4",children:[e("h1",{className:"mb-2 pl-2 font-bold text-3xl text-gray-700 uppercase underline text-center",children:nullToNA((g=(p=s==null?void 0:s.fullDetailsData)==null?void 0:p.cardArray)==null?void 0:g.headerTitle)}),a("h1",{className:"flex-1 flex pl-2 font-bold text-2xl text-gray-700",children:[r("workflowPage.applicationNo.label"),". -",nullToNA((s==null?void 0:s.application_no)||"")]}),a("div",{className:"p-4",children:[a("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[e(u,{className:"inline"})," ",r("workflowPage.basicDetails.label")]}),(x=(h=s==null?void 0:s.fullDetailsData)==null?void 0:h.dataArray)==null?void 0:x.map(o=>{var l;return e("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 container mx-auto bg-white rounded-lg shadow-xl p-4 mt-4",children:(l=o==null?void 0:o.data)==null?void 0:l.map(t=>a("div",{className:"pl-4 p-2",children:[a("h1",{className:"font-bold text-sm",children:[nullToNA((t==null?void 0:t.value)||"N/A")," "]}),e("h1",{className:"text-gray-500 text-xs",children:nullToNA(t==null?void 0:t.displayString)})]}))})})]})]})}),a("div",{className:"container mx-auto mt-10  px-5 pb-48  rounded-lg",children:[a("h1",{className:"px-1 font-semibold font-serif text-gray-500 mt-10",children:[e(u,{className:"inline"})," ",r("workflowPage.documentList.label")]}),e("div",{className:"py-0 shadow-xl mt-3",children:e("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:e("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:a("table",{className:"min-w-full leading-normal",children:[e("thead",{className:"bg-white",children:a("tr",{className:"font-semibold",children:[e("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm ",children:"#"}),e("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm ",children:r("workflowPage.documentName.label")}),e("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm ",children:r("workflowPage.view.label")}),e("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm ",children:r("workflowPage.status.label")}),e("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm ",children:r("workflowPage.Remarks.label")})]})}),a("tbody",{children:[(c==null?void 0:c.length)==0&&!m&&e("tr",{className:"mt-10 py-20",children:e("td",{colSpan:5,className:"text-center",children:a("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg ",children:[r("workflowPage.noDocumentFound.label")," !!"]})})}),c==null?void 0:c.map((o,l)=>e(O,{openModal:D,docList:o,index:l}))]})]})})})})]})]})}export{W as default};
