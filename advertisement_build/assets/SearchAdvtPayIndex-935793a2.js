import{u as $,r,i as H,p as q,f as T,h as _,q as j,c as C,b as w,d as R,j as a,g as t,F as V,k as E,R as I,e as D,A as K}from"./index-5b6b9a8d.js";import{L as M}from"./ListTableAdvrt-3431d8c5.js";import{u as O}from"./useSetTitle-ef2131b9.js";function U(e,c,f){let m="/admin";e.ctrlKey?window.open(`${m}${c}`,"_blank"):f(c)}function Q(){const{t:e}=$();r.useState(!1),r.useState();const[c,f]=r.useState();r.useState(!1),r.useState();const{type:m,filterParam:x,searchValueParam:y}=H(),[N,h]=r.useState(!1),[i,v]=r.useState(),[g,u]=r.useState(!1);r.useState();const{notify:b}=r.useContext(q);O("Search Holding"),console.log("search params...",m," ",x," ",y);const{api_advtSearchPaymentParameters:P}=K(),S=T(),k=_();j(),console.log("last url.......");const B=l=>{u(!1),h(!0);const n={filterBy:l==null?void 0:l.filterBy,parameter:l==null?void 0:l.parameter};console.log("before fetch holding details....",n),D.post(P,n,S).then(o=>{var d,p;console.log("search property list",o==null?void 0:o.data),(d=o==null?void 0:o.data)!=null&&d.status?(v((p=o==null?void 0:o.data)==null?void 0:p.data),u(!0)):b("Something went wrong!!","error"),h(!1)}).catch(o=>{console.log("Error while fetching Filter Data",o),b("Something went wrong!!","error"),h(!1),u(!1)})},L=C({filterBy:w().required("This is a required field !"),parameter:w().required("This is a required field !")}),s=R({initialValues:{filterBy:"",parameter:""},onSubmit:l=>{B(l)},validationSchema:L}),A=(l,n,o)=>{let d=`/agencyApprovedDetail/${n}/${o}/Approve`;U(l,d,k)},F=[{Header:`${e("workflowPage.applicationNo.label")}`,accessor:"application_no"},{Header:`${e("workflowPage.entityName.label")}`,accessor:"entity_name"},{Header:`${e("workflowPage.mobileNo.label")}`,accessor:"mobile_no"},{Header:`${e("workflowPage.action.label")}`,Cell:({row:l})=>a("button",{onClick:n=>A(n,l.original.id,l.original.type),className:"bg-indigo-500 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 text-white",children:e("workflowPage.view.label")})}];return console.log("application type ",i),t(V,{children:[N&&a(E,{}),t("div",{className:"border shadow-xl bg-white mt-6",children:[a("div",{className:"flex ml-5 mt-2 ",children:a("p",{className:"font-bold text-3xl ml-4 mt-1 text-gray-600",children:e("workflowPage.searchForPayment.label")})}),a("form",{onSubmit:s.handleSubmit,children:t("div",{className:"flex justify-center space-x-8 my-5 m-10",children:[t("div",{children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("workflowPage.filterBy.label"),a("span",{className:"text-red-500",children:"*"})]}),t("select",{...s.getFieldProps("filterBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[t("option",{value:"",children:[" ",e("workflowPage.select.label")]}),t("option",{value:"entityName",children:[" ",e("workflowPage.entityName.label")]}),a("option",{value:"ownerName",children:e("workflowPage.ownerName.label")}),a("option",{value:"mobileNo",children:e("workflowPage.mobileNo.label")})]}),a("p",{className:"text-red-500 text-xs",children:s.touched.filterBy&&s.errors.filterBy?s.errors.filterBy:null})]}),t("div",{children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("workflowPage.searchBy.label")," ",c," ",a("span",{className:"text-red-500",children:"*"})]}),a("input",{type:"text",...s.getFieldProps("parameter"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),a("p",{className:"text-red-500 text-xs",children:s.touched.parameter&&s.errors.parameter?s.errors.parameter:null})]}),a("div",{className:"mt-4",children:t("button",{type:"submit",className:"w-full border border-indigo-700 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:[" ",t("p",{className:"flex",children:[" ",t("span",{className:"mt-1 mr-2",children:[" ",a(I,{})," "]})," ",e("workflowPage.searchRecord.label")]})]})})]})})]}),t("div",{className:"mt-10",children:[g&&(i==null?void 0:i.length)!=0&&a(M,{columns:F,dataList:i}),g&&(i==null?void 0:i.length)==0&&t("div",{className:"text-xl font-semibold text-red-400 text-center",children:[" ",e("workflowPage.dataNotFound.label")]}),a("div",{className:"w-full h-40"})]})]})}export{Q as default};
