import{k as G,r as u,i as ne,c as ae,b as w,d as ie,e as J,f as K,j as n,F as C,g as m,l as O,t as te,v as ce,A as W,h as oe}from"./index-061168d8.js";function me(l){var T;const{api_selfAdvtCashPayment:D,api_selfAdvtCheckDDPayment:N,api_movableVehicleCashPayment:g,api_movableVehicleCheckDDPayment:F,api_privateLandCashPayment:U,api_privateLandCheckDDPayment:I,api_agencyCashPayment:f,api_agencyCheckDDPayment:x,api_hoardingCashPayment:A,api_hoardingCheckDDPayment:V,api_banquetMarriageHallCashPayment:q,api_banquetMarriageHallCheckDDPayment:S,api_hostelCashPayment:P,api_hostelCheckDDPayment:H,api_lodgeCashPayment:E,api_lodgeCheckDDPayment:M,api_dharamshalaCashPayment:B,api_dharamshalaCheckDDPayment:L}=W(),{id:c,moduleType:Q}=G(),[p,_]=u.useState(!1),[k,y]=u.useState(!1),[v,d]=u.useState(null),[s,o]=u.useState(null),b=ne();console.log("application data through props",l.applicationDetail),console.log("id 32",c),console.log("application for in payment card",l==null?void 0:l.applicationFor),u.useState(!1);const[a,X]=u.useState(),[re,Z]=u.useState(!1);ae({paymentMode:w().required("select payment mode"),bankName:w(),branchName:w(),cheque_dd_no:w()});const r=ie({initialValues:{paymentMode:"",bankName:"",branchName:"",cheque_dd_no:""},onSubmit:(e,i)=>{console.log("values at submit payment",e),le(e)}}),ee=e=>{let i=e.target.name,t=e.target.value;i=="paymentMode"&&X(t),i=="payAdvance"&&Z(e.target.checked)},le=e=>{y(!0);let i,t;a=="CASH"&&(l==null?void 0:l.applicationFor)=="selfAdvt"&&(i=D,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="movableVehicle"&&(i=g,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="privateLand"&&(i=U,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="agency"&&(i=f,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="hoarding"&&(i=A,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="banquetMarriageHall"&&(i=q,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="hostel"&&(i=P,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="lodge"&&(i=E,t={applicationId:c,status:1}),a=="CASH"&&(l==null?void 0:l.applicationFor)=="dharamshala"&&(i=B,t={applicationId:c,status:1}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="selfAdvt"&&(i=N,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="movableVehicle"&&(i=F,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="privateLand"&&(i=I,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="agency"&&(i=x,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="hoarding"&&(i=V,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="banquetMarriageHall"&&(i=S,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="hostel"&&(i=H,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="lodge"&&(i=M,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),a=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="dharamshala"&&(i=L,t={applicationId:c,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),console.log("before make payment..",t),J.post(i,t,K()).then(function(h){var $,j,R,Y,z;console.log(" payment response...",h==null?void 0:h.data),d((j=($=h==null?void 0:h.data)==null?void 0:$.data)==null?void 0:j.transactionNo),o((Y=(R=h==null?void 0:h.data)==null?void 0:R.data)==null?void 0:Y.workflowId),_((z=h==null?void 0:h.data)==null?void 0:z.status),y(!1)}).catch(function(h){console.log(" payment error..",h),y(!1)})};return console.log("currentTransactionNo",v),console.log("workFlowId",s),u.useEffect(()=>{},[]),p==!0?n(C,{children:n("div",{className:"w-full h-full bg-white p-20",children:m("div",{children:[n("div",{className:"text-center font-semibold text-3xl",children:"Your payment has been successfully done !"}),n("div",{className:"text-center mt-6",children:n("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>b(`/agencyPaymentReceipt/${v}/${s}`),children:"View Receipt"})})]})})}):m(C,{children:[k&&n(O,{}),n(te,{position:"top-right",autoClose:2e3}),n("div",{className:" block p-4 mt-4 w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto  overflow-x-auto mb-20 ",children:m("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto ",children:[m("h1",{className:"mb-2 text-gray-600 text-xl",children:[n("img",{src:ce,alt:"rupee-image",className:"w-5 inline"})," Payable Amount - ",n("span",{className:"font-semibold text-lg text-gray-800",children:(T=l==null?void 0:l.applicationDetail)==null?void 0:T.payment_amount})]}),n("form",{onSubmit:r.handleSubmit,onChange:ee,className:"p-4 relative",children:m("div",{className:"grid grid-cols-12",children:[m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),m("select",{...r.getFieldProps("paymentMode"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[n("option",{children:"Select"}),n("option",{value:"CASH",children:"Cash"}),n("option",{value:"CHEQUE",children:"Cheque"}),n("option",{value:"DD",children:"DD"})]}),n("span",{className:"text-red-600 absolute text-xs",children:r.touched.paymentMode&&r.errors.paymentMode?r.errors.paymentMode:null})]}),(a=="CHEQUE"||a=="DD")&&m(C,{children:[m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),n("input",{...r.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),n("span",{className:"text-red-600 absolute text-xs",children:r.touched.bankName&&r.errors.bankName?r.errors.bankName:null})]}),m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),n("input",{...r.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),n("span",{className:"text-red-600 absolute text-xs",children:r.touched.branchName&&r.errors.branchName?r.errors.branchName:null})]}),m("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[m("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No"]}),n("input",{...r.getFieldProps("cheque_dd_no"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),n("span",{className:"text-red-600 absolute text-xs",children:r.touched.cheque_dd_no&&r.errors.cheque_dd_no?r.errors.cheque_dd_no:null})]})]}),n("div",{className:"col-span-12"}),n("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:n("div",{className:"md:pl-10 text-right",children:n("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Pay "})})})]})})]})})]})}function de(l){var Q,p,_,k,y,v;const[D,N]=u.useState(!1);u.useState();const[g,F]=u.useState(),[U,I]=u.useState();u.useState(!1);const{id:f,idFor:x}=G(),{api_agencyApplicationFullDetailById:A,api_agencyViewDocuments:V,api_privateLandApplicationFullDetailById:q,api_advertApplicationFullDetailById:S,api_movableApplicationFullDetailById:P,api_hoardingApplicationFullDetailById:H,api_BanquetMarriageApplicationFullDetailById:E,api_HostelApplicationFullDetailById:M,api_LodgeApplicationFullDetailById:B,api_DharamshalaApplicationFullDetailById:L}=W();console.log("id in advertisement payment card",f),console.log("idFor in advertisement payment card",x),oe("Payment Screen");const c=()=>{const d="Approve",s=x;console.log("application for",s),N(!0);let o,b;s=="selfAdvt"&&(o=S,b={applicationId:f,type:d}),s=="movableVehicle"&&(o=P,b={applicationId:f,type:d}),s=="privateLand"&&(o=q,b={applicationId:f,type:d}),s=="agency"&&(o=A,b={applicationId:f,type:d}),s=="hoarding"&&(o=H,b={applicationId:f,type:d}),s=="banquetMarriageHall"&&(o=E,b={applicationId:f,type:d}),s=="hostel"&&(o=M,b={applicationId:f,type:d}),s=="lodge"&&(o=B,b={applicationId:f,type:d}),s=="dharamshala"&&(o=L,b={applicationId:f,type:d}),console.log("request body 12",b),J.post(`${o}`,b,K()).then(function(a){console.log("payment details data...",a),F(a.data.data),I(a==null?void 0:a.data),N(!1)}).catch(function(a){console.log("payment details error...",a),N(!1)})};return u.useEffect(()=>{c()},[]),console.log("header title",(p=(Q=g==null?void 0:g.fullDetailsData)==null?void 0:Q.cardArray)==null?void 0:p.headerTitle),m(C,{children:[D&&n(O,{}),m("div",{className:"p-10",children:[n("h1",{className:"text-center pl-2 font-bold text-2xl text-gray-700 uppercase underline",children:(k=(_=g==null?void 0:g.fullDetailsData)==null?void 0:_.cardArray)==null?void 0:k.headerTitle}),n("h1",{className:"flex-1 flex p-2 pl-2 pt-2 font-bold text-xl text-gray-700 bg-white shadow-lg",children:"Pay License Fee"}),n("div",{className:"w-full bg-white shadow-xl mb-6",children:n("div",{className:" mt-2 rounded-lg shadow-lg p-4",children:(v=(y=g==null?void 0:g.fullDetailsData)==null?void 0:y.dataArray)==null?void 0:v.map(d=>{var s;return n("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 container mx-auto  p-4 mt-4",children:(s=d==null?void 0:d.data)==null?void 0:s.map(o=>m("div",{className:"pl-4 p-2",children:[m("h1",{className:"font-bold text-sm",children:[(o==null?void 0:o.value)||"N/A"," "]}),n("h1",{className:"text-gray-500 text-xs",children:o==null?void 0:o.displayString})]}))})})})}),n("div",{children:n(me,{applicationDetail:g,applicationFor:x})})]}),n("div",{className:"w-full h-40 md:none"})]})}export{de as default};
