import{r as o,a as I,k as B,o as R,A as E,L as T,j as a,bG as W,bJ as q,bB as O,n as r,f as C}from"./index-43eb0fa0.js";const G=()=>{var v;const{get_MasterData:y,searchPreviousYearPaidButNotPaidCurrentYear:H,searchNotPaidFrom20162017:S}=O(),[w,A]=o.useState();o.useState();const[N,P]=o.useState("");o.useState(!1);const[_,Y]=o.useState(null),[D,k]=o.useState(0),b=I();B("Payment Not Done Report");const j="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",f=R({initialValues:{fiYear:"2023-2024",wardId:""},onSubmit:e=>{P(e==null?void 0:e.fiYear),Y({wardMstrId:f.values.wardId,fiYear:f.values.fiYear}),k(n=>n+1)}});o.useEffect(()=>{F()},[]);const F=()=>{E.get(y,T()).then(e=>{var n,t,i;((n=e==null?void 0:e.data)==null?void 0:n.status)==!0&&A((i=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:i.ward_master)}).catch(e=>console.log("error getting master list",e))},L=[{Header:"S.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Ward No",accessor:"ward_name",Cell:e=>r(e==null?void 0:e.value)},{Header:"Holding No",accessor:"new_holding_no",Cell:({cell:e})=>{var n,t,i,s,d,u,l,m,h,c;if(((t=(n=e==null?void 0:e.row)==null?void 0:n.original)==null?void 0:t.new_holding_no)==null||((s=(i=e==null?void 0:e.row)==null?void 0:i.original)==null?void 0:s.new_holding_no)==""||((u=(d=e==null?void 0:e.row)==null?void 0:d.original)==null?void 0:u.new_holding_no)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if(((m=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:m.new_holding_no)!=null)return a.jsx("div",{className:"cursor-pointer underline",onClick:()=>{var x,g;return b("/holdingPropertyDetails/"+((g=(x=e==null?void 0:e.row)==null?void 0:x.original)==null?void 0:g.property_id))},children:(c=(h=e==null?void 0:e.row)==null?void 0:h.original)==null?void 0:c.new_holding_no})}},{Header:"Applicant Name",accessor:"owner_name",Cell:e=>r(e==null?void 0:e.value)},{Header:"Mobile No",accessor:"mobile_no",Cell:e=>r(e==null?void 0:e.value)},{Header:"Address",accessor:"prop_address",Cell:e=>r(e==null?void 0:e.value)},{Header:"Demand",accessor:"total_demand",Cell:e=>C(e==null?void 0:e.value)}],M=[{Header:"S.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Ward No",accessor:"ward_name",Cell:e=>r(e==null?void 0:e.value)},{Header:"Holding No",accessor:"new_holding_no",Cell:({cell:e})=>{var n,t,i,s,d,u,l,m,h,c;if(((t=(n=e==null?void 0:e.row)==null?void 0:n.original)==null?void 0:t.new_holding_no)==null||((s=(i=e==null?void 0:e.row)==null?void 0:i.original)==null?void 0:s.new_holding_no)==""||((u=(d=e==null?void 0:e.row)==null?void 0:d.original)==null?void 0:u.new_holding_no)==null)return a.jsx("i",{className:"font-semibold ",children:"N/A"});if(((m=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:m.new_holding_no)!=null)return a.jsx("div",{className:"cursor-pointer underline",onClick:()=>{var x,g;return b("/holdingPropertyDetails/"+((g=(x=e==null?void 0:e.row)==null?void 0:x.original)==null?void 0:g.property_id))},children:(c=(h=e==null?void 0:e.row)==null?void 0:h.original)==null?void 0:c.new_holding_no})}},{Header:"Applicant Name",accessor:"owner_name",Cell:e=>r(e==null?void 0:e.value)},{Header:"Mobile No",accessor:"mobile_no",Cell:e=>r(e==null?void 0:e.value)},{Header:"Address",accessor:"prop_address",Cell:e=>r(e==null?void 0:e.value)},{Header:"Demand",accessor:"total_demand",Cell:e=>C(e==null?void 0:e.value)}];return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onChange:f.handleChange,onSubmit:f.handleSubmit,className:"mb-4 bg-white shadow-lg rounded-md ",children:[a.jsx("h1",{className:"text-xl w-full font-bold px-8 pt-4 text-gray-700",children:"Search Report"}),a.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Ward No. :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"wardId",id:"",className:j,children:[a.jsx("option",{value:"",children:"All"}),(v=w==null?void 0:w.sort((e,n)=>e.id-n.id))==null?void 0:v.map(e=>a.jsx(a.Fragment,{children:a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.ward_name})}))]})})]}),a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Not Paid From :"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"fiYear",id:"",className:j,children:[a.jsx("option",{value:"2023-2024",children:"2023-2024"}),a.jsx("option",{value:"2016-2017",children:"2016-2017"})]})})]}),a.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-end",children:a.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",a.jsx("span",{className:"mr-2",children:a.jsx(W,{})}),"Search"]})})]})]}),_!=null&&a.jsx(q,{type:"old",api:N=="current"?H:S,columns:N=="current"?M:L,requestBody:_,changeData:D}),a.jsx("div",{className:"h-[20vh]"})]})};export{G as default};
