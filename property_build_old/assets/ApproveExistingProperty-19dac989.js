import{r as a,u as Q,a as X,j as e,B as Y,S as J,n as c,Y as K,aE as E,Q as I,A as V,b as M,P as W}from"./index-3617a985.js";import{a as P}from"./index.esm-a102f14d.js";function se(Z){var f,u,N,w,v,S,C,A,k;const[T,o]=a.useState(!1);a.useState();const[B,x]=a.useState(!1),[O,m]=a.useState(""),[t,_]=a.useState(),{safId:n,type:ee}=Q(),[D,b]=a.useState(!1),[F,y]=a.useState(""),[p,g]=a.useState(""),[R,h]=a.useState(!1),[L,j]=a.useState(!0),{api_getVerificationData:q,api_approveRejectApplication:z}=W();X("Existing holding Edit Approval ");const G=r=>{if(!p){I("Please enter a comment.");return}o(!0),x(!1);let s={applicationId:n,status:r,comment:p};V.post(z,s,M()).then(function(d){d.status===200?(I(`Application has been ${r?"approved":"rejected"}.`),g(""),h(!1)):alert(`Error: ${d.statusText}`),o(!1)}).catch(function(d){alert(`Error: ${d.message}`),o(!1)})},$=r=>{y(r),b(!0)},U=()=>{b(!1),y("")},H=()=>{o(!0),x(!1);let r={applicationId:n};console.log("object",n),V.post(q,r,M()).then(function(s){var d,i,l;console.log("VerificationData data list...",s==null?void 0:s.data),(d=s==null?void 0:s.data)!=null&&d.status?_((i=s==null?void 0:s.data)==null?void 0:i.data):(x(!0),m((l=s==null?void 0:s.data)==null?void 0:l.message)),o(!1)}).catch(function(s){console.log("VerificationData data error...",s),m("Server error! Please try again later."),x(!0),o(!1)})};return console.log("object",(f=t==null?void 0:t.propCom)==null?void 0:f.basic),a.useEffect(()=>{H()},[]),T?e.jsx(e.Fragment,{children:e.jsx(Y,{})}):B?e.jsx(J,{title:"Server is busy",desc:O,buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsx("div",{className:"py-4 rounded-lg shadow-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 md:items-center justify-center",children:[e.jsxs("div",{className:"flex-1 flex flex-col-reverse justify-center",children:[e.jsx("div",{className:"font-semibold text-md",children:c((u=t==null?void 0:t.userDtl)==null?void 0:u.updationType)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Updation Type"})]}),e.jsxs("div",{className:"flex-1 flex flex-col-reverse justify-center",children:[e.jsx("div",{className:"font-bold text-sm",children:c((N=t==null?void 0:t.userDtl)==null?void 0:N.employeeName)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Verified By"})]}),e.jsxs("div",{className:"flex-1 flex flex-col-reverse justify-center",children:[e.jsx("div",{className:"font-bold text-sm",children:K((w=t==null?void 0:t.userDtl)==null?void 0:w.applicationDate)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Application Date"})]})]})})}),e.jsx("div",{className:" font-bold text-xl pb-4 md:py-4 text-gray-400",children:"Verification Details"}),e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsx("div",{class:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{class:"w-full text-sm text-left text-gray-500 darks:text-gray-400",children:[e.jsx("thead",{class:"text-gray-700 capitalize darks:text-gray-400",children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{scope:"col",class:"text-md px-6 py-3",children:"#"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Particular"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Self-Assessed"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Check"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Verification"})]})}),e.jsx("tbody",{children:(C=(S=(v=t==null?void 0:t.propCom)==null?void 0:v.basic)==null?void 0:S.values)==null?void 0:C.map((r,s)=>e.jsxs("tr",{class:"border-b border-gray-200 ",children:[e.jsx("th",{scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap  darks:bg-gray-800",children:s+1}),e.jsx("th",{scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap  darks:bg-gray-800 border-l border-l-gray-200",children:c(r==null?void 0:r.key)}),e.jsx("td",{class:"px-6 py-3 border-l border-l-gray-200",children:c(r==null?void 0:r.according_application)}),e.jsx("td",{class:"px-6 py-3 darks:bg-gray-800 border-l border-l-gray-200",children:c((r==null?void 0:r.values)==!1?e.jsx(P,{className:"inline text-red-500 text-5xl"}):e.jsx(E,{className:"inline text-green-500 text-3xl ml-3"}))}),e.jsx("td",{class:"px-6 py-3 border-l border-l-gray-200",children:c(r==null?void 0:r.according_verification)})]}))})]})})}),e.jsx("div",{className:" font-bold text-xl pb-4 md:py-4 text-gray-400",children:"Owner Verified Details"}),e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsx("div",{class:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{class:"w-full text-sm text-left text-gray-500 darks:text-gray-400",children:[e.jsx("thead",{class:"text-gray-700 capitalize darks:text-gray-400",children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{scope:"col",class:"text-md px-6 py-3",children:"Particular"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Owner Name"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Owner Name In Marathi"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Guardian Name"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Guardian Name In Marathi"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Relation Type"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Mobile No."}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Email"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Pan No."}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Aadhar No."}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Gender"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"DOB"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Is armed force"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Is specially abled"})]})}),e.jsx("tbody",{children:(A=t==null?void 0:t.ownerCom)==null?void 0:A.map(r=>{var s,d,i;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-200 ",children:[e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200 font-semibold text-gray-900",children:"Self Assessed"}),(s=r==null?void 0:r.values)==null?void 0:s.map(l=>e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200",children:c(l==null?void 0:l.according_application)}))]}),e.jsxs("tr",{className:"border-b border-gray-200 ",children:[e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200 font-semibold text-gray-900",children:"Check"}),(d=r==null?void 0:r.values)==null?void 0:d.map(l=>e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200",children:c((l==null?void 0:l.values)==!1?e.jsx(P,{className:"inline text-red-500 text-5xl"}):e.jsx(E,{className:"inline text-green-500 text-3xl ml-3"}))}))]}),e.jsxs("tr",{className:"border-b border-gray-200 ",children:[e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200 font-semibold text-gray-900",children:"Verification"}),(i=r==null?void 0:r.values)==null?void 0:i.map(l=>e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200",children:c(l==null?void 0:l.according_verification)}))]})]})})})]})})}),e.jsx("div",{className:" font-bold text-xl pb-4 md:py-4 text-gray-400",children:"Supportive Document"}),e.jsxs("div",{className:"w-full bg-white shadow-xl mt-4 mb-6  ",children:[e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsx("div",{className:"font-semibold text-md cursor-pointer",children:e.jsx("img",{src:(k=t==null?void 0:t.userDtl)==null?void 0:k.document,alt:"",width:"20%",height:"20%",onClick:()=>{var r;return $((r=t==null?void 0:t.userDtl)==null?void 0:r.document)}})})}),D&&e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 bg-white bg-opacity-70",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-red-600 rounded-full text-center text-white h-8 w-8",onClick:U,children:"X"}),e.jsx("div",{className:"w-1/2 h-1/2 p-4 bg-white shadow-lg rounded-lg",children:e.jsx("img",{src:F,alt:"Image",className:"w-full h-full object-contain"})})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{className:"bg-green-600 text-white px-2 py-2 rounded-md",onClick:()=>{h(!0),j(!0)},children:"Approve"}),e.jsx("button",{className:"bg-red-600 text-white px-2 py-2 rounded-md",onClick:()=>{h(!0),j(!1)},children:"Reject"}),R&&e.jsxs("div",{children:[e.jsx("textarea",{placeholder:"Enter your comment",value:p,required:!0,onChange:r=>g(r.target.value)}),e.jsx("button",{className:"bg-blue-600 text-white px-2 py-2 rounded-md",onClick:()=>{G(L?1:0)},children:"Submit"})]})]})]})}export{se as default};
