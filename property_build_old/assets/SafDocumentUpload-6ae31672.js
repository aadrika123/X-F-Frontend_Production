import{ag as ie,u as Oa,Y as Ra,r as l,a as _a,e as Aa,A as ve,b as Ye,q as Ma,a6 as Va,s as za,w as qa,j as a,B as Ba,S as Ha,L as Xa,a8 as Ga,c0 as Qa,bA as Ya,n as k,aX as Je,al as Ja,ab as Ka,aa as Wa,Q as Se}from"./index-efe26a36.js";import{p as w}from"./photo-f9d7c0b5.js";import{F as Ke}from"./index.esm-805e4b98.js";import{R as We}from"./index.esm-bdbec9f0.js";import Za from"./PaymentSuccessPage-92e4207b.js";const Ze={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};ie.setAppElement("#root");function ct(me){var Ve,ze,qe,Be,He;const{id:F,btc:we}=Oa();let o=we=="true"||we==!0;const pe="mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm text-sm md:text-base hover:bg-indigo-500 hover:text-white cursor-pointer",{api_uploadSafDocument:Te,api_listSafDocument2:Le,api_getAppicationFullDetail:ea}=Ja(),{t}=Ra(),[se,P]=l.useState(!1),[$,le]=l.useState(null),[Ta,aa]=l.useState(""),[ue,Pe]=l.useState(0),[La,E]=l.useState(!1),[Ue,ta]=l.useState(""),[Ie,sa]=l.useState(""),[Ce,ke]=l.useState(1),[la,na]=l.useState(0),[et,ra]=l.useState(),[at,Fe]=l.useState(""),[tt,$e]=l.useState(!0),[st,ia]=l.useState(!1),[n,ma]=l.useState(),[ce,pa]=l.useState(),[oe,ua]=l.useState(),[xe,ne]=l.useState(null),[lt,de]=l.useState(null),[ca,oa]=l.useState(null),[he,xa]=l.useState(null),[fe,U]=l.useState([]),[da,ha]=l.useState(!1),[fa,Ee]=l.useState(!1),[ga,Oe]=l.useState(!1),[ja,ge]=l.useState(!1),[ba,Na]=l.useState(!1),[Da,ya]=l.useState(!1),[va,Sa]=l.useState(null),[wa,Pa]=l.useState(null),[Ua,nt]=l.useState({});_a("Upload SAF Documents",!0);const je=l.useRef([]),be=l.useRef([]),I=l.useRef([]),C=l.useRef([]),Ia=()=>Oe(!0),Ca=()=>{},Re=Aa(),ka=(e,s)=>{$a(s),ne(e),na(la+1),E(!0),Ee(!0)},O=()=>{ne(null),ia(!1),Ee(!1),E(!1),Oe(!1),ke(Ce+1),le(null),je.current=[],I.current=[],be.current=[],C.current=[]};l.useEffect(()=>{_e()},[ue]),l.useEffect(()=>{P(!0),ve.post(ea,{applicationId:F},Ye()).then(function(e){var s,m,p;P(!1),ua((m=(s=e==null?void 0:e.data)==null?void 0:s.data)==null?void 0:m.fullDetailsData),xa((p=e==null?void 0:e.data)==null?void 0:p.data)}).catch(function(e){P(!1)})},[]);const _e=()=>{ye(!1),ge(!0),ve.post(`${Le}`,{applicationId:F},Ye()).then(e=>{var s,m;(s=e==null?void 0:e.data)!=null&&s.status?ma((m=e==null?void 0:e.data)==null?void 0:m.data):ye(!0),ge(!1)}).catch(e=>{ye(!0),E(!1),ge(!1)})},Fa=Ma({docId:Va().required("Select document type"),docUpload:za().required("Select document")}),re=qa({initialValues:{docId:"",docUpload:"",docName:""},onSubmit:e=>{Ne()},validationSchema:Fa}),Ae=(e,s,m)=>{var c,u;let p=e.target.files[0];Fe(e.target.name),ra(URL.createObjectURL(e.target.files[0])),le(e.target.files[0]),s=="owner"?I.current[m]=(c=e.target.files[0])==null?void 0:c.name:C.current[m]=(u=e.target.files[0])==null?void 0:u.name,re.setFieldValue("docUpload",URL.createObjectURL(e.target.files[0])),(p==null?void 0:p.name).substring((p==null?void 0:p.name).lastIndexOf(".")+1)=="pdf"?$e(!1):$e(!0)},Ne=(e,s,m)=>{let p;m==="property"?p=be.current:p=je.current;const c=p.map((x,f)=>f===s?x.value:"");if(c[s]===null||c[s]==="Select"||c[s]===""){j(!0,`Select document type for ${e}`),ne(null),de(null);return}if(m=="owner"&&(I.current[s]==null||I.current[s]==""||I.current[s]==null)){j(!0,`Select document to upload for ${e}`),I.current[s]=null;return}if(m=="property"&&(C.current[s]==null||C.current[s]==""||C.current[s]==null)){j(!0,`Select document to upload for ${e}`),C.current[s]=null;return}if($==null){j(!0,`Select document to upload for ${e}`);return}if(!Ka($)){j(!0,`File is too large for ${e}`),le(null);return}let u=new FormData;me==null||me.id,c[s],u.append("applicationId",F),xe!=null&&u.append("ownerId",xe),u.append("docCode",c[s]),u.append("document",$),u.append("docCategory",ca),$!=""?(O(),P(!0),ve.post(`${Te}`,u,Wa()).then(x=>{var f;(f=x==null?void 0:x.data)!=null&&f.status?(Se.success("Document Uploaded Successfully !!"),E(!1),aa(""),le(null),Pe(ue+1),Fe(""),re.setFieldValue("docUpload",""),Pe(ue+1),ne(null),de(null),_e()):j(!0,"Error occurred in uploading document. Please try again later."),P(!1)}).catch(x=>{j(!0,"Error occurred in uploading document. Please try again later."),E(!1),P(!1)})):Se.error("Select file")},De=(e,s,m)=>{e==""&&Se.error("File not uploaded !!!"),e!=""&&(ta(e),sa(s),Ia(),ke(Ce+1),Pa(m))},Me=(e,s)=>{de(e.target.value),oa(s)},$a=e=>{let s=n==null?void 0:n.ownerDocs[e];pa(s)},[Ea,ye]=l.useState(!1),j=(e,s)=>{Sa(s),ya(e)};if(ja)return a.jsxs(a.Fragment,{children:[a.jsx(Ba,{}),a.jsx("div",{className:"min-h-screen"})]});if(Ea)return a.jsx(Ha,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"});const b=e=>fe==null?void 0:fe.some(s=>s==e);return a.jsxs(a.Fragment,{children:[se&&a.jsx(Xa,{}),Da&&a.jsx(Ga,{activateBottomErrorCard:j,errorTitle:va}),a.jsx("div",{className:"text-right px-4 pt-2",children:a.jsx(ie,{isOpen:ba,style:Ze,children:a.jsxs("div",{style:{width:"60vw",height:"60vh"},children:[a.jsx("button",{type:"button",className:"text-white bg-red-500 float-right w-6 h-6 rounded-full",onClick:()=>Na(!1),children:"X"}),da?a.jsx(Za,{}):a.jsx(a.Fragment,{children:a.jsx(Qa,{setpaymentStatus:ha,id:F,applicationDetails:Ua})})]})})}),a.jsxs("div",{className:"mx-auto w-full",children:[(n==null?void 0:n.docUploadStatus)==1&&o!=!0&&a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"flex-1 items-center text-yellow-600",children:[a.jsx(Ya,{className:"inline mr-2"}),t("mainSafDocumentUploadPage.allDocumentsUploaded.label")]}),a.jsxs("div",{className:"absolute right-4  space-x-4",children:[a.jsx("button",{className:"bg-blue-600 text-white px-2 py-2 shadow-md hover:bg-blue-800",onClick:()=>Re("/home"),children:"Home"}),a.jsx("button",{className:"bg-blue-600 text-white px-2 py-2 shadow-md hover:bg-blue-800",onClick:()=>Re(`/viewDemand/${F}`),children:"View Demand"})]}),(he==null?void 0:he.payment_status)!=1&&a.jsx("div",{className:"flex-1"})]}),o==!0&&a.jsxs("div",{className:"text-red-500 font-semibold poppins 2xl:text-sm text-xs",children:[" ",t("mainSafDocumentUploadPage.redirectedBackToCitizen.label"),"."]}),a.jsx("div",{className:"text-gray-700 py-6 ",children:a.jsx("div",{className:"grid md:grid-cols-2 text-sm bg-white shadow-lg rounded-sm py-4 mt-4",children:(ze=(Ve=oe==null?void 0:oe.cardArray)==null?void 0:Ve.data)==null?void 0:ze.map(e=>a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsxs("div",{className:"px-4 py-2 font-semibold",children:[k(e==null?void 0:e.displayString)," : "]}),a.jsx("div",{className:"px-4 py-2",children:k(e==null?void 0:e.value)})]}))})}),a.jsxs("p",{className:"text-sm",children:[t("mainSafDocumentUploadPage.note.label"),"."]}),a.jsxs("div",{className:"bg-white",children:[(n==null?void 0:n.ownerDocs)&&a.jsx("div",{className:" flex md:px-4 bg-white font-sans overflow-x-auto mt-4 py-6",children:a.jsxs("div",{className:"w-full",children:[a.jsxs("h1",{className:"text-xs",children:[" ",t("mainSafDocumentUploadPage.ownerDocuments.label")]}),a.jsx("div",{className:"bg-white shadow-md rounded my-2",children:a.jsxs("table",{className:"min-w-max w-full table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-indigo-100 text-gray-600 capitalize text-sm leading-normal",children:[a.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:t("mainSafDocumentUploadPage.applicantImage.label")}),a.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:t("mainSafDocumentUploadPage.applicantName.label")}),a.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:t("mainSafDocumentUploadPage.mobile.label")}),a.jsxs("th",{className:"py-3 px-6 text-left",children:[" ",t("mainSafDocumentUploadPage.status.label")]}),a.jsxs("th",{className:"py-3 px-6 text-left",children:[" ",t("mainSafDocumentUploadPage.action.label")]})]})}),a.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(qe=n==null?void 0:n.ownerDocs)==null?void 0:qe.map((e,s)=>{var m,p,c,u,x,f,N,D,y,v;return a.jsxs("tr",{className:"border-b border-gray-200 ",children:[a.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center justify-center",children:[((m=e==null?void 0:e.ownerDetails)==null?void 0:m.uploadedDoc)!=""&&a.jsx("div",{className:"text-center cursor-pointer",onClick:()=>{var g,S;return De(`${(g=e==null?void 0:e.ownerDetails)==null?void 0:g.uploadedDoc}`,"jpg",(S=e==null?void 0:e.ownerDetails)==null?void 0:S.docId)},children:a.jsx("img",{src:b((p=e==null?void 0:e.ownerDetails)==null?void 0:p.docId)?w:`${(c=e==null?void 0:e.ownerDetails)==null?void 0:c.uploadedDoc}`,alt:"",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((u=e==null?void 0:e.ownerDetails)==null?void 0:u.uploadedDoc)==""&&a.jsxs("span",{className:"text-red-500 font-semibold",children:[" ",t("mainSafDocumentUploadPage.notUploaded.label")]})]})}),a.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-medium",children:k((x=e==null?void 0:e.ownerDetails)==null?void 0:x.name)})})}),a.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-medium",children:k((f=e==null?void 0:e.ownerDetails)==null?void 0:f.mobile)})})}),a.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:`font-medium ${((N=e==null?void 0:e.ownerDetails)==null?void 0:N.reqDocCount)===((D=e==null?void 0:e.ownerDetails)==null?void 0:D.uploadedDocCount)&&!o?"text-green-400":"text-red-500"}`,children:[" ",t("mainSafDocumentUploadPage.uploaded.label")," ",k((y=e==null?void 0:e.ownerDetails)==null?void 0:y.uploadedDocCount)," of ",k((v=e==null?void 0:e.ownerDetails)==null?void 0:v.reqDocCount)]})})}),a.jsx("td",{className:"py-3 px-6",children:a.jsx("div",{className:"font-semibold text-sm",children:a.jsx("div",{className:"",children:!se&&a.jsx("button",{onClick:()=>{var g;return ka((g=e==null?void 0:e.ownerDetails)==null?void 0:g.ownerId,s)},type:"button",className:pe,children:t("mainSafDocumentUploadPage.view.label")})})})})]})})})]})})]})}),a.jsx("div",{className:" flex md:px-4 bg-white font-sans overflow-x-auto py-6",children:a.jsxs("div",{className:"w-full ",children:[a.jsxs("h1",{className:"text-xs text-gray-600",children:[" ",t("mainSafDocumentUploadPage.propertyDocuments.label")]}),a.jsx("div",{className:"bg-white shadow-md rounded my-2",children:a.jsxs("table",{className:"min-w-max w-full table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-indigo-100 text-gray-600 capitalize text-sm leading-normal",children:[a.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),a.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:t("mainSafDocumentUploadPage.documentName.label")}),a.jsxs("th",{className:"py-3 px-6 text-left",children:[" ",t("mainSafDocumentUploadPage.type.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.document.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.status.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.remarks.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.upload.label")]})]})}),a.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(Be=n==null?void 0:n.listDocs)==null?void 0:Be.map((e,s)=>{var m,p,c,u,x,f,N,D,y,v,g,S,R,_,A,M,V,z,q,B,H,X,G,Q,Y,J,K,W,Z,T,L,r,d,ee;return a.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:re.handleSubmit,onChange:re.handleChange,children:[a.jsx("td",{className:"py-3 px-6 font-semibold",children:s+1}),a.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:a.jsx("img",{src:Je,alt:"rain",className:"w-4"})}),a.jsxs("span",{className:"font-medium",value:e==null?void 0:e.docName,children:[e==null?void 0:e.docName," ",(e==null?void 0:e.docType)=="R"&&a.jsx("span",{className:"text-red-600 inline",children:"*"})]})]})}),a.jsx("td",{className:"py-3 px-6",children:a.jsx("div",{className:"font-semibold text-sm",children:a.jsx("div",{className:"",children:a.jsxs("select",{ref:i=>be.current[s]=i,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.btcStatus&&o||!(e!=null&&e.btcStatus)&&!o&&(e==null?void 0:e.uploadedDoc)==""||!(e!=null&&e.btcStatus)&&!o&&(n==null?void 0:n.paymentStatus)!=1),onChange:i=>Me(i,e==null?void 0:e.docName),children:[a.jsx("option",{value:"",selected:!0,children:t("mainSafDocumentUploadPage.select.label")}),(m=e==null?void 0:e.masters)==null?void 0:m.map((i,h)=>a.jsx("option",{value:i==null?void 0:i.documentCode,children:i==null?void 0:i.docVal}))]})})})}),a.jsx("td",{className:"py-3 px-6 text-center relative",children:(e==null?void 0:e.uploadedDoc)==""?a.jsxs("i",{className:"font-semibold not-italic",children:[" ",t("mainSafDocumentUploadPage.na.label")]}):a.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var i,h,ae,te,Xe,Ge,Qe;return De(`${(i=e==null?void 0:e.uploadedDoc)==null?void 0:i.docPath}`,(Ge=(h=e==null?void 0:e.uploadedDoc)==null?void 0:h.docPath)==null?void 0:Ge.split(".")[((Xe=(te=(ae=e==null?void 0:e.uploadedDoc)==null?void 0:ae.docPath)==null?void 0:te.split("."))==null?void 0:Xe.length)-1],(Qe=e==null?void 0:e.uploadedDoc)==null?void 0:Qe.uploadedDocId)},children:a.jsxs("div",{className:"flex items-center",children:[((f=(p=e==null?void 0:e.uploadedDoc)==null?void 0:p.docPath)==null?void 0:f.split(".")[((x=(u=(c=e==null?void 0:e.uploadedDoc)==null?void 0:c.docPath)==null?void 0:u.split("."))==null?void 0:x.length)-1])=="pdf"&&a.jsx("div",{className:"flex-shrink-0 text-[28px]",children:a.jsx(Ke,{})}),((g=(N=e==null?void 0:e.uploadedDoc)==null?void 0:N.docPath)==null?void 0:g.split(".")[((v=(y=(D=e==null?void 0:e.uploadedDoc)==null?void 0:D.docPath)==null?void 0:y.split("."))==null?void 0:v.length)-1])=="jpg"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{onError:()=>U(i=>{var h;return[...i,(h=e==null?void 0:e.uploadedDoc)==null?void 0:h.uploadedDocId]}),src:b((S=e==null?void 0:e.uploadedDoc)==null?void 0:S.uploadedDocId)?w:`${(R=e==null?void 0:e.uploadedDoc)==null?void 0:R.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((z=(_=e==null?void 0:e.uploadedDoc)==null?void 0:_.docPath)==null?void 0:z.split(".")[((V=(M=(A=e==null?void 0:e.uploadedDoc)==null?void 0:A.docPath)==null?void 0:M.split("."))==null?void 0:V.length)-1])=="jpeg"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{onError:()=>U(i=>{var h;return[...i,(h=e==null?void 0:e.uploadedDoc)==null?void 0:h.uploadedDocId]}),src:b((q=e==null?void 0:e.uploadedDoc)==null?void 0:q.uploadedDocId)?w:`${(B=e==null?void 0:e.uploadedDoc)==null?void 0:B.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Y=(H=e==null?void 0:e.uploadedDoc)==null?void 0:H.docPath)==null?void 0:Y.split(".")[((Q=(G=(X=e==null?void 0:e.uploadedDoc)==null?void 0:X.docPath)==null?void 0:G.split("."))==null?void 0:Q.length)-1])=="png"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{onError:()=>U(i=>{var h;return[...i,(h=e==null?void 0:e.uploadedDoc)==null?void 0:h.uploadedDocId]}),src:b((J=e==null?void 0:e.uploadedDoc)==null?void 0:J.uploadedDocId)?w:`${(K=e==null?void 0:e.uploadedDoc)==null?void 0:K.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),a.jsxs("td",{className:"py-3 px-6 text-center font-semibold",children:[((W=e==null?void 0:e.uploadedDoc)==null?void 0:W.documentCode)=="PHOTOGRAPH"&&a.jsx("p",{className:"whitespace-no-wrap"}),(e==null?void 0:e.uploadedDoc)==""?a.jsxs("i",{className:"font-semibold not-italic",children:[" ",t("mainSafDocumentUploadPage.na.label")]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"whitespace-no-wrap",children:((Z=e==null?void 0:e.uploadedDoc)==null?void 0:Z.verifyStatus)==0&&a.jsxs(a.Fragment,{children:[" ",t("mainSafDocumentUploadPage.pending.label")]})}),a.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((T=e==null?void 0:e.uploadedDoc)==null?void 0:T.verifyStatus)==1&&a.jsxs(a.Fragment,{children:[" ",t("mainSafDocumentUploadPage.verified.label")]})}),a.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(e==null?void 0:e.btcStatus)===!0&&a.jsxs(a.Fragment,{children:[" ",t("mainSafDocumentUploadPage.rejected.label")]})})]})]}),a.jsx("td",{className:"py-3 px-6 text-center",children:((L=e==null?void 0:e.uploadedDoc)==null?void 0:L.remarks)==""||((r=e==null?void 0:e.uploadedDoc)==null?void 0:r.remarks)==null?a.jsxs("i",{className:"font-semibold not-italic",children:[" ",t("mainSafDocumentUploadPage.na.label")]}):(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.remarks}),a.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:e!=null&&e.btcStatus&&o||!(e!=null&&e.btcStatus)&&!o&&(e==null?void 0:e.uploadedDoc)==""||!(e!=null&&e.btcStatus)&&!o&&(n==null?void 0:n.paymentStatus)!=1?a.jsx("div",{className:"font-semibold text-sm",children:a.jsxs("div",{className:"",children:[a.jsx("div",{className:"",children:a.jsx("input",{accept:".pdf,.jpg,.jpeg",type:"file",name:e==null?void 0:e.docName,onChange:i=>Ae(i,"property",s),className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 foc}us:outline-none cursor-pointer shadow-md w-36"})}),(((ee=e==null?void 0:e.uploadedDoc)==null?void 0:ee.verify_status)!=1||(e==null?void 0:e.uploadedDoc)=="")&&a.jsx("div",{className:"mt-2",children:!se&&a.jsx("button",{onClick:()=>Ne(e==null?void 0:e.docName,s,"property"),type:"submit",className:pe,children:t("mainSafDocumentUploadPage.upload.label")})})]})}):a.jsxs("div",{className:"font-semibold text-sm text-green-500 text-center",children:[" ",t("mainSafDocumentUploadPage.uploaded.label")]})})]})})})]})})]})}),a.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[a.jsx("div",{className:"md:pl-0"}),a.jsx("div",{className:"md:px-4 text-center"}),a.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),a.jsx(ie,{isOpen:fa,onRequestClose:O,style:Ze,contentLabel:"Example Modal",children:a.jsxs("div",{class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50 animate__animated animate__zoomIn animate__faster",children:[a.jsx("div",{className:"absolute top-5 right-5 bg-red-200 hover:bg-red-300 rounded-full p-2 cursor-pointer text-xs sm:text-base",onClick:O,children:a.jsx(We,{})}),a.jsx("div",{className:"flex md:pl-4 bg-white font-sans overflow-x-auto mt-6 sm:w-full w-[100vw] sm:text-base text-sm",children:a.jsxs("div",{className:"w-full lg:w-4/6",children:[a.jsxs("div",{className:"font-semibold w-full flex",children:[a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"flex-1 text-center",children:a.jsxs("span",{className:"float-none",children:[" ",t("mainSafDocumentUploadPage.uploadOwnerDocuments.label")]})})]}),a.jsx("div",{className:"bg-white shadow-md rounded my-2",children:a.jsxs("table",{className:"min-w-max w-full table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-indigo-100 text-gray-600 capitalize text-sm leading-normal",children:[a.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),a.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:t("mainSafDocumentUploadPage.documentName.label")}),a.jsxs("th",{className:"py-3 px-6 text-left",children:[" ",t("mainSafDocumentUploadPage.type.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.document.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.status.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.remarks.label")]}),a.jsxs("th",{className:"py-3 px-6 text-center",children:[" ",t("mainSafDocumentUploadPage.action.label")]})]})}),a.jsx("tbody",{className:"text-gray-600 font-light bg-white text-xs sm:text-sm",children:(He=ce==null?void 0:ce.documents)==null?void 0:He.map((e,s)=>{var m,p,c,u,x,f,N,D,y,v,g,S,R,_,A,M,V,z,q,B,H,X,G,Q,Y,J,K,W,Z,T,L;return a.jsx(a.Fragment,{children:a.jsxs("tr",{className:"border-b border-gray-200 ",children:[a.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:s+1}),a.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:a.jsx("img",{src:Je,alt:"rain",className:"w-4"})}),a.jsxs("span",{className:"font-medium",children:[e==null?void 0:e.docName," ",a.jsx("span",{className:"text-red-600 inline",children:"*"})]})]})}),a.jsx("td",{children:a.jsx("div",{className:"font-semibold text-sm",children:a.jsx("div",{className:"font-semibold text-sm",children:a.jsx("div",{className:"",children:a.jsxs("select",{ref:r=>je.current[s]=r,className:"form-control block w-full px-3 py-1 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.btcStatus&&o||!(e!=null&&e.btcStatus)&&!o||!(e!=null&&e.btcStatus)&&!o&&(n==null?void 0:n.paymentStatus)!=1),onChange:r=>Me(r,e==null?void 0:e.docName),children:[a.jsx("option",{value:"",children:t("mainSafDocumentUploadPage.select.label")}),(m=e==null?void 0:e.masters)==null?void 0:m.map((r,d)=>a.jsx("option",{value:r==null?void 0:r.documentCode,children:r==null?void 0:r.docVal}))]})})})})}),a.jsx("td",{className:"py-3 px-6 text-center",children:(e==null?void 0:e.uploadedDoc)==""?a.jsx("i",{className:"font-semibold not-italic",children:t("mainSafDocumentUploadPage.na.label")}):a.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var r,d,ee,i,h,ae,te;return De(`${(r=e==null?void 0:e.uploadedDoc)==null?void 0:r.docPath}`,(ae=(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.docPath)==null?void 0:ae.split(".")[((h=(i=(ee=e==null?void 0:e.uploadedDoc)==null?void 0:ee.docPath)==null?void 0:i.split("."))==null?void 0:h.length)-1],(te=e==null?void 0:e.uploadedDoc)==null?void 0:te.uploadedDocId)},children:a.jsxs("div",{className:"flex items-center",children:[((f=(p=e==null?void 0:e.uploadedDoc)==null?void 0:p.docPath)==null?void 0:f.split(".")[((x=(u=(c=e==null?void 0:e.uploadedDoc)==null?void 0:c.docPath)==null?void 0:u.split("."))==null?void 0:x.length)-1])=="pdf"&&a.jsx("div",{className:"flex-shrink-0 text-[28px]",children:a.jsx(Ke,{})}),((g=(N=e==null?void 0:e.uploadedDoc)==null?void 0:N.docPath)==null?void 0:g.split(".")[((v=(y=(D=e==null?void 0:e.uploadedDoc)==null?void 0:D.docPath)==null?void 0:y.split("."))==null?void 0:v.length)-1])=="jpg"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{onError:()=>U(r=>{var d;return[...r,(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.uploadedDocId]}),src:b((S=e==null?void 0:e.uploadedDoc)==null?void 0:S.uploadedDocId)?w:`${(R=e==null?void 0:e.uploadedDoc)==null?void 0:R.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((z=(_=e==null?void 0:e.uploadedDoc)==null?void 0:_.docPath)==null?void 0:z.split(".")[((V=(M=(A=e==null?void 0:e.uploadedDoc)==null?void 0:A.docPath)==null?void 0:M.split("."))==null?void 0:V.length)-1])=="jpeg"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{onError:()=>U(r=>{var d;return[...r,(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.uploadedDocId]}),src:b((q=e==null?void 0:e.uploadedDoc)==null?void 0:q.uploadedDocId)?w:`${(B=e==null?void 0:e.uploadedDoc)==null?void 0:B.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Y=(H=e==null?void 0:e.uploadedDoc)==null?void 0:H.docPath)==null?void 0:Y.split(".")[((Q=(G=(X=e==null?void 0:e.uploadedDoc)==null?void 0:X.docPath)==null?void 0:G.split("."))==null?void 0:Q.length)-1])=="png"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{onError:()=>U(r=>{var d;return[...r,(d=e==null?void 0:e.uploadedDoc)==null?void 0:d.uploadedDocId]}),src:b((J=e==null?void 0:e.uploadedDoc)==null?void 0:J.uploadedDocId)?w:`${(K=e==null?void 0:e.uploadedDoc)==null?void 0:K.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),a.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(e==null?void 0:e.uploadedDoc)==""?a.jsxs("span",{className:"text-red-500 font-semibold",children:[" ",t("mainSafDocumentUploadPage.notUploaded.label")]}):a.jsx(a.Fragment,{children:(e==null?void 0:e.docName)=="Photograph"?"":a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"whitespace-no-wrap",children:((W=e==null?void 0:e.uploadedDoc)==null?void 0:W.verifyStatus)==0&&a.jsx(a.Fragment,{children:t("mainSafDocumentUploadPage.pending.label")})}),a.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((Z=e==null?void 0:e.uploadedDoc)==null?void 0:Z.verifyStatus)==1&&a.jsx(a.Fragment,{children:t("mainSafDocumentUploadPage.verified.label")})}),a.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(e==null?void 0:e.btcStatus)===!0&&a.jsx(a.Fragment,{children:t("mainSafDocumentUploadPage.rejected.label")})})]})})}),a.jsxs("td",{className:"py-3 px-6",children:[((T=e==null?void 0:e.uploadedDoc)==null?void 0:T.remarks)==""?a.jsx("i",{className:"font-semibold not-italic",children:t("mainSafDocumentUploadPage.na.label")}):(L=e==null?void 0:e.uploadedDoc)==null?void 0:L.remarks,(e==null?void 0:e.uploadedDoc)==""&&a.jsx("i",{className:"font-semibold not-italic",children:t("mainSafDocumentUploadPage.na.label")})]}),a.jsx("td",{className:"py-3 px-6",children:e!=null&&e.btcStatus&&o||!(e!=null&&e.btcStatus)&&!o&&(e==null?void 0:e.uploadedDoc)==""||!(e!=null&&e.btcStatus)&&!o&&(n==null?void 0:n.paymentStatus)!=1?a.jsxs("div",{className:"font-semibold text-sm",children:[a.jsx("div",{className:"",children:a.jsx("input",{accept:s==0?".png,.jpg,.jpeg":".pdf,.png,.jpg,.jpeg",type:"file",onChange:r=>Ae(r,"owner",s),className:"form-control block w-full px-3 py-1 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"})}),a.jsx("div",{className:"mt-2",children:!se&&a.jsx("button",{onClick:()=>Ne(e==null?void 0:e.docName,s,"owner"),type:"button",className:pe,children:t("mainSafDocumentUploadPage.upload.label")})})]}):a.jsx("div",{className:"font-semibold text-sm text-green-500 text-center",children:t("mainSafDocumentUploadPage.uploaded.label")})})]})})})})]})})]})})]})}),a.jsx(ie,{isOpen:ga,onAfterOpen:Ca,onRequestClose:O,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:a.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[a.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:O,children:a.jsx(We,{})}),b(wa)?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[a.jsxs("div",{className:"border-r-2 border-gray-200 pr-4",children:["Error",t("mainSafDocumentUploadPage.error.label")]}),a.jsx("div",{className:"pl-4",children:t("mainSafDocumentUploadPage.documentNotVisible.label")})]})}):a.jsxs(a.Fragment,{children:[Ie=="pdf"&&a.jsx(a.Fragment,{children:a.jsx("iframe",{className:"w-full h-full",src:Ue,frameborder:"0"})}),Ie!="pdf"&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:a.jsx("img",{src:Ue,alt:"",srcset:"",className:""})})})]})]})})]})}export{ct as default};
