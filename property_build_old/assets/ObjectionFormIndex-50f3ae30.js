import{d8 as Me,aT as B,b4 as He,aQ as N,d9 as je,b5 as qe,da as Ve,db as Ie,dc as be,dd as re,de as Ue,cZ as Be,df as Ge,r as c,b7 as ze,j as e,aV as ie,aM as ce,dg as he,aN as oe,aS as de,aL as we,aP as Se,aU as le,f as Ye,A as te,b as ne,w as pe,at as Qe,Q as X,u as Je,e as Ze,q as Ke,br as I,s as O,ab as Xe,aa as et,ad as Ne,L as tt,a8 as st,dh as ot,bu as rt,bx as at}from"./index-89110e36.js";import{c as lt}from"./index.esm-7c586997.js";/* empty css             */import{E as nt}from"./EmptyDetailsIllustration-7820701a.js";import{a as ve}from"./useFormControl-4ddf17fb.js";import{f as Te}from"./formControlState-a1fb9590.js";import{c as it,T as ye}from"./Typography-7c844791.js";import{S as J}from"./Switch-59b396a3.js";import"./notfound1-b58e95b5.js";import"./useTimeout-d5994a14.js";import"./SwitchBase-db0b0e96.js";const ct=["ownerState"],dt=["variants"],pt=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mt(t){return Object.keys(t).length===0}function ut(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ae(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const xt=je(),gt=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ee({defaultTheme:t,theme:r,themeId:a}){return mt(r)?t:r[a]||r}function ft(t){return t?(r,a)=>a[t]:null}function se(t,r){let{ownerState:a}=r,x=B(r,ct);const u=typeof t=="function"?t(N({ownerState:a},x)):t;if(Array.isArray(u))return u.flatMap(m=>se(m,N({ownerState:a},x)));if(u&&typeof u=="object"&&Array.isArray(u.variants)){const{variants:m=[]}=u;let h=B(u,dt);return m.forEach(i=>{let n=!0;typeof i.props=="function"?n=i.props(N({ownerState:a},x,a)):Object.keys(i.props).forEach(w=>{(a==null?void 0:a[w])!==i.props[w]&&x[w]!==i.props[w]&&(n=!1)}),n&&(Array.isArray(h)||(h=[h]),h.push(typeof i.style=="function"?i.style(N({ownerState:a},x,a)):i.style))}),h}return u}function bt(t={}){const{themeId:r,defaultTheme:a=xt,rootShouldForwardProp:x=ae,slotShouldForwardProp:u=ae}=t,m=f=>qe(N({},f,{theme:ee(N({},f,{defaultTheme:a,themeId:r}))}));return m.__mui_systemSx=!0,(f,h={})=>{Me(f,y=>y.filter(v=>!(v!=null&&v.__mui_systemSx)));const{name:i,slot:n,skipVariantsResolver:w,skipSx:S,overridesResolver:_=ft(gt(n))}=h,L=B(h,pt),P=w!==void 0?w:n&&n!=="Root"&&n!=="root"||!1,j=S||!1;let $,A=ae;n==="Root"||n==="root"?A=x:n?A=u:ut(f)&&(A=void 0);const C=He(f,N({shouldForwardProp:A,label:$},L)),o=y=>typeof y=="function"&&y.__emotion_real!==y||Ve(y)?v=>se(y,N({},v,{theme:ee({theme:v.theme,defaultTheme:a,themeId:r})})):y,W=(y,...v)=>{let E=o(y);const T=v?v.map(o):[];i&&_&&T.push(k=>{const l=ee(N({},k,{defaultTheme:a,themeId:r}));if(!l.components||!l.components[i]||!l.components[i].styleOverrides)return null;const H=l.components[i].styleOverrides,M={};return Object.entries(H).forEach(([G,V])=>{M[G]=se(V,N({},k,{theme:l}))}),_(k,M)}),i&&!P&&T.push(k=>{var l;const H=ee(N({},k,{defaultTheme:a,themeId:r})),M=H==null||(l=H.components)==null||(l=l[i])==null?void 0:l.variants;return se({variants:M},N({},k,{theme:H}))}),j||T.push(m);const R=T.length-v.length;if(Array.isArray(y)&&R>0){const k=new Array(R).fill("");E=[...y,...k],E.raw=[...y.raw,...k]}const q=C(E,...T);return f.muiName&&(q.muiName=f.muiName),q};return C.withConfig&&(W.withConfig=C.withConfig),W}}const ht=bt(),yt=ht,jt=["component","direction","spacing","divider","children","className","useFlexGap"],wt=je(),St=yt("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,r)=>r.root});function Nt(t){return Ie({props:t,name:"MuiStack",defaultTheme:wt})}function vt(t,r){const a=c.Children.toArray(t).filter(Boolean);return a.reduce((x,u,m)=>(x.push(u),m<a.length-1&&x.push(c.cloneElement(r,{key:`separator-${m}`})),x),[])}const Tt=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Ft=({ownerState:t,theme:r})=>{let a=N({display:"flex",flexDirection:"column"},be({theme:r},re({values:t.direction,breakpoints:r.breakpoints.values}),x=>({flexDirection:x})));if(t.spacing){const x=Ue(r),u=Object.keys(r.breakpoints.values).reduce((i,n)=>((typeof t.spacing=="object"&&t.spacing[n]!=null||typeof t.direction=="object"&&t.direction[n]!=null)&&(i[n]=!0),i),{}),m=re({values:t.direction,base:u}),f=re({values:t.spacing,base:u});typeof m=="object"&&Object.keys(m).forEach((i,n,w)=>{if(!m[i]){const _=n>0?m[w[n-1]]:"column";m[i]=_}}),a=Be(a,be({theme:r},f,(i,n)=>t.useFlexGap?{gap:he(x,i)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Tt(n?m[n]:t.direction)}`]:he(x,i)}}))}return a=Ge(r.breakpoints,a),a};function Pt(t={}){const{createStyledComponent:r=St,useThemeProps:a=Nt,componentName:x="MuiStack"}=t,u=()=>ie({root:["root"]},i=>ce(x,i),{}),m=r(Ft);return c.forwardRef(function(i,n){const w=a(i),S=ze(w),{component:_="div",direction:L="column",spacing:P=0,divider:j,children:$,className:A,useFlexGap:C=!1}=S,o=B(S,jt),W={direction:L,spacing:P,useFlexGap:C},y=u();return e.jsx(m,N({as:_,ownerState:W,ref:n,className:it(y.root,A)},o,{children:j?vt($,j):$}))})}const kt=Pt({createStyledComponent:oe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,r)=>r.root}),useThemeProps:t=>de({props:t,name:"MuiStack"})}),_t=kt;function At(t){return ce("MuiFormControlLabel",t)}const Ct=we("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),K=Ct,Ot=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],$t=t=>{const{classes:r,disabled:a,labelPlacement:x,error:u,required:m}=t,f={root:["root",a&&"disabled",`labelPlacement${Se(x)}`,u&&"error",m&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",u&&"error"]};return ie(f,At,r)},Et=oe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[{[`& .${K.label}`]:r.label},r.root,r[`labelPlacement${Se(a.labelPlacement)}`]]}})(({theme:t,ownerState:r})=>N({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${K.disabled}`]:{cursor:"default"}},r.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},r.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},r.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${K.label}`]:{[`&.${K.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Rt=oe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,r)=>r.asterisk})(({theme:t})=>({[`&.${K.error}`]:{color:(t.vars||t).palette.error.main}})),Lt=c.forwardRef(function(r,a){var x,u;const m=de({props:r,name:"MuiFormControlLabel"}),{className:f,componentsProps:h={},control:i,disabled:n,disableTypography:w,label:S,labelPlacement:_="end",required:L,slotProps:P={}}=m,j=B(m,Ot),$=ve(),A=(x=n??i.props.disabled)!=null?x:$==null?void 0:$.disabled,C=L??i.props.required,o={disabled:A,required:C};["checked","name","onChange","value","inputRef"].forEach(R=>{typeof i.props[R]>"u"&&typeof m[R]<"u"&&(o[R]=m[R])});const W=Te({props:m,muiFormControl:$,states:["error"]}),y=N({},m,{disabled:A,labelPlacement:_,required:C,error:W.error}),v=$t(y),E=(u=P.typography)!=null?u:h.typography;let T=S;return T!=null&&T.type!==ye&&!w&&(T=e.jsx(ye,N({component:"span"},E,{className:le(v.label,E==null?void 0:E.className),children:T}))),e.jsxs(Et,N({className:le(v.root,f),ownerState:y,ref:a},j,{children:[c.cloneElement(i,o),C?e.jsxs(_t,{display:"block",children:[T,e.jsxs(Rt,{ownerState:y,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]}):T]}))}),Z=Lt;function Dt(t){return ce("MuiFormGroup",t)}we("MuiFormGroup",["root","row","error"]);const Wt=["className","row"],Mt=t=>{const{classes:r,row:a,error:x}=t;return ie({root:["root",a&&"row",x&&"error"]},Dt,r)},Ht=oe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:a}=t;return[r.root,a.row&&r.row]}})(({ownerState:t})=>N({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),qt=c.forwardRef(function(r,a){const x=de({props:r,name:"MuiFormGroup"}),{className:u,row:m=!1}=x,f=B(x,Wt),h=ve(),i=Te({props:x,muiFormControl:h,states:["error"]}),n=N({},x,{row:m,error:i.error}),w=Mt(n);return e.jsx(Ht,N({className:le(w.root,u),ownerState:n,ref:a},f))}),Vt=qt,Fe=()=>{const t=Ye;return{getAssessment:`${t}/api/property/saf/get-prop-byholding`,postAssessment:`${t}/api/property/objection/apply-objection`,getWardList:`${t}/api/property/saf/master-saf`}},It=t=>{var $,A,C,o,W,y,v,E,T,R,q,k;const{usageTypeList:r,constructionTypeList:a,occupancyTypeList:x,getWardList:u}=Fe(),[m,f]=c.useState(!1),[h,i]=c.useState(),[n,w]=c.useState(),[S,_]=c.useState(),[L,P]=c.useState(0);c.useEffect(()=>{P(L+1)},[]),c.useEffect(()=>{f(!0),te.get(u,ne()).then(l=>{var H,M,G,V,z,Y;i((M=(H=l==null?void 0:l.data)==null?void 0:H.data)==null?void 0:M.usage_type),w((V=(G=l==null?void 0:l.data)==null?void 0:G.data)==null?void 0:V.occupancy_type),_((Y=(z=l==null?void 0:l.data)==null?void 0:z.data)==null?void 0:Y.construction_type),f(!1)}).catch(l=>{f(!1)})},[L]);const j=pe({initialValues:{propFloorId:($=t==null?void 0:t.floor)==null?void 0:$.id,floorNo:(A=t==null?void 0:t.floor)==null?void 0:A.floor_mstr_id,usageType:(C=t==null?void 0:t.floor)==null?void 0:C.usage_type_mstr_id,occupancyType:(o=t==null?void 0:t.floor)==null?void 0:o.occupancy_type_mstr_id,constructionType:(W=t==null?void 0:t.floor)==null?void 0:W.const_type_mstr_id,buildupArea:(y=t==null?void 0:t.floor)==null?void 0:y.builtup_area},enableReinitialize:!0,onSubmit:l=>{t.getfloor(l)}});return e.jsxs(e.Fragment,{children:[m&&e.jsx("div",{className:"w-full z-10 absolute mx-auto text-center flex justify-center items-center top-1/2",children:e.jsx("span",{className:"inline",children:e.jsx(Qe,{visible:!0,height:"120",width:"120",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})}),e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200 poppins",children:[e.jsx("td",{className:"px-2 py-2 text-left",children:(v=t==null?void 0:t.floor)==null?void 0:v.floor_name}),e.jsx("td",{className:"px-2 py-2 text-left",children:(E=t==null?void 0:t.floor)==null?void 0:E.usage_type}),e.jsx("td",{className:"px-2 py-2 text-left",children:(T=t==null?void 0:t.floor)==null?void 0:T.occupancy_type}),e.jsx("td",{className:"px-2 py-2 text-left",children:(R=t==null?void 0:t.floor)==null?void 0:R.construction_type}),e.jsx("td",{className:"px-2 py-2 text-left",children:(q=t==null?void 0:t.floor)==null?void 0:q.builtup_area})]}),e.jsxs("tr",{className:"bg-white shadow-md  border-b border-gray-200 border-b border-gray-500 poppins",children:[e.jsx("td",{className:"px-2 py-2 text-xs text-left font-semibold text-sm",children:(k=t==null?void 0:t.floor)==null?void 0:k.floor_name}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsxs("select",{...j.getFieldProps("usageType"),value:j.values.usageType,className:"div-control block w-full px-3 py-1.5 text-base md:text-sm font-semibold text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,value:"",children:"--select--"}),h==null?void 0:h.map(l=>e.jsx(e.Fragment,{children:e.jsx("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.usage_type})}))]})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsxs("select",{...j.getFieldProps("occupancyType"),value:j.values.occupancyType,className:"div-control block w-full px-3 py-1.5 text-base md:text-sm font-semibold text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,value:"",children:"--select--"}),n==null?void 0:n.map(l=>e.jsx(e.Fragment,{children:e.jsx("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.occupancy_type})}))]})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsxs("select",{...j.getFieldProps("constructionType"),value:j.values.constructionType,className:"div-control block w-full px-3 py-1.5 text-base md:text-sm font-semibold text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[e.jsx("option",{selected:!0,disabled:!0,value:"",children:"--select--"}),S==null?void 0:S.map(l=>e.jsx(e.Fragment,{children:e.jsx("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.construction_type})}))]})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("input",{type:"number",...j.getFieldProps("buildupArea"),value:j.values.buildupArea,className:"div-control block w-full px-3 py-1.5 text-base md:text-sm font-semibold text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md"})}),e.jsx("td",{children:e.jsx("button",{onClick:j.handleSubmit,type:"submit",className:"bg-blue-200 hover:bg-blue-300 rounded-md shadow-md px-3 py-1.5",children:"Post"})})]}),e.jsxs("tr",{children:[" ",e.jsx("td",{colSpan:8,children:" "})]})]})},Ut=t=>{var h,i;c.useState();const[r,a]=c.useState([]),[x,u]=c.useState(!0),m=pe({initialValues:{floorNo:"",usageType:"",occupancyType:"",constructionType:"",buildupArea:""},onSubmit:n=>{}}),f=n=>{r==null||r.map(S=>{if((S==null?void 0:S.propFloorId)==(n==null?void 0:n.propFloorId))return u(!1)});let w=[...r,n];a([...r,n]),t==null||t.getFloorData(w),X.info("Posted...")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-span-4 overflow-x-auto",onChange:m.handleChange,onSubmit:m.handleSubmit,children:e.jsxs("table",{className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:e.jsxs("tr",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs capitalize text-left",children:[e.jsxs("th",{className:"py-2 px-2",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Floor No."]}),e.jsxs("th",{className:"py-2 px-2",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Usage Type"]}),e.jsxs("th",{className:"py-2 px-2",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Occupancy Type"]}),e.jsxs("th",{className:"py-2 px-2",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Construction Type"]}),e.jsxs("th",{className:"py-2 px-2",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Built Up Area"," ",e.jsxs("small",{className:"block mt-1 text-xs text-gray-600 inline ",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"(in Sq. Ft)"]})]}),e.jsx("th",{className:"py-2 px-2",children:"Action"})]})}),e.jsxs("tbody",{className:"text-xs",children:[((h=t==null?void 0:t.floor)==null?void 0:h.length)<1&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:e.jsx("div",{className:"italic bg-red-200 px-4 py-2 text-center",children:"No Floor List Found !!"})})}),(i=t==null?void 0:t.floor)==null?void 0:i.map(n=>e.jsx(e.Fragment,{children:e.jsx(It,{floor:n,getfloor:f})}))]})]})})})};function Bt(t){var ge;const{getAssessment:r,postAssessment:a,getWardList:x}=Fe(),{id:u}=Je();Ze();const[m,f]=c.useState(null),[h,i]=c.useState(0),[n,w]=c.useState(""),[S,_]=c.useState(),[L,P]=c.useState(),[j,$]=c.useState(),[A,C]=c.useState(),[o,W]=c.useState(),[y,v]=c.useState(!1),[E,T]=c.useState(!1),[R,q]=c.useState(!1),[k,l]=c.useState(!1),[H,M]=c.useState(!1),[G,V]=c.useState(!1),[z,Y]=c.useState(!1),[me,Pe]=c.useState(!0),[ke,_e]=c.useState(),[Ae,Ce]=c.useState(!1),[ue,U]=c.useState(!1),[Oe,$e]=c.useState(null);Ke({harvestingToggleStatus:I(),roadWidthToggleStatus:I(),propertyTypeToggleStatus:I(),plotAreaToggleStatus:I(),mobileTowerToggleStatus:I(),hoardingToggleStatus:I(),floorToggleStatus:I(),isWaterHarvesting:O().when("harvestingToggleStatus",{is:!0,then:O().required("Field is required")}),rwhDateFrom:O().when("harvestingToggleStatus",{is:!0,then:O().required("Field is required")}),roadType:O().when("roadWidthToggleStatus",{is:!0,then:O().required("Field is required")}),propertyType:O().when("propertyTypeToggleStatus",{is:!0,then:O().required("Field is required")}),areaOfPlot:O().when("plotAreaToggleStatus",{is:!0,then:O().required("Field is required")}),isMobileTower:O().when("mobileTowerToggleStatus",{is:!0,then:O().required("Field is required")}),isHoarding:O().when("hoardingToggleStatus",{is:!0,then:O().required("Field is required")})});const d=pe({initialValues:{harvestingToggleStatus:!1,roadWidthToggleStatus:!1,propertyTypeToggleStatus:!1,plotAreaToggleStatus:!1,mobileTowerToggleStatus:!1,hoardingToggleStatus:!1,floorToggleStatus:!1,propId:u,isWaterHarvesting:o!=null&&o.is_water_harvesting?1:0,rwhDateFrom:o==null?void 0:o.rwh_date_from,roadType:o==null?void 0:o.road_width,propertyType:o==null?void 0:o.prop_type_mstr_id,areaOfPlot:o==null?void 0:o.area_of_plot,isMobileTower:o!=null&&o.is_mobile_tower?1:0,mobileArea:o==null?void 0:o.tower_area,mobileDate:o==null?void 0:o.tower_installation_date,isHoarding:o!=null&&o.is_hoarding_board?1:0,hoardingArea:o==null?void 0:o.hoarding_area,hoardingDate:o==null?void 0:o.hoarding_installation_date,objEvidenceDoc:"",objRemarks:"",floor:[]},onSubmit:s=>{let g=Ee(s);if(m!=null&&!Xe(m))return d.setFieldValue("objEvidenceDoc","").then(()=>{D(!0,"Check your file size"),f(null)}),!0;g&&De(s)}}),Ee=s=>{if(s.harvestingToggleStatus==!1&&s.roadWidthToggleStatus==!1&&s.propertyTypeToggleStatus==!1&&s.plotAreaToggleStatus==!1&&s.mobileTowerToggleStatus==!1&&s.hoardingToggleStatus==!1&&s.floorToggleStatus==!1)return D(!0,"You have not selected any field to change"),!1;if(s.harvestingToggleStatus){if(s.isWaterHarvesting==""||s.isWaterHarvesting==null)return D(!0,"Please change Water Harvesting details"),!1;if(s.rwhDateFrom==""||s.rwhDateFrom==null)return D(!0,"Please change water harvesting construction date"),!1}return s.roadWidthToggleStatus&&(s.roadType==""||s.roadType==null)?(D(!0,"Please change Road Type details"),!1):s.propertyTypeToggleStatus&&(s.propertyType==""||s.propertyType==null)?(D(!0,"Please change Property Type details"),!1):s.plotAreaToggleStatus&&(s.areaOfPlot==""||s.areaOfPlot==null)?(D(!0,"Please change Area of Plot details"),!1):s.mobileTowerToggleStatus&&(s.isMobileTower==""||s.isMobileTower==null)?(D(!0,"Please change Mobile Tower details"),!1):s.hoardingToggleStatus&&(s.isHoarding==""||s.isHoarding==null)?(D(!0,"Please change Hoarding details"),!1):!0},Re=s=>{s.target.name=="objFormDoc"&&(s.target.files[0],w(s.target.files[0]),d.setFieldValue("objFormDoc",s.target.files[0])),s.target.name=="objEvidenceDoc"&&(s.target.files[0],f(s.target.files[0]),d.setFieldValue("objEvidenceDoc",s.target.files[0]))};c.useEffect(()=>{U(!0),te.post(r,{propertyId:u},ne()).then(s=>{var g,b,p,F,Q,fe;W((g=s==null?void 0:s.data)==null?void 0:g.data),C((p=(b=s==null?void 0:s.data)==null?void 0:b.data)==null?void 0:p.floors),i(h+1),U(!1),Pe((F=s==null?void 0:s.data)==null?void 0:F.status),_e((fe=(Q=s==null?void 0:s.data)==null?void 0:Q.data)==null?void 0:fe.ulb_id)}).catch(s=>{X("Something went wrong !!"),U(!1)})},[]),c.useEffect(()=>{te.get(x,ne()).then(s=>{var g,b,p,F;_((b=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:b.property_type),P((F=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:F.road_type)}).catch(s=>{})},[h]);const Le=s=>{$(s)};c.useEffect(()=>{},[j]);const De=s=>{U(!0);let g=[];y&&(g.push({id:2,value:s==null?void 0:s.isWaterHarvesting}),g.push({id:8,value:s==null?void 0:s.rwhDateFrom})),E&&g.push({id:3,value:s==null?void 0:s.roadType}),R&&g.push({id:4,value:s==null?void 0:s.propertyType}),k&&g.push({id:5,value:s==null?void 0:s.areaOfPlot}),s==null||s.isWaterHarvesting,s==null||s.rwhDateFrom,s==null||s.roadType,s==null||s.propertyType,s==null||s.areaOfPlot,s==null||s.isMobileTower,s==null||s.isHoarding;let b=new FormData;b.append("propId",u),b.append("ulbId",ke),b.append("objectionFor","Assessment Error"),d.values.objEvidenceDoc!=""&&b.append("docCode","OBJECTION_EVIDENCE_DOC"),d.values.objEvidenceDoc!=""&&b.append("objEvidenceDoc",m),(g==null?void 0:g.length)>0&&(g==null||g.forEach((p,F)=>{b.append(`assessmentData[${F}][id]`,p==null?void 0:p.id),b.append(`assessmentData[${F}][value]`,p==null?void 0:p.value)})),z&&(j==null||j.forEach((p,F)=>{b.append(`floorData[${F}][floorNo]`,p==null?void 0:p.floorNo),b.append(`floorData[${F}][buildupArea]`,p==null?void 0:p.buildupArea),b.append(`floorData[${F}][constructionType]`,p==null?void 0:p.constructionType),b.append(`floorData[${F}][occupancyType]`,p==null?void 0:p.occupancyType),b.append(`floorData[${F}][propFloorId]`,p==null?void 0:p.propFloorId),b.append(`floorData[${F}][usageType]`,p==null?void 0:p.usageType)})),te.post(a,b,et()).then(p=>{var F,Q;((F=p==null?void 0:p.data)==null?void 0:F.status)==!0?(X.success("Assessment Objection Applied Successfully..."),t.submitForm((Q=p==null?void 0:p.data)==null?void 0:Q.data)):D(!0,"Error occured in submitting objection application. Please try again later."),U(!1)}).catch(p=>{D(!0,"Error occured in submitting objection application. Please try again later."),U(!1)})},We=s=>{let g=s.target.name,b=s.target.checked,p=s.target.value;g==="harvestingToggleStatus"&&v(b===!0),g==="roadWidthToggleStatus"&&T(b===!0),g==="propertyTypeToggleStatus"&&q(b===!0),g==="plotAreaToggleStatus"&&l(b===!0),g==="floorToggleStatus"&&Y(b===!0),g==="hoardingToggleStatus"&&V(b===!0),g==="mobileTowerToggleStatus"&&M(b===!0),g=="builtupArea"&&d.setFieldValue("builtupArea",at(p,d.values.builtupArea,20))},xe=()=>{t.closePopUp()},D=(s,g)=>{$e(g),Ce(s)};return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{position:"top-right",autoClose:2e3}),ue&&e.jsx(tt,{}),Ae&&e.jsx(st,{activateBottomErrorCard:D,errorTitle:Oe}),e.jsx("div",{className:"2xl:mt-6 mt-3 bg-indigo-500 text-white flex flex-row md:justify-evenly items-center justify-center capitalize text-xs poppins 2xl:text-base poppins mb-4 shadow-md py-2 rounded-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-extrabold text-[30px]",children:e.jsx(ot,{})}),e.jsx("span",{className:"font-semibold poppins 2xl:text-xl text-lg",children:"Assessment Objection"})]})}),e.jsxs("div",{className:"poppins my-2 2xl:font-base text-sm poppins",children:["Citizens are able to file objections to assessments using this objection form in accordance with Section 167 of the ",(ge=rt())==null?void 0:ge.state," Municipal Act 2011. The objections that can be filed include the following:"]}),me&&!ue&&e.jsx("div",{className:" px-4 w-full md:py-6 rounded-lg shadow-lg bg-white mt-6 ",children:e.jsx("form",{onSubmit:d.handleSubmit,onChange:We,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 h-max",children:[e.jsx(Vt,{className:"col-span-4 grid grid-cols-4 h-max",children:e.jsxs("div",{className:"col-span-4 grid grid-cols-4 gap-2",children:[e.jsx("div",{className:"col-span-4 grid grid-cols-4",children:e.jsxs("div",{className:"col-span-4 md:col-span-1  mb-2 px-2 md:px-4 bg-gray-100 shadow-md border border-gray-300",children:[e.jsxs("label",{className:" text-gray-800 pr-2",children:[" ",e.jsx("span",{className:"inline text-gray-700 2xl:text-sm text-xs poppins font-semibold",children:"RainWater Harvesting"})]}),e.jsx(Z,{control:e.jsx(J,{...d.getFieldProps("harvestingToggleStatus"),inputProps:{"aria-label":"controlled"}}),label:""})]})}),e.jsxs("div",{className:`col-span-4 ${y?"grid":"hidden"} grid-cols-1 md:grid-cols-4  mt-2`,children:[e.jsx("div",{className:"form-group col-span-4 mb-6 px-2 md:px-4 bg-red-100 shadow-md",children:e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 2xl:text-sm text-xs poppins text-xs poppins font-semibold",children:"Objection On: Rainwater Harvesting"})}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:"As Per Assessment"}),e.jsx("div",{className:"font-bold font-serif",children:o!=null&&o.is_water_harvesting?e.jsx(e.Fragment,{children:"Yes"}):e.jsx(e.Fragment,{children:"No"})})]}),(o==null?void 0:o.isWaterHarvesting)&&e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:"As Per Assessment (Construction Date)"}),e.jsx("div",{className:"font-bold font-serif",children:o==null?void 0:o.rwh_date_from})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"As Per Applicant"]}),e.jsxs("select",{...d.getFieldProps("isWaterHarvesting"),value:d.values.isWaterHarvesting,type:"text",className:"form-control block w-full px-3 py-1.5 text-xs poppins 2xl:text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"0",children:"No"}),e.jsx("option",{value:"1",children:"Yes"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.isWaterHarvesting&&d.errors.isWaterHarvesting?d.errors.isWaterHarvesting:null})]}),d.values.isWaterHarvesting=="1"&&e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"As Per Appicant (Construction Date)"]}),e.jsx("input",{...d.getFieldProps("rwhDateFrom"),value:d.values.rwhDateFrom,type:"date",className:"form-control block w-full px-3 py-1.5 text-xs poppins 2xl:text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.rwhDateFrom&&d.errors.rwhDateFrom?d.errors.rwhDateFrom:null})]})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-4",children:e.jsxs("div",{className:"col-span-4 md:col-span-1  mb-2 px-2 md:px-4 bg-gray-100 shadow-md border border-gray-300",children:[e.jsxs("label",{className:" text-gray-800 pr-2",children:[" ",e.jsx("span",{className:"inline text-gray-700 2xl:text-sm text-xs poppins font-semibold",children:"Road Width"})]}),e.jsx(Z,{control:e.jsx(J,{...d.getFieldProps("roadWidthToggleStatus"),inputProps:{"aria-label":"controlled"}}),label:""})]})}),e.jsxs("div",{className:`col-span-4 ${E?"grid":"hidden"} grid-cols-1 md:grid-cols-4  mt-2`,children:[e.jsx("div",{className:"form-group col-span-4 mb-6 px-2 md:px-4 bg-red-100 shadow-md",children:e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 2xl:text-sm text-xs poppins text-xs poppins font-semibold",children:"Objection On: Road Width (in ft.)"})}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:"As Per Assessment"}),e.jsx("div",{className:"font-bold font-serif",children:o==null?void 0:o.road_width})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"As Per Applicant"]}),e.jsx("input",{...d.getFieldProps("roadType"),value:d.values.roadType,type:"text",className:"form-control block w-full px-3 py-1.5 text-xs poppins 2xl:text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.roadType&&d.errors.roadType?d.errors.roadType:null})]})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-4",children:e.jsxs("div",{className:"col-span-4 md:col-span-1  mb-2 px-2 md:px-4 bg-gray-100 shadow-md border border-gray-300",children:[e.jsxs("label",{className:" text-gray-800 pr-2",children:[" ",e.jsx("span",{className:"inline text-gray-700 2xl:text-sm text-xs poppins font-semibold",children:"Property Type"})]}),e.jsx(Z,{control:e.jsx(J,{...d.getFieldProps("propertyTypeToggleStatus"),inputProps:{"aria-label":"controlled"}}),label:""})]})}),e.jsxs("div",{className:`col-span-4 ${R?"grid":"hidden"} grid-cols-1 md:grid-cols-4  mt-2`,children:[e.jsx("div",{className:"form-group col-span-4 mb-6 px-2 md:px-4 bg-red-100 shadow-md",children:e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 2xl:text-sm text-xs poppins text-xs poppins font-semibold",children:"Objection On: Property Type"})}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:"As Per Assessment"}),e.jsx("div",{className:"font-bold font-serif",children:o==null?void 0:o.property_type})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"As Per Applicant"]}),e.jsxs("select",{...d.getFieldProps("propertyType"),value:d.values.propertyType,type:"text",className:"form-control block w-full px-3 py-1.5 text-xs poppins 2xl:text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{disabled:!0,value:"",children:"--select--"}),S==null?void 0:S.map(s=>e.jsx(e.Fragment,{children:e.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.property_type})}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.propertyType&&d.errors.propertyType?d.errors.propertyType:null})]})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-4",children:e.jsxs("div",{className:"col-span-4 md:col-span-1  mb-2 px-2 md:px-4 bg-gray-100 shadow-md border border-gray-300",children:[e.jsxs("label",{className:" text-gray-800 pr-2",children:[" ",e.jsx("span",{className:"inline text-gray-700 2xl:text-sm text-xs poppins font-semibold",children:"Area of Plot"})]}),e.jsx(Z,{control:e.jsx(J,{...d.getFieldProps("plotAreaToggleStatus"),inputProps:{"aria-label":"controlled"}}),label:""})]})}),e.jsxs("div",{className:`col-span-4 ${k?"grid":"hidden"} grid-cols-1 md:grid-cols-4  mt-2`,children:[e.jsx("div",{className:"form-group col-span-4 mb-6 px-2 md:px-4 bg-red-100 shadow-md",children:e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 2xl:text-sm text-xs poppins text-xs poppins font-semibold",children:"Objection On: Area of plot (in sq.ft.)"})}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:"As Per Assessment"}),e.jsx("div",{className:"font-bold font-serif",children:o==null?void 0:o.area_of_plot})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 px-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"As Per Applicant"]}),e.jsx("input",{...d.getFieldProps("areaOfPlot"),type:"number",value:d.values.areaOfPlot,className:"form-control block w-full px-3 py-1.5 text-xs poppins 2xl:text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.areaOfPlot&&d.errors.areaOfPlot?d.errors.areaOfPlot:null})]})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-4",children:e.jsxs("div",{className:"col-span-4 md:col-span-1  mb-2 px-2 md:px-4 bg-gray-100 shadow-md border border-gray-300",children:[e.jsxs("label",{className:" text-gray-800 pr-2",children:[" ",e.jsx("span",{className:"inline text-gray-700 2xl:text-sm text-xs poppins font-semibold",children:"Floor Detail"})]}),e.jsx(Z,{control:e.jsx(J,{...d.getFieldProps("floorToggleStatus"),inputProps:{"aria-label":"controlled"}}),label:""})]})}),e.jsxs("div",{className:`col-span-4 ${z?"grid":"hidden"} grid-cols-1 md:grid-cols-4  mt-2`,children:[e.jsx("div",{className:"form-group col-span-4 mb-6 px-2 md:px-4 bg-red-100 shadow-md",children:e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 2xl:text-sm text-xs poppins text-xs poppins font-semibold",children:"Objection On: Floor Details"})}),e.jsx(Ut,{floor:A,getFloorData:Le})]})]})}),e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4 h-max mt-10 border",children:[e.jsx("div",{className:"form-group col-span-4 mb-6 px-2 md:px-4 bg-green-100 shadow-md",children:e.jsx("label",{className:"form-label inline-block mb-1 text-gray-700 2xl:text-sm text-xs poppins text-xs poppins font-semibold",children:"Documents"})}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",onChange:d.handleChange,children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 2xl:text-sm text-xs poppins font-semibold",children:"Evidence Document"}),e.jsx("input",{name:"objEvidenceDoc",onChange:Re,accept:".pdf,.jpg,.jpeg",type:"file",className:"form-control block w-full px-3 py-1 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.objEvidenceDoc&&d.errors.objEvidenceDoc?d.errors.objEvidenceDoc:null})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-row flex-wrap justify-between items-center w-full h-max mt-4",children:[e.jsx("div",{onClick:()=>xe(),className:"cursor-pointer px-3 py-1.5 2xl:px-6 2xl:py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out poppins",children:"Close"}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:" poppins px-3 py-1.5 2xl:px-6 2xl:py-2.5 bg-green-600 text-white font-medium text-xs leading-tight rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",children:[" ","Submit"," "]})})]})]})})}),!me&&e.jsx(e.Fragment,{children:e.jsx(nt,{title:"Oops !! No Assessment Details Found !!",location:xe})})]})}function os(t){c.useState(1);const[r,a]=c.useState("translate-x-0"),[x,u]=c.useState(!1),[m,f]=c.useState({}),[h,i]=c.useState(""),n=P=>{X.dismiss(),X.error(P)},w=()=>{u(!0)},S=(P,j)=>{f({...m,[P]:j})};if(h=="success")return e.jsx(e.Fragment,{children:" Done"});const _=()=>{t.closePopUp()},L=P=>{t.submitForm(P)};return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{position:"top-right",autoClose:2e3}),e.jsx("div",{className:`${r} transition-all relative md:mx-14`,children:e.jsx(Bt,{collectFormDataFun:S,submitFun:w,toastFun:n,closePopUp:_,submitForm:L})}),x&&e.jsx("div",{onClick:()=>i("success"),className:"flex items-center justify-center",children:e.jsxs("button",{type:"submit",className:"absolute bottom-40 mx-auto px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-blue-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",children:["Submit Form ",e.jsx(lt,{className:"inline text-xl"})]})})]})}export{os as default};
