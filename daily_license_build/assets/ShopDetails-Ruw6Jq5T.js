import{r as d,u as $,A as R,a as Y,j as e,Q as E,d as ae}from"./index-yZk1nTm3.js";import{M as z}from"./index-89eer0to.js";import{n as k,g as ne,a as re,s as ce}from"./PowerupFunctions-bw3UMuA_.js";import{R as Q}from"./RentalApiList-f8a2cC67.js";import{L as W}from"./Loader-wpfI2tye.js";import{u as G}from"./formik.esm-jPgX_pJX.js";import{c as H,b as u}from"./object-myLraoT8.js";function ie(l){var L,M;const{api_shopPaymentByCash:q,api_getSelectedFinancialYearAmount:g,api_shopPaymentByChequeDD:p,api_shopPaymentOnline:C}=Q(),[y,f]=d.useState(!1);d.useState(!1);const[m,n]=d.useState(),[c,N]=d.useState(!1),[w,D]=d.useState(),[x,j]=d.useState(),[o,b]=d.useState(""),[h,S]=d.useState(""),[P,F]=d.useState();$();const T=(t,i)=>{E.dismiss(),i=="success"&&E.success(t),i=="error"&&E.error(t)};let I;m=="CASH"&&(I=H({paymentMode:u().required("select payment mode"),financialYearTo:u().required("select financial year")})),m=="CHEQUE"&&(I=H({paymentMode:u().required("select payment mode"),financialYearTo:u().required("select financial year"),bankName:u().required("Enter bank name"),branchName:u().required("Enter branch name"),chequeNo:u().required("Enter cheque no."),chequeDDPhoto:u().required("select photo"),chequeDdDate:u().required("Enter Date")})),m=="DD"&&(I=H({paymentMode:u().required("select payment mode"),financialYearTo:u().required("select financial year"),bankName:u().required("Enter bank name"),branchName:u().required("Enter branch name"),ddNo:u().required("Enter DD no."),chequeDDPhoto:u().required("select photo"),chequeDdDate:u().required("Enter Date")}));const a=G({initialValues:{paymentMode:"",bankName:"",branchName:"",chequeNo:"",ddNo:"",financialYearTo:"",chequeDDPhoto:"",chequeDdDate:""},enableReinitialize:!0,onSubmit:(t,i)=>{console.log("values at submit payment",t),_(t)},validationSchema:I}),B=()=>{l.closeModal()};console.log("master data...2",w);const A=t=>{f(!0),console.log("data---12",t);const i={shopId:l==null?void 0:l.shopId,toFYear:t};R.post(g,i,Y()).then(s=>{console.log("calculated amount",s.data.data),j(s.data.data),f(!1)}).catch(s=>{console.log(s),f(!1)})},O=t=>{let i=t.target.name,s=t.target.value;i=="chequeDDPhoto"&&V(i,t.target.files[0]),i=="financialYearTo"&&A(s),i=="paymentMode"&&n(s),i=="payAdvance"&&N(t.target.checked),i=="amount"&&a.setFieldValue("amount",re(s,a.values.amount,8))},V=(t,i)=>{console.log("name ,fileData ",t,i),b(i),t=="chequeDDPhoto"&&a.setFieldValue("chequeDDPhoto",i);const s=new FileReader;s.onloadend=()=>{t=="chequeDDPhoto"&&S(s.result)},s.readAsDataURL(i)},_=t=>{f(!0);let i,s;((t==null?void 0:t.paymentMode)==4001||(t==null?void 0:t.paymentMode)==5120)&&window.ReactNativeWebView.postMessage(JSON.stringify({keyData:{userId:window.localStorage.getItem("userId"),shopId:l==null?void 0:l.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentAmount:x==null?void 0:x.amount,TransactionType:t==null?void 0:t.paymentMode,BillingRefNo:Math.floor(Math.random()*1e9),token:window.localStorage.getItem("token")},Key:"PINELAB_RENTAL_PAYMENT"})),m=="ONLINE"&&(i=C,s={shopId:l==null?void 0:l.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode}),m=="CASH"&&(i=q,s={shopId:l==null?void 0:l.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode}),(m=="CHEQUE"||m=="DD")&&(i=p,s={shopId:l==null?void 0:l.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode,bankName:t==null?void 0:t.bankName,chequeNo:t==null?void 0:t.chequeNo,ddNo:t==null?void 0:t.ddNo,branchName:t==null?void 0:t.branchName,photo:t==null?void 0:t.chequeDDPhoto,chequeDdDate:t==null?void 0:t.chequeDdDate}),console.log("before make payment..",s),R.post(i,s,Y()).then(function(r){var v,J,K,Z,X,ee,te,le,se,oe;console.log(" payment response...",(v=r==null?void 0:r.data)==null?void 0:v.data),((J=r==null?void 0:r.data)==null?void 0:J.status)===!0?(T((K=r==null?void 0:r.data)==null?void 0:K.message,"success"),console.log("status",(X=(Z=r==null?void 0:r.data)==null?void 0:Z.data)==null?void 0:X.paymentUrl),((te=(ee=r==null?void 0:r.data)==null?void 0:ee.data)==null?void 0:te.paymentUrl)!=null?window.location.href=(se=(le=r==null?void 0:r.data)==null?void 0:le.data)==null?void 0:se.paymentUrl:(l==null||l.closeModal(),l==null||l.fetchDetailsByIdFun())):(T((oe=r==null?void 0:r.data)==null?void 0:oe.message,"error"),l.closeModal()),f(!1)}).catch(function(r){console.log(" payment error..",r),f(!1)})};return console.log("list detail in card",P),e.jsxs(e.Fragment,{children:[y&&e.jsx(W,{}),e.jsx("div",{className:"  p-4  w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto   overflow-y-auto",children:e.jsxs("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto  ",children:[e.jsx("h1",{className:" text-gray-600 text-md capitalize font-bold",children:"Payment Process"}),e.jsx("h1",{className:" text-gray-400 text-sm  mb-4",children:"Seamless Payments: Making transactions effortless."}),e.jsx("div",{className:"border-b"}),e.jsxs("div",{className:"flex space-x-8 justify-between mt-4 text-xs",children:[e.jsxs("h1",{className:"mb-2 text-gray-600 text-sm",children:[" ","Amount -"," ",e.jsxs("span",{className:"font-semibold text-sm text-gray-800",children:["Rs. ",k((L=l.listDetails)==null?void 0:L.pendingAmount)]})]}),e.jsxs("h1",{className:"mb-2 text-gray-600 text-sm",children:["Payable Amount -"," ",e.jsxs("span",{className:"font-semibold text-sm text-gray-800",children:["Rs. ",k(x==null?void 0:x.amount)]})]})]}),e.jsxs("form",{onSubmit:a.handleSubmit,onChange:O,className:"p-4 relative",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[e.jsxs("div",{className:"form-group mb-6 col-span-6 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),e.jsxs("select",{...a.getFieldProps("paymentMode"),className:"form-control block text-xs w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:4001,children:"PineLabs Card Pay"}),e.jsx("option",{value:5120,children:"PineLabs UPI Pay"}),e.jsx("option",{value:"ONLINE",children:"Online"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"CHEQUE",children:"Cheque"}),e.jsx("option",{value:"DD",children:"DD"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.paymentMode&&a.errors.paymentMode?a.errors.paymentMode:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-6 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Financial Year"]}),e.jsxs("select",{...a.getFieldProps("financialYearTo"),className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),(M=l==null?void 0:l.financialYrList)==null?void 0:M.map(t=>e.jsx("option",{value:t==null?void 0:t.id,children:t==null?void 0:t.financialYear}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.financialYearTo&&a.errors.financialYearTo?a.errors.financialYearTo:null})]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[(m=="CHEQUE"||m=="DD")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e.jsx("input",{...a.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.bankName&&a.errors.bankName?a.errors.bankName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e.jsx("input",{...a.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.branchName&&a.errors.branchName?a.errors.branchName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),m=="CHEQUE"?"Check Date":"DD Date"]}),e.jsx("input",{type:"date",...a.getFieldProps("chequeDdDate"),min:ne(),className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.chequeDdDate&&a.errors.chequeDdDate?a.errors.chequeDdDate:null})]})]}),m=="CHEQUE"&&e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Cheque No."]}),e.jsx("input",{...a.getFieldProps("chequeNo"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.chequeNo&&a.errors.chequeNo?a.errors.chequeNo:null})]}),m=="DD"&&e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"DD No."]}),e.jsx("input",{...a.getFieldProps("ddNo"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.ddNo&&a.errors.ddNo?a.errors.ddNo:null})]}),(m=="CHEQUE"||m=="DD")&&e.jsxs("div",{className:"form-group  col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Upload Photo"]}),e.jsx("input",{type:"file",name:"chequeDDPhoto",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",onChange:a.handleChange}),e.jsx("img",{src:"".concat(h),alt:"Upload img",className:"h-20"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:a.touched.chequeDDPhoto&&a.errors.chequeDDPhoto?a.errors.chequeDDPhoto:null})]}),e.jsx("div",{className:"col-span-12"}),e.jsx("div",{className:"col-span-12  mx-auto mt-10 ",children:e.jsxs("div",{className:"",children:[e.jsxs("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:["Pay"," "]}),e.jsx("button",{type:"submit",className:"ml-4 px-6 py-2.5 bg-red-500 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-red-600 hover:shadow-lg focus:bg-red-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-500 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:B,children:"Cancel"})]})})]})]})]})})]})}function de(l){var j;console.log("shop id",l==null?void 0:l.shopId);const[q,g]=d.useState(!1),[p,C]=d.useState(),{api_postUpdateOrReportedShop:y,api_getShopMasterType:f}=Q(),m=(o,b)=>{E.dismiss(),b=="success"&&E.success(o),b=="error"&&E.error(o)};H({contactNo:u().required("Enter mobile no.").min(10,"Enter 10 digit number").max(10,"Enter 10 digit number")});const c=G({initialValues:{contactNo:"",remarks:"",rentType:"",zoneId:"",amcShopNo:""},onSubmit:o=>{console.log("form values",o),w(o)}});d.useEffect(()=>{N(),g(!0)},[]);const N=()=>{R.post(f,{},Y()).then(o=>{var b;console.log("master data type",o.data.data),C((b=o==null?void 0:o.data)==null?void 0:b.data),g(!1)}).catch(o=>{console.log(o),g(!1)})},w=o=>{g(!0);let b={shopId:l==null?void 0:l.shopId,contactNo:o==null?void 0:o.contactNo,rentType:o==null?void 0:o.rentType,circleId:o==null?void 0:o.zoneId,remarks:o==null?void 0:o.remarks,amcShopNo:o==null?void 0:o.amcShopNo};R.post(y,b,Y()).then(h=>{var S,P,F;console.log("response ",h.data),((S=h==null?void 0:h.data)==null?void 0:S.status)===!0?(m((P=h==null?void 0:h.data)==null?void 0:P.message,"success"),l==null||l.fetchDetailsByIdFun(),l==null||l.closeModal()):m((F=h==null?void 0:h.data)==null?void 0:F.message,"error"),g(!1)}).catch(h=>{console.log(h)})},D=o=>{let b=o.target.name,h=o.target.value;b=="contactNo"&&c.setFieldValue("contactNo",allowNumberInput(h,c.values.contactNo,10))},x=()=>{l==null||l.closeModal()};return e.jsxs(e.Fragment,{children:[q&&e.jsx(W,{}),e.jsx("div",{className:"container",children:e.jsx("form",{onSubmit:c.handleSubmit,onChange:D,children:e.jsxs("div",{className:"bg-white p-2 ",children:[e.jsxs("div",{className:"grid grid-cols-12 w-full border-b flex border-gray-300",children:[e.jsx("svg",{id:"report_id","data-tooltip-content":"Report problem",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 ml-0 md:ml-3 lg:ml-3  mt-1 text-red-600  ",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("h1",{className:"text-lg text-gray-500 font-semibold mb-2 ml-2",children:"Update"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-12 w-full  ",children:[e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Contact No."}),e.jsx("input",{...c.getFieldProps("contactNo"),type:"text",className:"text-xs appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-2 px-4 mb-3 leading-tight focus:outline-none focus:border-blue-500 focus:bg-white ring-0 "}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.contactNo&&c.errors.contactNo?c.errors.contactNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"AMC Shop No."}),e.jsx("input",{...c.getFieldProps("amcShopNo"),type:"text",className:"appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-2 px-4 mb-3 leading-tight focus:outline-none focus:border-blue-500 focus:bg-white ring-0 "}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.amcShopNo&&c.errors.amcShopNo?c.errors.amcShopNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 -mt-4 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Zone"}),e.jsxs("select",{...c.getFieldProps("zoneId"),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select"}),(j=p==null?void 0:p.circleList)==null?void 0:j.map(o=>e.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.circle_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.zoneId&&c.errors.zoneId?c.errors.zoneId:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Rent Type"}),e.jsxs("select",{...c.getFieldProps("rentType"),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select"}),e.jsx("option",{value:"Shop Rent",children:"Shop Rent"}),e.jsx("option",{value:"Plot Rent",children:"Plot Rent"}),e.jsx("option",{value:"Building Rent",children:"Building Rent"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.rentType&&c.errors.rentType?c.errors.rentType:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-12 mb-6 md:px-6",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold w-full",children:"Remark"}),e.jsx("textarea",{name:"remarks",onChange:c.handleChange,value:c.values.remarks,className:"border text-xs  p-2 w-full h-24",placeholder:"Remark..."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.remarks&&c.errors.remarks?c.errors.remarks:null})]})]}),e.jsxs("div",{className:"w-full m-2 text-right",children:[e.jsx("button",{type:"submit",className:"capitalize hover:shadow-md text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 font-medium rounded-md text-xs px-5 py-2 mr-2 mb-2 focus:outline-none max-w-[144px] whitespace-pre-wrap",children:"Save"}),e.jsx("button",{type:"button",className:"capitalize hover:shadow-md text-white bg-red-400 hover:bg-red-600 focus:ring-4 focus:ring-red-300 font-medium rounded-md text-xs px-5 py-2 mr-2 mb-2 focus:outline-none max-w-[144px] whitespace-pre-wrap",onClick:x,children:"Close"})]})]})]})})})]})}function me(l){var w,D;const[q,g]=d.useState(!1);d.useState(!1),d.useState();const[p,C]=d.useState();d.useState();const[y,f]=d.useState(),m=$(),n=G({initialValues:{financialYearTo:""},enableReinitialize:!0,onSubmit:(x,j)=>{console.log("values at submit payment",x)}}),c=()=>{l.closeModal()};console.log("master data...2",p);const N=x=>{let j=x.target.name,o=x.target.value;j=="financialYearTo"&&f(o)};return console.log("financial year",y),e.jsxs(e.Fragment,{children:[q&&e.jsxs("p",{className:"text-red-500 text-lg font-bold absolute top-1/2 left-1/2 z-20",children:[" ",ce()]}),e.jsx("div",{className:"  p-4  w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto   overflow-y-auto",children:e.jsxs("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto  ",children:[e.jsx("h1",{className:" text-gray-600 text-lg capitalize",children:"Demand Receipt"}),e.jsx("h1",{className:" text-gray-400 text-sm  mb-4",children:"Seamless Payments: Making transactions effortless."}),e.jsx("div",{className:"border-b"}),e.jsx("div",{className:"flex space-x-8 justify-between mt-4",children:e.jsxs("h1",{className:"mb-2 text-gray-600 px-8 text-lg",children:["Amount - ",e.jsxs("span",{className:"font-semibold text-md text-gray-800",children:["Rs. ",k((w=l.listDetails)==null?void 0:w.pendingAmount)]})]})}),e.jsxs("form",{onSubmit:n.handleSubmit,onChange:N,className:"p-4 relative",children:[e.jsx("div",{className:"grid grid-cols-12",children:e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-12 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Financial Year"]}),e.jsxs("select",{...n.getFieldProps("financialYearTo"),className:"form-control block text-xs w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),(D=l==null?void 0:l.financialYrList)==null?void 0:D.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.financialYear}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.financialYearTo&&n.errors.financialYearTo?n.errors.financialYearTo:null})]})}),e.jsx("div",{className:"col-span-12  mx-auto mt-10 ",children:e.jsxs("div",{className:"",children:[y!=null&&e.jsx("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:()=>m("/demand-receipt/".concat(l==null?void 0:l.shopId,"/").concat(y)),children:"Demand Receipt"}),e.jsx("button",{type:"submit",className:"ml-4 px-6 py-2.5 bg-red-500 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-red-600 hover:shadow-lg focus:bg-red-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-500 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:c,children:"Cancel"})]})})]})]})})]})}const U={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none",overflowY:"scroll"}};z.setAppElement("#root");function ye(){var t,i;const{api_getShopDetailsById:l,api_getShopReceiptData:q}=Q(),{id:g}=ae(),p=$();let C="text-md text-[#454646] opacity-80 font-semibold ",y="text-sm text-[#454646] opacity-80 capitalize";const[f,m]=d.useState(!1),[n,c]=d.useState(),[N,w]=d.useState(),[D,x]=d.useState(!1),j=()=>x(!0),o=()=>x(!1),b=()=>{},[h,S]=d.useState(!1),P=()=>S(!0),F=()=>S(!1),T=()=>{},[I,a]=d.useState(!1),B=()=>a(!0),A=()=>a(!1),O=()=>{},V=s=>{console.log("application id in modal",s),j()},_=s=>{console.log("application id in modal",s),B()},L=()=>{P()};d.useEffect(()=>{M()},[g]);const M=()=>{m(!0);let s=l;const r={id:g};console.log("request body category id",r),R.post("".concat(s),r,Y()).then(function(v){console.log("application details by id",v.data.data.fYear),c(v.data.data),w(v.data.data.fYear),m(!1)}).catch(function(v){console.log("errorrr.... ",v),m(!1)})};return e.jsxs(e.Fragment,{children:[f&&e.jsx(W,{}),e.jsx("div",{className:"h-auto bg-[#FDFCFE] flex flex-row flex-wrap justify-center items-center p-3",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-tl-[44px]  h-full sm:w-1/2 lg:w-1/3 w-full rounded-xl p-2",children:[e.jsxs("div",{className:"bg-[#5846BE] h-28 w-full mx-auto rounded-br-[68px] rounded-tl-[44px]  opacity-90",children:[e.jsxs("div",{className:"p-4 pt-10",children:[e.jsx("h1",{className:"text-gray-50 font-bold capitalize text-2xl",children:"Shop Details"}),e.jsx("h1",{className:"text-gray-50 capitalize text-[12px]",children:"Budgeting Essentials: Shop Rent Payment"})]}),e.jsx("div",{className:"col-span-6 ",children:e.jsx("button",{id:"report_id",className:"float-right bg-amber-400 mt-4 px-2 py-1 border-amber-500 border text-gray-600 text-xs",onClick:L,children:"Update Shop"})})]}),e.jsxs("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5 p-2",children:[e.jsx("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-3 border-b ",children:e.jsxs("h1",{className:"flex space-x-1 text-xl text-[#454646] opacity-80 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),e.jsx("span",{className:" text-[#161717] text-sm",children:"Basic Details"})]})}),(t=n==null?void 0:n.shopDetails)==null?void 0:t.map((s,r)=>e.jsxs("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-2 text-xs ",children:[e.jsxs("label",{className:"".concat(C," mb-2 "),children:[k(s==null?void 0:s.displayString)," -"]}),e.jsx("label",{className:"".concat(y," text-xs"),children:k(s==null?void 0:s.value)})]},r))]}),e.jsxs("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5 p-2 ",children:[e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2 ",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:[" ","Total Demand -",e.jsxs("span",{className:"",children:[" Rs. ",n==null?void 0:n.total]})]})}),e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:["Paid Amount - Rs."," ",e.jsx("span",{className:"",children:n==null?void 0:n.totalPaid})," "]})}),e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:["Pending Amount - Rs."," ",e.jsx("span",{className:"",children:n==null?void 0:n.pendingAmount})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[(n==null?void 0:n.pendingAmount)!=0&&e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{className:"bg-indigo-500 border-2 w-full border-indigo-500 hover:bg-indigo-600 px-2 py-0.5 text-white font-semibold  rounded leading-5 shadow-lg shadow-gray-300 text-xs",onClick:()=>_(g),children:"Demand Receipt"})}),(n==null?void 0:n.pendingAmount)!=0&&e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{className:"bg-green-500 border-2 w-full border-green-500 hover:bg-green-600 px-4 py-0.5 text-white font-semibold  rounded leading-5 shadow-lg shadow-gray-300 text-xs",onClick:()=>V(g),children:"Pay Now"})})]})]}),e.jsx("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5  ",children:e.jsxs("div",{class:"",children:[e.jsx("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-3 border-b ",children:e.jsxs("h1",{className:"flex space-x-1 text-md text-[#454646] opacity-80 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),e.jsx("span",{className:"-mt-1 text-[#161717]",children:"Financial Year Wise Demand"})]})}),e.jsx("div",{class:"overflow-x-auto p-3",children:e.jsxs("table",{class:"w-full table-auto",children:[e.jsx("thead",{class:"bg-indigo-100    text-gray-400 ",children:e.jsxs("tr",{className:"text-xs",children:[e.jsx("th",{class:"",children:e.jsx("div",{class:"text-[#454646] ",children:"#"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Financial Year"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Generated Demand"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Payment Date"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Payment Status"})})]})}),e.jsx("tbody",{class:"",children:(i=n==null?void 0:n.demands)==null?void 0:i.map((s,r)=>e.jsxs("tr",{className:"".concat((s==null?void 0:s.payment_status)==1?"text-green-500  divide-y divide-gray-100":"text-[#454646] divide-y divide-gray-100 text-xs"),children:[e.jsx("td",{class:"p-2",children:e.jsx("div",{class:" text-center text-xs ",children:r+1})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:" text-center text-xs",children:k(s==null?void 0:s.financial_year)})}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"text-center text-xs",children:["Rs. ",k(s==null?void 0:s.amount)]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-center text-xs ",children:k(s==null?void 0:s.payment_date)})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-center text-xs ",children:(s==null?void 0:s.amount)==0?"NA":e.jsx(e.Fragment,{children:(s==null?void 0:s.payment_status)==1?e.jsxs("button",{className:"capitalize border border-indigo-500 text-indigo-500 hover:bg-indigo-500 px-2 py-1 text-xs hover:text-white rounded-md",onClick:()=>p("/shop-receipt/".concat(s==null?void 0:s.tran_id)),children:["View Receipt"," "]}):"Payment pending"})})})]}))})]})})]})})]})}),e.jsx(z,{isOpen:D,onAfterOpen:b,onRequestClose:o,style:U,contentLabel:"Example Modal",children:e.jsx("div",{className:"",style:{width:"auto",height:"170vw"},children:e.jsx("div",{className:"overflow-auto ",children:e.jsx(ie,{listDetails:n,shopId:g,closeModal:o,fetchDetailsByIdFun:M,financialYrList:N})})})}),e.jsx(z,{isOpen:h,onAfterOpen:T,onRequestClose:F,style:U,contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full",style:{height:"50%"},children:e.jsx("div",{className:"h-auto ",children:e.jsx(de,{closeModal:F,shopId:g,fetchDetailsByIdFun:M})})})}),e.jsx(z,{isOpen:I,onAfterOpen:O,onRequestClose:A,style:U,contentLabel:"Example Modal",children:e.jsx("div",{className:"",style:{width:"auto",height:"120vw"},children:e.jsx("div",{className:"overflow-auto ",children:e.jsx(me,{listDetails:n,shopId:g,closeModal:A,fetchDetailsByIdFun:M,financialYrList:N})})})})]})}export{ye as default};
