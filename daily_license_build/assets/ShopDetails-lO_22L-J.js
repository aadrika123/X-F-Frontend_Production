import{r as d,u as _,A as R,a as Y,j as e,Q as F,d as ae}from"./index-LVoQ7CEH.js";import{M as L}from"./index-8w9e9XfO.js";import{n as k,g as ne,a as re,s as ce}from"./PowerupFunctions-y4WO6uRc.js";import{R as $}from"./RentalApiList-0EKospQ2.js";import{L as Q}from"./Loader-Q0gecdCQ.js";import{u as W}from"./formik.esm-DVqNh5zW.js";import{c as z,b as h}from"./object-lITFkcaB.js";function ie(s){var q,E;const{api_shopPaymentByCash:g,api_getSelectedFinancialYearAmount:f,api_shopPaymentByChequeDD:j,api_shopPaymentOnline:C}=$(),[N,u]=d.useState(!1);d.useState(!1);const[o,p]=d.useState(),[r,D]=d.useState(!1),[w,v]=d.useState(),[m,y]=d.useState(),[a,b]=d.useState(""),[x,P]=d.useState(""),[S,I]=d.useState();_();const T=(t,l)=>{F.dismiss(),l=="success"&&F.success(t),l=="error"&&F.error(t)};let M;o=="CASH"&&(M=z({paymentMode:h().required("select payment mode"),financialYearTo:h().required("select financial year")})),o=="CHEQUE"&&(M=z({paymentMode:h().required("select payment mode"),financialYearTo:h().required("select financial year"),bankName:h().required("Enter bank name"),branchName:h().required("Enter branch name"),chequeNo:h().required("Enter cheque no."),chequeDDPhoto:h().required("select photo"),chequeDdDate:h().required("Enter Date")})),o=="DD"&&(M=z({paymentMode:h().required("select payment mode"),financialYearTo:h().required("select financial year"),bankName:h().required("Enter bank name"),branchName:h().required("Enter branch name"),ddNo:h().required("Enter DD no."),chequeDDPhoto:h().required("select photo"),chequeDdDate:h().required("Enter Date")}));const n=W({initialValues:{paymentMode:"",bankName:"",branchName:"",chequeNo:"",ddNo:"",financialYearTo:"",chequeDDPhoto:"",chequeDdDate:""},enableReinitialize:!0,onSubmit:(t,l)=>{console.log("values at submit payment",t),V(t)},validationSchema:M}),A=()=>{s.closeModal()};console.log("master data...2",w);const H=t=>{u(!0),console.log("data---12",t);const l={shopId:s==null?void 0:s.shopId,toFYear:t};R.post(f,l,Y()).then(i=>{console.log("calculated amount",i.data.data),y(i.data.data),u(!1)}).catch(i=>{console.log(i),u(!1)})},B=t=>{let l=t.target.name,i=t.target.value;l=="chequeDDPhoto"&&O(l,t.target.files[0]),l=="financialYearTo"&&H(i),l=="paymentMode"&&p(i),l=="payAdvance"&&D(t.target.checked),l=="amount"&&n.setFieldValue("amount",re(i,n.values.amount,8))},O=(t,l)=>{console.log("name ,fileData ",t,l),b(l),t=="chequeDDPhoto"&&n.setFieldValue("chequeDDPhoto",l);const i=new FileReader;i.onloadend=()=>{t=="chequeDDPhoto"&&P(i.result)},i.readAsDataURL(l)},V=t=>{u(!0);let l,i;((t==null?void 0:t.paymentMode)==4001||(t==null?void 0:t.paymentMode)==5120)&&window.ReactNativeWebView.postMessage(JSON.stringify({keyData:{userId:window.localStorage.getItem("userId"),shopId:s==null?void 0:s.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentAmount:m==null?void 0:m.amount,TransactionType:t==null?void 0:t.paymentMode,BillingRefNo:Math.floor(Math.random()*1e9),token:window.localStorage.getItem("token")},Key:"PINELAB_RENTAL_PAYMENT"})),o=="ONLINE"&&(l=C,i={shopId:s==null?void 0:s.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode}),o=="CASH"&&(l=g,i={shopId:s==null?void 0:s.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode}),(o=="CHEQUE"||o=="DD")&&(l=j,i={shopId:s==null?void 0:s.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode,bankName:t==null?void 0:t.bankName,chequeNo:t==null?void 0:t.chequeNo,ddNo:t==null?void 0:t.ddNo,branchName:t==null?void 0:t.branchName,photo:t==null?void 0:t.chequeDDPhoto,chequeDdDate:t==null?void 0:t.chequeDdDate}),console.log("before make payment..",i),R.post(l,i,Y()).then(function(c){var G,J,K,Z,X,ee,te,le,se,oe;console.log(" payment response...",(G=c==null?void 0:c.data)==null?void 0:G.data),((J=c==null?void 0:c.data)==null?void 0:J.status)===!0?(T((K=c==null?void 0:c.data)==null?void 0:K.message,"success"),console.log("status",(X=(Z=c==null?void 0:c.data)==null?void 0:Z.data)==null?void 0:X.paymentUrl),((te=(ee=c==null?void 0:c.data)==null?void 0:ee.data)==null?void 0:te.paymentUrl)!=null?window.location.href=(se=(le=c==null?void 0:c.data)==null?void 0:le.data)==null?void 0:se.paymentUrl:(s==null||s.closeModal(),s==null||s.fetchDetailsByIdFun())):(T((oe=c==null?void 0:c.data)==null?void 0:oe.message,"error"),s.closeModal()),u(!1)}).catch(function(c){console.log(" payment error..",c),u(!1)})};return console.log("list detail in card",S),e.jsxs(e.Fragment,{children:[N&&e.jsx(Q,{}),e.jsx("div",{className:"  p-4  w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto   overflow-y-auto",children:e.jsxs("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto  ",children:[e.jsx("h1",{className:" text-gray-600 text-md capitalize font-bold",children:"Payment Process"}),e.jsx("h1",{className:" text-gray-400 text-sm  mb-4",children:"Seamless Payments: Making transactions effortless."}),e.jsx("div",{className:"border-b"}),e.jsxs("div",{className:"flex space-x-8 justify-between mt-4 text-xs",children:[e.jsxs("h1",{className:"mb-2 text-gray-600 text-sm",children:[" ","Amount -"," ",e.jsxs("span",{className:"font-semibold text-sm text-gray-800",children:["Rs. ",k((q=s.listDetails)==null?void 0:q.pendingAmount)]})]}),e.jsxs("h1",{className:"mb-2 text-gray-600 text-sm",children:["Payable Amount -"," ",e.jsxs("span",{className:"font-semibold text-sm text-gray-800",children:["Rs. ",k(m==null?void 0:m.amount)]})]})]}),e.jsxs("form",{onSubmit:n.handleSubmit,onChange:B,className:"p-4 relative",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[e.jsxs("div",{className:"form-group mb-6 col-span-6 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),e.jsxs("select",{...n.getFieldProps("paymentMode"),className:"form-control block text-xs w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:4001,children:"PineLabs Card Pay"}),e.jsx("option",{value:5120,children:"PineLabs UPI Pay"}),e.jsx("option",{value:"ONLINE",children:"Online"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"CHEQUE",children:"Cheque"}),e.jsx("option",{value:"DD",children:"DD"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.paymentMode&&n.errors.paymentMode?n.errors.paymentMode:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-6 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Financial Year"]}),e.jsxs("select",{...n.getFieldProps("financialYearTo"),className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),(E=s==null?void 0:s.financialYrList)==null?void 0:E.map(t=>e.jsx("option",{value:t==null?void 0:t.id,children:t==null?void 0:t.financialYear}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.financialYearTo&&n.errors.financialYearTo?n.errors.financialYearTo:null})]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[(o=="CHEQUE"||o=="DD")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e.jsx("input",{...n.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.bankName&&n.errors.bankName?n.errors.bankName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e.jsx("input",{...n.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.branchName&&n.errors.branchName?n.errors.branchName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),o=="CHEQUE"?"Check Date":"DD Date"]}),e.jsx("input",{type:"date",...n.getFieldProps("chequeDdDate"),min:ne(),className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.chequeDdDate&&n.errors.chequeDdDate?n.errors.chequeDdDate:null})]})]}),o=="CHEQUE"&&e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Cheque No."]}),e.jsx("input",{...n.getFieldProps("chequeNo"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.chequeNo&&n.errors.chequeNo?n.errors.chequeNo:null})]}),o=="DD"&&e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"DD No."]}),e.jsx("input",{...n.getFieldProps("ddNo"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.ddNo&&n.errors.ddNo?n.errors.ddNo:null})]}),(o=="CHEQUE"||o=="DD")&&e.jsxs("div",{className:"form-group  col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Upload Photo"]}),e.jsx("input",{type:"file",name:"chequeDDPhoto",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",onChange:n.handleChange}),e.jsx("img",{src:"".concat(x),alt:"Upload img",className:"h-20"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:n.touched.chequeDDPhoto&&n.errors.chequeDDPhoto?n.errors.chequeDDPhoto:null})]}),e.jsx("div",{className:"col-span-12"}),e.jsx("div",{className:"col-span-12  mx-auto mt-10 ",children:e.jsxs("div",{className:"",children:[e.jsxs("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:["Pay"," "]}),e.jsx("button",{type:"submit",className:"ml-4 px-6 py-2.5 bg-red-500 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-red-600 hover:shadow-lg focus:bg-red-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-500 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:A,children:"Cancel"})]})})]})]})]})})]})}function de(s){var y;console.log("shop id",s==null?void 0:s.shopId);const[g,f]=d.useState(!1),[j,C]=d.useState(),{api_postUpdateOrReportedShop:N,api_getShopMasterType:u}=$(),o=(a,b)=>{F.dismiss(),b=="success"&&F.success(a),b=="error"&&F.error(a)};z({contactNo:h().required("Enter mobile no.").min(10,"Enter 10 digit number").max(10,"Enter 10 digit number")});const r=W({initialValues:{contactNo:"",remarks:"",rentType:"",zoneId:"",amcShopNo:""},onSubmit:a=>{console.log("form values",a),w(a)}});d.useEffect(()=>{D(),f(!0)},[]);const D=()=>{R.post(u,{},Y()).then(a=>{var b;console.log("master data type",a.data.data),C((b=a==null?void 0:a.data)==null?void 0:b.data),f(!1)}).catch(a=>{console.log(a),f(!1)})},w=a=>{f(!0);let b={shopId:s==null?void 0:s.shopId,contactNo:a==null?void 0:a.contactNo,rentType:a==null?void 0:a.rentType,circleId:a==null?void 0:a.zoneId,remarks:a==null?void 0:a.remarks,amcShopNo:a==null?void 0:a.amcShopNo};R.post(N,b,Y()).then(x=>{var P,S,I;console.log("response ",x.data),((P=x==null?void 0:x.data)==null?void 0:P.status)===!0?(o((S=x==null?void 0:x.data)==null?void 0:S.message,"success"),s==null||s.fetchDetailsByIdFun(),s==null||s.closeModal()):o((I=x==null?void 0:x.data)==null?void 0:I.message,"error"),f(!1)}).catch(x=>{console.log(x)})},v=a=>{let b=a.target.name,x=a.target.value;b=="contactNo"&&r.setFieldValue("contactNo",allowNumberInput(x,r.values.contactNo,10))},m=()=>{s==null||s.closeModal()};return e.jsxs(e.Fragment,{children:[g&&e.jsx(Q,{}),e.jsx("div",{className:"container",children:e.jsx("form",{onSubmit:r.handleSubmit,onChange:v,children:e.jsxs("div",{className:"bg-white p-2 ",children:[e.jsxs("div",{className:"grid grid-cols-12 w-full border-b flex border-gray-300",children:[e.jsx("svg",{id:"report_id","data-tooltip-content":"Report problem",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 ml-0 md:ml-3 lg:ml-3  mt-1 text-red-600  ",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("h1",{className:"text-lg text-gray-500 font-semibold mb-2 ml-2",children:"Update"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-12 w-full  ",children:[e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Contact No."}),e.jsx("input",{...r.getFieldProps("contactNo"),type:"text",className:"text-xs appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-2 px-4 mb-3 leading-tight focus:outline-none focus:border-blue-500 focus:bg-white ring-0 "}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.contactNo&&r.errors.contactNo?r.errors.contactNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"AMC Shop No."}),e.jsx("input",{...r.getFieldProps("amcShopNo"),type:"text",className:"appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-2 px-4 mb-3 leading-tight focus:outline-none focus:border-blue-500 focus:bg-white ring-0 "}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.amcShopNo&&r.errors.amcShopNo?r.errors.amcShopNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 -mt-4 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Zone"}),e.jsxs("select",{...r.getFieldProps("zoneId"),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select"}),(y=j==null?void 0:j.circleList)==null?void 0:y.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.circle_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.zoneId&&r.errors.zoneId?r.errors.zoneId:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Rent Type"}),e.jsxs("select",{...r.getFieldProps("rentType"),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select"}),e.jsx("option",{value:"Shop Rent",children:"Shop Rent"}),e.jsx("option",{value:"Plot Rent",children:"Plot Rent"}),e.jsx("option",{value:"Building Rent",children:"Building Rent"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.rentType&&r.errors.rentType?r.errors.rentType:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-12 mb-6 md:px-6",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold w-full",children:"Remark"}),e.jsx("textarea",{name:"remarks",onChange:r.handleChange,value:r.values.remarks,className:"border text-xs  p-2 w-full h-24",placeholder:"Remark..."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.remarks&&r.errors.remarks?r.errors.remarks:null})]})]}),e.jsxs("div",{className:"w-full m-2 text-right",children:[e.jsx("button",{type:"submit",className:"capitalize hover:shadow-md text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 font-medium rounded-md text-xs px-5 py-2 mr-2 mb-2 focus:outline-none max-w-[144px] whitespace-pre-wrap",children:"Save"}),e.jsx("button",{type:"button",className:"capitalize hover:shadow-md text-white bg-red-400 hover:bg-red-600 focus:ring-4 focus:ring-red-300 font-medium rounded-md text-xs px-5 py-2 mr-2 mb-2 focus:outline-none max-w-[144px] whitespace-pre-wrap",onClick:m,children:"Close"})]})]})]})})})]})}function me(s){var w,v;const[g,f]=d.useState(!1);d.useState(!1);const[j,C]=d.useState(),[N,u]=d.useState(),o=_(),p=W({initialValues:{financialYearTo:""},enableReinitialize:!0,onSubmit:(m,y)=>{console.log("values at submit payment",m)}}),r=()=>{s.closeModal()};console.log("master data...2",j);const D=m=>{let y=m.target.name,a=m.target.value;y=="financialYearTo"&&u(a)};return console.log("financial year",N),e.jsxs(e.Fragment,{children:[g&&e.jsxs("p",{className:"text-red-500 text-lg font-bold absolute top-1/2 left-1/2 z-20",children:[" ",ce()]}),e.jsx("div",{className:"  p-4  w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto   overflow-y-auto",children:e.jsxs("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto  ",children:[e.jsx("h1",{className:" text-gray-600 text-lg capitalize",children:"Demand Receipt"}),e.jsx("h1",{className:" text-gray-400 text-sm  mb-4",children:"Seamless Payments: Making transactions effortless."}),e.jsx("div",{className:"border-b"}),e.jsx("div",{className:"flex space-x-8 justify-between mt-4",children:e.jsxs("h1",{className:"mb-2 text-gray-600 px-8 text-lg",children:["Amount - ",e.jsxs("span",{className:"font-semibold text-md text-gray-800",children:["Rs. ",k((w=s.listDetails)==null?void 0:w.pendingAmount)]})]})}),e.jsxs("form",{onSubmit:p.handleSubmit,onChange:D,className:"p-4 relative",children:[e.jsx("div",{className:"grid grid-cols-12",children:e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-12 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Financial Year"]}),e.jsxs("select",{...p.getFieldProps("financialYearTo"),className:"form-control block text-xs w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),(v=s==null?void 0:s.financialYrList)==null?void 0:v.map(m=>e.jsx("option",{value:m==null?void 0:m.id,children:m==null?void 0:m.financialYear}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:p.touched.financialYearTo&&p.errors.financialYearTo?p.errors.financialYearTo:null})]})}),e.jsx("div",{className:"col-span-12  mx-auto mt-10 ",children:e.jsxs("div",{className:"",children:[N!=null&&e.jsx("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:()=>o("/demand-receipt/".concat(s==null?void 0:s.shopId,"/").concat(N)),children:"Demand Receipt"}),e.jsx("button",{type:"submit",className:"ml-4 px-6 py-2.5 bg-red-500 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-red-600 hover:shadow-lg focus:bg-red-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-500 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:r,children:"Cancel"})]})})]})]})})]})}const U={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none",overflowY:"scroll"}};L.setAppElement("#root");function ye(){var E,t;const{api_getShopDetailsById:s}=$(),{id:g}=ae(),f=_();let j="text-md text-[#454646] opacity-80 font-semibold ",C="text-sm text-[#454646] opacity-80 capitalize";const[N,u]=d.useState(!1),[o,p]=d.useState(),[r,D]=d.useState(),[w,v]=d.useState(!1),m=()=>v(!0),y=()=>v(!1),a=()=>{},[b,x]=d.useState(!1),P=()=>x(!0),S=()=>x(!1),I=()=>{},[T,M]=d.useState(!1),n=()=>M(!0),A=()=>M(!1),H=()=>{},B=l=>{console.log("application id in modal",l),m()},O=l=>{console.log("application id in modal",l),n()},V=()=>{P()};d.useEffect(()=>{q()},[g]);const q=()=>{u(!0);let l=s;const i={id:g};console.log("request body category id",i),R.post("".concat(l),i,Y()).then(function(c){console.log("application details by id",c.data.data.fYear),p(c.data.data),D(c.data.data.fYear),u(!1)}).catch(function(c){console.log("errorrr.... ",c),u(!1)})};return e.jsxs(e.Fragment,{children:[N&&e.jsx(Q,{}),e.jsx("div",{className:"h-auto bg-[#FDFCFE] flex flex-row flex-wrap justify-center items-center p-3",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-tl-[44px]  h-full sm:w-1/2 lg:w-1/3 w-full rounded-xl p-2",children:[e.jsxs("div",{className:"bg-[#5846BE] h-28 w-full mx-auto rounded-br-[68px] rounded-tl-[44px]  opacity-90",children:[e.jsxs("div",{className:"p-4 pt-10",children:[e.jsx("h1",{className:"text-gray-50 font-bold capitalize text-2xl",children:"Shop Details"}),e.jsx("h1",{className:"text-gray-50 capitalize text-[12px]",children:"Budgeting Essentials: Shop Rent Payment"})]}),e.jsx("div",{className:"col-span-6 ",children:e.jsx("button",{id:"report_id",className:"float-right bg-amber-400 mt-4 px-2 py-1 border-amber-500 border text-gray-600 text-xs",onClick:V,children:"Update Shop"})})]}),e.jsxs("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5 p-2",children:[e.jsx("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-3 border-b ",children:e.jsxs("h1",{className:"flex space-x-1 text-xl text-[#454646] opacity-80 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),e.jsx("span",{className:" text-[#161717] text-sm",children:"Basic Details"})]})}),(E=o==null?void 0:o.shopDetails)==null?void 0:E.map((l,i)=>e.jsxs("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-2 text-xs ",children:[e.jsxs("label",{className:"".concat(j," mb-2 "),children:[k(l==null?void 0:l.displayString)," -"]}),e.jsx("label",{className:"".concat(C," text-xs"),children:k(l==null?void 0:l.value)})]},i))]}),e.jsxs("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5 p-2 ",children:[e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2 ",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:[" ","Total Demand -",e.jsxs("span",{className:"",children:[" Rs. ",o==null?void 0:o.total]})]})}),e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:["Paid Amount - Rs."," ",e.jsx("span",{className:"",children:o==null?void 0:o.totalPaid})," "]})}),e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:["Pending Amount - Rs."," ",e.jsx("span",{className:"",children:o==null?void 0:o.pendingAmount})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[(o==null?void 0:o.pendingAmount)!=0&&e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{className:"bg-indigo-500 border-2 w-full border-indigo-500 hover:bg-indigo-600 px-2 py-0.5 text-white font-semibold  rounded leading-5 shadow-lg shadow-gray-300 text-xs",onClick:()=>O(g),children:"Demand Receipt"})}),(o==null?void 0:o.pendingAmount)!=0&&e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{className:"bg-green-500 border-2 w-full border-green-500 hover:bg-green-600 px-4 py-0.5 text-white font-semibold  rounded leading-5 shadow-lg shadow-gray-300 text-xs",onClick:()=>B(g),children:"Pay Now"})})]})]}),e.jsx("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5  ",children:e.jsxs("div",{class:"",children:[e.jsx("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-3 border-b ",children:e.jsxs("h1",{className:"flex space-x-1 text-md text-[#454646] opacity-80 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),e.jsx("span",{className:"-mt-1 text-[#161717]",children:"Financial Year Wise Demand"})]})}),e.jsx("div",{class:"overflow-x-auto p-3",children:e.jsxs("table",{class:"w-full table-auto",children:[e.jsx("thead",{class:"bg-indigo-100    text-gray-400 ",children:e.jsxs("tr",{className:"text-xs",children:[e.jsx("th",{class:"",children:e.jsx("div",{class:"text-[#454646] ",children:"#"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Financial Year"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Generated Demand"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Payment Date"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Payment Status"})})]})}),e.jsx("tbody",{class:"",children:(t=o==null?void 0:o.demands)==null?void 0:t.map((l,i)=>e.jsxs("tr",{className:"".concat((l==null?void 0:l.payment_status)==1?"text-green-500  divide-y divide-gray-100":"text-[#454646] divide-y divide-gray-100 text-xs"),children:[e.jsx("td",{class:"p-2",children:e.jsx("div",{class:" text-center text-xs ",children:i+1})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:" text-center text-xs",children:k(l==null?void 0:l.financial_year)})}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"text-center text-xs",children:["Rs. ",k(l==null?void 0:l.amount)]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-center text-xs ",children:k(l==null?void 0:l.payment_date)})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-center text-xs ",children:(l==null?void 0:l.amount)==0?"NA":e.jsx(e.Fragment,{children:(l==null?void 0:l.payment_status)==1?e.jsxs("button",{className:"capitalize border border-indigo-500 text-indigo-500 hover:bg-indigo-500 px-2 py-1 text-xs hover:text-white rounded-md",onClick:()=>f("/shop-receipt/".concat(l==null?void 0:l.tran_id)),children:["View Receipt"," "]}):"Payment pending"})})})]}))})]})})]})})]})}),e.jsx(L,{isOpen:w,onAfterOpen:a,onRequestClose:y,style:U,contentLabel:"Example Modal",children:e.jsx("div",{className:"",style:{width:"auto",height:"170vw"},children:e.jsx("div",{className:"overflow-auto ",children:e.jsx(ie,{listDetails:o,shopId:g,closeModal:y,fetchDetailsByIdFun:q,financialYrList:r})})})}),e.jsx(L,{isOpen:b,onAfterOpen:I,onRequestClose:S,style:U,contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full",style:{height:"50%"},children:e.jsx("div",{className:"h-auto ",children:e.jsx(de,{closeModal:S,shopId:g,fetchDetailsByIdFun:q})})})}),e.jsx(L,{isOpen:T,onAfterOpen:H,onRequestClose:A,style:U,contentLabel:"Example Modal",children:e.jsx("div",{className:"",style:{width:"auto",height:"120vw"},children:e.jsx("div",{className:"overflow-auto ",children:e.jsx(me,{listDetails:o,shopId:g,closeModal:A,fetchDetailsByIdFun:q,financialYrList:r})})})})]})}export{ye as default};
