import{b as qe,f as Le,j as s,Q as t}from"./index-tJbU7ayB.js";import{u as Be,e as Ie,d as Te}from"./router-vSHQYlWC.js";import"./moment-UBOc2Xni.js";import{P as Ke}from"./index-6o85-u81.js";import{O as Ve}from"./OverLayLoader-SI2Aj-ji.js";import{r as c}from"./tailwind-nPCoKmcy.js";import"./reactQuery-xwoMMF6K.js";import"./axios-lPgvryBG.js";import"./reactIcons-jqXmw8S_.js";import"./headlessui-kWR29u24.js";import"./module-iLAV8VkL.js";function Xe(){var m,l,d,N,u,h,x,p,j,v,A,b,M,w,g,y,D,P,f,T,C,R,S,W,k,E,F,q,L,B,I,K,V,_,z,O,$,H,U,Y,J,G,Z,Q,X,ee,se,ne,ie,re,te,oe,ce,ae,me,le,de,Ne,ue,he,xe;const{id:o}=Be(),Ce=Ie(),[i,a]=Te.useState(""),{data:e,isLoading:Re}=qe({api:Le.waterPaymentReceipt,config:{tranId:o},value:[o],options:{enabled:!!o,onSuccess:n=>{var r;a((r=n==null?void 0:n.data)==null?void 0:r.customerMobile)}}}),Se=Te.useCallback(()=>{var r,pe,je,ve,Ae,be,Me,we,ge,ye,De,Pe,fe;return((r=e==null?void 0:e.data)==null?void 0:r.paymentMode)=="Cheque"?"Payment Mode: "+((pe=e==null?void 0:e.data)==null?void 0:pe.paymentMode)+"\nBank Name: "+((je=e==null?void 0:e.data)==null?void 0:je.bankName)+"\nBranch Name: "+((ve=e==null?void 0:e.data)==null?void 0:ve.branchName)+"\nCheque no: "+((Ae=e==null?void 0:e.data)==null?void 0:Ae.chequeNo)+"\nCheque Date: "+((be=e==null?void 0:e.data)==null?void 0:be.chequeDate):((Me=e==null?void 0:e.data)==null?void 0:Me.paymentMode)=="DD"?"Payment Mode: "+((we=e==null?void 0:e.data)==null?void 0:we.paymentMode)+"\nBank Name: "+((ge=e==null?void 0:e.data)==null?void 0:ge.bankName)+"\nBranch Name: "+((ye=e==null?void 0:e.data)==null?void 0:ye.branchName)+"\nDD No: "+((De=e==null?void 0:e.data)==null?void 0:De.chequeNo)+"\nDD Date: "+((Pe=e==null?void 0:e.data)==null?void 0:Pe.chequeDate):"Payment Mode: "+((fe=e==null?void 0:e.data)==null?void 0:fe.paymentMode)},[e==null?void 0:e.data]),We="  "+((m=e==null?void 0:e.data)==null?void 0:m.ulbName)+"\n[C]WATER USER CHARGE\n[C]PAYMENT RECEIPT\n********************************\nTransaction No : "+((l=e==null?void 0:e.data)==null?void 0:l.transactionNo)+"\nReceived From Mr/Mrs/Miss : "+((d=e==null?void 0:e.data)==null?void 0:d.customerName)+"\nDepartment/Section : "+((N=e==null?void 0:e.data)==null?void 0:N.accountDescription)+"\nAccount Description : "+((u=e==null?void 0:e.data)==null?void 0:u.description)+"\nZone : "+((h=e==null?void 0:e.data)==null?void 0:h.zoneName)+"\nWard No : "+((x=e==null?void 0:e.data)==null?void 0:x.WardNo)+"\nConsumer No: "+((p=e==null?void 0:e.data)==null?void 0:p.consumerNo)+"\nDate : "+((j=e==null?void 0:e.data)==null?void 0:j.transactionDate)+"\nTransaction Time : "+((v=e==null?void 0:e.data)==null?void 0:v.transactionTime)+"\nMobile No : "+((A=e==null?void 0:e.data)==null?void 0:A.customerMobile)+"\nAddress : "+((b=e==null?void 0:e.data)==null?void 0:b.address)+"\nSession : "+((M=e==null?void 0:e.data)==null?void 0:M.session)+"\nPenalty : "+Math.round((w=e==null?void 0:e.data)==null?void 0:w.penaltyAmount).toFixed(2)+"\nAdvance Amount : "+Math.round((g=e==null?void 0:e.data)==null?void 0:g.advancePaidAmount).toFixed(2)+"\nAdjust Amount : "+Math.round((y=e==null?void 0:e.data)==null?void 0:y.adjustAmount).toFixed(2)+"\nDue Amount : "+Math.round((D=e==null?void 0:e.data)==null?void 0:D.dueAmount).toFixed(2)+"\nPaid Amount : "+Math.round((P=e==null?void 0:e.data)==null?void 0:P.totalPaidAmount).toFixed(2)+"\n(in words) :"+((f=e==null?void 0:e.data)==null?void 0:f.paidAmtInWords)+"\nTowards : "+((T=e==null?void 0:e.data)==null?void 0:T.towards)+"\n"+Se()+"\nWater Consumed (in K.L.) : "+((C=e==null?void 0:e.data)==null?void 0:C.waterConsumed)+"\nLast Meter Reading (in K.L.) : "+((R=e==null?void 0:e.data)==null?void 0:R.unitConsumed)+"\n********************************\nTc Name : "+((S=e==null?void 0:e.data)==null?void 0:S.empName)+"\nTc Mobile No. : "+((W=e==null?void 0:e.data)==null?void 0:W.empMobile)+"\n[C]Thank You!\n[C]For More Details Please\n[C]Visit: "+((k=e==null?void 0:e.data)==null?void 0:k.currentWebSite)+"\n********************************\n",ke=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:We}}))},Ee=()=>{var n;if(i=="")return t.error("Please enter mobile number");if(i.length<10)return t.error("Please enter valid mobile number");window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"SHARE_LINK_WHATSAPP",keyData:{data:"".concat(window.location.origin,"/citizen/waterUserReceiptDirect/").concat((n=e==null?void 0:e.data)==null?void 0:n.transactionNo),target:"91".concat(i)}}))},Fe=()=>{var n;if(i=="")return t.error("Please enter mobile number");if(i.length<10)return t.error("Please enter valid mobile number");window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"SHARE_LINK_TEXT",keyData:{data:"".concat(window.location.origin,"/citizen/waterUserReceiptDirect/").concat((n=e==null?void 0:e.data)==null?void 0:n.transactionNo),target:"91".concat(i)}}))};return s.jsxs(Ke,{title:"Payment Receipt",children:[Re&&s.jsx(Ve,{}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex flex-col justify-between items-center",children:[s.jsx(c.Input,{value:i,placeholder:"Enter Mobile Number",type:"number",onChange:n=>a(n.target.value),onInput:n=>{n.target.value=Math.max(0,parseInt(n.target.value)).toString().slice(0,10)}}),s.jsxs("div",{className:"flex justify-center items-center mt-3 gap-4",children:[s.jsx(c.Button,{size:"sm",color:"green",onClick:()=>Ee(),children:s.jsx("small",{children:"Share on Whatsapp"})}),s.jsx(c.Button,{size:"sm",color:"blue",onClick:()=>Fe(),children:s.jsx("small",{children:"Share on SMS"})})]})]}),s.jsx("div",{className:" border-dashed text-[14px]  bg-white text-gray-700  border-2 font-Lato  w-full p-3  mt-4 border-gray-700 ",children:s.jsx("div",{className:" text-justify font-poppins ",children:s.jsxs("div",{className:" text-gray-700  text-xs",children:[s.jsx("div",{className:"text-center",children:s.jsx("img",{src:"/amc_icon.png",className:"w-12 mx-auto",alt:"Akola Municipal Corporation",loading:"lazy"})}),s.jsx("div",{className:"text-center  font-semibold uppercase",children:((E=e==null?void 0:e.data)==null?void 0:E.ulbName)||"NA"}),s.jsx("div",{className:"text-center text-xs",children:"WATER USER CHARGE"}),s.jsx("div",{className:"text-center text-xs",children:"PAYMENT RECEIPT"}),s.jsxs("div",{className:"mt-4",children:["Transaction No : ",((F=e==null?void 0:e.data)==null?void 0:F.transactionNo)||"NA"]}),s.jsxs("div",{className:"",children:["Received From Mr/Mrs/Miss : ",((q=e==null?void 0:e.data)==null?void 0:q.customerName)||"NA"]}),s.jsxs("div",{className:"",children:["Department/Section : ",((L=e==null?void 0:e.data)==null?void 0:L.accountDescription)||"NA"]}),s.jsxs("div",{className:"",children:["Account Description : ",((B=e==null?void 0:e.data)==null?void 0:B.description)||"NA"]}),s.jsxs("div",{className:"",children:["Zone : ",((I=e==null?void 0:e.data)==null?void 0:I.zoneName)||"NA"]}),s.jsxs("div",{className:"",children:["Ward No : ",((K=e==null?void 0:e.data)==null?void 0:K.WardNo)||"NA"]}),s.jsxs("div",{className:"",children:["Consumer No: ",(V=e==null?void 0:e.data)==null?void 0:V.consumerNo]}),s.jsxs("div",{className:"",children:["Date : ",(_=e==null?void 0:e.data)==null?void 0:_.transactionDate]}),s.jsxs("div",{className:"",children:["Transaction Time : ",(z=e==null?void 0:e.data)==null?void 0:z.transactionTime]}),s.jsxs("div",{className:"",children:["Mobile No : ",((O=e==null?void 0:e.data)==null?void 0:O.customerMobile)||"NA"]}),s.jsxs("div",{className:"",children:["Address : ",($=e==null?void 0:e.data)==null?void 0:$.address]}),s.jsxs("div",{className:"w-80",children:["Session : ",((H=e==null?void 0:e.data)==null?void 0:H.session)||"NA"]}),s.jsxs("div",{className:"",children:["Penalty :"," ",Math.round((U=e==null?void 0:e.data)==null?void 0:U.penaltyAmount).toFixed(2)||"NA"]}),s.jsxs("div",{className:"",children:["Advance Amount :"," ",Math.round((Y=e==null?void 0:e.data)==null?void 0:Y.advancePaidAmount).toFixed(2)||"NA"]}),s.jsxs("div",{className:"",children:["Adjust Amount :"," ",Math.round((J=e==null?void 0:e.data)==null?void 0:J.adjustAmount).toFixed(2)||"NA"]}),s.jsxs("div",{className:"",children:["Paid Amount :"," ",Math.round((G=e==null?void 0:e.data)==null?void 0:G.totalPaidAmount).toFixed(2)||"NA"]}),s.jsxs("div",{className:"",children:["(in words) :",((Z=e==null?void 0:e.data)==null?void 0:Z.paidAmtInWords)||"NA"]}),s.jsxs("div",{className:"",children:["Due Amount :"," ",Math.round((Q=e==null?void 0:e.data)==null?void 0:Q.dueAmount).toFixed(2)||"NA"]}),s.jsxs("div",{className:"",children:["Towards :"," ",(X=e==null?void 0:e.data)==null?void 0:X.towards]}),s.jsxs("div",{className:"",children:["Vide : ",(ee=e==null?void 0:e.data)==null?void 0:ee.paymentMode]}),s.jsxs("div",{className:"w-80",children:["Water Consumed (in K.L.) : ",((se=e==null?void 0:e.data)==null?void 0:se.waterConsumed)||"NA"]}),s.jsxs("div",{className:"w-80",children:["Last Meter Reading (in K.L.) :"," ",((ne=e==null?void 0:e.data)==null?void 0:ne.unitConsumed)||"NA"]}),((ie=e==null?void 0:e.data)==null?void 0:ie.paymentMode)=="Cheque"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"",children:["Bank name : ",((re=e==null?void 0:e.data)==null?void 0:re.bankName)||"NA"]}),s.jsxs("div",{className:"",children:["Branch name : ",((te=e==null?void 0:e.data)==null?void 0:te.branchName)||"NA"]}),s.jsxs("div",{className:"",children:["Cheque no. : ",((oe=e==null?void 0:e.data)==null?void 0:oe.chequeNo)||"NA"]}),s.jsxs("div",{className:"",children:["Cheque date : ",((ce=e==null?void 0:e.data)==null?void 0:ce.chequeDate)||"NA"]})]}),((ae=e==null?void 0:e.data)==null?void 0:ae.paymentMode)=="DD"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"",children:["Bank name : ",((me=e==null?void 0:e.data)==null?void 0:me.bank_name)||"NA"]}),s.jsxs("div",{className:"",children:["Branch name : ",((le=e==null?void 0:e.data)==null?void 0:le.branchName)||"NA"]}),s.jsxs("div",{className:"",children:["DD No. : ",((de=e==null?void 0:e.data)==null?void 0:de.chequeNo)||"NA"]}),s.jsxs("div",{className:"",children:["DD Date : ",((Ne=e==null?void 0:e.data)==null?void 0:Ne.chequeDate)||"NA"]})]}),s.jsx("div",{className:"text-center mt-2",children:"****************************************************"}),s.jsxs("div",{className:"",children:["Tc Name : ",(ue=e==null?void 0:e.data)==null?void 0:ue.empName]}),s.jsxs("div",{className:"",children:["Tc Mobile No. : ",(he=e==null?void 0:e.data)==null?void 0:he.empMobile]}),s.jsx("div",{className:"text-center font-semibold capitalize mt-6",children:"Thank You!"}),s.jsx("div",{className:"text-center font-semibold  ",children:"For More Details Please"}),s.jsxs("div",{className:"text-center font-semibold  ",children:["Visit: ",((xe=e==null?void 0:e.data)==null?void 0:xe.currentWebSite)||"NA"]})]})})}),s.jsxs("div",{className:"text-center mt-4 flex justify-center items-center gap-4",children:[s.jsx("button",{className:"bg-blue-500 text-white px-4 py-1 rounded-md",onClick:()=>Ce("/amc-app/water/search-consumer"),children:"Search Consumer"}),s.jsx("button",{className:"bg-blue-500 text-white px-4 py-1 rounded-md",onClick:()=>{var n;ke(),console.log((n=e.data)==null?void 0:n.receiptDtls)},children:"Print"})]})]})]})}export{Xe as default};
