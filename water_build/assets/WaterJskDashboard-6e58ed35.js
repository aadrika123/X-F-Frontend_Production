import{x as H,l as d,W as L,z as D,B as h,D as W,m as v,j as e,h as P,k as r,o as p,E as _,H as k,L as $,q as S,A as C}from"./index-69a925d9.js";function F(){const{t:a}=H(),[s,g]=d.useState(),[c,n]=d.useState(!1),[u,i]=d.useState(!1),{api_WaterListDetailsById:f,header:q}=L(),x=D({fromData:h().required("This is a required field !"),toData:h().required("This is a required field !")}),l=W({initialValues:{fromData:"",toData:""},onSubmit:t=>{w(t)},validationSchema:x}),y=v(),w=t=>{i(!0),n(!1);const m={fromDate:t.fromData,toDate:t.toData};console.log("before fetch applied application..",m),S.post(f,m,C()).then(o=>{var b;console.log("this ====applied application. in ...",o==null?void 0:o.data),g((b=o==null?void 0:o.data)==null?void 0:b.data),n(!0),i(!1)}).catch(o=>{console.log("Error while fetching Filter Data",o),n(!1),i(!1)})},N=[{Header:`${a("tranWaterHomePage.wardNoLabel.label")}`,accessor:"ward_name"},{Header:`${a("tranWaterHomePage.UlbNameLabel.label")}`,accessor:"ulb_name"},{Header:`${a("tranWaterHomePage.applicationNoLabel.label")}`,accessor:"application_no"},{Header:`${a("tranWaterHomePage.holdingNoLabel.label")}`,accessor:"holding_no"},{Header:`${a("tranWaterHomePage.applyDateLabel.label")}`,accessor:"apply_date",Cell:({cell:t})=>e("span",{children:P(t.row.original.apply_date).format("DD-MM-YYYY")})},{Header:`${a("tranWaterHomePage.paymentLabel.label")}`,accessor:"all_payment_status",Cell:({cell:t})=>r(p,{children:[e("span",{children:t.row.original.all_payment_status==!0&&e("p",{className:"mx-5 text-center bg-green-500 text-white font-semibold rounded",children:a("tranWaterHomePage.paidLabel.label")})}),e("span",{children:t.row.original.all_payment_status==!1&&e("p",{className:"mx-5 px-2 text-center bg-red-500 text-white font-semibold rounded",children:a("tranWaterHomePage.unpaidLabel.label")})})]})},{Header:`${a("tranWaterHomePage.paymentLabel.label")}`,accessor:"address"},{Header:`${a("tranWaterHomePage.actionLabel.label")}`,accessor:"id",Cell:({cell:t})=>e("button",{onClick:()=>y(`/waterViewApplication/${t.row.original.id}`),className:"bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:a("tranWaterHomePage.viewApplicationLabel.label")})}];return r(p,{children:[u&&e(_,{}),r("div",{className:"border shadow-xl bg-white mt-6",children:[e("form",{onSubmit:l.handleSubmit,children:r("div",{className:"flex justify-center space-x-8 my-5 m-10",children:[r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[a("tranWaterHomePage.fromDateLabel.label"),e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"date",name:"fromData",onChange:l.handleChange,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:l.touched.fromData&&l.errors.fromData?l.errors.fromData:null})]}),r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[a("tranWaterHomePage.toDateLabel.label"),e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"date",name:"toData",onChange:l.handleChange,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:l.touched.toData&&l.errors.toData?l.errors.toData:null})]}),e("div",{className:"mt-4",children:e("button",{type:"submit",className:"w-full border border-indigo-600 bg-indigo-600 hover:bg-indigo-100 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:r("p",{className:"flex",children:[r("span",{className:"mt-1 mr-2 my-2",children:[e(k,{})," "]}),a("tranWaterHomePage.searchRecordLabel.label")]})})})]})}),r("div",{className:"m-10",children:[c&&(s==null?void 0:s.length)!=0&&e($,{columns:N,dataList:s}),c&&(s==null?void 0:s.length)==0&&e("div",{className:"text-xl font-semibold text-red-400 text-center",children:a("tranWaterHomePage.dataNotFoundLabel.label")})]})]})]})}export{F as default};
