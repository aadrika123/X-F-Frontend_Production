import{v as z,m as O,j as t,o as v,k as a,O as Y,l as d,y as U,z as G,W as J,B as K,D as p,E as X,q as Q,G as V,a2 as Z,x as D,A as F}from"./index-b1395f06.js";function ee(){const{id:o}=z();console.log("param document",o);const b=O();return t(v,{children:t("div",{className:"bg-gray-200   h-screen",children:t("div",{className:" w-2/6 mx-auto  bg-white p-12",children:a("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-1 mx-auto ",children:[t("div",{children:t("img",{src:"https://cdn-icons-png.flaticon.com/512/2169/2169862.png",className:"h-40 mx-auto"})}),t("div",{className:"ml-32 -mt-10",children:t("img",{src:"https://cdn-icons-png.flaticon.com/512/5610/5610944.png",className:"h-12 mx-auto opacity-75"})}),t("div",{children:t("h1",{className:"text-center text-2xl text-gray-600",children:"Payment Successful"})}),t("div",{children:a("h1",{className:"text-center text-sm text-gray-500",children:["Your payment is  successful!",t("br",{})," Now you upload your Document"]})}),a("div",{className:"mx-auto flex flex-row space-x-4",children:[t("button",{className:"w-32 text-xs p-3 mt-10 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-sky-400 rounded-md hover:bg-sky-600 focus:outline-none focus:bg-sky-600",onClick:()=>b(`/safdocumentupload/${o}`),children:"Upload Document"}),t("button",{className:"w-32 text-xs mt-10 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-sky-400 rounded-md hover:bg-sky-600 focus:outline-none focus:bg-sky-600",onClick:()=>b("/dashboardEntry"),children:"Dashboard"})]})]})})})})}Y.setAppElement("#root");function te(o){const[b,H]=d.useState(""),[x,e]=d.useState("no");d.useState();const[w,B]=d.useState(),[R,L]=d.useState(0),[T,m]=d.useState();d.useState();const[k,h]=d.useState(!1),{notify:g}=d.useContext(U);d.useState(!1),d.useState(!1);const _=O(),c=o==null?void 0:o.data,i=o==null?void 0:o.installment,S=o==null?void 0:o.applicationId,I=o==null?void 0:o.connCat,u=o==null?void 0:o.amount;G("Payment Page");const{api_waterPayConnectionCharges:C,header:A}=J(),P=K({paymentMode:p().required("select payment mode"),remarks:p().required("Enter remarks"),branchName:p(),cheque_dd_no:p(),cheque_dd_date:p()}),n=X({enableReinitialize:!0,initialValues:{paymentMode:"",remarks:"",bankName:"",branchName:"",cheque_dd_no:"",cheque_dd_date:"",applicationId:S,chargeCategory:I,selectInstallment:"",isInstallmentRadio:"no"},onSubmit:(s,r)=>{q(s),h(!0)},validationSchema:P}),q=s=>{console.log("items",s);const r={paymentMode:s==null?void 0:s.paymentMode,remarks:s==null?void 0:s.remarks,bankName:s==null?void 0:s.bankName,branchName:s==null?void 0:s.branchName,chequeNo:s==null?void 0:s.cheque_dd_no,chequeDate:s==null?void 0:s.cheque_dd_date,amount:u,isInstallment:x,penaltyAmount:c==null?void 0:c.penalty,applicationId:s==null?void 0:s.applicationId,penaltyIds:T,chargeCategory:s==null?void 0:s.chargeCategory};console.log("Final Payload",r),Q.post(C,r,A).then(l=>{var f,y,N;((f=l==null?void 0:l.data)==null?void 0:f.status)==!0?(h(!1),_(`/water-payment-receipt/${(N=(y=l==null?void 0:l.data)==null?void 0:y.data)==null?void 0:N.tranNo}/application`),console.log("Payment Done",l),g("Payment Done Successfully","success")):(h(!1),g("Error While Payment","error"))}).catch(l=>{h(!1),g("Something Went Wrong","error"),console.log("Expecption while payment",l)})},E=s=>{console.log("This..",s.target.selectedIndex,i[0].id),s.target.selectedIndex==1&&m([i[0].id]),s.target.selectedIndex==2&&m([i[0].id,i[1].id]),s.target.selectedIndex==3&&(m([i[0].id,i[1].id,i[2].id]),e("no"),m(void 0))},M=s=>{let r=s.target.name,l=s.target.value;console.log(r,l),r=="paymentMode"&&B(l),r=="selectInstallment"&&E(s),r=="selectInstallment"&&s.target.selectedIndex==3&&e("no"),r=="selectInstallment"&&L(Number(l)),r=="isInstallmentRadio"&&e(s.target.value)};return b==!0?t(v,{children:t(ee,{})}):(console.log("connId",o.connId),a(v,{children:[k&&t(V,{}),t(Z,{position:"top-right",autoClose:2e3}),t("div",{className:" block p-4 mt-4 w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto  overflow-x-auto mb-20 ",children:t("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto ",children:a("form",{onSubmit:n.handleSubmit,onChange:M,className:"p-4 relative",children:[(c==null?void 0:c.chargeCatagoryId)===2&&(c==null?void 0:c.paidStatus)==0&&t("div",{className:"text-center text-green-600 font-semibold pb-2",children:"Note: 10% rebate on penalty in case whole penalty is paid"}),a("div",{className:"grid grid-cols-12",children:[a("div",{className:"bg-white col-span-12 grid grid-cols-12 pt-6 mb-4 border border-gray-200",children:[a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("span",{children:"Connection Fee :"})," ",t("span",{className:"font-mono font-semibold",children:u})]}),t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:a("div",{className:"w-full",children:[t("span",{children:"Total Payable Amount :"})," ",a("span",{className:"font-mono font-semibold text-xl",children:[" â‚¹",u]})]})})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[t("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),a("select",{...n.getFieldProps("paymentMode"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[t("option",{value:"",children:"Select"}),t("option",{value:"CASH",children:"Cash"}),t("option",{value:"CHEQUE",children:"Cheque"}),t("option",{value:"DD",children:"DD"})]}),t("span",{className:"text-red-600 absolute text-xs",children:n.touched.paymentMode&&n.errors.paymentMode?n.errors.paymentMode:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[t("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Remarks"]}),t("input",{...n.getFieldProps("remarks"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter remarks"}),t("span",{className:"text-red-600 absolute text-xs",children:n.touched.remarks&&n.errors.remarks?n.errors.remarks:null})]}),(w=="CHEQUE"||w=="DD")&&a(v,{children:[a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[t("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),t("input",{...n.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter Bank Name."}),t("span",{className:"text-red-600 absolute text-xs",children:n.touched.bankName&&n.errors.bankName?n.errors.bankName:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[t("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),t("input",{...n.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter Branch Name"}),t("span",{className:"text-red-600 absolute text-xs",children:n.touched.branchName&&n.errors.branchName?n.errors.branchName:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[t("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No"]}),t("input",{...n.getFieldProps("cheque_dd_no"),type:"text",placeholder:"Enter Check/DD",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),t("span",{className:"text-red-600 absolute text-xs",children:n.touched.cheque_dd_no&&n.errors.cheque_dd_no?n.errors.cheque_dd_no:null})]}),a("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[a("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[t("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD Date"]}),t("input",{...n.getFieldProps("cheque_dd_date"),type:"date",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no."}),t("span",{className:"text-red-600 absolute text-xs",children:n.touched.cheque_dd_date&&n.errors.cheque_dd_date?n.errors.cheque_dd_date:null})]})]}),t("div",{className:"col-span-12"}),t("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:t("div",{className:""})})]}),t("div",{className:"md:pl-10 flex justify-between",children:t("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer ml-[80%]",children:"Pay Tax"})})]})})})]}))}function ae(o){var m,k,h,g,_,c,i,S,I,u,C,A,P,n,q,E,M,s,r,l,f,y,N,$,j;const{t:b}=D(),[H,x]=d.useState(!1),[e,w]=d.useState(),{id:B}=z(),{notify:R}=d.useContext(U),{api_WaterGetDetailsById:L}=J();G(`${b("tranWaterHomePage.waterApplicationPaymentLabel.label")}`);const T=()=>{x(!0),console.log("before fetch property details in deactivation"),Q.post(L,{applicationId:B},F()).then(function(W){console.log("view water details by id...",W.data.data),w(W.data.data),x(!1)}).catch(function(W){console.log("==2 details by id error...",W),x(!1),R("Something Went Wrong","error")})};return d.useEffect(()=>{T()},[]),console.log("applicationFullData?.applicationDetails",(m=e==null?void 0:e.applicationDetails)==null?void 0:m.connection_type_id),a(v,{children:[H&&t(V,{}),t("div",{className:"w-full bg-white shadow-xl mb-6",children:t("div",{className:"",children:a("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[a("div",{className:"flex space-x-5 pl-4 ",children:[a("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(k=e==null?void 0:e.applicationDetails)!=null&&k.application_no?(h=e==null?void 0:e.applicationDetails)==null?void 0:h.application_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Application No"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(g=e==null?void 0:e.applicationDetails)!=null&&g.category?(_=e==null?void 0:e.applicationDetails)==null?void 0:_.category:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Category"})]}),a("div",{className:"flex-1",children:[a("div",{className:"font-semibold text-md",children:[(c=e==null?void 0:e.applicationDetails)!=null&&c.address?(i=e==null?void 0:e.applicationDetails)==null?void 0:i.address:"N/A"," "]}),t("div",{className:"text-gray-500 text-xs",children:"Address"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(S=e==null?void 0:e.applicationDetails)!=null&&S.charge_category?(I=e==null?void 0:e.applicationDetails)==null?void 0:I.charge_category:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Charge Category"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(u=e==null?void 0:e.applicationDetails)!=null&&u.property_no?(C=e==null?void 0:e.applicationDetails)==null?void 0:C.property_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Property No"})]})]}),a("div",{className:"flex space-x-10  pl-4 mt-4",children:[a("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(A=e==null?void 0:e.applicationDetails)!=null&&A.mobile_no?(P=e==null?void 0:e.applicationDetails)==null?void 0:P.mobile_no:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Mobile No"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-bold text-sm",children:(n=e==null?void 0:e.applicationDetails)!=null&&n.apply_date?(q=e==null?void 0:e.applicationDetails)==null?void 0:q.apply_date:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Apply Date"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(E=e==null?void 0:e.applicationDetails)!=null&&E.landmark?(M=e==null?void 0:e.applicationDetails)==null?void 0:M.landmark:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Land Mark"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(s=e==null?void 0:e.applicationDetails)!=null&&s.amount?(r=e==null?void 0:e.applicationDetails)==null?void 0:r.amount:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Amount"})]}),a("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:(l=e==null?void 0:e.applicationDetails)!=null&&l.building_type?(f=e==null?void 0:e.applicationDetails)==null?void 0:f.building_type:"N/A"}),t("div",{className:"text-gray-500 text-xs",children:"Building Type"})]})]})]})})}),t("div",{children:t(te,{amount:(y=e==null?void 0:e.applicationDetails)==null?void 0:y.amount,connId:(N=e==null?void 0:e.applicationDetails)==null?void 0:N.connection_type_id,connCat:($=e==null?void 0:e.applicationDetails)==null?void 0:$.connection_type,applicationId:(j=e==null?void 0:e.applicationDetails)==null?void 0:j.id,installment:e==null?void 0:e.penaltyInstallments,data:e==null?void 0:e.calculation})}),t("div",{className:"w-full h-40 md:none"})]})}export{ae as default};
