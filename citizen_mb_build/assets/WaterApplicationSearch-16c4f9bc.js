import{r as n,a as B,d as A,f as g,g as C,j as t,F as s,b as a,E as F}from"./index-d9bca912.js";import{R as D}from"./index.esm-57a653c8.js";import{W as _}from"./WaterApiList-bd6e828c.js";import k from"./CommonLoader-2369cf46.js";import"./iconBase-4a04727f.js";import"./BeatLoader-5bf36329.js";function $(){const[m,i]=n.useState(),[b,d]=n.useState(!1),[c,u]=n.useState();n.useState();const{api_waterSearchActiveApplication:f,header:y}=_(),v=B(),N=e=>{d(!0);const o={filterBy:l.values.filterBy,applicationNo:l.values.parameter};console.log("payload...",o),F.post(f,o,y).then(r=>{var h,x,p;console.log("search application water list",(h=r==null?void 0:r.data)==null?void 0:h.data),(x=r==null?void 0:r.data)!=null&&x.status&&u((p=r==null?void 0:r.data)==null?void 0:p.data),d(!1)}).catch(r=>{console.log("Error while fetching Filter Data",r),d(!1)})},w=A({filterBy:g().required("This is a required field !"),parameter:g().required("This is a required field !")}),l=C({initialValues:{filterBy:"",parameter:""},onSubmit:e=>{N()},validationSchema:w}),S=e=>{l.values.filterBy=e.target.value,e.target.value=="holdingNo"&&i("Holding No"),e.target.value=="ownerDetails"&&i("Owner Details"),e.target.value=="address"&&i("Address")};return t(s,{children:[b&&a(k,{}),a("div",{className:"text-center font-bold text-gray-700 text-lg border-b-2 border-gray-700 mx-4 mb-4",children:a("p",{children:"  Search Water Application "})}),t("div",{className:"mt-6",children:[a("div",{className:"flex ml-5 mt-2 "}),a("form",{onSubmit:l.handleSubmit,children:t("div",{className:"justify-center my-5 m-10",children:[t("div",{children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",a("span",{className:"text-red-500",children:"*"})]}),t("select",{name:"filterBy",onChange:S,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[a("option",{value:"",children:"Select"}),a("option",{value:"newConnection",children:"New Connection"}),a("option",{value:"regularization",children:"Regularization"})]}),a("p",{className:"text-red-500 text-xs",children:l.touched.filterBy&&l.errors.filterBy?l.errors.filterBy:null})]}),t("div",{children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By ",m," ",a("span",{className:"text-red-500",children:"*"})]}),a("input",{type:"text",name:"parameter",onChange:l.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),a("p",{className:"text-red-500 text-xs",children:l.touched.parameter&&l.errors.parameter?l.errors.parameter:null})]}),a("div",{className:"mt-4",children:a("button",{type:"submit",className:"w-full border border-indigo-600 bg-indigo-600 hover:bg-indigo-700 text-gray-200 hover:text-white shadow-lg rounded-sm text-base font-semibold  py-1",children:t("p",{className:"flex justify-center",children:[" ",t("span",{className:"mt-1 mx-2",children:[" ",a(D,{})," "]})," Search record "]})})})]})}),a("div",{className:"mt-10 mx-4",children:c?t("div",{className:"w-full relative bg-indigo-50 shadow-md  rounded-sm pb-2 border-2 border-indigo-600 mb-4 select-none cursor-pointer",children:[a("div",{className:"font-semibold bg-indigo-600 px-4 text-white",children:"Application Details"}),a("div",{className:"w-full rounded-lg space-b-2",children:a("div",{className:"",children:c&&c.map((e,o)=>t("div",{children:[t("div",{className:"w-full md:w-[40%] grid grid-cols-12 p-4",children:[t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Application No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.application_no})]}),(e==null?void 0:e.holding_no)&&t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Holding No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.holding_no})]}),(e==null?void 0:e.saf_no)&&t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Saf No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.saf_no})]}),t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Applicant Name"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.applicantname})]}),t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Guardian Name"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.guardian_name})]}),t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Mobile No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.mobileno})]}),t(s,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Address"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.address})]})]},o),a("div",{className:"float-right -mt-4 -pl-1",children:a("button",{type:"button",onClick:()=>v(`/water-application-view/${e==null?void 0:e.id}`),className:"px-3 mt-1 rounded-l-sm -mr-0.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm",children:"Click to View"})})]}))})})]}):a("div",{})})]})]})}export{$ as default};
