import{r as d,d as Be,f as $,l as Se,m as Oe,g as Ee,b as a,F as c,j as t,o as Ve,A as Pe,h as Ue,P as Re,c as He,M as Ba,R as Va,a as Ea,u as Wa,k as Ha}from"./index-d9bca912.js";import Pa from"./CommonLoader-2369cf46.js";import{g as we,i as Y,a as We}from"./PowerupFunctions-c5e50f78.js";import{a as Oa}from"./index.esm-499d739c.js";import{T as Ra}from"./index.esm-0507fc7f.js";/* empty css                */import{I as Ya}from"./index.esm-38811752.js";import"./GeoIndex-65070ec4.js";import{S as Ua}from"./SubmissionScreen-a1e73b7f.js";import Ma from"./ForwardScreen-4f38fb65.js";import{u as ja}from"./useSetTitle-9398f5a8.js";import"./BeatLoader-5bf36329.js";import"./iconBase-4a04727f.js";import"./full.esm-5ee12d0c.js";import"./Blocks-bc37b01b.js";const qa=e=>{var U,G,J,O;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[v,_]=d.useState([]),[y,C]=d.useState([]),[I,i]=d.useState(),[o,L]=d.useState(!1),[S,s]=d.useState(),[q,x]=d.useState("translate-y-0 top-[100px]"),h=d.useRef(null),k=d.useRef(null),Q=d.useRef(null),m=d.useRef(null),f=Be({floorNo:$().required("Select floor no.").max(50,"Enter maximum 50 characters"),useType:$().required("Select use type"),occupancyType:$().required("Select occupancy type"),constructionType:$().required("Select construction type"),buildupArea:$().required("Enter builtup Area"),dateFrom:Se().max(we(),"not valid").required("Select from date"),dateUpto:Se().max(we(),"not valid").min(Oe("dateFrom"),"not valid")}),g=Ee({initialValues:{floorNo:"",useType:"",occupancyType:"",constructionType:"",buildupArea:"",dateFrom:"",dateUpto:""},onSubmit:(r,b)=>{if(o){M(),b();return}let l=[...v,r];_([...v,r]),console.log("tempfloor list before add.....",l);let B=[...y,I];console.log("tempfloor preview list before add.....",B),C([...y,I]),D()},validationSchema:f});d.useEffect(()=>{(v==null?void 0:v.length)==0&&(e==null?void 0:e.safType)!="re"&&(e==null?void 0:e.safType)!="mu"&&(e==null?void 0:e.safType)!="bo-edit"&&x("translate-y-0 top-[100px]")},[]),d.useEffect(()=>{W()},[e==null?void 0:e.preData]);const W=()=>{if(console.log("inside feed floor dat.."),(e==null?void 0:e.preData.length)!=0){console.log("inside lenght >0..");let r=e==null?void 0:e.preData.map(l=>({floorNo:l==null?void 0:l.floorNo,useType:l==null?void 0:l.useType,occupancyType:l==null?void 0:l.occupancyType,constructionType:l==null?void 0:l.constructionType,buildupArea:l==null?void 0:l.buildupArea,dateFrom:l==null?void 0:l.dateFrom,dateUpto:l==null?void 0:l.dateUpto})),b=e==null?void 0:e.preData.map(l=>({floorNo:l==null?void 0:l.floorNo,useType:l==null?void 0:l.useType,occupancyType:l==null?void 0:l.occupancyType,constructionType:l==null?void 0:l.constructionType,buildupArea:l==null?void 0:l.buildupArea,dateFrom:l==null?void 0:l.dateFrom,dateUpto:l==null?void 0:l.dateUpto}));console.log("owner make...",r),_(r),C(b)}},M=()=>{let r=[...v];r[S]=g.values;let b=[...y];b[S].floorNo=h.current.options[h.current.selectedIndex].innerHTML,b[S].useType=k.current.options[k.current.selectedIndex].innerHTML,b[S].occupancyType=Q.current.options[Q.current.selectedIndex].innerHTML,b[S].constructionType=m.current.options[m.current.selectedIndex].innerHTML,b[S].buildupArea=g.values.buildupArea,b[S].dateFrom=g.values.dateFrom,b[S].dateUpto=g.values.dateUpto,_(r),C(b),L(!1),D()},D=()=>{console.log("inside toggelg form"),x(q==="translate-y-0 top-[100px]"?"-translate-y-full -top-[400px]":"translate-y-0 top-[100px]")};console.log("floor list ",v);const j=r=>{_(b=>b.filter((l,B)=>B!=r)),C(b=>b.filter((l,B)=>B!=r))};d.useEffect(()=>{},[v,y]);const H=r=>{L(!0),s(r);let b=[...v];g.resetForm(),g.initialValues.floorNo=b[r].floorNo,g.initialValues.useType=b[r].useType,g.initialValues.occupancyType=b[r].occupancyType,g.initialValues.constructionType=b[r].constructionType,g.initialValues.buildupArea=b[r].buildupArea,g.initialValues.dateFrom=b[r].dateFrom,g.initialValues.dateUpto=b[r].dateUpto,D()},X=()=>{console.log("inside checkmin floor"),e.collectData("addFloor",v),e.next()},z=r=>{let b=r.target.name,l=r.target.value;b=="buildupArea"&&g.setFieldValue("buildupArea",We(l,g.values.buildupArea,20)),r.target.type=="select-one"?i({...I,[b]:r.target[r.target.selectedIndex].text}):i({...I,[b]:l})};return d.useEffect(()=>{D()},[]),a(c,{children:t("div",{children:[a("div",{className:`${q} fixed transition-all block md:w-full w-[90%] top-0 z-50 rounded-md`,children:a("form",{onSubmit:g.handleSubmit,onChange:z,children:a("div",{className:"grid grid-cols-12",children:t("div",{className:"col-span-12 grid grid-cols-12 bg-white relative shadow-xl",children:[a("button",{type:"button",onClick:()=>{L(!1),D()},children:a(Ra,{className:"absolute top-0 right-0 text-red-500 text-3xl hover:scale-125"})}),t("div",{className:"grid col-span-12 grid-cols-12 rounded-md bg-indigo-50 p-4",children:[t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold ",children:["Floor No",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:h,...g.getFieldProps("floorNo"),className:"cypress_floor_no form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md","aria-describedby":"emailHelp",children:[a("option",{children:"SELECT"}),(U=e==null?void 0:e.floorList)==null?void 0:U.map(r=>a("option",{value:r.id,children:r.floor_name},`floorName${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.floorNo&&g.errors.floorNo?g.errors.floorNo:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Usage Type",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:k,...g.getFieldProps("useType"),className:"cypress_usage_type form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[a("option",{children:"SELECT"}),(G=e==null?void 0:e.usageList)==null?void 0:G.map(r=>a("option",{value:r.id,children:r.usage_type},`usageType${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.useType&&g.errors.useType?g.errors.useType:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Occupancy Type",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:Q,...g.getFieldProps("occupancyType"),className:"cypress_occupancy_type form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[a("option",{children:"SELECT"}),(J=e==null?void 0:e.occupancyList)==null?void 0:J.map(r=>a("option",{value:r.id,children:r.occupancy_type},`OccupancyType${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.occupancyType&&g.errors.occupancyType?g.errors.occupancyType:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Construction Type",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:m,...g.getFieldProps("constructionType"),className:"cypress_construction_type form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",placeholder:"Enter guardian name",children:[a("option",{children:"SELECT"}),(O=e==null?void 0:e.constructionList)==null?void 0:O.map(r=>a("option",{value:r.id,children:r.construction_type},`constructionType${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.constructionType&&g.errors.constructionType?g.errors.constructionType:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Built Up Area (in Sq. Ft)",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("input",{...g.getFieldProps("buildupArea"),type:"text",className:"cypress_builtup_area form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md"}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.buildupArea&&g.errors.buildupArea?g.errors.buildupArea:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[" Date From",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("input",{...g.getFieldProps("dateFrom"),type:"date",max:we(),className:"cypress_construction_date_from form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",placeholder:"Enter dateFrom no"}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.dateFrom&&g.errors.dateFrom?g.errors.dateFrom:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[" Date Upto",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("input",{...g.getFieldProps("dateUpto"),type:"date",max:we(),className:"cypress_construction_date_from form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",placeholder:"Enter dateFrom no"}),a("span",{className:"text-red-600 absolute text-xs",children:g.touched.dateUpto&&g.errors.dateUpto?g.errors.dateUpto:null})]}),a("div",{className:"col-span-12 text-center mt-4",children:a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-green-500 hover:bg-green-600 focus:bg-green-600",children:o?"Update":"Add"})})]})]})})})}),a("div",{className:" w-full md:py-4 md:px-0 md:pb-0 md:pt-0  md:w-full mx-auto overflow-x-auto",children:t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:a("span",{children:"Add Floor"})}),v==null?void 0:v.map((r,b)=>{var l,B,ee,N;return a(c,{children:t("div",{className:`${q=="translate-y-0 top-[100px]"?"hidden":"block"} bg-indigo-50 border-2 border-indigo-500 my-2 mx-1`,children:[t("div",{className:"text-white bg-indigo-500 px-2 font-semibold flex flex-row justify-between items-center",children:[a("span",{children:(l=e==null?void 0:e.floorList)==null?void 0:l.map(n=>a(c,{children:(n==null?void 0:n.id)==r.floorNo&&(n==null?void 0:n.floor_name)}))}),t("span",{className:"flex gap-2 py-1",children:[a("button",{className:"text-xs font-normal px-2 py-1 rounded-sm bg-green-500 hover:bg-green-600 focus:bg-green-600",onClick:()=>H(b),children:"Edit"}),a("button",{className:"text-xs font-normal px-2 py-1 rounded-sm bg-red-500 hover:bg-red-600 focus:bg-red-600",onClick:()=>j(b),children:"Delete"})]})]}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Usage Type"}),a("span",{className:"col-span-6",children:(B=e==null?void 0:e.usageList)==null?void 0:B.map(n=>a(c,{children:(n==null?void 0:n.id)==r.useType&&(n==null?void 0:n.usage_type)}))})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Occupancy Type"}),a("span",{className:"col-span-6",children:(ee=e==null?void 0:e.occupancyList)==null?void 0:ee.map(n=>a(c,{children:(n==null?void 0:n.id)==r.occupancyType&&(n==null?void 0:n.occupancy_type)}))})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Type"}),a("span",{className:"col-span-6",children:(N=e==null?void 0:e.constructionList)==null?void 0:N.map(n=>a(c,{children:(n==null?void 0:n.id)==r.constructionType&&(n==null?void 0:n.construction_type)}))})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Built Up Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(r==null?void 0:r.buildupArea)==""?"N/A":r==null?void 0:r.buildupArea})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Date From"}),a("span",{className:"col-span-6",children:(r==null?void 0:r.dateFrom)==""?"N/A":Y(r==null?void 0:r.dateFrom)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Date Upto"}),a("span",{className:"col-span-6",children:(r==null?void 0:r.dateUpto)==""?"N/A":Y(r==null?void 0:r.dateUpto)})]})]})]})})})]})}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),t("button",{onClick:D,type:"button",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-green-500 hover:bg-green-600 focus:bg-green-600",children:["Add Floor ",a(Oa,{className:" hidden md:inline font-semibold text-sm md:text-lg"})]}),a("button",{onClick:X,className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},za=e=>{var D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N,n,A,E,ie,R,ce,p,ae,ne,te,re,he,ue,oe,ge,be,fe,se;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[v,_]=d.useState(!1),[y,C]=d.useState(!1);d.useState(!1);const[I,i]=d.useState(!1),[o,L]=d.useState(!1),[S,s]=d.useState(!1),[q,x]=d.useState(!1),[h,k]=d.useState(),{api_newWardByOldWard:Q}=Re(),m=Be({oldWardNo:$().when([],{is:()=>v==!1,then:()=>$().required("required field !!!")}),newWardNo:$().when([],{is:()=>y==!1,then:()=>$().required("required field !!!")}),propertyType:$().when([],{is:()=>o==!1,then:()=>$().required("required field !!!")}),areaOfPlot:Ve().when([],{is:()=>S==!1,then:()=>Ve().typeError("must be number").required("required field !!!")}),roadType:Ve().when([],{is:()=>q==!1,then:()=>Ve().typeError("must be number").required("required field !!!")})}),f=Ee({initialValues:{oldWardNo:(D=e==null?void 0:e.preData)==null?void 0:D.oldWardNo,newWardNo:(j=e==null?void 0:e.preData)==null?void 0:j.newWardNo,propertyType:(H=e==null?void 0:e.preData)==null?void 0:H.propertyType,landOccupationDate:(X=e==null?void 0:e.preData)==null?void 0:X.landOccupationDate,areaOfPlot:(z=e==null?void 0:e.preData)==null?void 0:z.areaOfPlot,roadType:(U=e==null?void 0:e.preData)==null?void 0:U.roadType},enableReinitialize:!0,onSubmit:T=>{console.log("submitting values => ",T),e==null||e.propType(T.propertyType),e.collectData("basic",T)},validationSchema:m}),g=T=>{var de,_e,Ne,V,K,P;const le=T.target.name,Z=T.target.value;console.log(le,Z),le=="oldWardNoCheck"&&(c,Z=="true"?(_(!0),f.setFieldValue("oldWardNo",(de=e==null?void 0:e.applicationData)==null?void 0:de.ward_mstr_id)):_(!1)),le=="newWardNoCheck"&&(c,Z=="true"?(C(!0),f.setFieldValue("newWardNo",(_e=e==null?void 0:e.applicationData)==null?void 0:_e.new_ward_mstr_id)):C(!1)),le=="propertyTypeCheck"&&(c,Z=="true"?(L(!0),f.setFieldValue("propertyType",(Ne=e==null?void 0:e.applicationData)==null?void 0:Ne.prop_type_mstr_id)):L(!1)),le=="landDatecheck"&&(c,Z=="true"?(i(!0),f.setFieldValue("landOccupationDate",(V=e==null?void 0:e.applicationData)==null?void 0:V.land_occupation_date)):i(!1)),le=="areaOfPlotCheck"&&(c,Z=="true"?(s(!0),f.setFieldValue("areaOfPlot",(K=e==null?void 0:e.applicationData)==null?void 0:K.area_of_plot)):s(!1)),le=="roadTypeCheck"&&(c,Z=="true"?(x(!0),f.setFieldValue("roadType",(P=e==null?void 0:e.applicationData)==null?void 0:P.road_width)):x(!1))},W=T=>{const{name:le,value:Z}=T.target;le=="areaOfPlot"&&f.setFieldValue("areaOfPlot",We(Z,f.values.areaOfPlot,20)),le=="roadType"&&f.setFieldValue("roadType",We(Z,f.values.roadType,20))};d.useEffect(()=>{var T;M((T=e==null?void 0:e.applicationData)==null?void 0:T.ward_mstr_id)},[]);const M=T=>{var Z;let le={oldWardMstrId:T,ulbId:(Z=e==null?void 0:e.applicationData)==null?void 0:Z.ulb_id};console.log("before fetch wardby old ward...",le),Pe.post(Q,le,Ue()).then(function(de){console.log("wardlist by oldward list ....",de.data.data),k(de.data.data)}).catch(function(de){console.log("errorrr.... ",de)})};return console.log("type => ",f.errors),a(c,{children:t("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 animate__animated animate__fadeInRight animate__faster",onChange:T=>(W(T),f.handleChange(T)),onSubmit:f.handleSubmit,children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"BASIC DETAILS"}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Old Ward No."}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((G=e==null?void 0:e.applicationData)==null?void 0:G.old_ward_no)==""?"N/A":(J=e==null?void 0:e.applicationData)==null?void 0:J.old_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((O=e==null?void 0:e.tcData)==null?void 0:O.old_ward_no)==""?"N/A":(r=e==null?void 0:e.tcData)==null?void 0:r.old_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:g,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"oldWardNoCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"oldWardNoCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"oldWardNo",onChange:T=>M(T.target.value),disabled:v,value:v?(b=e==null?void 0:e.applicationData)==null?void 0:b.ward_mstr_id:f.values.oldWardNo,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(l=e==null?void 0:e.wardList)==null?void 0:l.map(T=>a(c,{children:a("option",{value:T==null?void 0:T.id,children:T==null?void 0:T.ward_name})}))]}),a("span",{children:f.touched.oldWardNo&&f.errors.oldWardNo&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:f.errors.oldWardNo})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"New Ward No."}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((B=e==null?void 0:e.applicationData)==null?void 0:B.new_ward_no)==""?"N/A":(ee=e==null?void 0:e.applicationData)==null?void 0:ee.new_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((N=e==null?void 0:e.tcData)==null?void 0:N.new_ward_no)==""?"N/A":(n=e==null?void 0:e.tcData)==null?void 0:n.new_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:g,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"newWardNoCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"newWardNoCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"newWardNo",disabled:y,value:y?(A=e==null?void 0:e.applicationData)==null?void 0:A.new_ward_mstr_id:f.values.newWardNo,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),h==null?void 0:h.map(T=>a(c,{children:a("option",{value:T==null?void 0:T.new_ward_mstr_id,children:T==null?void 0:T.ward_name})}))]}),a("span",{children:f.touched.newWardNo&&f.errors.newWardNo&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:f.errors.newWardNo})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Property Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((E=e==null?void 0:e.applicationData)==null?void 0:E.property_type)==""?"N/A":(ie=e==null?void 0:e.applicationData)==null?void 0:ie.property_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((R=e==null?void 0:e.tcData)==null?void 0:R.property_type)==""?"N/A":(ce=e==null?void 0:e.tcData)==null?void 0:ce.property_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:g,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"propertyTypeCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"propertyTypeCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"propertyType",disabled:o,value:o?(p=e==null?void 0:e.applicationData)==null?void 0:p.prop_type_mstr_id:f.values.propertyType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ae=e==null?void 0:e.propertyType)==null?void 0:ae.map(T=>a(c,{children:a("option",{value:T==null?void 0:T.id,children:T==null?void 0:T.property_type})}))]}),a("span",{children:f.touched.propertyType&&f.errors.propertyType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:f.errors.propertyType})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Area Of Plot (in decimal)"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((ne=e==null?void 0:e.applicationData)==null?void 0:ne.area_of_plot)==""?"N/A":(te=e==null?void 0:e.applicationData)==null?void 0:te.area_of_plot})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((re=e==null?void 0:e.tcData)==null?void 0:re.area_of_plot)==""?"N/A":(he=e==null?void 0:e.tcData)==null?void 0:he.area_of_plot})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:g,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"areaOfPlotCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"areaOfPlotCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{onChange:W,type:"text",name:"areaOfPlot",disabled:S,value:S?(ue=e==null?void 0:e.applicationData)==null?void 0:ue.area_of_plot:f.values.areaOfPlot,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:f.touched.areaOfPlot&&f.errors.areaOfPlot&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:f.errors.areaOfPlot})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Road Width"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((oe=e==null?void 0:e.applicationData)==null?void 0:oe.road_width)==""?"N/A":(ge=e==null?void 0:e.applicationData)==null?void 0:ge.road_width})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((be=e==null?void 0:e.tcData)==null?void 0:be.road_width)==""?"N/A":(fe=e==null?void 0:e.tcData)==null?void 0:fe.road_width})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:g,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"roadTypeCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"roadTypeCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{onChange:W,type:"text",name:"roadType",disabled:q,value:q?(se=e==null?void 0:e.applicationData)==null?void 0:se.road_width:f.values.roadType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:f.touched.roadType&&f.errors.roadType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:f.errors.roadType})})})]})]})]})]}),a("div",{className:"w-full text-center my-2",children:a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})})]})})},$a=e=>{var W,M,D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N,n,A,E,ie,R,ce,p,ae,ne,te,re,he,ue,oe,ge,be,fe,se,T,le,Z,de,_e,Ne,V,K;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[v,_]=d.useState(!1),[y,C]=d.useState(!1),[I,i]=d.useState(!1),[o,L]=d.useState(!1),[S,s]=d.useState(!1),[q,x]=d.useState(!1),[h,k]=d.useState(null);d.useEffect(()=>{var u;const P=Array.isArray(e==null?void 0:e.tcData)&&((u=e==null?void 0:e.tcData)==null?void 0:u.filter(w=>{var F;return(w==null?void 0:w.saf_floor_id)===((F=e==null?void 0:e.data)==null?void 0:F.id)}));console.log("filtered tc data => ",P[0]),k(P[0])},[e==null?void 0:e.tcData]);const Q=Be({useType:$().when([],{is:()=>v==!1,then:()=>$().required("required field !!!")}),occupancyType:$().when([],{is:()=>y==!1,then:()=>$().required("required field !!!")}),constructionType:$().when([],{is:()=>I==!1,then:()=>$().required("required field !!!")}),buildupArea:Ve().when([],{is:()=>o==!1,then:()=>Ve().typeError("must be number").required("required field !!!")}),dateFrom:Se().when([],{is:()=>S==!1,then:()=>Se().max(we(),"not valid").required("required field !!!")}),dateUpto:Se().when([],{is:()=>q==!1,then:()=>Se().max(we(),"not valid").min(Oe("dateFrom"),"not valid").required("required field !!!")})}),m=Ee({initialValues:{id:(W=e==null?void 0:e.data)==null?void 0:W.id,floorId:(M=e==null?void 0:e.data)==null?void 0:M.id,floorNo:(D=e==null?void 0:e.data)==null?void 0:D.floor_mstr_id,useType:(j=e==null?void 0:e.preData)==null?void 0:j.useType,occupancyType:(H=e==null?void 0:e.preData)==null?void 0:H.occupancyType,constructionType:(X=e==null?void 0:e.preData)==null?void 0:X.constructionType,buildupArea:(z=e==null?void 0:e.preData)==null?void 0:z.buildupArea,dateFrom:(U=e==null?void 0:e.preData)==null?void 0:U.dateFrom,dateUpto:(G=e==null?void 0:e.preData)==null?void 0:G.dateUpto},enableReinitialize:!0,onSubmit:P=>{console.log("sending values => ",P),e==null||e.next(),e==null||e.collectData(P)},validationSchema:Q}),f=P=>{var F,me,ye,xe,ve,Ae;const u=P.target.name,w=P.target.value;u=="useTypeStatus"&&(c,w=="true"?(_(!0),m.setFieldValue("useType",(F=e==null?void 0:e.data)==null?void 0:F.usage_type_mstr_id)):_(!1)),u=="occupancyTypeStatus"&&(c,w=="true"?(C(!0),m.setFieldValue("occupancyType",(me=e==null?void 0:e.data)==null?void 0:me.occupancy_type_mstr_id)):C(!1)),u=="constructionTypeStatus"&&(c,w=="true"?(i(!0),m.setFieldValue("constructionType",(ye=e==null?void 0:e.data)==null?void 0:ye.const_type_mstr_id)):i(!1)),u=="buildupAreaStatus"&&(c,w=="true"?(L(!0),m.setFieldValue("buildupArea",(xe=e==null?void 0:e.data)==null?void 0:xe.builtup_area)):L(!1)),u=="dateFromStatus"&&(c,w=="true"?(s(!0),m.setFieldValue("dateFrom",(ve=e==null?void 0:e.data)==null?void 0:ve.date_from)):s(!1)),u=="dateUptoStatus"&&(c,w=="true"?(x(!0),m.setFieldValue("dateUpto",(Ae=e==null?void 0:e.data)==null?void 0:Ae.date_upto)):x(!1))},g=P=>{const{name:u,value:w}=P.target;u=="buildupArea"&&m.setFieldValue("buildupArea",We(w,m.values.buildupArea,20))};return a(c,{children:t("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 animate__animated animate__fadeInRight animate__faster",onChange:P=>(g(P),m.handleChange(P)),onSubmit:m.handleSubmit,children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:(J=e==null?void 0:e.data)==null?void 0:J.floor_name}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((O=e==null?void 0:e.data)==null?void 0:O.usage_type)==""?"N/A":(r=e==null?void 0:e.data)==null?void 0:r.usage_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.usage_type)==""?"N/A":h==null?void 0:h.usage_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"useTypeStatus",required:!0,id:"check1",checked:((b=e==null?void 0:e.preData)==null?void 0:b.useTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"useTypeStatus",required:!0,id:"check2",value:!1,checked:((l=e==null?void 0:e.preData)==null?void 0:l.useTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"useType",disabled:v,value:v?(B=e==null?void 0:e.data)==null?void 0:B.usage_type_mstr_id:m.values.useType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ee=e==null?void 0:e.usageList)==null?void 0:ee.map(P=>a("option",{value:P.id,children:P.usage_type}))]}),a("span",{children:m.touched.useType&&m.errors.useType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.useType})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((N=e==null?void 0:e.data)==null?void 0:N.occupancy_type)==""?"N/A":(n=e==null?void 0:e.data)==null?void 0:n.occupancy_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.occupancy_type)==""?"N/A":h==null?void 0:h.occupancy_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:!0,id:"check1",checked:((A=e==null?void 0:e.preData)==null?void 0:A.occupancyTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:!0,id:"check2",value:!1,checked:((E=e==null?void 0:e.preData)==null?void 0:E.occupancyTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"occupancyType",disabled:y,value:y?(ie=e==null?void 0:e.data)==null?void 0:ie.occupancy_type_mstr_id:m.values.occupancyType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(R=e==null?void 0:e.occupancyList)==null?void 0:R.map(P=>a("option",{value:P.id,children:P.occupancy_type}))]}),a("span",{children:m.touched.occupancyType&&m.errors.occupancyType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.occupancyType})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((ce=e==null?void 0:e.data)==null?void 0:ce.construction_type)==""?"N/A":(p=e==null?void 0:e.data)==null?void 0:p.construction_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.construction_type)==""?"N/A":h==null?void 0:h.construction_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:!0,id:"check1",checked:((ae=e==null?void 0:e.preData)==null?void 0:ae.constructionTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:!0,id:"check2",value:!1,checked:((ne=e==null?void 0:e.preData)==null?void 0:ne.constructionTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"constructionType",disabled:I,value:I?(te=e==null?void 0:e.data)==null?void 0:te.const_type_mstr_id:m.values.constructionType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(re=e==null?void 0:e.constructionList)==null?void 0:re.map(P=>a("option",{value:P.id,children:P.construction_type}))]}),a("span",{children:m.touched.constructionType&&m.errors.constructionType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.constructionType})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((he=e==null?void 0:e.data)==null?void 0:he.builtup_area)==""?"N/A":(ue=e==null?void 0:e.data)==null?void 0:ue.builtup_area})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.builtup_area)==""?"N/A":h==null?void 0:h.builtup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:!0,id:"check1",checked:((oe=e==null?void 0:e.preData)==null?void 0:oe.buildupAreaStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:!0,id:"check2",value:!1,checked:((ge=e==null?void 0:e.preData)==null?void 0:ge.buildupAreaStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{onChange:g,type:"text",name:"buildupArea",disabled:o,value:o?(be=e==null?void 0:e.data)==null?void 0:be.builtup_area:m.values.buildupArea,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.buildupArea&&m.errors.buildupArea&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.buildupArea})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date From"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((fe=e==null?void 0:e.data)==null?void 0:fe.date_from)==""?"N/A":Y((se=e==null?void 0:e.data)==null?void 0:se.date_from)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.date_from)==""?"N/A":Y(h==null?void 0:h.date_from)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateFromStatus",required:!0,id:"check1",checked:((T=e==null?void 0:e.preData)==null?void 0:T.dateFromStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateFromStatus",required:!0,id:"check2",value:!1,checked:((le=e==null?void 0:e.preData)==null?void 0:le.dateFromStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:we(),name:"dateFrom",disabled:S,value:S?(Z=e==null?void 0:e.data)==null?void 0:Z.date_from:m.values.dateFrom,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateFrom&&m.errors.dateFrom&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateFrom})})})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((de=e==null?void 0:e.data)==null?void 0:de.date_upto)==""?"N/A":Y((_e=e==null?void 0:e.data)==null?void 0:_e.date_upto)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.date_upto)==""?"N/A":Y(h==null?void 0:h.date_upto)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:!0,id:"check1",checked:((Ne=e==null?void 0:e.preData)==null?void 0:Ne.dateUptoStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:!0,id:"check2",value:!1,checked:((V=e==null?void 0:e.preData)==null?void 0:V.dateUptoStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:we(),name:"dateUpto",disabled:q,value:q?(K=e==null?void 0:e.data)==null?void 0:K.date_upto:m.values.dateUpto,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateUpto&&m.errors.dateUpto&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateUpto})})})]})]})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},Qa=e=>{var W,M,D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N,n,A,E,ie,R,ce,p,ae,ne,te,re,he,ue,oe,ge,be,fe,se,T,le,Z,de,_e,Ne,V;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[v,_]=d.useState(!1),[y,C]=d.useState(!1),[I,i]=d.useState(!1),[o,L]=d.useState(!1),[S,s]=d.useState(!1),[q,x]=d.useState(!1),[h,k]=d.useState(!1),Q=Be({useType:$().when([],{is:()=>v==!1&&h,then:()=>$().required("required field !!!")}),occupancyType:$().when([],{is:()=>y==!1&&h,then:()=>$().required("required field !!!")}),constructionType:$().when([],{is:()=>I==!1&&h,then:()=>$().required("required field !!!")}),buildupArea:Ve().when([],{is:()=>o==!1&&h,then:()=>Ve().typeError("must be number").required("required field !!!")}),dateFrom:Se().when([],{is:()=>S==!1&&h,then:()=>Se().max(we(),"not valid").required("required field !!!")}),dateUpto:Se().when([],{is:()=>q==!1&&h,then:()=>Se().max(we(),"not valid").min(Oe("dateFrom"),"not valid").required("required field !!!")})}),m=Ee({initialValues:{id:(W=e==null?void 0:e.data)==null?void 0:W.id,floorNo:(M=e==null?void 0:e.data)==null?void 0:M.floor_mstr_id,useType:(D=e==null?void 0:e.preData)==null?void 0:D.useType,occupancyType:(j=e==null?void 0:e.preData)==null?void 0:j.occupancyType,constructionType:(H=e==null?void 0:e.preData)==null?void 0:H.constructionType,buildupArea:(X=e==null?void 0:e.preData)==null?void 0:X.buildupArea,dateFrom:(z=e==null?void 0:e.preData)==null?void 0:z.dateFrom,dateUpto:(U=e==null?void 0:e.preData)==null?void 0:U.dateUpto},enableReinitialize:!0,onSubmit:K=>{console.log("sending values => ",K),e==null||e.next(),e==null||e.collectData(K)},validationSchema:Q}),f=K=>{var w,F,me,ye,xe,ve;const P=K.target.name,u=K.target.value;P=="useTypeStatus"&&(c,u=="true"?(_(!0),m.setFieldValue("useType",(w=e==null?void 0:e.data)==null?void 0:w.usage_type_mstr_id)):_(!1)),P=="occupancyTypeStatus"&&(c,u=="true"?(C(!0),m.setFieldValue("occupancyType",(F=e==null?void 0:e.data)==null?void 0:F.occupancy_type_mstr_id)):C(!1)),P=="constructionTypeStatus"&&(c,u=="true"?(i(!0),m.setFieldValue("constructionType",(me=e==null?void 0:e.data)==null?void 0:me.const_type_mstr_id)):i(!1)),P=="buildupAreaStatus"&&(c,u=="true"?(L(!0),m.setFieldValue("buildupArea",(ye=e==null?void 0:e.data)==null?void 0:ye.builtup_area)):L(!1)),P=="dateFromStatus"&&(c,u=="true"?(s(!0),m.setFieldValue("dateFrom",(xe=e==null?void 0:e.data)==null?void 0:xe.date_from)):s(!1)),P=="dateUptoStatus"&&(c,u=="true"?(x(!0),m.setFieldValue("dateUpto",(ve=e==null?void 0:e.data)==null?void 0:ve.date_upto)):x(!1)),P=="isTcAdded"&&(c,u=="true"?(k(!0),m.setFieldValue("isTcAdded",u)):(k(!1),m.setFieldValue("isTcAdded",u)))},g=K=>{const{name:P,value:u}=K.target;console.log(P,u),P=="buildupArea"&&m.setFieldValue("buildupArea",We(u,m.values.buildupArea,20))};return a(c,{children:t("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 animate__animated animate__fadeInRight animate__faster",onChange:K=>(g(K),m.handleChange(K)),onSubmit:m.handleSubmit,children:[t("div",{className:"px-4 py-2 flex gap-6",children:[a("span",{className:"text-red-500 font-semibold",children:"Is this floor exist ? "}),t("span",{className:"flex gap-4 items-center",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"isTcAdded",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check1",children:"Yes"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"isTcAdded",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check2",children:"No"})]})]})]}),a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:(G=e==null?void 0:e.data)==null?void 0:G.floor_name}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((J=e==null?void 0:e.data)==null?void 0:J.usage_type)==""?"N/A":(O=e==null?void 0:e.data)==null?void 0:O.usage_type})]}),h&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"useTypeStatus",required:h,id:"check1",checked:((r=e==null?void 0:e.preData)==null?void 0:r.useTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"useTypeStatus",required:h,id:"check2",value:!1,checked:((b=e==null?void 0:e.preData)==null?void 0:b.useTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"useType",disabled:v,value:v?(l=e==null?void 0:e.data)==null?void 0:l.usage_type_mstr_id:m.values.useType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(B=e==null?void 0:e.usageList)==null?void 0:B.map(K=>a("option",{value:K.id,children:K.usage_type}))]}),a("span",{children:m.touched.useType&&m.errors.useType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.useType})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((ee=e==null?void 0:e.data)==null?void 0:ee.occupancy_type)==""?"N/A":(N=e==null?void 0:e.data)==null?void 0:N.occupancy_type})]}),h&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:h,id:"check1",checked:((n=e==null?void 0:e.preData)==null?void 0:n.occupancyTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:h,id:"check2",value:!1,checked:((A=e==null?void 0:e.preData)==null?void 0:A.occupancyTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"occupancyType",disabled:y,value:y?(E=e==null?void 0:e.data)==null?void 0:E.occupancy_type_mstr_id:m.values.occupancyType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ie=e==null?void 0:e.occupancyList)==null?void 0:ie.map(K=>a("option",{value:K.id,children:K.occupancy_type}))]}),a("span",{children:m.touched.occupancyType&&m.errors.occupancyType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.occupancyType})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((R=e==null?void 0:e.data)==null?void 0:R.construction_type)==""?"N/A":(ce=e==null?void 0:e.data)==null?void 0:ce.construction_type})]}),h&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:h,id:"check1",checked:((p=e==null?void 0:e.preData)==null?void 0:p.constructionTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:h,id:"check2",value:!1,checked:((ae=e==null?void 0:e.preData)==null?void 0:ae.constructionTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"constructionType",disabled:I,value:I?(ne=e==null?void 0:e.data)==null?void 0:ne.const_type_mstr_id:m.values.constructionType,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(te=e==null?void 0:e.constructionList)==null?void 0:te.map(K=>a("option",{value:K.id,children:K.construction_type}))]}),a("span",{children:m.touched.constructionType&&m.errors.constructionType&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.constructionType})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((re=e==null?void 0:e.data)==null?void 0:re.builtup_area)==""?"N/A":(he=e==null?void 0:e.data)==null?void 0:he.builtup_area})]}),h&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:h,id:"check1",checked:((ue=e==null?void 0:e.preData)==null?void 0:ue.buildupAreaStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:h,id:"check2",value:!1,checked:((oe=e==null?void 0:e.preData)==null?void 0:oe.buildupAreaStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"text",name:"buildupArea",disabled:o,value:o?(ge=e==null?void 0:e.data)==null?void 0:ge.builtup_area:m.values.buildupArea,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.buildupArea&&m.errors.buildupArea&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.buildupArea})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date From"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((be=e==null?void 0:e.data)==null?void 0:be.date_from)==""?"N/A":Y((fe=e==null?void 0:e.data)==null?void 0:fe.date_from)})]}),h&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateFromStatus",required:h,id:"check1",checked:((se=e==null?void 0:e.preData)==null?void 0:se.dateFromStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateFromStatus",required:h,id:"check2",value:!1,checked:((T=e==null?void 0:e.preData)==null?void 0:T.dateFromStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:we(),name:"dateFrom",disabled:S,value:S?(le=e==null?void 0:e.data)==null?void 0:le.date_from:m.values.dateFrom,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateFrom&&m.errors.dateFrom&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateFrom})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Z=e==null?void 0:e.data)==null?void 0:Z.date_upto)==""?"N/A":Y((de=e==null?void 0:e.data)==null?void 0:de.date_upto)})]}),h&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:f,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:h,id:"check1",checked:((_e=e==null?void 0:e.preData)==null?void 0:_e.dateUptoStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:h,id:"check2",value:!1,checked:((Ne=e==null?void 0:e.preData)==null?void 0:Ne.dateUptoStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:we(),name:"dateUpto",disabled:q,value:q?(V=e==null?void 0:e.data)==null?void 0:V.date_upto:m.values.dateUpto,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateUpto&&m.errors.dateUpto&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateUpto})})})]})]})]})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},Ga=e=>{var r,b,l,B,ee;const{roleName:v}=d.useContext(He);d.useEffect(()=>{window.scrollTo(0,0)},[]);const[_,y]=d.useState(0),[C,I]=d.useState(-1),[i,o]=d.useState(!1),[L,S]=d.useState(!1),[s,q]=d.useState([]),[x,h]=d.useState([]),[k,Q]=d.useState([]),[m,f]=d.useState([]),[g,W]=d.useState([]),[M,D]=d.useState(0);console.log("incoming data => ",e==null?void 0:e.tcNewData,C),console.log("floor length => ",(r=e==null?void 0:e.applicationData)==null?void 0:r.length);const j=()=>{var N,n;console.log("floor indexx => ",_),_<((N=e==null?void 0:e.applicationData)==null?void 0:N.length)&&(y(_+1),o(!1),D(A=>A+1)),_==((n=e==null?void 0:e.applicationData)==null?void 0:n.length)-1&&(v=="tc"?o(!0):(o(!1),I(0)),D(A=>A+1))},H=()=>{_!=0&&(y(_-1),o(!1),D(N=>N+1)),_==0&&(e==null||e.back(),o(!1),D(N=>N+1))},X=()=>{o(!1),S(!0),D(N=>N+1)},z=()=>{S(!1),o(!1),y(0),I(0),D(N=>N+1)},U=N=>{var n,A;console.log("floor2 indexx => ",_),C<((n=e==null?void 0:e.tcNewData)==null?void 0:n.length)&&(I(C+1),o(!1),D(E=>E+1)),C==((A=e==null?void 0:e.tcNewData)==null?void 0:A.length)-1&&(X(),D(E=>E+1))},G=()=>{C!=0&&(I(C-1),D(N=>N+1)),C==0&&(y(0),I(-1),o(!1),S(!1),D(N=>N+1))},J=N=>{const n=s.findIndex(A=>A.id===N.id);if(n!==-1){const A=[...s];A[n]=N,q(A),console.log("updated floor list.....",A)}else{const A=[...s,N];q(A),console.log("updated floor list.....",A)}},O=N=>{if((N==null?void 0:N.isTcAdded)=="false"||(N==null?void 0:N.isTcAdded)==!1)return;const n=x.findIndex(A=>A.id===N.id);if(n!==-1){const A=[...x];A[n]=N,h(A),console.log("updated floor list.....",A)}else{const A=[...x,N];h(A),console.log("updated floor list.....",A)}};return d.useEffect(()=>{var N,n;_==((N=e==null?void 0:e.applicationData)==null?void 0:N.length)&&(e==null||e.collectData("floor",s)),C==((n=e==null?void 0:e.tcNewData)==null?void 0:n.length)&&(e==null||e.collectData("floor2",x))},[_,C]),d.useEffect(()=>{e!=null&&e.isVacant&&((e==null?void 0:e.propType)!="4"||(e==null?void 0:e.propType)!=4)&&(v=="tc"&&(o(!0),S(!1)),v=="utc"&&!(e!=null&&e.tcApply)&&(o(!1),S(!0)))},[e==null?void 0:e.propType]),d.useEffect(()=>{var N,n,A,E,ie,R,ce,p,ae;((N=e==null?void 0:e.preData)==null?void 0:N.floor)!=null&&((A=(n=e==null?void 0:e.preData)==null?void 0:n.floor)==null?void 0:A.length)>0&&Q((E=e==null?void 0:e.preData)==null?void 0:E.floor),f((ie=e==null?void 0:e.preData)==null?void 0:ie.floor2),((R=e==null?void 0:e.preData)==null?void 0:R.addFloor)!=null&&((p=(ce=e==null?void 0:e.preData)==null?void 0:ce.addFloor)==null?void 0:p.length)>0&&W((ae=e==null?void 0:e.preData)==null?void 0:ae.addFloor)},[e==null?void 0:e.preData]),console.log("tc data => ",e==null?void 0:e.tcExistingData),localStorage.getItem("roles"),t(c,{children:[L&&v=="utc"&&a(qa,{usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,next:()=>e.next(),back:()=>z(),preData:g,collectData:(N,n)=>{e==null||e.collectData(N,n),D(A=>A+1)}}),i&&v=="tc"&&a(qa,{usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,next:()=>e.next(),back:()=>H(),preData:g,collectData:(N,n)=>{e==null||e.collectData(N,n),D(A=>A+1)}}),!i&&!L&&v=="utc"&&C>=0&&a(c,{children:(e==null?void 0:e.tcNewData)!=null&&((b=e==null?void 0:e.tcNewData)==null?void 0:b.length)>0?t(c,{children:[a("div",{className:"text-sm font-semibold text-center",children:"This Floor Added By Agency TC"}),(l=e==null?void 0:e.tcNewData)==null?void 0:l.map((N,n)=>a(c,{children:n==C&&a(Qa,{data:N,preData:m!=null&&m[n],index:n,next:()=>U(),back:G,usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,collectData:O})}))]}):t(c,{children:[a("div",{className:"text-sm font-semibold text-center text-red-600",children:"No extra floor added by agency tc"}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:()=>G(),className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{onClick:()=>X(),className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})}),!i&&C==-1&&!(e!=null&&e.isVacant)&&((e==null?void 0:e.propType)!="4"||(e==null?void 0:e.propType)!=4)&&((B=e==null?void 0:e.applicationData)==null?void 0:B.length)>0&&((ee=e==null?void 0:e.applicationData)==null?void 0:ee.map((N,n)=>a(c,{children:n==_&&a($a,{tcApply:e==null?void 0:e.tcApply,utc:e==null?void 0:e.utc,tcData:(e==null?void 0:e.tcExistingData)!=null&&(e==null?void 0:e.tcExistingData),data:N,preData:k,index:n,next:j,back:H,usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,collectData:J})})))]})},Ja=e=>{var S;d.useContext(He);const[v,_]=d.useState(!1),[y,C]=d.useState(""),I=()=>_(!1),i=()=>{};d.useEffect(()=>{window.scrollTo(0,0)},[]);const o=Be({remarks:$().required("required field !!!")}),L=Ee({initialValues:{remarks:(S=e==null?void 0:e.preData)==null?void 0:S.remarks},enableReinitialize:!0,onSubmit:s=>{e.collectData("remarks",s),e.next()},validationSchema:o});return localStorage.getItem("roles"),t(c,{children:[t("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 animate__animated animate__fadeInRight animate__faster",onChange:L.handleChange,onSubmit:L.handleSubmit,children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"Remarks"}),a("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:a("textarea",{name:"remarks",value:L.values.remarks,id:"",rows:"3",className:"w-full px-2 py-1",placeholder:"Enter your remarks here..."})}),a("div",{className:"mx-2",children:L.touched.remarks&&L.errors.remarks&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:L.errors.remarks})})})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{onClick:L.handleSubmit,type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Next & Preview"})]}),a(Ba,{isOpen:v,onAfterOpen:i,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:t("div",{className:" animate__animated animate__zoomIn animate__faster relative rounded-lg shadow-xl border-2 border-gray-50 px-0",style:{width:"95vw",height:"80vh"},children:[a("div",{className:"absolute top-2 z-40 bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:I,children:a(Ya,{fontSize:10})}),a("div",{className:"w-full h-full flex items-center justify-center",children:a("img",{src:y,alt:"",srcset:""})})]})})]})},Ka=e=>{var v,_,y,C,I,i,o,L,S,s,q,x,h,k,Q,m,f,g,W,M,D,j,H,X,z,U,G,J,O,r;return a(c,{children:t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4 ",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"BASIC DETAILS (Preview)"}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Old Ward No."}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((v=e==null?void 0:e.applicationData)==null?void 0:v.old_ward_no)==""?"N/A":(_=e==null?void 0:e.applicationData)==null?void 0:_.old_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((y=e==null?void 0:e.tcData)==null?void 0:y.old_ward_no)==""?"N/A":(C=e==null?void 0:e.tcData)==null?void 0:C.old_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((I=e==null?void 0:e.data)==null?void 0:I.oldWardNoCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i=e==null?void 0:e.wardList)==null?void 0:i.map(b=>{var l;return a(c,{children:(b==null?void 0:b.id)==((l=e==null?void 0:e.data)==null?void 0:l.oldWardNo)&&(b==null?void 0:b.ward_name)})})})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"New Ward No."}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((o=e==null?void 0:e.applicationData)==null?void 0:o.new_ward_no)==""?"N/A":(L=e==null?void 0:e.applicationData)==null?void 0:L.new_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((S=e==null?void 0:e.tcData)==null?void 0:S.new_ward_no)==""?"N/A":(s=e==null?void 0:e.tcData)==null?void 0:s.new_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((q=e==null?void 0:e.data)==null?void 0:q.newWardNoCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(x=e==null?void 0:e.wardList)==null?void 0:x.map(b=>{var l;return a(c,{children:(b==null?void 0:b.id)==((l=e==null?void 0:e.data)==null?void 0:l.newWardNo)&&(b==null?void 0:b.ward_name)})})})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Property Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((h=e==null?void 0:e.applicationData)==null?void 0:h.property_type)==""?"N/A":(k=e==null?void 0:e.applicationData)==null?void 0:k.property_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Q=e==null?void 0:e.tcData)==null?void 0:Q.property_type)==""?"N/A":(m=e==null?void 0:e.tcData)==null?void 0:m.property_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((f=e==null?void 0:e.data)==null?void 0:f.propertyTypeCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(g=e==null?void 0:e.propertyList)==null?void 0:g.map(b=>{var l;return a(c,{children:(b==null?void 0:b.id)==((l=e==null?void 0:e.data)==null?void 0:l.propertyType)&&(b==null?void 0:b.property_type)})})})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Area Of Plot (in decimal)"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((W=e==null?void 0:e.applicationData)==null?void 0:W.area_of_plot)==""?"N/A":(M=e==null?void 0:e.applicationData)==null?void 0:M.area_of_plot})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((D=e==null?void 0:e.tcData)==null?void 0:D.area_of_plot)==""?"N/A":(j=e==null?void 0:e.tcData)==null?void 0:j.area_of_plot})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),((H=e==null?void 0:e.data)==null?void 0:H.areaOfPlotCheck)=="true"?"Correct":"Incorrect",a("span",{className:"col-span-6 flex gap-2"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(X=e==null?void 0:e.data)==null?void 0:X.areaOfPlot})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Road Width"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((z=e==null?void 0:e.applicationData)==null?void 0:z.road_width)==""?"N/A":(U=e==null?void 0:e.applicationData)==null?void 0:U.road_width})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((G=e==null?void 0:e.tcData)==null?void 0:G.road_width)==""?"N/A":(J=e==null?void 0:e.tcData)==null?void 0:J.road_width})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((O=e==null?void 0:e.data)==null?void 0:O.roadTypeCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(r=e==null?void 0:e.data)==null?void 0:r.roadType})]})]})]})]})})},Xa=e=>{var v,_,y,C,I,i,o,L,S,s,q,x,h,k,Q,m,f,g,W,M,D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N,n,A,E,ie,R,ce,p,ae,ne,te,re,he,ue,oe,ge,be,fe,se;return console.log("extra ============>>>>>>>>",e==null?void 0:e.data),a(c,{children:t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4 ",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"Extra Detatils (Preview)"}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Hoarding Board(s) ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(v=e==null?void 0:e.applicationData)!=null&&v.is_hoarding_board?"Yes":"No"})]}),((_=e==null?void 0:e.applicationData)==null?void 0:_.is_hoarding_board)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:Y((y=e==null?void 0:e.applicationData)==null?void 0:y.hoarding_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(C=e==null?void 0:e.applicationData)==null?void 0:C.hoarding_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(I=e==null?void 0:e.tcData)!=null&&I.is_hoarding_board?"Yes":"No"})]}),((i=e==null?void 0:e.tcData)==null?void 0:i.is_hoarding_board)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:Y((o=e==null?void 0:e.tcData)==null?void 0:o.hoarding_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(L=e==null?void 0:e.tcData)==null?void 0:L.hoarding_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((S=e==null?void 0:e.data)==null?void 0:S.hoardingCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(s=e==null?void 0:e.data)!=null&&s.waterHarvesting?"Yes":"No"})]}),(((q=e==null?void 0:e.data)==null?void 0:q.hoardingBoard)=="true"||((x=e==null?void 0:e.data)==null?void 0:x.hoardingBoard))&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s) :"}),a("span",{className:"col-span-6",children:Y((h=e==null?void 0:e.data)==null?void 0:h.hoardingInstallation)})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(k=e==null?void 0:e.data)==null?void 0:k.hoardingArea})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Mobile Tower ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(Q=e==null?void 0:e.applicationData)!=null&&Q.is_mobile_tower?"Yes":"No"})]}),((m=e==null?void 0:e.applicationData)==null?void 0:m.is_mobile_tower)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:Y((f=e==null?void 0:e.applicationData)==null?void 0:f.tower_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(g=e==null?void 0:e.applicationData)==null?void 0:g.tower_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(W=e==null?void 0:e.tcData)!=null&&W.is_mobile_tower?"Yes":"No"})]}),((M=e==null?void 0:e.tcData)==null?void 0:M.is_mobile_tower)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:Y((D=e==null?void 0:e.tcData)==null?void 0:D.tower_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(j=e==null?void 0:e.tcData)==null?void 0:j.tower_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((H=e==null?void 0:e.data)==null?void 0:H.mobileCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(X=e==null?void 0:e.data)!=null&&X.mobileTower?"Yes":"No"})]}),(((z=e==null?void 0:e.data)==null?void 0:z.mobileTower)=="true"||((U=e==null?void 0:e.data)==null?void 0:U.mobileTower))&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:Y((G=e==null?void 0:e.data)==null?void 0:G.mobileInstallation)})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(J=e==null?void 0:e.data)==null?void 0:J.mobileArea})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Petrol Pump ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(O=e==null?void 0:e.applicationData)!=null&&O.is_petrol_pump?"Yes":"No"})]}),((r=e==null?void 0:e.applicationData)==null?void 0:r.is_petrol_pump)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:Y((b=e==null?void 0:e.applicationData)==null?void 0:b.petrol_pump_completion_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(l=e==null?void 0:e.applicationData)==null?void 0:l.under_ground_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(B=e==null?void 0:e.tcData)!=null&&B.is_petrol_pump?"Yes":"No"})]}),((ee=e==null?void 0:e.tcData)==null?void 0:ee.is_petrol_pump)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:Y((N=e==null?void 0:e.tcData)==null?void 0:N.petrol_pump_completion_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(n=e==null?void 0:e.tcData)==null?void 0:n.under_ground_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((A=e==null?void 0:e.data)==null?void 0:A.petrolCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(E=e==null?void 0:e.data)!=null&&E.petrolPump?"Yes":"No"})]}),(((ie=e==null?void 0:e.data)==null?void 0:ie.petrolPump)=="true"||((R=e==null?void 0:e.data)==null?void 0:R.petrolPump))&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:Y((ce=e==null?void 0:e.data)==null?void 0:ce.petrolCompletion)})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(p=e==null?void 0:e.data)==null?void 0:p.petrolArea})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Rain Water Harvesting ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(ae=e==null?void 0:e.applicationData)!=null&&ae.is_water_harvesting?"Yes":"No"})]}),((ne=e==null?void 0:e.applicationData)==null?void 0:ne.is_water_harvesting)&&a(c,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:Y((te=e==null?void 0:e.applicationData)==null?void 0:te.rwh_date_from)})]})}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(re=e==null?void 0:e.tcData)!=null&&re.is_water_harvesting?"Yes":"No"})]}),((he=e==null?void 0:e.tcData)==null?void 0:he.is_water_harvesting)&&a(c,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:Y((ue=e==null?void 0:e.tcData)==null?void 0:ue.rwh_date_from)})]})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((oe=e==null?void 0:e.data)==null?void 0:oe.waterCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(ge=e==null?void 0:e.data)!=null&&ge.waterHarvesting?"Yes":"No"})]}),(((be=e==null?void 0:e.data)==null?void 0:be.waterHarvesting)=="true"||((fe=e==null?void 0:e.data)==null?void 0:fe.waterHarvesting))&&a(c,{children:t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:Y((se=e==null?void 0:e.data)==null?void 0:se.waterHarvestingDate)})]})})]})]})]})})},Za=e=>{var v,_,y,C,I;return console.log("gettting in floor ",e==null?void 0:e.data,e==null?void 0:e.addFloor),console.log("app data => ",(v=e==null?void 0:e.applicationData)==null?void 0:v.floors),t(c,{children:[(_=e==null?void 0:e.data)==null?void 0:_.map((i,o)=>{var L,S,s,q,x,h,k,Q,m,f,g,W,M,D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N,n,A,E,ie,R,ce,p,ae,ne,te,re,he,ue,oe,ge,be,fe,se,T,le,Z,de,_e,Ne;return a(c,{children:t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:t("span",{children:[" ",(L=e==null?void 0:e.floorList)==null?void 0:L.map(V=>a(c,{children:(V==null?void 0:V.id)==i.floorNo&&(V==null?void 0:V.floor_name)}))," (Preview)"]})}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((s=(S=e==null?void 0:e.applicationData)==null?void 0:S.floors[o])==null?void 0:s.usage_type)==""?"N/A":(x=(q=e==null?void 0:e.applicationData)==null?void 0:q.floors[o])==null?void 0:x.usage_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((k=(h=e==null?void 0:e.tcData)==null?void 0:h.existingFloors[o])==null?void 0:k.usage_type)==""?"N/A":(m=(Q=e==null?void 0:e.tcData)==null?void 0:Q.existingFloors[o])==null?void 0:m.usage_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.useTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(f=e==null?void 0:e.usageList)==null?void 0:f.map(V=>a(c,{children:(V==null?void 0:V.id)==i.useType&&(V==null?void 0:V.usage_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((W=(g=e==null?void 0:e.applicationData)==null?void 0:g.floors[o])==null?void 0:W.occupancy_type)==""?"N/A":(D=(M=e==null?void 0:e.applicationData)==null?void 0:M.floors[o])==null?void 0:D.occupancy_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((H=(j=e==null?void 0:e.tcData)==null?void 0:j.existingFloors[o])==null?void 0:H.occupancy_type)==""?"N/A":(z=(X=e==null?void 0:e.tcData)==null?void 0:X.existingFloors[o])==null?void 0:z.occupancy_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.occupancyTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(U=e==null?void 0:e.occupancyList)==null?void 0:U.map(V=>a(c,{children:(V==null?void 0:V.id)==i.occupancyType&&(V==null?void 0:V.occupancy_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((J=(G=e==null?void 0:e.applicationData)==null?void 0:G.floors[o])==null?void 0:J.construction_type)==""?"N/A":(r=(O=e==null?void 0:e.applicationData)==null?void 0:O.floors[o])==null?void 0:r.construction_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((l=(b=e==null?void 0:e.tcData)==null?void 0:b.existingFloors[o])==null?void 0:l.construction_type)==""?"N/A":(ee=(B=e==null?void 0:e.tcData)==null?void 0:B.existingFloors[o])==null?void 0:ee.construction_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.constructionTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(N=e==null?void 0:e.constructionList)==null?void 0:N.map(V=>a(c,{children:(V==null?void 0:V.id)==i.constructionType&&(V==null?void 0:V.construction_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((A=(n=e==null?void 0:e.applicationData)==null?void 0:n.floors[o])==null?void 0:A.builtup_area)==""?"N/A":(ie=(E=e==null?void 0:e.applicationData)==null?void 0:E.floors[o])==null?void 0:ie.builtup_area})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((ce=(R=e==null?void 0:e.tcData)==null?void 0:R.existingFloors[o])==null?void 0:ce.builtup_area)==""?"N/A":(ae=(p=e==null?void 0:e.tcData)==null?void 0:p.existingFloors[o])==null?void 0:ae.builtup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.buildupAreaStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.buildupArea)==""?"N/A":i==null?void 0:i.buildupArea})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date From"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((te=(ne=e==null?void 0:e.applicationData)==null?void 0:ne.floors[o])==null?void 0:te.date_from)==""?"N/A":Y((he=(re=e==null?void 0:e.applicationData)==null?void 0:re.floors[o])==null?void 0:he.date_from)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((oe=(ue=e==null?void 0:e.tcData)==null?void 0:ue.existingFloors[o])==null?void 0:oe.date_from)==""?"N/A":Y((be=(ge=e==null?void 0:e.tcData)==null?void 0:ge.existingFloors[o])==null?void 0:be.date_from)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.dateFromStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.dateFrom)==""?"N/A":Y(i==null?void 0:i.dateFrom)})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((se=(fe=e==null?void 0:e.applicationData)==null?void 0:fe.floors[o])==null?void 0:se.date_upto)==""?"N/A":Y((le=(T=e==null?void 0:e.applicationData)==null?void 0:T.floors[o])==null?void 0:le.date_upto)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((de=(Z=e==null?void 0:e.tcData)==null?void 0:Z.existingFloors[o])==null?void 0:de.date_upto)==""?"N/A":Y((Ne=(_e=e==null?void 0:e.tcData)==null?void 0:_e.existingFloors[o])==null?void 0:Ne.date_upto)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.dateUptoStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.dateUpto)==""?"N/A":Y(i==null?void 0:i.dateUpto)})]})]})]})]})})}),(y=e==null?void 0:e.data2)==null?void 0:y.map((i,o)=>{var L,S,s,q,x,h,k,Q,m,f,g,W,M,D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N;return a(c,{children:t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:t("span",{children:[" ",(L=e==null?void 0:e.floorList)==null?void 0:L.map(n=>a(c,{children:(n==null?void 0:n.id)==i.floorNo&&(n==null?void 0:n.floor_name)}))," ",a("span",{className:"text-xs",children:"(Added By Agency TC)"}),"(Preview)"]})}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((s=(S=e==null?void 0:e.tcData)==null?void 0:S.newFloors[o])==null?void 0:s.usage_type)==""?"N/A":(x=(q=e==null?void 0:e.tcData)==null?void 0:q.newFloors[o])==null?void 0:x.usage_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.useTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(h=e==null?void 0:e.usageList)==null?void 0:h.map(n=>a(c,{children:(n==null?void 0:n.id)==i.useType&&(n==null?void 0:n.usage_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Q=(k=e==null?void 0:e.tcData)==null?void 0:k.newFloors[o])==null?void 0:Q.occupancy_type)==""?"N/A":(f=(m=e==null?void 0:e.tcData)==null?void 0:m.newFloors[o])==null?void 0:f.occupancy_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.occupancyTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(g=e==null?void 0:e.occupancyList)==null?void 0:g.map(n=>a(c,{children:(n==null?void 0:n.id)==i.occupancyType&&(n==null?void 0:n.occupancy_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((M=(W=e==null?void 0:e.tcData)==null?void 0:W.newFloors[o])==null?void 0:M.construction_type)==""?"N/A":(j=(D=e==null?void 0:e.tcData)==null?void 0:D.newFloors[o])==null?void 0:j.construction_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.constructionTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(H=e==null?void 0:e.constructionList)==null?void 0:H.map(n=>a(c,{children:(n==null?void 0:n.id)==i.constructionType&&(n==null?void 0:n.construction_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((z=(X=e==null?void 0:e.tcData)==null?void 0:X.newFloors[o])==null?void 0:z.builtup_area)==""?"N/A":(G=(U=e==null?void 0:e.tcData)==null?void 0:U.newFloors[o])==null?void 0:G.builtup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.buildupAreaStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.buildupArea)==""?"N/A":i==null?void 0:i.buildupArea})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date From"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((O=(J=e==null?void 0:e.tcData)==null?void 0:J.newFloors[o])==null?void 0:O.date_from)==""?"N/A":Y((b=(r=e==null?void 0:e.tcData)==null?void 0:r.newFloors[o])==null?void 0:b.date_from)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.dateFromStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.dateFrom)==""?"N/A":Y(i==null?void 0:i.dateFrom)})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((B=(l=e==null?void 0:e.tcData)==null?void 0:l.newFloors[o])==null?void 0:B.date_upto)==""?"N/A":Y((N=(ee=e==null?void 0:e.tcData)==null?void 0:ee.newFloors[o])==null?void 0:N.date_upto)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(i==null?void 0:i.dateUptoStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.dateUpto)==""?"N/A":Y(i==null?void 0:i.dateUpto)})]})]})]})]})})}),((C=e==null?void 0:e.addFloor)==null?void 0:C.length)>0&&a(c,{children:t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:a("span",{children:" Floor Added (Preview)"})}),(I=e==null?void 0:e.addFloor)==null?void 0:I.map((i,o)=>{var L,S,s,q;return a(c,{children:t("div",{className:" bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold flex flex-row justify-between items-center",children:t("span",{children:[" ",(L=e==null?void 0:e.floorList)==null?void 0:L.map(x=>a(c,{children:(x==null?void 0:x.id)==i.floorNo&&(x==null?void 0:x.floor_name)}))]})}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Usage Type"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.useType)==""?"N/A":a(c,{children:(S=e==null?void 0:e.usageList)==null?void 0:S.map(x=>a(c,{children:(x==null?void 0:x.id)==i.useType&&(x==null?void 0:x.usage_type)}))})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Occupancy Type"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.occupancyType)==""?"N/A":a(c,{children:(s=e==null?void 0:e.occupancyList)==null?void 0:s.map(x=>a(c,{children:(x==null?void 0:x.id)==i.occupancyType&&(x==null?void 0:x.occupancy_type)}))})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Type"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.constructionType)==""?"N/A":a(c,{children:(q=e==null?void 0:e.constructionList)==null?void 0:q.map(x=>a(c,{children:(x==null?void 0:x.id)==i.constructionType&&(x==null?void 0:x.construction_type)}))})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Built Up Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.buildupArea)==""?"N/A":i==null?void 0:i.buildupArea})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Date From"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.dateFrom)==""?"N/A":Y(i==null?void 0:i.dateFrom)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Date Upto"}),a("span",{className:"col-span-6",children:(i==null?void 0:i.dateUpto)==""?"N/A":Y(i==null?void 0:i.dateUpto)})]})]})]})})})]})})]})},pa=e=>{var v,_,y,C,I,i,o;return d.useContext(He),d.useEffect(()=>{window.scrollTo(0,0)},[]),console.log("all data",e==null?void 0:e.allData),localStorage.getItem("roles"),t(c,{children:[t("div",{className:"animate__animated animate__fadeInRight animate__faster",children:[a(Ka,{tcApply:e==null?void 0:e.tcApply,isVacant:e==null?void 0:e.isVacant,propType:e==null?void 0:e.propType,utc:e==null?void 0:e.utc,tcData:e==null?void 0:e.tcData,data:(v=e==null?void 0:e.allData)==null?void 0:v.basic,applicationData:e==null?void 0:e.applicationData,wardList:e==null?void 0:e.wardList,propertyList:e==null?void 0:e.propertyList,roadList:e==null?void 0:e.roadList,zoneList:e==null?void 0:e.zoneList}),a(Za,{tcApply:e==null?void 0:e.tcApply,utc:e==null?void 0:e.utc,tcData:e==null?void 0:e.tcData,data:(_=e==null?void 0:e.allData)==null?void 0:_.floor,data2:(y=e==null?void 0:e.allData)==null?void 0:y.floor2,addFloor:(C=e==null?void 0:e.allData)==null?void 0:C.addFloor,applicationData:e==null?void 0:e.applicationData,usageList:e==null?void 0:e.usageList,occupancyList:e==null?void 0:e.occupancyList,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList}),a(Xa,{tcApply:e==null?void 0:e.tcApply,utc:e==null?void 0:e.utc,tcData:e==null?void 0:e.tcData,data:(I=e==null?void 0:e.allData)==null?void 0:I.extra,applicationData:e==null?void 0:e.applicationData}),t("div",{className:"border-2 border-blue-700 bg-blue-50 mb-4",children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"Remarks (Preview)"}),a("div",{className:"bg-indigo-50 my-2 mx-1",children:a("span",{children:(o=(i=e==null?void 0:e.allData)==null?void 0:i.remarks)==null?void 0:o.remarks})})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{onClick:e==null?void 0:e.next,className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-green-500 hover:bg-green-600 focus:bg-green-600",children:"Submit"})]})]})},et=e=>{var x,h,k,Q,m,f,g,W,M,D,j,H,X,z,U,G,J,O,r,b,l,B,ee,N,n,A,E,ie,R,ce,p,ae,ne,te,re,he,ue,oe,ge,be,fe,se,T,le,Z,de,_e,Ne,V,K,P,u;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[v,_]=d.useState(!1),[y,C]=d.useState(!1),[I,i]=d.useState(!1),[o,L]=d.useState(!1),S=Be({hoardingBoard:$().when([],{is:()=>v==!1,then:()=>$().required("required field !!!")}),mobileTower:$().when([],{is:()=>y==!1,then:()=>$().required("required field !!!")}),petrolPump:$().when([],{is:()=>I==!1,then:()=>$().required("required field !!!")}),waterHarvesting:$().when([],{is:()=>o==!1,then:()=>$().required("required field !!!")})}),s=Ee({initialValues:{hoardingBoard:(x=e==null?void 0:e.preData)==null?void 0:x.hoardingBoard,hoardingInstallation:(h=e==null?void 0:e.preData)==null?void 0:h.hoardingInstallation,hoardingArea:(k=e==null?void 0:e.preData)==null?void 0:k.hoardingArea,mobileTower:(Q=e==null?void 0:e.preData)==null?void 0:Q.mobileTower,mobileInstallation:(m=e==null?void 0:e.preData)==null?void 0:m.mobileInstallation,mobileArea:(f=e==null?void 0:e.preData)==null?void 0:f.mobileArea,petrolPump:(g=e==null?void 0:e.preData)==null?void 0:g.petrolPump,petrolCompletion:(W=e==null?void 0:e.preData)==null?void 0:W.petrolCompletion,waterHarvesting:(M=e==null?void 0:e.preData)==null?void 0:M.waterHarvesting,waterHarvestingDate:(D=e==null?void 0:e.preData)==null?void 0:D.waterHarvestingDate,petrolArea:(j=e==null?void 0:e.preData)==null?void 0:j.petrolArea},enableReinitialize:!0,onSubmit:w=>{console.log("submitting values => ",w),e.collectData("extra",w),e.next()},validationSchema:S}),q=w=>{var ye,xe,ve,Ae,ke,De,Ce,Fe,Ie,Le,qe;const F=w.target.name,me=w.target.value;console.log(F,me),F=="hoardingCheck"&&(c,me=="true"?(_(!0),s.setFieldValue("hoardingBoard",(ye=e==null?void 0:e.applicationData)==null?void 0:ye.is_hoarding_board),s.setFieldValue("hoardingInstallation",(xe=e==null?void 0:e.applicationData)==null?void 0:xe.hoarding_installation_date),s.setFieldValue("hoardingArea",(ve=e==null?void 0:e.applicationData)==null?void 0:ve.hoarding_area)):_(!1)),F=="mobileCheck"&&(c,me=="true"?(C(!0),s.setFieldValue("mobileTower",(Ae=e==null?void 0:e.applicationData)==null?void 0:Ae.is_mobile_tower),s.setFieldValue("mobileInstallation",(ke=e==null?void 0:e.applicationData)==null?void 0:ke.tower_installation_date),s.setFieldValue("mobileArea",(De=e==null?void 0:e.applicationData)==null?void 0:De.tower_area)):C(!1)),F=="petrolCheck"&&(c,me=="true"?(i(!0),s.setFieldValue("petrolPump",(Ce=e==null?void 0:e.applicationData)==null?void 0:Ce.is_petrol_pump),s.setFieldValue("petrolCompletion",(Fe=e==null?void 0:e.applicationData)==null?void 0:Fe.petrol_pump_completion_date),s.setFieldValue("petrolArea",(Ie=e==null?void 0:e.applicationData)==null?void 0:Ie.under_ground_area)):i(!1)),F=="waterCheck"&&(c,me=="true"?(L(!0),s.setFieldValue("waterHarvesting",(Le=e==null?void 0:e.applicationData)==null?void 0:Le.is_water_harvesting),s.setFieldValue("waterHarvestingDate",(qe=e==null?void 0:e.applicationData)==null?void 0:qe.rwh_date_from)):L(!1))};return a(c,{children:t("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 animate__animated animate__fadeInRight animate__faster",onChange:s.handleChange,onSubmit:s.handleSubmit,children:[a("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"Extra Detatils"}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Hoarding Board(s) ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(H=e==null?void 0:e.applicationData)!=null&&H.is_hoarding_board?"Yes":"No"})]}),((X=e==null?void 0:e.applicationData)==null?void 0:X.is_hoarding_board)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:(z=e==null?void 0:e.applicationData)==null?void 0:z.hoarding_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(U=e==null?void 0:e.applicationData)==null?void 0:U.hoarding_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(G=e==null?void 0:e.tcData)!=null&&G.is_hoarding_board?"Yes":"No"})]}),((J=e==null?void 0:e.tcData)==null?void 0:J.is_hoarding_board)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:(O=e==null?void 0:e.tcData)==null?void 0:O.hoarding_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(r=e==null?void 0:e.tcData)==null?void 0:r.hoarding_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:q,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"hoardingCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"hoardingCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"hoardingBoard",disabled:v,value:v?(b=e==null?void 0:e.applicationData)==null?void 0:b.is_hoarding_board:s.values.hoardingBoard,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.hoardingBoard&&s.errors.hoardingBoard&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.hoardingBoard})})})]})]}),(s.values.hoardingBoard=="true"||s.values.hoardingBoard==!0)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),t("span",{className:"col-span-6",children:[a("input",{name:"hoardingInstallation",type:"date",max:we(),disabled:v,value:v?(l=e==null?void 0:e.applicationData)==null?void 0:l.hoarding_installation_date:s.values.hoardingInstallation,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.hoardingInstallation&&s.errors.hoardingInstallation&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.hoardingInstallation})})})]})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),t("span",{className:"col-span-6",children:[a("input",{name:"hoardingArea",type:"number",disabled:v,value:v?(B=e==null?void 0:e.applicationData)==null?void 0:B.hoarding_area:s.values.hoardingArea,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.hoardingArea&&s.errors.hoardingArea&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.hoardingArea})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Mobile Tower ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(ee=e==null?void 0:e.applicationData)!=null&&ee.is_mobile_tower?"Yes":"No"})]}),((N=e==null?void 0:e.applicationData)==null?void 0:N.is_mobile_tower)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:(n=e==null?void 0:e.applicationData)==null?void 0:n.tower_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(A=e==null?void 0:e.applicationData)==null?void 0:A.tower_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(E=e==null?void 0:e.tcData)!=null&&E.is_mobile_tower?"Yes":"No"})]}),((ie=e==null?void 0:e.tcData)==null?void 0:ie.is_mobile_tower)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:(R=e==null?void 0:e.tcData)==null?void 0:R.tower_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(ce=e==null?void 0:e.tcData)==null?void 0:ce.tower_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:q,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"mobileCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"mobileCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"mobileTower",disabled:y,value:y?(p=e==null?void 0:e.applicationData)==null?void 0:p.is_mobile_tower:s.values.mobileTower,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.mobileTower&&s.errors.mobileTower&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.mobileTower})})})]})]}),(s.values.mobileTower=="true"||s.values.mobileTower==!0)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),t("span",{className:"col-span-6",children:[a("input",{name:"mobileInstallation",type:"date",max:we(),disabled:y,value:y?(ae=e==null?void 0:e.applicationData)==null?void 0:ae.tower_installation_date:s.values.mobileInstallation,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.mobileInstallation&&s.errors.mobileInstallation&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.mobileInstallation})})})]})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),t("span",{className:"col-span-6",children:[a("input",{name:"mobileArea",type:"number",disabled:y,value:y?(ne=e==null?void 0:e.applicationData)==null?void 0:ne.tower_area:s.values.mobileArea,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.mobileArea&&s.errors.mobileArea&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.mobileArea})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Petrol Pump ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(te=e==null?void 0:e.applicationData)!=null&&te.is_petrol_pump?"Yes":"No"})]}),((re=e==null?void 0:e.applicationData)==null?void 0:re.is_petrol_pump)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:(he=e==null?void 0:e.applicationData)==null?void 0:he.petrol_pump_completion_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(ue=e==null?void 0:e.applicationData)==null?void 0:ue.under_ground_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(oe=e==null?void 0:e.tcData)!=null&&oe.is_petrol_pump?"Yes":"No"})]}),((ge=e==null?void 0:e.tcData)==null?void 0:ge.is_petrol_pump)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:(be=e==null?void 0:e.tcData)==null?void 0:be.petrol_pump_completion_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(fe=e==null?void 0:e.tcData)==null?void 0:fe.under_ground_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:q,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"petrolCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"petrolCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"petrolPump",disabled:I,value:I?(se=e==null?void 0:e.applicationData)==null?void 0:se.is_petrol_pump:s.values.petrolPump,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.petrolPump&&s.errors.petrolPump&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.petrolPump})})})]})]}),(s.values.petrolPump=="true"||s.values.petrolPump==!0)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),t("span",{className:"col-span-6",children:[a("input",{name:"petrolCompletion",type:"date",max:we(),disabled:I,value:I?(T=e==null?void 0:e.applicationData)==null?void 0:T.petrol_pump_completion_date:s.values.petrolCompletion,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.petrolCompletion&&s.errors.petrolCompletion&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.petrolCompletion})})})]})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),t("span",{className:"col-span-6",children:[a("input",{name:"petrolArea",type:"number",disabled:I,value:I?(le=e==null?void 0:e.applicationData)==null?void 0:le.under_ground_area:s.values.petrolArea,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.petrolArea&&s.errors.petrolArea&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.petrolArea})})})]})]})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Is Rain Water Harvesting ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(Z=e==null?void 0:e.applicationData)!=null&&Z.is_water_harvesting?"Yes":"No"})]}),((de=e==null?void 0:e.applicationData)==null?void 0:de.is_water_harvesting)&&a(c,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:(_e=e==null?void 0:e.applicationData)==null?void 0:_e.rwh_date_from})]})}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(c,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(Ne=e==null?void 0:e.tcData)!=null&&Ne.is_water_harvesting?"Yes":"No"})]}),((V=e==null?void 0:e.tcData)==null?void 0:V.is_water_harvesting)&&a(c,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:(K=e==null?void 0:e.tcData)==null?void 0:K.rwh_date_from})]})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:q,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"waterCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"waterCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"waterHarvesting",disabled:o,value:o?(P=e==null?void 0:e.applicationData)==null?void 0:P.is_water_harvesting:s.values.waterHarvesting,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.waterHarvesting&&s.errors.waterHarvesting&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.waterHarvesting})})})]})]}),(s.values.waterHarvesting=="true"||s.values.waterHarvesting==!0)&&a(c,{children:t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Construction Date"}),t("span",{className:"col-span-6",children:[a("input",{name:"waterHarvestingDate",type:"date",max:we(),disabled:o,value:o?(u=e==null?void 0:e.applicationData)==null?void 0:u.rwh_date_from:s.values.waterHarvestingDate,className:"bg-white px-2 py-1 w-full rounded-sm shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.waterHarvestingDate&&s.errors.waterHarvestingDate&&a(c,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.waterHarvestingDate})})})]})]})})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},at=e=>{var Ne,V,K,P;const{notify:v,roleName:_}=Va.useContext(He),y=Ea(),[C,I]=d.useState(),[i,o]=d.useState(),[L,S]=d.useState(),[s,q]=d.useState(),[x,h]=d.useState(),[k,Q]=d.useState(),[m,f]=d.useState(),[g,W]=d.useState(),[M,D]=d.useState(),[j,H]=d.useState(!1),[X,z]=d.useState(!1),[U,G]=d.useState(""),[J,O]=d.useState(!1),[r,b]=d.useState(!1);d.useState(),d.useState(),d.useState(),d.useState(),d.useState();const[l,B]=d.useState({floor:[],floor2:[],addFloor:[]});d.useState();const[ee,N]=d.useState(""),[n,A]=d.useState(!1),[E,ie]=d.useState(!1),[R,ce]=d.useState([]),[p,ae]=d.useState(1),[ne,te]=d.useState(!1),{api_getSafMasterData:re,post_SiteVerification:he,api_wardByUlb:ue,api_zoneByUlb:oe,getTcData:ge}=Re();d.useEffect(()=>{var u,w;((u=e==null?void 0:e.applicationData)==null?void 0:u.applied_by)=="TC"&&b(!0),te(!0),be(),fe((w=e==null?void 0:e.applicationData)==null?void 0:w.ulb_id)},[e==null?void 0:e.applicationData]);const be=()=>{Pe.get(re,Ue()).then(u=>{var w,F,me,ye,xe,ve,Ae,ke,De,Ce,Fe,Ie,Le,qe;console.log("getting master list => ",u),te(!1),o((F=(w=u==null?void 0:u.data)==null?void 0:w.data)==null?void 0:F.property_type),S((ye=(me=u==null?void 0:u.data)==null?void 0:me.data)==null?void 0:ye.ownership_types),q((ve=(xe=u==null?void 0:u.data)==null?void 0:xe.data)==null?void 0:ve.usage_type),h((ke=(Ae=u==null?void 0:u.data)==null?void 0:Ae.data)==null?void 0:ke.occupancy_type),Q((Ce=(De=u==null?void 0:u.data)==null?void 0:De.data)==null?void 0:Ce.road_type),f((Ie=(Fe=u==null?void 0:u.data)==null?void 0:Fe.data)==null?void 0:Ie.floor_type),W((qe=(Le=u==null?void 0:u.data)==null?void 0:Le.data)==null?void 0:qe.construction_type)}).catch(u=>{console.log("getting master list error  => ",u),te(!1)})},fe=u=>{Pe.post(ue,{ulbId:u},Ue()).then(w=>{var F;console.log("ward by ulb list => ",w),I((F=w==null?void 0:w.data)==null?void 0:F.data)}).catch(w=>{console.log("error getting dependent list => ",w)}).finally(()=>te(!1)),Pe.post(oe,{ulbId:u},Ue()).then(w=>{var F;console.log("zone by ulb list => ",w),D((F=w==null?void 0:w.data)==null?void 0:F.data)}).catch(w=>{console.log("error getting dependent list => ",w)}).finally(()=>te(!1))},se=u=>{if(u==1&&E){ae(w=>w+2);return}if(u==1&&U=="4"){ae(w=>w+2);return}ae(u+1)},T=u=>{if(console.log("getting prop type => ",U),u==3&&E||U=="4"||U==4){ae(w=>w-2);return}ae(u-1)},le=u=>{if(G(u),console.log("getting prop type => ",U),u=="4"||u==4){ae(w=>w+2);return}ae(w=>w+1)};d.useEffect(()=>{window.scrollTo(0,0)},[p]);const Z=(u,w)=>{B(F=>({...F,[u]:w}))};console.log("allformdata => ",l);const de=()=>{var me,ye,xe,ve,Ae,ke,De,Ce,Fe,Ie,Le,qe,Ye,Me,je,ze,$e,Qe,Ge,Je,Ke,Xe,Ze,pe,ea,aa,ta,la,ia,ca,na,da,sa,ma,ra,ha,ua,oa,ga,ba,fa,Na,ya,xa,va,_a,wa,Ta,Aa,Sa,ka,Da,Ca;if(_!="tc"&&_!="utc"){v("You don't have permission to verify !!!","error");return}te(!0);let u;_=="tc"&&(((me=l==null?void 0:l.basic)==null?void 0:me.propertyType)==4&&(u=""),E&&((ye=l==null?void 0:l.basic)==null?void 0:ye.propertyType)!=4&&u==(l==null?void 0:l.addFloor),!E&&((xe=l==null?void 0:l.basic)==null?void 0:xe.propertyType)!=4&&(u=(ve=l==null?void 0:l.floor)==null?void 0:ve.concat(l==null?void 0:l.addFloor))),_=="utc"&&(((Ae=l==null?void 0:l.basic)==null?void 0:Ae.propertyType)==4&&(u=""),E&&((ke=l==null?void 0:l.basic)==null?void 0:ke.propertyType)!=4&&u==(l==null?void 0:l.addFloor),!E&&((De=l==null?void 0:l.basic)==null?void 0:De.propertyType)!=4&&(u=(Fe=(Ce=l==null?void 0:l.floor)==null?void 0:Ce.concat(l==null?void 0:l.addFloor))==null?void 0:Fe.concat(l==null?void 0:l.floor2)));let w={safId:(Ie=e==null?void 0:e.applicationData)==null?void 0:Ie.id,wardId:(Le=l==null?void 0:l.basic)==null?void 0:Le.oldWardNo,newWardId:(qe=l==null?void 0:l.basic)==null?void 0:qe.newWardNo,propertyType:(Ye=l==null?void 0:l.basic)==null?void 0:Ye.propertyType,landOccupationDate:(Me=l==null?void 0:l.basic)==null?void 0:Me.landOccupationDate,areaOfPlot:(je=l==null?void 0:l.basic)==null?void 0:je.areaOfPlot,roadWidth:(ze=l==null?void 0:l.basic)==null?void 0:ze.roadType,isHoardingBoard:(($e=l==null?void 0:l.extra)==null?void 0:$e.hoardingBoard)=="true"||((Qe=l==null?void 0:l.extra)==null?void 0:Qe.hoardingBoard)==!0?1:0,hoardingBoard:{area:(Ge=l==null?void 0:l.extra)==null?void 0:Ge.hoardingArea,dateFrom:(Je=l==null?void 0:l.extra)==null?void 0:Je.hoardingInstallation},isMobileTower:((Ke=l==null?void 0:l.extra)==null?void 0:Ke.mobileTower)=="true"||((Xe=l==null?void 0:l.extra)==null?void 0:Xe.mobileTower)==!0?1:0,mobileTower:{area:(Ze=l==null?void 0:l.extra)==null?void 0:Ze.mobileArea,dateFrom:(pe=l==null?void 0:l.extra)==null?void 0:pe.mobileInstallation},isPetrolPump:((ea=l==null?void 0:l.extra)==null?void 0:ea.petrolPump)=="true"||((aa=l==null?void 0:l.extra)==null?void 0:aa.petrolPump)==!0?1:0,petrolPump:{area:(ta=l==null?void 0:l.extra)==null?void 0:ta.petrolArea,dateFrom:(la=l==null?void 0:l.extra)==null?void 0:la.petrolCompletion},isWaterHarvesting:((ia=l==null?void 0:l.extra)==null?void 0:ia.waterHarvesting)=="true"||((ca=l==null?void 0:l.extra)==null?void 0:ca.waterHarvesting)==!0?1:0,rwhDateFrom:(na=l==null?void 0:l.extra)==null?void 0:na.waterHarvestingDate,floor:u},F={safId:(da=e==null?void 0:e.applicationData)==null?void 0:da.id,wardId:(sa=l==null?void 0:l.basic)==null?void 0:sa.oldWardNo,newWardId:(ma=l==null?void 0:l.basic)==null?void 0:ma.newWardNo,propertyType:(ra=l==null?void 0:l.basic)==null?void 0:ra.propertyType,landOccupationDate:(ha=l==null?void 0:l.basic)==null?void 0:ha.landOccupationDate,areaOfPlot:(ua=l==null?void 0:l.basic)==null?void 0:ua.areaOfPlot,roadWidth:(oa=l==null?void 0:l.basic)==null?void 0:oa.roadType,isHoardingBoard:((ga=l==null?void 0:l.extra)==null?void 0:ga.hoardingBoard)=="true"||((ba=l==null?void 0:l.extra)==null?void 0:ba.hoardingBoard)==!0?1:0,hoardingBoard:{area:(fa=l==null?void 0:l.extra)==null?void 0:fa.hoardingArea,dateFrom:(Na=l==null?void 0:l.extra)==null?void 0:Na.hoardingInstallation},isMobileTower:((ya=l==null?void 0:l.extra)==null?void 0:ya.mobileTower)=="true"||((xa=l==null?void 0:l.extra)==null?void 0:xa.mobileTower)==!0?1:0,mobileTower:{area:(va=l==null?void 0:l.extra)==null?void 0:va.mobileArea,dateFrom:(_a=l==null?void 0:l.extra)==null?void 0:_a.mobileInstallation},isPetrolPump:((wa=l==null?void 0:l.extra)==null?void 0:wa.petrolPump)=="true"||((Ta=l==null?void 0:l.extra)==null?void 0:Ta.petrolPump)==!0?1:0,petrolPump:{area:(Aa=l==null?void 0:l.extra)==null?void 0:Aa.petrolArea,dateFrom:(Sa=l==null?void 0:l.extra)==null?void 0:Sa.petrolCompletion},isWaterHarvesting:((ka=l==null?void 0:l.extra)==null?void 0:ka.waterHarvesting)=="true"||((Da=l==null?void 0:l.extra)==null?void 0:Da.waterHarvesting)==!0?1:0,rwhDateFrom:(Ca=l==null?void 0:l.extra)==null?void 0:Ca.waterHarvestingDate,floor:u};console.log("request body for saf verification => ",_=="utc"?F:w),Pe.post(he,_=="utc"?F:w,Ue()).then(Te=>{var Fa,Ia,La;((Fa=Te==null?void 0:Te.data)==null?void 0:Fa.status)==!0&&(console.log("success => ",Te),v("Data Submitted Successfully !!!","success"),te(!1),H(!0)),((Ia=Te==null?void 0:Te.data)==null?void 0:Ia.status)==!1&&(console.log("error => ",Te),v((La=Te==null?void 0:Te.data)==null?void 0:La.message,"error"),te(!1),_=="utc"&&N("false"),_=="utc"&&z("false"))}).catch(Te=>{console.log("error",Te),v(Te,"error"),te(!1),_=="utc"&&N("false"),_=="utc"&&z("false")})};d.useEffect(()=>{var u;_=="utc"&&A(!0),((u=e==null?void 0:e.applicationData)==null?void 0:u.prop_type_mstr_id)==4?ie(!0):ie(!1)},[]),console.log("pre data => ",l),Wa(),localStorage.getItem("roles");const _e=()=>{de()};return d.useEffect(()=>{var u,w;r||(_=="utc"&&O(!0),_=="utc"&&((u=e==null?void 0:e.applicationData)==null?void 0:u.id)!=null&&Pe.post(ge,{safId:(w=e==null?void 0:e.applicationData)==null?void 0:w.id},Ue()).then(F=>{var me,ye,xe,ve;((me=F==null?void 0:F.data)==null?void 0:me.status)==!0&&(console.log("getting tc data => ",F),ce((ye=F==null?void 0:F.data)==null?void 0:ye.data),O(!1)),((xe=F==null?void 0:F.data)==null?void 0:xe.status)==!1&&(O(!1),y("/search/property"),v((ve=F==null?void 0:F.data)==null?void 0:ve.message,"error"))}).catch(F=>{console.log("error getting tc data => ",F),y("/search/property"),v("Something went wrong !!!","error"),O(!1)}).finally(()=>{var F;return console.log("body",(F=e==null?void 0:e.applicationData)==null?void 0:F.id)}))},[e==null?void 0:e.applicationData]),t(c,{children:[(ne||J)&&a(Pa,{}),a(Ua,{heading:"Field Verification",type:"saf",process:"verify",appNo:(Ne=e==null?void 0:e.applicationData)==null?void 0:Ne.saf_no,openSubmit:j,id:(V=e==null?void 0:e.applicationData)==null?void 0:V.id,navigation:()=>y("/search/property"),forward:()=>z(!0)}),a(Ma,{openScreen:X,id:(K=e==null?void 0:e.applicationData)==null?void 0:K.id,closePopUp:()=>z(!1),canSubmit:ee,navigation:()=>de(),type:"saf"}),!ne&&!J&&t("div",{className:"w-full",children:[t("div",{className:"flex justify-between",children:[p!=6&&!ne&&t("div",{className:"text-xs mb-1",children:["Step: ",p,"/5"]}),r&&a("div",{className:"text-xs text-green-600 font-semibold",children:"Applied By Agency TC"})]}),a("div",{className:p==1?"visible":"hidden",children:a(za,{tcApply:r,propType:u=>le(u),isVacant:E,utc:n,tcData:R,applicationData:e==null?void 0:e.applicationData,wardList:C,zoneList:M,propertyType:i,roadList:k,collectData:Z})}),a("div",{className:p==2?"visible":"hidden",children:a(Ga,{tcApply:r,propType:U,isVacant:E,utc:n,tcExistingData:R==null?void 0:R.existingFloors,tcNewData:R==null?void 0:R.newFloors,applicationData:(P=e==null?void 0:e.applicationData)==null?void 0:P.floors,usageType:s,occupancyType:x,constructionList:g,floorList:m,next:()=>se(2),back:()=>T(2),collectData:Z,preData:l})}),a("div",{className:p==3?"visible":"hidden",children:a(et,{tcApply:r,utc:n,tcData:R,applicationData:e==null?void 0:e.applicationData,next:()=>se(3),back:()=>T(3),collectData:Z})}),a("div",{className:p==4?"visible":"hidden",children:a(Ja,{utc:n,tcData:R==null?void 0:R.geoTagging,next:()=>se(4),back:()=>T(4),collectData:Z})}),a("div",{className:p==5&&!ne?"visible":"hidden",children:a(pa,{tcApply:r,isVacant:E,propType:U,utc:n,tcData:R,next:()=>_e(),back:()=>T(5),allData:l,applicationData:e==null?void 0:e.applicationData,wardList:C,zoneList:M,propertyList:i,roadList:k,usageList:s,occupancyList:x,constructionList:g,floorList:m})})]})]})},Nt=e=>{const{notify:v,roleName:_}=Va.useContext(He);ja("SAF Verification");const[y,C]=d.useState(),[I,i]=d.useState(!1);d.useState(!1);const[o,L]=d.useState(!1);d.useState(!1);const[S,s]=d.useState(!1),{api_getStaticSafDetails:q}=Re(),{id:x}=Ha();d.useEffect(()=>{setTimeout(()=>{i(!1)},1e4),i(!0),h()},[]);const h=()=>{Pe.post(q,{applicationId:x},Ue()).then(k=>{var Q,m,f,g,W,M,D,j,H;console.log("getting application data => ",k),i(!1),C((Q=k==null?void 0:k.data)==null?void 0:Q.data),_=="tc"&&((f=(m=k==null?void 0:k.data)==null?void 0:m.data)!=null&&f.is_agency_verified)&&(L(!0),(W=(g=k==null?void 0:k.data)==null?void 0:g.data)!=null&&W.is_field_verified&&!((D=(M=k==null?void 0:k.data)==null?void 0:M.data)!=null&&D.is_geo_tagged)?s(!0):s(!1)),_=="utc"&&((H=(j=k==null?void 0:k.data)==null?void 0:j.data)!=null&&H.is_field_verified)&&L(!0)}).catch(k=>{console.log("getting application data error => ",k),i(!1)})};return t(c,{children:[I&&a(Pa,{}),o&&a(Ua,{heading:"Field Verification",isBack:S,type:"saf",done:!0,process:"verify",openSubmit:o,appNo:y==null?void 0:y.saf_no,id:y==null?void 0:y.id}),!I&&y!=null&&t("div",{className:"w-full",children:[t("h1",{className:" text-center font-bold text-xl border-b-2 border-gray-700 mx-4",children:["Field Verification ",a("br",{}),"Self Assessment "]}),t("div",{className:"p-4 flex flex-col gap-y-4",children:[t("div",{className:"w-full items-center justify-center px-4 shadow-sm flex md:flex-row flex-col flex-wrap gap-2 md:justify-evenly bg-indigo-50 py-1",children:[t("span",{className:"grid grid-cols-12 w-full text-sm gap-1",children:[a("span",{className:"col-span-6",children:"Application No.:"})," ",a("span",{className:"font-semibold text-base col-span-6",children:y==null?void 0:y.saf_no})]}),t("span",{className:"grid grid-cols-12 w-full text-sm  gap-1",children:[a("span",{className:"col-span-6",children:"Application Type:"})," ",a("span",{className:"font-semibold text-base col-span-6",children:y==null?void 0:y.assessment_type})]}),t("span",{className:"grid grid-cols-12 w-full text-sm  gap-1",children:[a("span",{className:"col-span-6",children:"Property Type:"})," ",a("span",{className:"font-semibold text-base col-span-6",children:y==null?void 0:y.property_type})]}),t("span",{className:"grid grid-cols-12 w-full text-sm  gap-1",children:[a("span",{className:"col-span-6",children:"Apply Date:"})," ",a("span",{className:"font-semibold text-base col-span-6",children:Y(y==null?void 0:y.application_date)})]})]}),a(at,{applicationData:y})]})]})]})};export{Nt as default};
