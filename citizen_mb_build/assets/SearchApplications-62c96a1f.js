import{a as J,R as ae,c as le,b as t,F as H,j as l,r as d,i as j,C as ie,A as Q,h as X,k as ne,d as de,f as Y,g as ce,P as se,n as T}from"./index-d9bca912.js";import{R as ge}from"./index.esm-57a653c8.js";import{R as Z}from"./Blocks-bc37b01b.js";import{u as me}from"./useSetTitle-9398f5a8.js";import{A as p,a as ee,b as re}from"./index.esm-6868ce76.js";import{B as te}from"./index.esm-7ccf8a3f.js";import{B as K}from"./index.esm-499d739c.js";import{B as ue}from"./BeatLoader-5bf36329.js";import"./iconBase-4a04727f.js";const he="/assets/search-3c1774d6.png",xe=e=>{var o,b,L,r,g,f,h,C,P,k,S,s,y,I,F,x,R,B,A,M,G,_,E,O,W,n;const m=J(),{notify:w,roleName:v}=ae.useContext(le),u=()=>{var N,a;(e==null?void 0:e.type)=="property"&&m(`/propVerify/${(N=e==null?void 0:e.dataList)==null?void 0:N.id}`),(e==null?void 0:e.type)=="geoTagging"&&m(`/geoTagging/${(a=e==null?void 0:e.dataList)==null?void 0:a.id}/saf`)};return t(H,{children:l("div",{className:"w-full relative bg-indigo-50 shadow-md  rounded-sm pb-2 border-2 border-indigo-600 mb-4 cursor-pointer",onClick:()=>u(),children:[l("div",{className:"font-semibold bg-indigo-600 px-4 text-white",children:["Property Details ",v=="tc"&&((o=e==null?void 0:e.dataList)==null?void 0:o.is_agency_verified)&&((b=e==null?void 0:e.dataList)==null?void 0:b.is_field_verified)&&!((L=e==null?void 0:e.dataList)!=null&&L.is_geo_tagged)&&t(H,{children:t("span",{className:"text-white text-xs font-semibold",children:"(Backwarded)"})})]}),t("div",{className:"w-full rounded-lg p-4 space-b-2",children:l("div",{className:"flex flex-row flex-wrap gap-x-4 gap-y-2 w-full",children:[l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Current Ward No."}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((r=e==null?void 0:e.dataList)==null?void 0:r.ward_no)==""?"N/A":(g=e==null?void 0:e.dataList)==null?void 0:g.ward_no,((f=e==null?void 0:e.dataList)==null?void 0:f.old_ward_no)==""?(h=e==null?void 0:e.dataList)==null?void 0:h.new_ward_no:(C=e==null?void 0:e.dataList)==null?void 0:C.old_ward_no]})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Assessment Type"}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((P=e==null?void 0:e.dataList)==null?void 0:P.assessment)==""?"N/A":(k=e==null?void 0:e.dataList)==null?void 0:k.assessment,((S=e==null?void 0:e.dataList)==null?void 0:S.assessment_type)==""?"N/A":(s=e==null?void 0:e.dataList)==null?void 0:s.assessment_type]})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Property Type"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((y=e==null?void 0:e.dataList)==null?void 0:y.property_type)==""?"N/A":(I=e==null?void 0:e.dataList)==null?void 0:I.property_type})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Applicant Name"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((F=e==null?void 0:e.dataList)==null?void 0:F.owner_name)==""?"N/A":(x=e==null?void 0:e.dataList)==null?void 0:x.owner_name})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600 no-underline",children:"Mobile No. "}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((R=e==null?void 0:e.dataList)==null?void 0:R.mobile_no)==""?"N/A":(B=e==null?void 0:e.dataList)==null?void 0:B.mobile_no})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Saf/No"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((A=e==null?void 0:e.dataList)==null?void 0:A.saf_no)==""?"N/A":(M=e==null?void 0:e.dataList)==null?void 0:M.saf_no})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Property Address"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((G=e==null?void 0:e.dataList)==null?void 0:G.prop_address)==""?"N/A":(_=e==null?void 0:e.dataList)==null?void 0:_.prop_address})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Apply Date"}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((E=e==null?void 0:e.dataList)==null?void 0:E.apply_date)==""?"N/A":(O=e==null?void 0:e.dataList)==null?void 0:O.apply_date,((W=e==null?void 0:e.dataList)==null?void 0:W.application_date)==""?"N/A":(n=e==null?void 0:e.dataList)==null?void 0:n.application_date]})]})]})}),l("div",{onClick:()=>u(),className:"mb-2 mx-4 relative text-white px-2 2xl:px-4 py-[0.2rem] text-xs 2xl:text-sm md:absolute md:bottom-3 2xl:bottom-2 md:right-2 rounded-sm bg-indigo-500 border-indigo-400 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white shadow-sm  cursor-pointer poppins md:mt-0 w-max",children:["Verify Details",t(K,{className:"inline font-semibold text-xl"})]})]})})},be=e=>{var w,v,u,o,b,L,r,g,f,h,C,P,k,S,s,y,I,F;const m=J();return t(H,{children:l("div",{className:"w-full relative bg-indigo-50 shadow-md  rounded-sm pb-2 border-2 border-indigo-600 mb-4 cursor-pointer",onClick:()=>{var x;return m(`/harvestingVerify/${(x=e==null?void 0:e.dataList)==null?void 0:x.id}`)},children:[t("div",{className:"font-semibold bg-indigo-600 px-4 text-white",children:"Rain Water Harvesting Details"}),t("div",{className:"w-full rounded-lg p-4 space-b-2",children:l("div",{className:"flex flex-row flex-wrap gap-x-4 gap-y-2 w-full",children:[l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Current Ward No."}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((w=e==null?void 0:e.dataList)==null?void 0:w.ward_no)==""?"N/A":(v=e==null?void 0:e.dataList)==null?void 0:v.ward_no,((u=e==null?void 0:e.dataList)==null?void 0:u.old_ward_no)==""?(o=e==null?void 0:e.dataList)==null?void 0:o.new_ward_no:(b=e==null?void 0:e.dataList)==null?void 0:b.old_ward_no]})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Property Type"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((L=e==null?void 0:e.dataList)==null?void 0:L.property_type)==""?"N/A":(r=e==null?void 0:e.dataList)==null?void 0:r.property_type})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Application No."}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((g=e==null?void 0:e.dataList)==null?void 0:g.application_no)==""?"N/A":(f=e==null?void 0:e.dataList)==null?void 0:f.application_no})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Applicant Name"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((h=e==null?void 0:e.dataList)==null?void 0:h.applicant_name)==""?"N/A":(C=e==null?void 0:e.dataList)==null?void 0:C.applicant_name})]}),((P=e==null?void 0:e.dataList)==null?void 0:P.new_holding_no)==""?t(H,{}):l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600 no-underline",children:"Holding No. "}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:(k=e==null?void 0:e.dataList)==null?void 0:k.new_holding_no})]}),((S=e==null?void 0:e.dataList)==null?void 0:S.pt_no)==""?t(H,{}):l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600 no-underline",children:"Property Tax No. "}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((s=e==null?void 0:e.dataList)==null?void 0:s.pt_no)==""?"N/A":(y=e==null?void 0:e.dataList)==null?void 0:y.pt_no})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Apply Date"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((I=e==null?void 0:e.dataList)==null?void 0:I.date)==""?"N/A":(F=e==null?void 0:e.dataList)==null?void 0:F.date})]})]})}),l("div",{onClick:()=>{var x;return m(`/harvestingVerify/${(x=e==null?void 0:e.dataList)==null?void 0:x.id}`)},className:"mb-2 mx-4 relative text-white px-2 2xl:px-4 py-[0.2rem] text-xs 2xl:text-sm md:absolute md:bottom-3 2xl:bottom-2 md:right-2 rounded-sm bg-indigo-500 border-indigo-400 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white shadow-sm  cursor-pointer poppins md:mt-0 w-max",children:["Verify Details",t(K,{className:"inline font-semibold text-xl"})]})]})})},fe=e=>{var w,v,u,o,b,L,r,g,f,h,C,P,k,S,s,y,I,F,x,R,B;const m=J();return t(H,{children:l("div",{className:"w-full relative bg-indigo-50 shadow-md  rounded-sm pb-2 border-2 border-indigo-600 mb-4 cursor-pointer",onClick:()=>{var A;return m(`/gbSafVerify/${(A=e==null?void 0:e.dataList)==null?void 0:A.id}`)},children:[t("div",{className:"font-semibold bg-indigo-600 px-4 text-white",children:"GB SAF Details"}),t("div",{className:"w-full rounded-lg p-4 space-b-2",children:l("div",{className:"flex flex-row flex-wrap gap-x-4 gap-y-2 w-full",children:[l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Current Ward No."}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((w=e==null?void 0:e.dataList)==null?void 0:w.ward_no)==""?"N/A":(v=e==null?void 0:e.dataList)==null?void 0:v.ward_no,((u=e==null?void 0:e.dataList)==null?void 0:u.old_ward_no)==""?(o=e==null?void 0:e.dataList)==null?void 0:o.new_ward_no:(b=e==null?void 0:e.dataList)==null?void 0:b.old_ward_no]})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Assessment Type"}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((L=e==null?void 0:e.dataList)==null?void 0:L.assessment)==""?"N/A":(r=e==null?void 0:e.dataList)==null?void 0:r.assessment,((g=e==null?void 0:e.dataList)==null?void 0:g.assessment_type)==""?"N/A":(f=e==null?void 0:e.dataList)==null?void 0:f.assessment_type]})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Govt. Building Usage Type"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((h=e==null?void 0:e.dataList)==null?void 0:h.building_type)==""?"N/A":(C=e==null?void 0:e.dataList)==null?void 0:C.building_type})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Office Name"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((P=e==null?void 0:e.dataList)==null?void 0:P.gb_office_name)==""?"N/A":(k=e==null?void 0:e.dataList)==null?void 0:k.gb_office_name})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Saf/No"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((S=e==null?void 0:e.dataList)==null?void 0:S.saf_no)==""?"N/A":(s=e==null?void 0:e.dataList)==null?void 0:s.saf_no})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Building Address"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:((y=e==null?void 0:e.dataList)==null?void 0:y.prop_address)==""?"N/A":(I=e==null?void 0:e.dataList)==null?void 0:I.prop_address})]}),l("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[t("div",{className:"col-span-6 text-xs text-gray-600",children:"Apply Date"}),l("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:[((F=e==null?void 0:e.dataList)==null?void 0:F.apply_date)==""?"N/A":(x=e==null?void 0:e.dataList)==null?void 0:x.apply_date,((R=e==null?void 0:e.dataList)==null?void 0:R.application_date)==""?"N/A":(B=e==null?void 0:e.dataList)==null?void 0:B.application_date]})]})]})}),l("div",{onClick:()=>{var A;return m(`/gbSafVerify/${(A=e==null?void 0:e.dataList)==null?void 0:A.id}`)},className:"mb-2 mx-4 relative text-white px-2 2xl:px-4 py-[0.2rem] text-xs 2xl:text-sm md:absolute md:bottom-3 2xl:bottom-2 md:right-2 rounded-sm bg-indigo-500 border-indigo-400 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white shadow-sm  cursor-pointer poppins md:mt-0 w-max",children:["Verify Details",t(K,{className:"inline font-semibold text-xl"})]})]})})};function oe({filter:e,setFilter:m}){return l(H,{children:["Search : "," ",t("input",{className:"border-2 border-gray-600 px-2 bg-gray-200",type:"text",value:e||"",onChange:w=>m(w.target.value)})]})}function ye(e){var $,q;d.useState("hidden");const m=d.useMemo(()=>e.columns,[]),w=d.useMemo(()=>e.dataList,[e.dataList,e==null?void 0:e.totalCount]),[v,u]=d.useState(1),[o,b]=d.useState(!0),[L,r]=d.useState(!0),[g,f]=d.useState(10),[h,C]=d.useState(0);d.useEffect(()=>{u(1),C(0)},[e==null?void 0:e.totalCount]),d.useEffect(()=>{b(!0),r(!0);let c=(e==null?void 0:e.totalCount)/(e==null?void 0:e.perPage);(e==null?void 0:e.totalCount)%(e==null?void 0:e.perPage)!=0?G(parseInt(c)+1):G(parseInt(c)),N==v&&b(!1),(N==v||v==1)&&r(!1)},[e==null?void 0:e.totalCount,g]);const{getTableProps:P,getTableBodyProps:k,headerGroups:S,page:s,nextPage:y,previousPage:I,canNextPage:F,canPreviousPage:x,prepareRow:R,pageOptions:B,gotoPage:A,pageCount:M,setPageSize:G,state:_,rows:E,setGlobalFilter:O}=j.useTable({columns:m,data:w,initialState:{pageIndex:0}},j.useGlobalFilter,j.useSortBy,j.usePagination),{globalFilter:W,pageIndex:n,pageSize:N}=_,a=()=>{if(parseInt(h)>0&&parseInt(h)<=parseInt(e==null?void 0:e.lastPage))e==null||e.gotoPage(parseInt(h));else return!1},i=()=>{(e==null?void 0:e.lastPage)!=(e==null?void 0:e.currentPage)&&(r(!0),e.nextPage()),(e==null?void 0:e.lastPage)==(e==null?void 0:e.currentPage)&&b(!1)},D=()=>{(e==null?void 0:e.currentPage)!=1&&(b(!0),e.prevPage()),(e==null?void 0:e.currentPage)==1&&r(!1)};return l(H,{children:[t("div",{className:"flex w-full",children:l("div",{className:"flex-1",children:[t("span",{className:"opacity-50",children:"Total Result : "}),t("span",{className:"font-semibold",children:e==null?void 0:e.totalCount})," "]})}),(e==null?void 0:e.feedback)!=null&&t("div",{children:l("span",{className:"text-xs bg-gray-200 opacity-50 pr-2 pl-1 py-1 rounded-sm",children:[t(te,{className:"inline text-xs text-gray-400 mr-2"}),e.feedback]})}),t("div",{className:" py-2 overflow-x-auto bg-white shadow-md mb-2 p-2 rounded-md",children:t("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:l("div",{className:"mt-3 grid grid-cols-12 items-center shadow-md",children:[l("div",{className:"md:col-span-2 col-span-6 flex w-full ml-1 pr-10",children:[t("span",{children:t("input",{className:"h-10 w-[90%] placeholder:text-gray-600 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1 ",type:"number",onChange:c=>{C(c.target.value)},placeholder:"Go to page..."})}),l("abbr",{className:"cursor-pointer flex items-center w-[15%] no-underline",title:"Go",onClick:()=>a(),children:[" ",t("span",{className:"font-bold bg-green-300 text-xl px-2 pb-1 rounded-full hover:text-white hover:bg-green-500",children:"⇨"})," "]})]}),l("div",{className:"col-span-6 md:col-span-2 md:text-right",children:["  ",t("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:g,onChange:c=>{f(Number(c.target.value)),e.perPageC(Number(c.target.value))},children:[5,10,25,50].map(c=>l("option",{selected:c===10,value:c,children:["show ",c]},c))})]}),l("div",{className:"col-span-6 md:col-span-4 md:text-center mt-1",children:["   ",l("span",{children:["Page ","",l("strong",{children:[e==null?void 0:e.currentPage," of ",e==null?void 0:e.lastPage]}),""]})]}),l("div",{className:"col-span-6 sm:col-span-4 mt-1",children:[l("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>(e==null||e.goFirst(),r(!1),b(!0)),disabled:(e==null?void 0:e.currentPage)==1&&!0,children:[t(p,{})," "]}),t("button",{className:((e==null?void 0:e.currentPage)==1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>D(),disabled:(e==null?void 0:e.currentPage)==1&&!0,children:"⬅️"}),t("button",{className:((e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>i(),disabled:(e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)&&!0,children:"➡️"}),l("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>(e==null||e.goLast(),b(!1),r(!0)),disabled:(e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)&&!0,children:["  ",t(ee,{})]})]})]})})}),(($=e==null?void 0:e.dataList)==null?void 0:$.length)>0&&((q=e==null?void 0:e.dataList)==null?void 0:q.map(c=>l(H,{children:[((e==null?void 0:e.type)=="property"||(e==null?void 0:e.type)=="geoTagging")&&t(xe,{dataList:c,type:e==null?void 0:e.type}),(e==null?void 0:e.type)=="harvesting"&&t(be,{dataList:c}),(e==null?void 0:e.type)=="gbSaf"&&t(fe,{dataList:c})]})))]})}function ve(e){console.log("enter in margin table");const[m,w]=d.useState("hidden"),v=d.useMemo(()=>e.columns,[]),u=d.useMemo(()=>e.dataList,[e.dataList,e==null?void 0:e.totalCount]),[o,b]=d.useState(1),[L,r]=d.useState(!0),[g,f]=d.useState(!0),[h,C]=d.useState(10),[P,k]=d.useState(0);d.useEffect(()=>{b(1)},[e==null?void 0:e.totalCount]),d.useEffect(()=>{r(!0),f(!0);let c=(e==null?void 0:e.totalCount)/(e==null?void 0:e.perPage);(e==null?void 0:e.totalCount)%(e==null?void 0:e.perPage)!=0?E(parseInt(c)+1):E(parseInt(c)),i==o&&r(!1),(i==o||o==1)&&f(!1)},[e==null?void 0:e.totalCount,h]);const{getTableProps:S,getTableBodyProps:s,headerGroups:y,page:I,nextPage:F,previousPage:x,canNextPage:R,canPreviousPage:B,prepareRow:A,pageOptions:M,gotoPage:G,pageCount:_,setPageSize:E,state:O,rows:W,setGlobalFilter:n}=j.useTable({columns:v,data:u,initialState:{pageIndex:0}},j.useGlobalFilter,j.useSortBy,j.usePagination),{globalFilter:N,pageIndex:a,pageSize:i}=O,D=()=>{if(parseInt(P)>0&&parseInt(P)<=parseInt(e==null?void 0:e.lastPage))e==null||e.gotoPage(parseInt(P));else return!1},$=()=>{(e==null?void 0:e.lastPage)!=(e==null?void 0:e.currentPage)&&(f(!0),e.nextPage()),(e==null?void 0:e.lastPage)==(e==null?void 0:e.currentPage)&&r(!1)},q=()=>{(e==null?void 0:e.currentPage)!=1&&(r(!0),e.prevPage()),(e==null?void 0:e.currentPage)==1&&f(!1)};return l(H,{children:[l("div",{className:"flex mb-2 pb-2",children:[t("div",{className:"flex-initial opacity-50",children:t(oe,{filter:N,setFilter:n})}),t("div",{className:"flex-initial ml-2",children:l("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>w(""),onMouseLeave:()=>w("hidden"),onClick:e.exportDataF,children:["Export",t("div",{className:m+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:t(re,{})})]})}),t("div",{className:"flex-1",children:e.children})]}),t("div",{className:"flex w-full",children:l("div",{className:"flex-1",children:[t("span",{className:"opacity-50",children:"Total Result : "}),t("span",{className:"font-semibold",children:e==null?void 0:e.totalCount})," "]})}),(e==null?void 0:e.feedback)!=null&&t("div",{children:l("span",{className:"text-xs bg-gray-200 opacity-50 pr-2 pl-1 py-1 rounded-sm",children:[t(te,{className:"inline text-xs text-gray-400 mr-2"}),e.feedback]})}),t("div",{className:" py-2 overflow-x-auto bg-white",children:l("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[l("table",{...s,className:"min-w-full leading-normal",children:[t("thead",{className:"font-bold text-left text-sm bg-sky-50",children:y==null?void 0:y.map(c=>t("tr",{...c.getHeaderGroupProps(),children:c.headers.map(V=>l("th",{...V.getHeaderProps(V.getSortByToggleProps()),className:(V==null?void 0:V.className)+" px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase ",children:[V.render("Header"),t("span",{children:V.isSorted?V.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),l("tbody",{...s(),className:"text-sm",children:[W.map((c,V)=>{var U;return A(c),t("tr",{...c.getRowProps(),className:"bg-white shadow-lg border-[1px] border-gray-200",children:(U=c==null?void 0:c.cells)==null?void 0:U.map(z=>t("td",{...z.getCellProps(),className:"px-2 py-2 text-sm text-left border-[1px] border-gray-200",children:z.render("Cell")}))})}),t("tr",{children:t("td",{})})]})]}),l("div",{className:"mt-3 grid grid-cols-12 items-center",children:[l("div",{className:"sm:col-span-2 col-span-3 flex w-full ml-1 pr-10",children:[t("span",{children:t("input",{className:"h-10 w-[90%] placeholder:text-gray-600 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1 ",type:"number",onChange:c=>{k(c.target.value)},placeholder:"Go to page..."})}),l("abbr",{className:"cursor-pointer flex items-center w-[15%] no-underline",title:"Go",onClick:()=>D(),children:[" ",t("span",{className:"font-bold bg-green-300 text-xl px-2 pb-1 rounded-full hover:text-white hover:bg-green-500",children:"⇨"})," "]})]}),l("div",{className:"col-span-2",children:["  ",t("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",value:h,onChange:c=>{C(Number(c.target.value)),e.perPageC(Number(c.target.value))},children:[5,10,25,50].map(c=>l("option",{selected:c===10,value:c,children:["show ",c]},c))})]}),l("div",{className:"col-span-3 sm:col-span-4 text-center sm:col-start-5 col-start-7",children:["   ",l("span",{children:["page ","",l("strong",{children:[e==null?void 0:e.currentPage," of ",e==null?void 0:e.lastPage]}),""]})]}),l("div",{className:"col-span-3 sm:col-span-4 text-right",children:[l("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>(e==null||e.goFirst(),f(!1),r(!0)),disabled:(e==null?void 0:e.currentPage)==1&&!0,children:[t(p,{})," "]}),t("button",{className:((e==null?void 0:e.currentPage)==1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>q(),disabled:(e==null?void 0:e.currentPage)==1&&!0,children:"⬅️"}),t("button",{className:((e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>$(),disabled:(e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)&&!0,children:"➡️"}),l("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>(e==null||e.goLast(),r(!1),f(!0)),disabled:(e==null?void 0:e.currentPage)==(e==null?void 0:e.lastPage)&&!0,children:["  ",t(ee,{})]})]})]})]})})]})}const Ne=e=>{const[m,w]=d.useState(10),[v,u]=d.useState(1),[o,b]=d.useState(0),[L,r]=d.useState(0),[g,f]=d.useState(0),[h,C]=d.useState(),[P,k]=d.useState(!1),[S,s]=d.useState(!1),[y,I]=d.useState(),[F,x]=d.useState(!1),R=()=>{s(!1),x(!0),Q.post(e==null?void 0:e.api,{...e==null?void 0:e.requestBody,perPage:m,page:v},X()).then(n=>{var N,a,i,D,$,q,c,V,U,z;((N=n==null?void 0:n.data)==null?void 0:N.status)==!0?(e!=null&&e.getData&&(e==null||e.allData((a=n==null?void 0:n.data)==null?void 0:a.data)),I((D=(i=n==null?void 0:n.data)==null?void 0:i.data)==null?void 0:D.data),f((q=($=n==null?void 0:n.data)==null?void 0:$.data)==null?void 0:q.total),b((V=(c=n==null?void 0:n.data)==null?void 0:c.data)==null?void 0:V.current_page),r((z=(U=n==null?void 0:n.data)==null?void 0:U.data)==null?void 0:z.last_page)):s(!0),x(!1)}).catch(n=>(console.log("error while search => ",n),x(!1),s(!0)))};d.useEffect(()=>{(e==null?void 0:e.requestBody)!=null&&(u(1),w(10),R())},[e==null?void 0:e.changeData]);const B=()=>{u(o+1)},A=()=>{u(o-1)},M=n=>{let N=parseInt(g/n),a=parseInt(g%n);if(a==0){N<o&&u(N),w(n);return}if(a!=0){N+1<o&&u(N+1),w(n);return}};d.useEffect(()=>{x(!0),R()},[v,m]);const G=()=>{u(1)},_=()=>{u(L)},E=n=>{u(n)},O=()=>{x(!0),k(!1),Q.post(e==null?void 0:e.api,{...e==null?void 0:e.requestBody,perPage:g},X()).then(n=>{var N,a,i;((N=n==null?void 0:n.data)==null?void 0:N.status)==!0&&(C((i=(a=n==null?void 0:n.data)==null?void 0:a.data)==null?void 0:i.data),W()),x(!1)}).catch(n=>{x(!1)})},W=()=>{k(!0)};return l(H,{children:[S&&l("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[t("strong",{className:"font-bold",children:"Sorry! "}),t("span",{className:"block sm:inline",children:"Some error occured while fetching list. Please try again later."}),t("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]}),P&&t(ie,{data:h}),F&&t(ue,{className:"text-center z-10 backdrop-blur-sm"}),!S&&!F&&y!=null&&(y==null?void 0:y.length)!=0?t(H,{children:e!=null&&e.margin?t(ve,{type:e==null?void 0:e.type,currentPage:o,lastPage:L,goFirst:G,goLast:_,count1:g,columns:e==null?void 0:e.columns,dataList:y,exportStatus:!0,perPage:m,perPageC:M,totalCount:g,nextPage:B,prevPage:A,exportDataF:O,exportData:h}):t(ye,{type:e==null?void 0:e.type,currentPage:o,lastPage:L,goFirst:G,goLast:_,count1:g,columns:e==null?void 0:e.columns,dataList:y,exportStatus:!0,perPage:m,perPageC:M,totalCount:g,nextPage:B,prevPage:A,exportDataF:O,exportData:h,gotoPage:n=>E(n)})}):t(H,{children:!F&&!S&&l("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[t("span",{className:"block sm:inline",children:"Oops! No data available."}),t("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]})})]})},Te=()=>{d.useState(),d.useState(!1);const[e,m]=d.useState(null),[w,v]=d.useState(),[u,o]=d.useState(!1),[b,L]=d.useState(!1),[r,g]=d.useState(""),[f,h]=d.useState(""),[C,P]=d.useState(null),[k,S]=d.useState(0);me("Search Application");const{type:s}=ne(),{api_filterPropertyAppliedApplications:y,api_safInboxList:I,api_harvestingInboxList:F,api_geoTaggingList:x,api_gbSafIndex:R}=se();let B=[{Header:"Ward No",accessor:"ward_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.ward_no)})}},{Header:"Saf No.",accessor:"saf_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.saf_no)})}},{Header:"Owner Name",accessor:"owner_name",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.owner_name)})}},{Header:"Property Type",accessor:"property_type",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.property_type)})}},{Header:"Apply Date",accessor:"apply_date",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.apply_date)})}},{Header:"Assessment Type",accessor:"assessment",Cell:({cell:a})=>t("div",{className:" rounded-full shadow-lg h-7 mx-auto w-7 font-semibold text-center py-1 text-sm px-1  "+(a.row.values.assessment=="New Assessment"?"bg-green-200 text-green-900 ":"")+(a.row.values.assessment=="Re Assessment"?"bg-indigo-200 text-indigo-900 ":"")+(a.row.values.assessment=="Mutation"?"bg-red-200 text-red-900":""),children:Array.from(a.row.values.assessment)[0]})},{Header:"Action",Cell:({cell:a})=>t("button",{onClick:()=>{var i,D;E("/propVerify/"+((D=(i=a==null?void 0:a.row)==null?void 0:i.original)==null?void 0:D.id))},className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
            hover:text-white text-black`,children:"Verify"})}],A=[{Header:"#",Cell:({row:a})=>t("div",{className:"pr-2",children:a.index+1})},{Header:"Ward No",accessor:"ward_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.ward_no)})}},{Header:"Application No.",accessor:"application_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.application_no)})}},{Header:"Holding No.",accessor:"holding_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.holding_no)})}},{Header:"Applicant Name",accessor:"applicant_name",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.applicant_name)})}},{Header:"Property Type",accessor:"property_type",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.property_type)})}},{Header:"Apply Date",accessor:"date",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.date)})}},{Header:"Action",Cell:({cell:a})=>t("button",{onClick:()=>{var i,D;E("/harvestingVerify/"+((D=(i=a==null?void 0:a.row)==null?void 0:i.original)==null?void 0:D.id))},className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
              hover:text-white text-black`,children:"Verify"})}],M=[{Header:"#",Cell:({row:a})=>t("div",{className:"pr-2",children:a.index+1})},{Header:"Ward No",accessor:"ward_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.ward_no)})}},{Header:"Saf No.",accessor:"saf_no",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.saf_no)})}},{Header:"Officer Name",accessor:"officer_name",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.officer_name)})}},{Header:"Building Type",accessor:"building_type",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.building_type)})}},{Header:"Apply Date",accessor:"apply_date",Cell:({cell:a})=>{var i;return t("span",{children:T((i=a.row.original)==null?void 0:i.apply_date)})}},{Header:"Assessment Type",accessor:"assessment",Cell:({cell:a})=>t("div",{className:" rounded-full shadow-lg h-7 mx-auto w-7 font-semibold text-center py-1 text-sm px-1  "+(a.row.values.assessment=="New Assessment"?"bg-green-200 text-green-900 ":"")+(a.row.values.assessment=="Re Assessment"?"bg-indigo-200 text-indigo-900 ":"")+(a.row.values.assessment=="Mutation"?"bg-red-200 text-red-900":""),children:Array.from(a.row.values.assessment)[0]})},{Header:"Action",Cell:({cell:a})=>t("button",{onClick:()=>{var i,D;E("/gbSafVerify/"+((D=(i=a==null?void 0:a.row)==null?void 0:i.original)==null?void 0:D.id))},className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
            hover:text-white text-black`,children:"Verify"})}];const G=de({searchBy:Y().required("Select filter type"),entry:Y().required("Enter the parameter")}),_=ce({initialValues:{searchBy:"",entry:""},onSubmit:a=>{O(a)},validationSchema:G}),E=J();d.useEffect(()=>{s=="property"&&(g("saf"),m(B)),s=="harvesting"&&(g("harvesting"),m(A)),s=="gbSaf"&&(g("gbsaf"),m(M)),s=="geoTagging"&&(g("geoTagging"),m(B)),W()},[s]);const O=a=>{P({[a==null?void 0:a.searchBy]:a==null?void 0:a.entry}),s=="property"&&(g("saf"),m(B)),s=="harvesting"&&(g("harvesting"),m(A)),s=="gbSaf"&&(g("gbsaf"),m(M)),s=="geoTagging"&&(g("geoTagging"),m(B)),L(!0),S(i=>i+1)},W=()=>{_.setFieldValue("searchBy",""),_.setFieldValue("entry",""),P({}),s=="harvesting"&&h(F),s=="property"&&h(I),s=="gbSaf"&&h(R),s=="geoTagging"&&h(x),L(!1),S(a=>a+1)},n=a=>{_.values.filterBy=a.target.value,a.target.value=="holdingNo"&&v("15 Digit Holding No"),a.target.value=="ownerDetails"&&v("Owner Details"),a.target.value=="address"&&v("Address")},N=a=>{let i=a.target.name;a.target.value,i=="filterBy"&&n(a)};return t(H,{children:l("div",{className:"border shadow-xl bg-white mt-2",children:[l("div",{className:"flex ml-5 mt-2 items-center",children:[t("img",{src:he,alt:"",className:"w-10 h-10"}),l("p",{className:"font-semibold md:text-2xl text-xl ml-4 mt-1 text-gray-600",children:["Search ",s=="property"&&"SAF",s=="harvesting"&&"Rain Water Harvesting",s=="gbSaf"&&"GB SAF",s=="geoTagging"&&"Geo-Tagging"," Application"]})]}),t("form",{onSubmit:_.handleSubmit,onChange:N,children:l("div",{className:"flex flex-row flex-wrap justify-center items-center gap-y-2 my-5 m-10",children:[l("div",{className:"w-full md:w-max",children:[l("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",t("span",{className:"text-red-500",children:"*"})]}),l("select",{..._.getFieldProps("searchBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[t("option",{value:"",children:"Select"}),t("option",{value:"applicationNo",children:"Application No."}),s!="gbSaf"&&t("option",{value:"name",children:"Name"}),s!="gbSaf"&&s!="harvesting"&&t("option",{value:"mobileNo",children:"Mobile No."}),s=="harvesting"&&t("option",{value:"holdingNo",children:"Holding No."}),s=="harvesting"&&t("option",{value:"ptNo",children:"Property Tax No."})]}),t("p",{className:"text-red-500 text-xs",children:_.touched.searchBy&&_.errors.searchBy?_.errors.searchBy:null})]}),l("div",{className:"w-full md:w-auto md:mr-5",children:[l("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Parameter ",w,t("span",{className:"text-red-500",children:"*"})]}),t("input",{type:"text",..._.getFieldProps("entry"),placeholder:"Enter the parameter",className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"})]}),l("div",{className:"mt-4 w-full md:w-max flex-col items-center justify-end ",children:[u?t(H,{children:!b&&t("div",{className:"flex justify-center",children:t(Z,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):t("button",{type:"submit",className:"w-full border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-lg rounded-sm text-base font-semibold px-5 py-1",children:l("p",{className:"flex items-center gap-x-4 justify-center",children:[t("span",{className:"",children:t(ge,{fontSize:"large"})}),"Search Record"]})}),b&&t("div",{className:"w-full mt-2",onClick:()=>W(),children:u?t("div",{className:"flex justify-center",children:t(Z,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):t("div",{className:"cursor-pointer text-center w-full border border-indigo-600 bg-indigo-500 hover:bg-indigo-600 text-white shadow-lg rounded-sm text-base font-semibold px-5 py-1",children:"View All Applications"})})]})]})}),t("div",{className:"mt-10 mx-4 pb-4",children:f!=""&&t(Ne,{api:f,columns:e,requestBody:C,changeData:k,type:s})})]})})};export{Te as default};
