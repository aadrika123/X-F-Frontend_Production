import{r as o,a as X,d as Z,f as H,g as D,E as W,j as a,F as g,b as e}from"./index-aa793834.js";import{W as ee}from"./WaterApiList-5aa50fab.js";import{a as j}from"./index.esm-dfb5f111.js";import"./iconBase-cf1a6dcf.js";const pe=le=>{var v,y,f;const[m,q]=o.useState(),[h,ae]=o.useState(!1);o.useState(!1),o.useState(!1),o.useState();const[te,u]=o.useState(!1),[c,x]=o.useState(),[p,U]=o.useState([]),[N,se]=o.useState(),[n,ne]=o.useState(),[M,de]=o.useState(!1),{header:b,api_getSafHoldingDetails:G,api_ulbList:E}=ee(),Y=X(),d="form-group col-span-4 md:col-span-1 mb-6 md:px-4",r="form-label inline-block mb-1 text-gray-900 text-sm font-semibold",i="bg-white px-2 py-1 w-full rounded-sm shadow-md border-[1px] border-gray-400 cursor-pointer";Z({typeofConnection:H().required("Require")});const l=D({initialValues:{},enableReinitialize:!0,onSubmit:(t,s)=>{console.log("Value.....",t)}}),J=t=>{};o.useEffect(()=>{K()},[]);const K=()=>{W.get(`${E}`,b).then(t=>{console.log("LIst of ULB",t),q(t.data.data)}).catch(t=>console.log("Exception while feting ULB LIst",t))},Q=()=>{console.log("Fetching Data.."),U([]);const t={connectionThrough:l.values.connectionThrough,id:l.values.connectionThrough,ulbId:l.values.ulb};W.post(G,t,b).then(s=>{var $,w,T,F,P,A,S,C,L,_,k,V,B,I,O,z,R;console.log("Response of holding/saf",s),s.data.status==!0&&(u(!1),x(($=s==null?void 0:s.data)==null?void 0:$.data),l.setFieldValue("totalArea",(T=(w=s==null?void 0:s.data)==null?void 0:w.data)==null?void 0:T.areaInSqFt),l.setFieldValue("address",(P=(F=s==null?void 0:s.data)==null?void 0:F.data)==null?void 0:P.prop_address),l.setFieldValue("pincode",(S=(A=s==null?void 0:s.data)==null?void 0:A.data)==null?void 0:S.prop_pin_code),l.setFieldValue("wardNo",(L=(C=s==null?void 0:s.data)==null?void 0:C.data)==null?void 0:L.wardNo),l.setFieldValue("old_ward_no",(k=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:k.old_ward_no),l.setFieldValue("ownerName",(B=(V=s==null?void 0:s.data)==null?void 0:V.data)==null?void 0:B.owner_name),l.setFieldValue("guardianName",(O=(I=s==null?void 0:s.data)==null?void 0:I.data)==null?void 0:O.guardian_name),l.setFieldValue("mobileNo",(R=(z=s==null?void 0:s.data)==null?void 0:z.data)==null?void 0:R.mobile_no),l.setFieldValue("ownerType",1)),s.data.status==!1&&(x({message:"Please enter valid no."}),u(!1))}).catch(s=>{console.log("Failed to Saf Holding ",s),x({message:"Error While Fetching Data"}),u(!1)})};return a(g,{children:[e("div",{className:"text-center font-bold text-gray-700 text-lg border-b-2 border-gray-700 mx-4 mb-4",children:e("p",{children:" Applying For New Water Connection "})}),a("form",{className:"border-2 border-blue-700 bg-blue-50 mb-4 m-2",onChange:J,onSubmit:l.handleSubmit,children:[e("h1",{className:"text-center font-semibold bg-blue-700 text-white uppercase text-lg",children:"Application Form"}),a("div",{className:"grid grid-cols-1 md:grid-cols-4 p-6",children:[a("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4",children:[a("div",{className:"grid grid-cols-12 text-sm text-gray-700 mb-6",children:[a("label",{className:"col-span-12 font-semibold mb-2",children:["Select ULB",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("span",{className:"col-span-12",children:[a("select",{type:"date",...l.getFieldProps("ulb"),value:l.values.ulb,className:"bg-white px-2 py-1 w-full rounded-sm shadow-md border-[1px] border-gray-400 cursor-pointer",children:[e("option",{value:"",children:"Select"}),m==null?void 0:m.map(t=>e("option",{value:t.id,children:t.ulb_name}))]}),e("span",{className:"text-red-600 text-xs",children:l.touched.ulb&&l.errors.ulb?l.errors.ulb:null})]})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Connection Through"]}),a("select",{...l.getFieldProps("connectionThrough"),className:`${i} cursor-pointer `,children:[e("option",{value:"",children:" Select "}),e("option",{value:"1",children:"Holding No."}),e("option",{value:"2",children:"SAF No."})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.connectionThrough&&l.errors.connectionThrough?l.errors.connectionThrough:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Holding/SAF"]}),e("input",{...l.getFieldProps("holdingNo"),onBlur:Q,className:`${i} cursor-pointer `}),e("p",{className:"text-red-500 text-xs",children:l.touched.holdingNo&&l.errors.holdingNo?l.errors.holdingNo:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Type of Request"]}),a("select",{...l.getFieldProps("typeofConnection"),className:`${i} cursor-pointer `,children:[e("option",{value:"",children:"select"}),e("option",{value:"1",children:"New Connection"}),e("option",{value:"2",children:"Regularization"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.typeofConnection&&l.errors.typeofConnection?l.errors.typeofConnection:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Type"]}),c!=null&&c.tenanted?a("select",{...l.getFieldProps("ownerType"),className:`${i} `,children:[e("option",{value:"",children:"select"}),e("option",{value:"1",children:"Owner"}),e("option",{value:"2",children:"Tenant"})]}):e("div",{children:e("input",{type:"text",disabled:!0,value:"Owner",className:`${i} bg-gray-100`})}),e("p",{className:"text-red-500 text-xs",children:l.touched.ownerType&&l.errors.ownerType?l.errors.ownerType:null})]})]}),a("div",{className:"col-span-4 grid grid-cols-3",children:[a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Property Type"]}),a("select",{...l.getFieldProps("propertyType"),className:`${i} cursor-pointer `,children:[e("option",{value:"",children:"Select"}),((v=c==null?void 0:c.usageType)==null?void 0:v.length)>0&&((y=c==null?void 0:c.usageType)==null?void 0:y.map(t=>e("option",{value:t.id,children:t.usageType}))),e("option",{value:"7",children:"Apartment / Multistory Building"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.propertyType&&l.errors.propertyType?l.errors.propertyType:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Category Type"]}),a("select",{disabled:!h,...l.getFieldProps("categoryType"),type:"text",className:`${i} ${!h&&"bg-gray-300 opacity-30"}`,children:[e("option",{value:"",children:"Select"}),e("option",{value:"APL",children:"APL"}),e("option",{value:"BPL",children:"BPL"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.categoryType&&l.errors.categoryType?l.errors.categoryType:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pipeline Type"]}),a("select",{disabled:!h,...l.getFieldProps("pipelineType"),type:"date",className:`${i} ${!h&&"bg-gray-300 opacity-30"}`,children:[e("option",{value:"",children:"Select"}),e("option",{value:"2",children:"New Pipeline"}),e("option",{value:"1",children:"Old Pipeline"})]}),e("p",{className:"text-red-500 text-xs",children:l.touched.pipelineType&&l.errors.pipelineType?l.errors.pipelineType:null})]})]}),a("div",{className:"col-span-4 grid grid-cols-3",children:[a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No."]}),a("div",{children:[e("input",{disabled:!0,type:"text",...l.getFieldProps("old_ward_no"),className:`${i} bg-gray-100 `}),e("input",{type:"hidden",...l.getFieldProps("wardNo"),className:`${i} bg-gray-100 `})]})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area(Sq.Ft.)"]}),e("input",{disabled:!0,type:"text",...l.getFieldProps("totalArea"),className:`${i} bg-gray-100 `}),e("p",{className:"text-red-500 text-xs",children:l.touched.totalArea&&l.errors.totalArea?l.errors.totalArea:null})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pincode"]}),e("input",{type:"text",disabled:!0,...l.getFieldProps("pincode"),className:`${i} bg-gray-100`}),e("p",{className:"text-red-500 text-xs",children:l.touched.pincode&&l.errors.pincode?l.errors.pincode:null})]})]}),e("div",{className:"col-span-4 grid grid-cols-1",children:a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:[e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Address"]}),e("textarea",{type:"text",disabled:!0,...l.getFieldProps("address"),className:`${i} bg-gray-100`}),e("p",{className:"text-red-500 text-xs",children:l.touched.address&&l.errors.address?l.errors.address:null})]})}),(c==null?void 0:c.owners)&&e("div",{className:"col-span-4 grid grid-cols-1",children:a("div",{className:`${d}`,children:[e("div",{className:"p-2 bg-indigo-500 rounded text-white",children:a("p",{className:"font-semibold text-gray-200 flex text-xs",children:[" ",e("span",{className:"mt-0.5 mr-1",children:e(j,{})})," List of Owner(s) from Property"]})}),a("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e("thead",{class:"text-xs text-left text-gray-900 bg-indigo-300",children:a("tr",{children:[e("th",{}),e("th",{class:"p-2",children:e("div",{class:"",children:"Sl"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Name"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Father"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Phone No"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Email"})})]})}),e("tbody",{class:"text-sm divide-y divide-gray-100",children:e(g,{children:(f=c==null?void 0:c.owners)==null?void 0:f.map((t,s)=>a("tr",{children:[e("td",{}),e("td",{class:"p-2",children:a("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[s+1,"."]})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t!=null&&t.ownerName?t==null?void 0:t.ownerName:"N/A"})}),e("td",{class:"p-2",children:e("div",{class:"text-left",children:t!=null&&t.guardianName?t==null?void 0:t.guardianName:"N/A"})}),e("td",{class:"p-2",children:e("div",{class:"text-left font-medium text-gray-800  text-xs",children:t!=null&&t.mobileNo?t==null?void 0:t.mobileNo:"N/A"})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t!=null&&t.email?t==null?void 0:t.email:"N/A"})})]}))})})]})]})}),e("div",{className:"col-span-4 grid grid-cols-1",children:p.length==0?e("p",{className:"text-center font-semibold text-sm  text-red-500"}):a("div",{className:`${d}`,children:[a("div",{className:"p-2 bg-yellow-200 rounded",children:[a("p",{className:"font-semibold text-gray-800 flex",children:[" ",e("span",{className:"mt-0.5 mr-1",children:e(j,{})})," List of Tenet"]}),e("p",{className:"text-sm font-semibold text-gray-700",children:"You can add or remove water Tenet from below actions."})]}),a("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e("thead",{class:"text-xs text-left text-gray-900 bg-sky-300",children:a("tr",{children:[e("th",{}),e("th",{class:"p-2",children:e("div",{class:"",children:"Sl"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Name"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Applicant Father"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Phone No"})}),e("th",{class:"p-2",children:e("div",{class:"",children:"Email"})}),e("th",{class:"p-2",children:e("div",{class:" text-center",children:"Delete"})})]})}),e("tbody",{class:"text-sm divide-y divide-gray-100",children:e(g,{children:p==null?void 0:p.map((t,s)=>a("tr",{children:[e("td",{}),e("td",{class:"p-2",children:a("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[s+1,"."]})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t==null?void 0:t.ownerName})}),e("td",{class:"p-2",children:e("div",{class:"text-left",children:t==null?void 0:t.guardianName})}),e("td",{class:"p-2",children:e("div",{class:"text-left font-medium text-gray-800  text-xs",children:t==null?void 0:t.mobileNo})}),e("td",{class:"p-2",children:e("div",{class:"font-medium text-gray-800 text-left text-xs",children:t==null?void 0:t.email})}),e("td",{class:"",children:e("div",{class:"flex justify-center",children:e("button",{type:"button",onClick:()=>handleRemove(s),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 text-red-500 hover:text-red-700",children:e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})})})})})]}))})})]})]})}),M&&a("div",{className:"col-span-4 grid grid-cols-4",children:[a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:["Applicant Name ",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e("input",{type:"text",...l.getFieldProps("ownerName"),className:`${i} `,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:(n==null?void 0:n.ownerName)&&(n==null?void 0:n.ownerName)})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:["Guardian Name ",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e("input",{type:"text",...l.getFieldProps("guardianName"),className:`${i}`,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:(n==null?void 0:n.guardianName)&&(n==null?void 0:n.guardianName)})]}),a("div",{className:`${d}`,children:[a("label",{className:`${r}`,children:["Mobile No ",e("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e("input",{type:"text",...l.getFieldProps("mobileNo"),className:`${i}`,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:(n==null?void 0:n.mobileNo)&&(n==null?void 0:n.mobileNo)})]}),a("div",{className:`${d}`,children:[e("label",{className:`${r}`,children:"Email Id "}),e("input",{...l.getFieldProps("email"),className:`${i}`,onChange:l.handleChange}),e("p",{className:"text-red-500 text-xs",children:l.touched.email&&l.errors.email?l.errors.email:null})]}),e("div",{className:"col-span-4 grid grid-cols-1",children:e("div",{className:"col-span-4",children:e("div",{className:"float-right mr-4 -mt-4 mb-5",children:e("button",{type:"button",onClick:handleMultipleOwner,className:"bg-cyan-500 hover:bg-cyan-400 text-sm text-white px-3 py-1 rounded",children:"Add"})})})})]}),e("div",{className:"col-span-4 mb-3",children:e("div",{className:"text-center text-red-600 font-semibold",children:N&&"Error : "+N})}),e("div",{className:"col-span-4",children:e("div",{className:"flex justify-center",children:a("div",{className:"space-x-8 flex",children:[e("button",{type:"button",onClick:()=>Y("/view-water"),className:" px-5 py-2 bg-red-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",children:"Cancel"}),e("button",{type:"submit",className:" px-5 py-2 bg-indigo-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit Form"})]})})})]})]})]})};export{pe as default};
