import{h as w,j as a,f as t,ay as k,az as N,F as c,aA as L,n as j,W as S,aB as C,aC as I,g as z,ax as H,r,aD as P,d as y,e as _,A as F}from"./index-d822e393.js";import{S as R}from"./ShimmerEffectInline-096e8a6a.js";import{a as T}from"./index.esm-67f92904.js";const B=e=>{var d;const n=w();return a("div",{className:" bg-white shadow-xl py-4 px-2 md:px-6 md:py-6 mt-4 mx-10 mb-10 animate__animated animate__fadeInDown animate__faster",children:t("div",{className:"flex flex-col md:flex-row",children:[t("div",{className:"flex-initial ml-4",children:[a("div",{className:"text-2xl font-bold text-black google-roboto capitalize",children:e==null?void 0:e.heading}),a("div",{className:"mt-1",children:t("span",{className:"text-gray-600",children:[a(k,{className:"inline text-green-500 text-xl"}),e==null?void 0:e.subHeading]})}),a("div",{})]}),t("div",{className:"flex-1 flex text-right justify-center items-center md:justify-end md:items-end h-full mt-4 md:mt-0",children:[a(N,{anchorId:"button-3"}),a("button",{id:"button-3","data-tooltip-content":"Click to change password.",onClick:()=>n(e==null?void 0:e.changePasswordLink),className:"mr-4 cypress_floor_add_update text-gray-700 px-4 md:px-8 py-3 bg-white-600 font-medium border text-xs leading-tight capitalize rounded-xl shadow-md hover:bg-indigo-500 hover:shadow-lg focus:bg-indigo-500 hover:text-white focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Change Password"}),((d=e==null?void 0:e.allRole)==null?void 0:d.user_type)=="CO"&&t(c,{children:[a(N,{anchorId:"button-1"}),a("button",{id:"button-1","data-tooltip-content":"Click to go to fine & penalty workflow.",onClick:()=>n(e==null?void 0:e.mainWorkflowLink),className:"cypress_floor_add_update text-white px-4 md:px-8 py-3 bg-indigo-500 font-medium border text-xs leading-tight capitalize rounded-xl shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Fine & Penalty Workflow"})]})]})]})})},b=e=>{const n=w();return t("div",{className:"w-full rounded overflow-hidden shadow-lg bg-white p-2 px-10 flex items-center gap-6",children:[a("div",{className:"flex-1",children:e==null?void 0:e.heading}),a("div",{onClick:()=>n(e==null?void 0:e.path),className:"cursor-pointer hover:bg-indigo-200 w-10 h-10 bg-indigo-50 rounded-full inline-flex justify-center items-center",children:a(L,{className:"inline text-indigo-500"})})]})},D=e=>{var n,d,i,h,g;return w(),a(c,{children:t("table",{className:"min-w-full leading-normal",children:[a("thead",{className:"bg-indigo-100",children:t("tr",{className:"font-semibold",children:[a("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:"#"}),(n=e==null?void 0:e.heading)==null?void 0:n.map(o=>a("th",{scope:"col",className:"px-2 py-2 border-b border-gray-200 text-gray-800  text-left text-sm",children:o}))]})}),a("tbody",{className:"bg-white",children:e!=null&&e.loading?a("tr",{children:a("td",{colSpan:((d=e==null?void 0:e.heading)==null?void 0:d.length)+2,children:a(R,{})})}):a(c,{children:Array.isArray(e==null?void 0:e.data)&&a(c,{children:((i=e==null?void 0:e.data)==null?void 0:i.length)>0?a(c,{children:(h=e==null?void 0:e.data)==null?void 0:h.map((o,m)=>{var s;return a(c,{children:t("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[a("td",{className:"px-2 py-2 text-sm text-left",children:m+1}),(s=e==null?void 0:e.dataKey)==null?void 0:s.map((u,f)=>{var x;return a("td",{className:`px-2 py-2 text-sm text-left ${f==((x=e==null?void 0:e.dataKey)==null?void 0:x.length)-1&&"w-[7%]"}`,children:j(o[u])})})]})})})}):a("tr",{children:a("td",{colSpan:((g=e==null?void 0:e.heading)==null?void 0:g.length)+2,className:"text-center text-red-500 font-semibold py-4",children:"No Application Found"})})})})})]})})},E="/assets/forms-9a62bcb2.png",v=e=>a("div",{class:"transform hover:scale-105 transition duration-300 shadow-xl",children:t("div",{class:"p-5 bg-white",children:[t("div",{class:"flex justify-between border-b pb-4",children:[a("span",{className:"w-10 h-10 bg-indigo-100 rounded-full flex justify-center items-center",children:a("img",{className:"bg-indigo-50 rounded-full p-1",src:E,alt:""})}),a("div",{class:"bg-indigo-100 rounded-full h-6 px-2 flex justify-items-center text-indigo-600 font-semibold text-xs",children:a("span",{class:"flex items-center",children:S(C())})})]}),a("div",{class:"ml-2 w-full flex-1",children:a("div",{children:t("div",{class:"flex justify-between mt-4 pr-4",children:[a("div",{class:"mt-1 text-base text-gray-600",children:e==null?void 0:e.heading}),a("div",{className:"font-bold leading-8 text-xl",children:e!=null&&e.loading?a("div",{class:"spinner2"}):I(e==null?void 0:e.total)})]})})})]})});function O(){z("Home");const{api_agencyapplicationdtls:e,api_agencydashboard:n}=F(),d=H("userDetails"),[i,h]=r.useState(null),[g,o]=r.useState(null),[m,s]=r.useState(!1),[u,f]=r.useState(!1),x=()=>{s(!0),y.post(e,{},_()).then(function(l){console.log("approved list data",l.data.data),o(l.data.data)}).catch(function(l){console.log("errorrr.... ",l)}).finally(()=>s(!1))},A=()=>{f(!0),y.post(n,{},_()).then(function(l){console.log("pending list data",l.data.data),h(l.data.data),s(!1)}).catch(function(l){console.log("errorrr.... ",l)}).finally(()=>f(!1))};return r.useEffect(()=>{x(),A()},[]),t(c,{children:[t("div",{className:"mb-4 mt-2 flex flex-row items-center ml-12",children:[t("div",{className:"flex items-center",children:[a(T,{className:"mr-2 text-indigo-700",size:24}),a("p",{className:"mb-0 text-gray-800 font-semibold text-2xl",children:a("span",{className:"text-indigo-700",children:i==null?void 0:i.agency_name})})]}),a("span",{className:"mx-4 text-gray-400",children:"|"}),t("div",{className:"flex items-center",children:[a(P,{className:"mr-2 text-indigo-700",size:24}),t("p",{className:"mb-0 text-gray-800 font-semibold text-2xl",children:[" ",a("span",{className:"text-indigo-700",children:i==null?void 0:i.mobile})]})]})]}),a(B,{allRole:d,heading:"Agency Home Page",subHeading:"Verified Account",changePasswordLink:"/change-password"}),t("div",{className:"flex flex-row p-10 gap-4",children:[a("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:a(v,{heading:"Rejected  Application",total:i==null?void 0:i.rejected,loading:m})}),a("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:a(v,{heading:"Pending Application",total:i==null?void 0:i.pendings,loading:m})}),a("div",{className:"w-[45%] animate__animated animate__zoomIn animate__faster",children:a(v,{heading:"Approved Application",total:i==null?void 0:i.approved,loading:m})})]}),t("div",{class:"flex flex-row  gap-4 ml-[5%]",children:[a("div",{className:"w-full md:w-[30%]",children:a(b,{heading:"Application List",path:"/agencyhoardinglist"})}),a("div",{className:"w-full md:w-[30%]",children:a(b,{heading:"Booked Hoarding",path:"/Search-booked-hoarding"})}),a("div",{className:"w-full md:w-[30%]",children:a(b,{heading:"Rejected Document Application",path:"/back-to-agency"})})]}),t("div",{className:"mx-10 mt-10 md:w-auto w-[80vw] overflow-auto animate__animated animate__fadeInUp animate__faster",children:[a("div",{className:"font-bold text-md mb-2 flex-1 text-gray-600",children:"# Recent Applications"}),a(D,{loading:u,heading:["Application No.","Hoarding No","Advertise Name","Mobile No.","From","Upto","Hoarding Type","Apply Date","Amount (â‚¹)"],dataKey:["application_no","hoarding_no","advertiser","mobile","from_date","to_date","hoarding_type","apply_date","rate"],data:g??[],viewLink:"/fp-details/"})]})]})}export{O as default};
