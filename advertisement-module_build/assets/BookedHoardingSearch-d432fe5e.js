import{r as o,a3 as D,u as q,Y as E,i as A,e as _,h as R,g as M,c as P,a as L,b as z,f as d,F as V,j as n,N as W,O as U,A as $,n as x,ak as G}from"./index-c65fc8d6.js";var Y={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Z(e){if(typeof e=="number")return{value:e,unit:"px"};var r,l=(e.match(/^[0-9.]*/)||"").toString();l.includes(".")?r=parseFloat(l):r=parseInt(l,10);var a=(e.match(/[^0-9]*$/)||"").toString();return Y[a]?{value:r,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}function I(e){var r=Z(e);return"".concat(r.value).concat(r.unit)}var j=function(e,r,l){var a="react-spinners-".concat(e,"-").concat(l);if(typeof window>"u"||!window.document)return a;var i=document.createElement("style");document.head.appendChild(i);var h=i.sheet,p=`
    @keyframes `.concat(a,` {
      `).concat(r,`
    }
  `);return h&&h.insertRule(p,0),a},N;(function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"})(N||(N={}));var J=function(e,r){if(Object.keys(N).includes(e)&&(e=N[e]),e[0]==="#"&&(e=e.slice(1)),e.length===3){var l="";e.split("").forEach(function(i){l+=i,l+=i}),e=l}var a=(e.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(a,", ").concat(r,")")},F=globalThis&&globalThis.__assign||function(){return F=Object.assign||function(e){for(var r,l=1,a=arguments.length;l<a;l++){r=arguments[l];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},F.apply(this,arguments)},K=globalThis&&globalThis.__rest||function(e,r){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(l[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(l[a[i]]=e[a[i]]);return l},Q=j("BarLoader","0% {left: -35%;right: 100%} 60% {left: 100%;right: -90%} 100% {left: 100%;right: -90%}","long"),X=j("BarLoader","0% {left: -200%;right: 100%} 60% {left: 107%;right: -8%} 100% {left: 107%;right: -8%}","short");function ee(e){var r=e.loading,l=r===void 0?!0:r,a=e.color,i=a===void 0?"#000000":a,h=e.speedMultiplier,p=h===void 0?1:h,g=e.cssOverride,b=g===void 0?{}:g,f=e.height,v=f===void 0?4:f,m=e.width,S=m===void 0?100:m,k=K(e,["loading","color","speedMultiplier","cssOverride","height","width"]),O=F({display:"inherit",position:"relative",width:I(S),height:I(v),overflow:"hidden",backgroundColor:J(i,.2),backgroundClip:"padding-box"},b),y=function(s){return{position:"absolute",height:I(v),overflow:"hidden",backgroundColor:i,backgroundClip:"padding-box",display:"block",borderRadius:2,willChange:"left, right",animationFillMode:"forwards",animation:"".concat(s===1?Q:X," ").concat(2.1/p,"s ").concat(s===2?"".concat(1.15/p,"s"):""," ").concat(s===1?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite")}};return l?o.createElement("span",F({style:O},k),o.createElement("span",{style:y(1)}),o.createElement("span",{style:y(2)})):null}function te(e){return D({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"}}]})(e)}function ne(){q();const[e,r]=o.useState(),[l,a]=o.useState(!1),[i,h]=o.useState(!1);o.useState(),o.useState(!1),o.useContext(E),o.useState();const[p,g]=o.useState();o.useState(1),o.useState(""),o.useState(5),o.useState(""),o.useState(0);const[b,f]=o.useState(null),[v,m]=o.useState(0);A();const{searchbookedhoarding:S,api_newWardByZoneId:k}=$();A(),_();const O=R();M("Water Consumer Details");const y=P({filterBy:L().required("This is a required field !"),parameter:L().required("This is a required field !")}),s=z({initialValues:{filterBy:"",parameter:"",wardId:"",zoneId:""},onSubmit:t=>{C(t),f({filterBy:t.filterBy,zoneId:t.zoneId,wardId:t.wardId,parameter:t.parameter}),m(u=>u+1)},validationSchema:y}),C=t=>{f({filterBy:t==null?void 0:t.filterBy,zoneId:t==null?void 0:t.zoneId,wardId:t==null?void 0:t.wardId,parameter:t==null?void 0:t.parameter,wardId:t==null?void 0:t.wardId}),m(u=>u+1)};o.useEffect(()=>{C()},[]);const H=[{Header:"Sl No.",Cell:({row:t})=>n("div",{className:"pr-2",children:t.index+1})},{Header:"Hoarding No",accessor:"hoarding_no",Cell:({cell:t})=>n("span",{children:x(t.row.original.hoarding_no)})},{Header:"Application No",accessor:"application_no",Cell:({cell:t})=>n("span",{children:x(t.row.original.application_no)})},{Header:"From",accessor:"from_date"},{Header:"Upto",accessor:"to_date"},{Header:"Amount ",accessor:"rate",Cell:({cell:t})=>n("span",{children:x(t.row.original.rate)})},{Header:"Current Level",accessor:"application_at",Cell:({cell:t})=>d("div",{className:"flex items-center",children:[n(te,{className:"mr-2 text-red-500"}),n("span",{className:"font-semibold",children:x(t.row.original.application_at)})]})},{Header:"Status",accessor:"approve",Cell:({cell:t})=>{const u=t.row.original.approve;let c="",w="";switch(u){case 1:c="Approved",w="text-green-500 font-bold";break;case 2:c="Rejected",w="text-red-500";break;default:c="Pending",w="text-gray-500 font-bold";break}return n("span",{className:w,children:c})}},{Header:"Action",accessor:"id",Cell:({cell:t})=>n("button",{onClick:()=>{O(`/hoardingCerificate/${t.value}`)},className:"bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"View Request Permission"})}],B=t=>{s.values.filterBy=t.target.value,t.target.value=="consumerNo"&&(r("Consumer No"),a(!0)),t.target.value=="propertyNo"&&(r("Property No"),a(!0)),t.target.value=="ownerDetails"&&(r("Owner Details"),a(!1)),t.target.value=="address"&&(r("Address"),a(!1)),t.target.value=="applicationNo"&&(r("Application No"),a(!1))},T=t=>{h(!0),s.setFieldValue("wardId","");let u={zoneId:t};console.log("before fetch wardby old ward...",u),G.post(k,u,_()).then(function(c){console.log("wardlist by zone id list ....",c.data.data),g(c.data.data),h(!1),s.setFieldValue("wardId","")}).catch(function(c){console.log("errorrr.... ",c),h(!1)})};return d(V,{children:[i&&n(ee,{}),d("div",{className:"border shadow-xl bg-white mt-6",children:[n("div",{className:"flex ml-5 mt-2 ",children:n("p",{className:"font-bold text-3xl ml-4 mt-1 text-gray-600",children:"Search Application Records"})}),n("form",{onChange:t=>{let u=t.target.name,c=t.target.value;s.values&&r(s.values.filterBy),u==="zoneId"&&T(c)},onSubmit:s.handleSubmit,children:d("div",{className:"flex flex-col sm:flex-row justify-center sm:space-x-8 my-5 m-10 ",children:[d("div",{children:[d("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",n("span",{className:"text-red-500",children:"*"})]}),d("select",{name:"filterBy",onChange:B,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[n("option",{value:"",children:"Select"}),n("option",{value:"applicationNo",children:"Application No "}),n("option",{value:"hoardingNo",children:"Hoarding No "}),n("option",{value:"mobileNo",children:"Mobile No"})]}),n("p",{className:"text-red-500 text-xs",children:s.touched.filterBy&&s.errors.filterBy?s.errors.filterBy:null})]}),d("div",{children:[d("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By ",e," ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"text",name:"parameter",onChange:s.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),n("p",{className:"text-red-500 text-xs",children:s.touched.parameter&&s.errors.parameter?s.errors.parameter:null})]}),n("div",{className:"mt-4",children:n("button",{type:"submit",className:"w-full border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:d("p",{className:"flex",children:[d("span",{className:"mt-1 mr-2",children:[" ",n(W,{})," "]}),"Search Record "]})})})]})})]}),n("div",{className:"mt-10",children:b!=null&&n(U,{columns:H,requestBody:b,changeData:v,api:S})}),n("div",{className:"w-full h-40"})]})}export{ne as default};
