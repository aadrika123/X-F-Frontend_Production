import{al as kt,j as t,aB as Ut,aC as Vt,aD as qt,aE as Wt,aF as Lt,aG as ft,aH as Jt,r as i,aI as Gt,aJ as Qt,aK as Yt,aL as Kt,Y as ct,q as St,s as wt,w as vt,o as Ft,U as Xt,ag as Zt,aM as pt,e as ea,B as ta,W as Ae,ab as aa,aN as la,A as jt,b as pe,Q as at,ai as na,ad as Oe,a9 as Ue,L as ot,aO as ia,aP as At,J as Ct,aQ as sa,a3 as Ot,a8 as zt,a7 as It,aa as Pt,aR as bt,n as Ze,aS as ca,aT as $t,x as Et,H as mt,a5 as da,C as Xe,au as oa,u as ra,aU as ma}from"./index-c6c28a3c.js";/* empty css             */import{a as ua,b as xa}from"./index.esm-12e09afc.js";import{P as ha}from"./PilotWorkflowDocumentRow-77aa82dc.js";import{R as rt}from"./index.esm-1cc48c1b.js";import{S as ga}from"./SwitchBase-80bd4598.js";import{E as fa}from"./EmptyDetailsIllustration-0d00c963.js";import{F as ut}from"./index.esm-c1ae10eb.js";import{p as tt}from"./photo-f9d7c0b5.js";import{m as ba}from"./moment-17dc9c30.js";import{B as yt,T as ja,a as Tt}from"./Tabs-fd349621.js";import{T as wa}from"./Typography-05e909f5.js";const ya=kt(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),va=kt(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Na=kt(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Da(e){return Vt("MuiCheckbox",e)}const ka=Ut("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),Nt=ka,Sa=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ca=e=>{const{classes:n,indeterminate:m,color:f}=e,u={root:["root",m&&"indeterminate",`color${Lt(f)}`]},P=Kt(u,Da,n);return ft({},n,P)},Ia=qt(ga,{shouldForwardProp:e=>Wt(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:m}=e;return[n.root,m.indeterminate&&n.indeterminate,m.color!=="default"&&n[`color${Lt(m.color)}`]]}})(({theme:e,ownerState:n})=>ft({color:(e.vars||e).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${n.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Jt(n.color==="default"?e.palette.action.active:e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.color!=="default"&&{[`&.${Nt.checked}, &.${Nt.indeterminate}`]:{color:(e.vars||e).palette[n.color].main},[`&.${Nt.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Pa=t.jsx(va,{}),_a=t.jsx(ya,{}),Ba=t.jsx(Na,{}),Ha=i.forwardRef(function(n,m){var f,u;const P=Gt({props:n,name:"MuiCheckbox"}),{checkedIcon:T=Pa,color:le="primary",icon:Q=_a,indeterminate:R=!1,indeterminateIcon:_=Ba,inputProps:r,size:L="medium",className:I}=P,V=Qt(P,Sa),q=R?_:Q,D=R?_:T,ne=ft({},P,{color:le,indeterminate:R,size:L}),w=Ca(ne);return t.jsx(Ia,ft({type:"checkbox",inputProps:ft({"data-indeterminate":R},r),icon:i.cloneElement(q,{fontSize:(f=q.props.fontSize)!=null?f:L}),checkedIcon:i.cloneElement(D,{fontSize:(u=D.props.fontSize)!=null?u:L}),ownerState:ne,ref:m,className:Yt(w.root,I)},V,{classes:w}))}),Fa=Ha;function gt(e){var q;const{t:n}=ct();let m=[...e==null?void 0:e.COLUMNS];m=[...m,{Header:`${n("mainHoldingPage.holdingAction.label")}`,Cell:({cell:D})=>t.jsx("button",{onClick:()=>{var ne,w,A,ie,Y,fe,M;console.log("clicked id....",(w=(ne=D==null?void 0:D.row)==null?void 0:ne.original)==null?void 0:w.id),e==null||e.fetchWorkflowPermission((A=D.row.original)==null?void 0:A.workflow_id),e.fun((Y=(ie=D==null?void 0:D.row)==null?void 0:ie.original)==null?void 0:Y.id,(M=(fe=D==null?void 0:D.row)==null?void 0:fe.original)==null?void 0:M.assessment)},className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
            hover:text-white text-black`,children:n("mainHoldingPage.holdingView.label")})}],console.log("Entered in PilotWorkflowInboxList component");const[f,u]=i.useState({}),[P,T]=i.useState(0),[le,Q]=i.useState(!1),[R,_]=i.useState(!1),r=()=>{I.setFieldValue("searchBy",""),I.setFieldValue("entry",""),u({}),_(!1),T(D=>D+1)},L=St({searchBy:wt().required("Select filter type"),entry:wt().required("Enter the parameter")}),I=vt({initialValues:{searchBy:"",entry:""},onSubmit:D=>{V(D)},validationSchema:L}),V=D=>{_(!0),u({[D==null?void 0:D.searchBy]:D==null?void 0:D.entry}),T(ne=>ne+1)};return t.jsxs(t.Fragment,{children:[t.jsx("form",{onSubmit:I.handleSubmit,onChange:I.handleChange,className:"bg-white poppins",children:t.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b",children:[t.jsxs("div",{className:"w-full md:w-[25%]",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("mainHoldingPage.holdingFilterBy.label"),t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{...I.getFieldProps("searchBy"),className:`${I.errors.searchBy?"text-red-500 font-semibold border border-solid border-red-600 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 "} cursor-pointer w-full px-3 py-1.5 text-base  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md`,children:[t.jsx("option",{value:"",children:n("mainHoldingPage.holdingSelectBtn.label")}),t.jsx("option",{value:"applicationNo",children:n("mainHoldingPage.applicationNum.label")}),t.jsx("option",{value:"name",children:n("mainHoldingPage.propertyFilterByNm.label")})]})]}),t.jsxs("div",{className:"w-full md:w-[25%] ",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("mainHoldingPage.propertyParameter.label"),t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",...I.getFieldProps("entry"),placeholder:n("mainHoldingPage.propertyParamPlc.label"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),t.jsxs("div",{className:"mt-4 w-full md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:[t.jsx("div",{className:" ",children:le?t.jsx(t.Fragment,{children:!R&&t.jsx("div",{className:"flex justify-center",children:t.jsx(Ft,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):t.jsxs("button",{type:"submit",className:" flex items-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-lg rounded-sm  text-base px-5 py-1",children:[t.jsx("span",{className:"",children:t.jsx(Xt,{fontSize:""})}),t.jsx("span",{children:n("mainHoldingPage.searchHoldingRecord.label")})]})}),R&&t.jsx("div",{className:" ",onClick:()=>r(),children:le?t.jsx("div",{className:"flex justify-center",children:t.jsx(Ft,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):t.jsx("div",{className:"cursor-pointer text-center w-full border border-indigo-600 bg-indigo-500 hover:bg-indigo-600 text-white shadow-lg rounded-sm text-base font-semibold px-5 py-1",children:n("mainHoldingPage.propertyAllApli.label")})})]})]})}),t.jsx(Zt,{api:(q=e==null?void 0:e.api)==null?void 0:q.url,columns:m,requestBody:f,changeData:P,search:!1})]})}function Ea(e){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative w-full overflow-x-auto",children:[t.jsxs("div",{className:" mb-2 flex items-center w-full",children:[t.jsx("div",{style:{boxShadow:"2px 4px 2px gray"},className:(e.verificationStatus?"bg-green-400 border-2 border-green-500 shadow-lg":"bg-gray-200")+" z-1 flex flex-initial items-center order-1 w-5 h-5 sm:w-6 sm:h-6 rounded-full",children:t.jsxs("h1",{className:"mx-auto font-semibold text-sm text-white",children:[e.verificationStatus?t.jsx(pt,{size:20}):"X",e.active&&t.jsx("span",{className:"absolute top-0 left-1",children:t.jsx(ua,{className:"text-red-500 text-xl"})})," "]})}),e.last?"":t.jsx("div",{className:(e.verificationStatus?"bg-green-300":"bg-gray-200")+" order-2 flex-initial w-10 sm:w-32",style:{height:"2px"}})]}),t.jsx("div",{className:"flex-initial text-xs text-left font-semibold pl-2",children:e.index}),t.jsx("div",{className:"flex-initial text-xs opacity-50 pl-0 sm:pl-2",children:e.level})]})})}function Ta(e){var h,Je,oe,ze,c,$,he,ee,O,re,j,me,ge,be,Pe,_e,Se,Be,He,Ce,Ge,Ve,Qe,We,qe,Ie;const{t:n}=ct(),m=ea(),{api_propertyNoCheck:f,api_propertyNoSave:u,api_getAppicationFullDetail:P,api_getStaticSafDetails:T}=na(),[le,Q]=i.useState(!1),[R,_]=i.useState(!1),r=()=>{Q(!0)},L=()=>{Q(!1)},I=B=>{L(),B.preventDefault()},[V,q]=i.useState(""),[D,ne]=i.useState(""),[w,A]=i.useState(""),[ie,Y]=i.useState(""),fe=B=>{const Z=B.target.value;q(Z),(w||ie)&&(A(""),Y(""))},M=()=>{var Ee,Ne;const B=V.trim();if(!/^[0-9-]+$/.test(B)||B.length<4){Y("Please enter a valid property number with at least four digits, allowing only numeric characters and hyphens."),A("");return}_(!0);const $e={applicationId:e.id,wardId:(Ne=(Ee=e==null?void 0:e.applicationData)==null?void 0:Ee.data)==null?void 0:Ne.ward_mstr_id,propertyNo:B};jt.post(f,$e,pe()).then(function(p){console.log("sdasdasdsadsa",p.data.data),q(p.data.data),A(p.data.message),Y(""),_(!1)}).catch(function(p){console.log("errorrr.... ",p),Y("Error while checking property number availability."),A(""),_(!1)})},k=B=>{var Ee,Ne;_(!0);const Z=B.trim(),$e={applicationId:e.id,wardId:(Ne=(Ee=e==null?void 0:e.applicationData)==null?void 0:Ee.data)==null?void 0:Ne.ward_mstr_id,propertyNo:Z};jt.post(u,$e,pe()).then(function(p){console.log("sdasdasdsadsa",p.data.data),q(p.data.data),Y(""),_(!1),at.success(p.data.message),p.data.status&&window.location.reload()}).catch(function(p){console.log("errorrr.... ",p),Y("Error while checking property number availability."),A(""),_(!1)}),i.useEffect(()=>{_(!0),jt.post(P,{applicationId:id},pe()).then(function(p){var Te,Re;_(!1),console.log("view full details...",p.data.data),setapplicationFullData((Re=(Te=p==null?void 0:p.data)==null?void 0:Te.data)==null?void 0:Re.fullDetailsData)}).catch(function(p){_(!1),console.log("==2 details by id error...",p)})},[])},we=()=>{_(!0);const B={applicationId:e.id};jt.post(T,B,pe()).then(function(Z){console.log("sdasdasdsadsa",Z.data),ne(Z.data.data),Y(""),_(!1),at.success("Jahir Nama Generated Successfully"),Z.data.status&&m("jahir-nama-format",{state:{data:Z.data.data}})}).catch(function(Z){console.log("errorrr.... ",Z),Y("Error while generating Jahir Nama."),A(""),_(!1)})};return t.jsxs(t.Fragment,{children:[R&&t.jsx(ta,{}),t.jsx("div",{className:"bg-white",children:t.jsxs("div",{className:"container mx-auto my-5 md:p-5",children:[t.jsxs("div",{className:"md:flex no-wrap md:-mx-2 ",children:[t.jsx("div",{className:"w-full md:w-3/12 mx-2 md:shadow-xl flex md:justify-center items-center ",children:t.jsxs("div",{className:"bg-white md:items-center my-auto ",children:[t.jsxs("div",{className:"image overflow-hidden md:text-center",children:[t.jsx("div",{className:"text-indigo-600 font-bold text-2xl leading-8",children:Ae((Je=(h=e==null?void 0:e.applicationData)==null?void 0:h.data)==null?void 0:Je.application_no)}),t.jsx("div",{className:"text-sm text-gray-600",children:n("mainHoldingPage.applicationNum.label")})]}),t.jsxs("div",{className:"image overflow-hidden md:text-center mt-3 md:mt-10",children:[t.jsx("div",{className:"text-gray-900 font-bold text-lg leading-8",children:aa((ze=(oe=e==null?void 0:e.applicationData)==null?void 0:oe.data)==null?void 0:ze.apply_date)}),t.jsx("div",{className:"text-sm text-gray-600",children:n("mainHoldingPage.propertyApplyDate.label")})]})]})}),t.jsxs("div",{className:"w-full md:w-9/12 mx-2 h-auto",children:[t.jsxs("div",{className:"bg-white mt-6 md:p-3 md:shadow-xl rounded-sm",children:[t.jsxs("div",{className:"flex items-center md:pl-4 space-x-2 font-semibold text-gray-900 leading-8",children:[t.jsx("span",{clas:"text-green-500",children:t.jsx(la,{})}),t.jsx("span",{className:"tracking-wide",children:Ae((ee=(he=($=(c=e==null?void 0:e.applicationData)==null?void 0:c.data)==null?void 0:$.fullDetailsData)==null?void 0:he.cardArray)==null?void 0:ee.headerTitle)}),((re=(O=e==null?void 0:e.applicationData)==null?void 0:O.data)==null?void 0:re.parked)==!0&&t.jsx("span",{className:"float-right text-right text-red-600 px-4  border border-red-500 rounded-lg",children:n("mainHoldingPage.propIndexBtnCstmTabBack.label")})]}),t.jsxs("div",{className:"text-gray-700 py-2 md:py-6",children:[t.jsx("div",{className:"grid md:grid-cols-2 text-sm",children:(Pe=(be=(ge=(me=(j=e==null?void 0:e.applicationData)==null?void 0:j.data)==null?void 0:me.fullDetailsData)==null?void 0:ge.cardArray)==null?void 0:be.data)==null?void 0:Pe.map(B=>t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsxs("div",{className:"md:px-4 py-2 font-semibold",children:[Ae(B==null?void 0:B.displayString)," :"," "]}),t.jsx("div",{className:"md:px-4 py-2",children:Ae(B==null?void 0:B.value)})]}))}),t.jsxs("div",{className:"pb-2 mt-2 pl-4 flex",children:[((_e=e==null?void 0:e.permissions)==null?void 0:_e.can_view_form)&&t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>{var B;return window.open(`${(B=e==null?void 0:e.workflow)==null?void 0:B.fullDetailsUrl}/${e==null?void 0:e.id}`,"_blank")},children:n("mainHoldingPage.propIndexBtnCstmTabView.label")}),((Se=e==null?void 0:e.permissions)==null?void 0:Se.can_assing_propety_no)&&((He=(Be=e==null?void 0:e.applicationData)==null?void 0:Be.data)==null?void 0:He.property_no)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:r,children:"Add New Property No."}),le&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-auto flex items-center justify-center",children:[t.jsx("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-70"}),t.jsx("div",{className:"modal-container bg-white w-[40rem] h-[14rem] rounded shadow-lg z-50 overflow-y-auto",children:t.jsxs("div",{className:"modal-content py-4 text-left px-6",children:[t.jsx("span",{className:"text-white mt-4 bg-red-500 text-lg cursor-pointer absolute top-72 right-96 p-4 rounded-full w-4 h-4 flex items-center justify-center",onClick:L,children:"×"}),t.jsxs("div",{children:[t.jsx("form",{onSubmit:I,onClick:M,className:"",children:t.jsxs("div",{className:"bg-white",children:[t.jsxs("div",{className:"text-lg font-semibold ",children:[" ward No. -  ",t.jsxs("span",{children:[Ae((We=(Qe=(Ve=(Ge=(Ce=e==null?void 0:e.applicationData)==null?void 0:Ce.data)==null?void 0:Ge.fullDetailsData)==null?void 0:Ve.cardArray)==null?void 0:Qe.data[0])==null?void 0:We.value)," "]})," "]}),t.jsx("div",{className:"mt-2",children:t.jsxs("label",{className:"text-lg font-semibold flex",children:["Add New Property No.",t.jsx("input",{type:"text",placeholder:"Enter property no.",className:"border-2 ml-4 border-blue-400",value:V,onChange:fe}),w&&t.jsxs("p",{className:`ml-2 mt-2 ${w==="Available"?"text-green-600 text-sm":"text-red-600 text-sm"}`,children:["*",w]})]})}),ie&&t.jsx("div",{className:"text-red-600 mt-2 text-xs font-semibold",children:ie}),w==="Available"?t.jsx("button",{type:"submit",onClick:()=>k(V),className:"bg-green-600 px-2 py-1 rounded-md text-white mt-4",children:"Submit"}):null]})}),t.jsxs("p",{className:"text-xs mt-4",children:["*Note:- ",t.jsx("span",{className:"text-indigo-600",children:"Enter the property number and tap on white screen to see the availability."})," "]})]})]})})]})]}),((qe=e==null?void 0:e.permissions)==null?void 0:qe.can_edit)&&((e==null?void 0:e.boxType)==="inbox"||(e==null?void 0:e.boxType)==="btcbox")&&t.jsx("button",{className:"float-right mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>{var B;return window.open(`${(B=e==null?void 0:e.workflow)==null?void 0:B.formUrl}/${e==null?void 0:e.id}`,"_blank")},children:n("mainHoldingPage.propIndexBtnCstmTabEdit.label")}),((Ie=e==null?void 0:e.permissions)==null?void 0:Ie.can_genrate_jahirnama)&&t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>we(),children:"Generate Jahir Nama"})]})]})]}),t.jsx("div",{className:"md:my-4"})]})]}),t.jsx("div",{})]})})]})}Oe.setAppElement("#root");function Ra(e){const{t:n}=ct(),[m,f]=i.useState(),[u,P]=i.useState(!1),[T,le]=i.useState("");i.useEffect(()=>{var A,ie,Y,fe;P(!0),console.log("before document fetch ",e==null?void 0:e.id);let w={applicationId:e==null?void 0:e.id};Ue[(ie=(A=e==null?void 0:e.api)==null?void 0:A.api_documentList)==null?void 0:ie.method]((fe=(Y=e==null?void 0:e.api)==null?void 0:Y.api_documentList)==null?void 0:fe.url,w,pe()).then(M=>{var k,we;console.log("document list at pilotworkflowdocumentview ",M),(k=M==null?void 0:M.data)!=null&&k.status?f((we=M==null?void 0:M.data)==null?void 0:we.data):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),P(!1)}).catch(M=>{console.log("error at pilotworkflowdocumentview ",M),e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),P(!1)})},[]);const[Q,R]=i.useState(!1),[_,r]=i.useState(""),[L,I]=i.useState(!1),V=()=>R(!0),q=()=>R(!1),D=()=>{},ne=(w,A,ie)=>{console.log("incoming doc url modal => ",w,A,ie),r(w),le(A),I(ie),V()};return console.log("doucment api at document view mr",e==null?void 0:e.api),t.jsxs(t.Fragment,{children:[u&&t.jsx(ot,{}),t.jsx("div",{className:"container mx-auto  max-w-3xl ml-0  px-1 py-1 shadow-lg rounded-lg",children:t.jsx("div",{className:"py-0",children:t.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:t.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"bg-sky-100",children:t.jsxs("tr",{className:"font-semibold",children:[t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentName.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentView.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentStatus.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentRemark.label")})]})}),t.jsxs("tbody",{children:[(m==null?void 0:m.length)==0&&!u&&t.jsx("tr",{className:"mt-5",children:t.jsx("td",{colSpan:5,className:"text-center",children:t.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg",children:n("mainHoldingPage.nodocumentFnd.label")})})}),m==null?void 0:m.map((w,A)=>t.jsx(ha,{api:e==null?void 0:e.api,openModal:ne,docList:w,index:A}))]})]})})})})}),t.jsx(Oe,{isOpen:Q,onAfterOpen:D,onRequestClose:q,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:q,children:t.jsx(rt,{})}),L==!0||L=="true"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[T=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:_,frameborder:"0"})}),T!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:_,alt:"",srcset:"",className:" "})})})]})]})}),t.jsx("div",{className:"w-full mt-20"})]})}function Ma(e){const[n,m]=i.useState(e==null?void 0:e.is_escalate);console.log("is escalate in concession...",e==null?void 0:e.is_escalate);const f=u=>{m(u.target.checked),e.fun(u.target.checked)};return t.jsxs(t.Fragment,{children:[t.jsx(Fa,{checked:n,onChange:f,inputProps:{"aria-label":"controlled"}})," ",t.jsx("span",{className:"text-sm font-semibold",children:"Escalate"})]})}function La(){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"absolute -top-6 -left-2",children:[t.jsx("div",{className:"bg-orange-600 w-5 h-5 rounded-full  animate-ping"}),t.jsxs("div",{className:" w-3 h-3 rounded-full absolute top-1 left-1",children:[" ",t.jsx(ia,{color:"red"})]}),t.jsx("div",{className:"relative -top-4 left-6 text-black font-semibold text-xs",children:"This Application has been escalated"})]})})}function Aa(e){return t.jsx(t.Fragment,{children:t.jsx("div",{className:"relative mb-4 h-full",children:t.jsx("textarea",{onChange:n=>e.commentFun(n.target.value),className:"shadow-lg w-full rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-full text-sm outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out "+e.bgColor+" focus:bg-white",children:e.value})})})}function Rt(e){var n,m,f,u,P,T,le;return t.jsx("div",{children:t.jsx("div",{className:"container bg-white mx-auto w-full",children:t.jsx("div",{className:"relative wrap overflow-hidden md:p-10 md:py-4 h-full",children:t.jsx("div",{className:"mb-0 flex justify-between items-center w-full right-timeline",children:t.jsxs("div",{className:"relative order-1 bg-sky-100 rounded-lg shadow-xl w-9/12 px-6 py-4",children:[t.jsx("div",{className:"z-1 flex items-center bg-sky-400 shadow-xl w-6 h-6 rounded-full absolute top-0 left-0",children:t.jsx("h1",{className:"mx-auto font-semibold text-sm text-white",children:(e==null?void 0:e.index)+1})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{className:"inline-block h-12 w-12 rounded-full",src:"https://overreacted.io/static/profile-pic-c715447ce38098828758e525a1128b87.jpg",alt:"Dan_Abromov"}),t.jsxs("span",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ae((n=e==null?void 0:e.data)==null?void 0:n.user_name)}),(e==null?void 0:e.agency)&&t.jsx("span",{className:"text-sm font-medium text-gray-500",children:Ae((m=e==null?void 0:e.data)==null?void 0:m.commentedBy)})]})]}),(e==null?void 0:e.agency)&&t.jsxs("div",{className:"mb-1  ",children:[t.jsx("span",{className:"text-xs",children:"forwarded to"})," ",t.jsx("span",{className:"bg-gray-500 text-white px-2 rounded-sm font-normal py-1 text-xs",children:Ae((f=e==null?void 0:e.data)==null?void 0:f.forwarded_to)})]}),t.jsxs("p",{className:" leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:"Comment"})," : ",Ae((u=e==null?void 0:e.data)==null?void 0:u.message)," "]}),t.jsx("div",{children:t.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:e!=null&&e.agency?"Received Date":"Date"})," : ",t.jsx("span",{className:"font-semibold",children:Ae((P=e==null?void 0:e.data)==null?void 0:P.track_date)})]})}),(e==null?void 0:e.agency)&&t.jsx("div",{children:t.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:"forward date"})," : ",t.jsxs("span",{className:"font-semibold",children:[Ae((T=e==null?void 0:e.data)==null?void 0:T.forward_date)," ",Ae((le=e==null?void 0:e.data)==null?void 0:le.forward_time)]})]})})]})})})})})}const Oa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Oe.setAppElement("#root");function za(e){var c,$,he,ee,O,re,j,me,ge,be,Pe,_e,Se,Be,He,Ce,Ge,Ve,Qe,We,qe,Ie,B,Z,$e,Ee,Ne,p,Te,Re,Ye,et,l,v,ye,te,a,o,W,S,b,z,ue,J;const{t:n}=ct(),[m,f]=i.useState(!1),[u,P]=i.useState(""),[T,le]=i.useState(""),[Q,R]=i.useState(""),[_,r]=i.useState(!1);i.useState();const[L,I]=i.useState(),[V,q]=i.useState(!1);i.useState(!1);const[D,ne]=i.useState(null),[w,A]=i.useState(null);function ie(){q(!1)}console.log("roleDetails",T),console.log("workflow timeline in all.....",($=(c=e==null?void 0:e.applicationData)==null?void 0:c.data)==null?void 0:$.levelComments);const Y=pe(),fe=()=>{ne(null),A(null),q(!1)},M=d=>{P(d),console.log("comment...",d)},k=()=>{var N,E,H,U;if(u==""){e==null||e.toast("Please enter comment","error");return}r(!0),console.log("comment",u);let d={applicationId:e==null?void 0:e.id,comment:u};Ue[(E=(N=e==null?void 0:e.api)==null?void 0:N.api_independentComment)==null?void 0:E.method]((U=(H=e==null?void 0:e.api)==null?void 0:H.api_independentComment)==null?void 0:U.url,d,Y).then(function(F){var ae;console.log("indpendent comment response..",F==null?void 0:F.data),(ae=F==null?void 0:F.data)!=null&&ae.status?e.toast("comment recorded successfully","escalated"):e==null||e.activateBottomErrorCard(!0,"Some error occured while sending comment. Please try again later"),r(!1)}).catch(function(F){console.log("error in comment...",F),e==null||e.activateBottomErrorCard(!0,"Some error occured while sending comment. Please try again later"),r(!1)})},we=d=>{var H,U,F,ae,xe,g,y,X,K,x,s,C,ve,De,ke;if(console.log("receiverRoleId ",d.target.value),console.log("senderRoleId",(F=(U=(H=e==null?void 0:e.applicationData)==null?void 0:H.data)==null?void 0:U.roleDetails)==null?void 0:F.wf_role_id),console.log("wow all",e==null?void 0:e.applicationData),console.log("safId",e==null?void 0:e.id),(ae=e==null?void 0:e.permissions)!=null&&ae.can_comment&&u==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}r(!0);let N;d.target.id=="btn_forward"&&(N="forward"),d.target.id=="btn_back"&&(N="backward"),d.target.id=="btn_backToDa"&&(N="backward");let E;d.target.id=="btn_backToDa"?E={applicationId:e==null?void 0:e.id,comment:u,senderRoleId:(y=(g=(xe=e==null?void 0:e.applicationData)==null?void 0:xe.data)==null?void 0:g.roleDetails)==null?void 0:y.wf_role_id,receiverRoleId:d.target.value,action:"backward",isBtd:(X=e==null?void 0:e.permissions)==null?void 0:X.can_bt_da}:E={applicationId:e==null?void 0:e.id,comment:u,senderRoleId:(s=(x=(K=e==null?void 0:e.applicationData)==null?void 0:K.data)==null?void 0:x.roleDetails)==null?void 0:s.wf_role_id,receiverRoleId:d.target.value,action:N},console.log("...before next level concession applicaton..",E),Ue[(ve=(C=e==null?void 0:e.api)==null?void 0:C.api_sendLevel)==null?void 0:ve.method]((ke=(De=e==null?void 0:e.api)==null?void 0:De.api_sendLevel)==null?void 0:ke.url,E,Y).then(function(G){var je,Ke;console.log("application forwarded",G),(je=G==null?void 0:G.data)!=null&&je.status?(e.showTabFun(!1),e.toast("comment recorded successfully","escalated"),d.target.id=="btn_forward"&&e.toast("Application is forwarded successfully !","escalated"),d.target.id=="btn_back"&&e.toast("Application send backward successfully","de-escalated"),d.target.id=="btn_backToDa"&&e.toast("Application send back to Dealing Assistant successfully !","de-escalated"),d.target.id=="btn_independent_level"&&e.toast("Application send back to Dealing Assistant successfully !","de-escalated"),e==null||e.fun(null,0)):(console.log("document uploaded no...",G==null?void 0:G.data),e.toast((Ke=G==null?void 0:G.data)==null?void 0:Ke.message,"error")),r(!1)}).catch(function(G){let je;d.target.id=="btn_forward"&&(je="Some error occured while forwarding. Please try again later"),d.target.id=="btn_back"&&(je="Some error occured while sending backward. Please try again later"),d.target.id=="btn_backToDa"&&(je="Some error occured while sending back to dealing assistant. Please try again later"),d.target.id=="btn_independent_level"&&(je="Some error occured while forwarding. Please try again later"),e==null||e.activateBottomErrorCard(!0,je),r(!1)})},h=async d=>{var H,U,F,ae;fe(),r(!0);let N;d&&(N=1),!d&&(N=0);let E={escalateStatus:N,applicationId:e==null?void 0:e.id};console.log("escalate body....",E),console.log("---------------------------------escalate body....",e==null?void 0:e.id),Ue[(U=(H=e==null?void 0:e.api)==null?void 0:H.api_escalate)==null?void 0:U.method]((ae=(F=e==null?void 0:e.api)==null?void 0:F.api_escalate)==null?void 0:ae.url,E,Y).then(function(xe){var g;if((g=xe==null?void 0:xe.data)!=null&&g.status)N==1&&e.toast("Application Escalated Successfully!","escalated"),N==0&&e.toast("Application De-Escalated Successfully!","de-escalated");else{let y;N==1?y="Something went wrong while escalting application. Please try again later.":y="Something went wrong while De-Ecalting application. Please try again later.",e==null||e.activateBottomErrorCard(!0,y)}r(!1)}).catch(function(xe){e==null||e.activateBottomErrorCard(!0,msg),r(!1)})},Je=d=>{f(d),h(d)},oe=d=>{var E,H,U,F,ae,xe,g,y,X,K;if(console.log("safId",e==null?void 0:e.id),u==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}r(!0);let N={applicationId:e==null?void 0:e.id,workflowId:(U=(H=(E=e==null?void 0:e.applicationData)==null?void 0:E.data)==null?void 0:H.roleDetails)==null?void 0:U.workflow_id,comment:u,currentRoleId:(xe=(ae=(F=e==null?void 0:e.applicationData)==null?void 0:F.data)==null?void 0:ae.roleDetails)==null?void 0:xe.wf_role_id};console.log("before saf back to citizen....",N),Ue[(y=(g=e==null?void 0:e.api)==null?void 0:g.api_btc)==null?void 0:y.method]((K=(X=e==null?void 0:e.api)==null?void 0:X.api_btc)==null?void 0:K.url,N,Y).then(function(x){var s,C;console.log("back to citizen................. ",x),(s=x==null?void 0:x.data)!=null&&s.status?(e.showTabFun(!1),d.target.id=="btn_backToCitizen"&&e.toast("Application is forwarded to BTC successfully","escalated"),e==null||e.fun(null,0)):e==null||e.activateBottomErrorCard(!0,(C=x==null?void 0:x.data)==null?void 0:C.message),r(!1)}).catch(function(x){e==null||e.activateBottomErrorCard(!0,"Something went wrong while sending application back to citizen. Please try again later."),r(!1)})};console.log("assessment Type => ",e==null?void 0:e.assessmentType);const ze=d=>{var E,H,U,F,ae,xe,g,y,X,K;if(u==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}r(!0),console.log("safId",e==null?void 0:e.id),console.log("Status for Approve Reject",d.target.value);let N={applicationId:e==null?void 0:e.id,workflowId:(U=(H=(E=e==null?void 0:e.applicationData)==null?void 0:E.data)==null?void 0:H.roleDetails)==null?void 0:U.workflow_id,roleId:(xe=(ae=(F=e==null?void 0:e.applicationData)==null?void 0:F.data)==null?void 0:ae.roleDetails)==null?void 0:xe.wf_role_id,status:d.target.value,comment:u};console.log("before approved requestbody...",N),Ue[(y=(g=e==null?void 0:e.api)==null?void 0:g.api_approveReject)==null?void 0:y.method]((K=(X=e==null?void 0:e.api)==null?void 0:X.api_approveReject)==null?void 0:K.url,N,Y).then(function(x){var s,C,ve,De,ke;if(console.log("application status for approve a reject",x==null?void 0:x.data),(s=x==null?void 0:x.data)!=null&&s.status)console.log("inside approval.....",(C=x==null?void 0:x.data)==null?void 0:C.message),e==null||e.openModal((ve=x==null?void 0:x.data)==null?void 0:ve.message),d.target.value=="1"&&e.toast("Application is Approved ","escalated"),d.target.value=="0"&&e.toast("Application is Rejected","de-escalated"),e.showTabFun(!1),e==null||e.setpropertyDetails((De=x==null?void 0:x.data)==null?void 0:De.data),console.log("first",(ke=x==null?void 0:x.data)==null?void 0:ke.data);else{let G;d.target.value=="1"?G="Something went wrong while approving application. Please try again later.":G="Something went wrong while rejecting application. Please try again later.",e==null||e.activateBottomErrorCard(!0,G)}r(!1)}).catch(function(x){console.log("errror ",x),e.toast("Oops! Something went wrong","error"),r(!1)})};return console.log("data at timeline .....",e==null?void 0:e.id),console.log("current role id of user .....",(O=(ee=(he=e==null?void 0:e.applicationData)==null?void 0:he.data)==null?void 0:ee.roleDetails)==null?void 0:O.wf_role_id),console.log("workFlow Id on workflowtimelinfe .....",(j=(re=e==null?void 0:e.applicationData)==null?void 0:re.data)==null?void 0:j.workflow_id),console.log("permission at actions",e==null?void 0:e.permissions),t.jsxs(t.Fragment,{children:[_&&t.jsx(ot,{}),t.jsxs("div",{className:" grid grid-cols-12 shadow-lg border-2 border-gray-200 relative overflow-hidden h-auto",children:[e.showTabs&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-gray-200 col-span-12 md:col-span-5 h-auto",children:[t.jsxs("h1",{className:"bg-sky-200  text-black font-semibold text-center py-2 mb-8",children:[n("mainHoldingPage.propIndexBtnMembrs.label")," ",m?t.jsx(La,{}):""]}),t.jsx("div",{className:"px-2 hidden",children:t.jsx("select",{className:"shadow-lg h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-pointer",children:(be=(ge=(me=e==null?void 0:e.applicationData)==null?void 0:me.data)==null?void 0:ge.time_line)!=null&&be.length?(_e=(Pe=e==null?void 0:e.applicationData)==null?void 0:Pe.data)==null?void 0:_e.time_line.map(d=>t.jsx("option",{value:d.id,children:d.designation})):""})}),t.jsxs("div",{className:"px-2 mt-4 h-auto",children:[((Se=e==null?void 0:e.permissions)==null?void 0:Se.can_comment)&&t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-xs",children:n("mainHoldingPage.propIndexBtnCmmnts.label")}),t.jsx("div",{className:"h-28",children:t.jsx(Aa,{commentFun:M,bgColor:"bg-gray-100",value:u})}),t.jsxs("div",{className:"flex mt-2 w-full",children:[t.jsx("div",{className:"flex-1",children:t.jsx("button",{className:"bg-sky-400 text-white rounded-sm px-2 py-0 hover:shadow-lg",children:t.jsxs("a",{className:"",style:{fontSize:"10px"},target:"_blank",href:"https://www.google.com/inputtools/try/",children:[n("mainHoldingPage.propIndexBtnHnTy.label")," →"]})})}),t.jsx("div",{className:"flex-1",children:t.jsx("button",{onClick:k,style:{fontSize:"10px"},className:"bg-sky-400 text-white rounded-sm px-2 hover:shadow-lg py-1 float-right",children:n("mainHoldingPage.propIndexBtnCmmntsSend.label")})})]})]}),((Be=e==null?void 0:e.permissions)==null?void 0:Be.can_escalate)&&t.jsx("div",{children:t.jsx(Ma,{is_escalate:(Ce=(He=e==null?void 0:e.applicationData)==null?void 0:He.data)==null?void 0:Ce.is_escalate,fun:Je})}),((Ge=e==null?void 0:e.permissions)==null?void 0:Ge.allow_full_list)==!0&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"form-group mb-6 col-span-5 md:col-span-1 px-2",children:[t.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:n("mainHoldingPage.propIndexBtnCmmntsSelect.label")}),t.jsx("select",{onChange:d=>I(d.target.value),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no.",children:(Ve=e==null?void 0:e.workflowInfo)==null?void 0:Ve.members.map(d=>t.jsx("option",{value:d==null?void 0:d.role_id,children:d==null?void 0:d.role_name}))})]}),t.jsx("div",{className:"flex justify-center items-center",children:t.jsx("button",{id:"btn_independent_level",value:L,onClick:we,type:"button",className:"hover:scale-105 px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:n("mainHoldingPage.propIndexBtnCmmntsSendApp.label")})})]}),t.jsxs("div",{className:"flex space-x-2",children:[((Qe=e==null?void 0:e.permissions)==null?void 0:Qe.can_backward)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_back",value:(qe=(We=e==null?void 0:e.applicationData)==null?void 0:We.data)==null?void 0:qe.roleDetails.backward_role_id,className:"w-full bg-indigo-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-indigo-600 hover:text-white my-4 text-center",onClick:we,children:n("mainHoldingPage.propIndexBtnCmmntsBackward.label")})}),((Ie=e==null?void 0:e.permissions)==null?void 0:Ie.can_forward)&&t.jsx("div",{className:"flex-initial",children:t.jsx("button",{type:"button",id:"btn_forward",value:($e=(Z=(B=e==null?void 0:e.applicationData)==null?void 0:B.data)==null?void 0:Z.roleDetails)==null?void 0:$e.forward_role_id,className:"w-full bg-indigo-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-indigo-600 hover:text-white my-4 text-center",onClick:we,children:n("mainHoldingPage.propIndexBtnCmmntsForward.label")})})]}),((Ee=e==null?void 0:e.permissions)==null?void 0:Ee.can_bt_da)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_backToDa",value:Q,className:"bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4 text-center",onClick:we,children:n("mainHoldingPage.propIndexBtnCmmntsBackToDA.label")})}),((Ne=e==null?void 0:e.permissions)==null?void 0:Ne.can_btc)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_backToCitizen",value:Q,className:" bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4 text-center",onClick:oe,children:n("mainHoldingPage.propIndexBtnCmmntsBackToCitizen.label")})}),((p=e==null?void 0:e.permissions)==null?void 0:p.can_reject)&&t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-1 pr-10",children:t.jsx("button",{type:"button",id:"btn_approve",value:1,className:"block w-full bg-green-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-green-600 hover:text-white my-4",onClick:ze,children:n("mainHoldingPage.propIndexBtnCmmntsApprove.label")})}),t.jsx("div",{className:"flex-1 pl-10",children:t.jsx("button",{type:"button",id:"btn_reject",value:0,className:"block w-full bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4",onClick:ze,children:n("mainHoldingPage.propIndexBtnCmmntsReject.label")})})]})]})]})}),t.jsxs("div",{className:"col-span-12 md:col-span-7 bg-white oveflow-y-scroll",children:[t.jsx("h1",{className:"text-center bg-gray-200 h-10 grid items-center font-semibold",children:n("mainHoldingPage.propIndexBtnCmmntsTimeline.label")}),t.jsx("div",{className:"pl-10 font-semibold mt-5",children:n("mainHoldingPage.propIndexBtnCmmntsCitizen.label")}),Array.isArray((Re=(Te=e==null?void 0:e.applicationData)==null?void 0:Te.data)==null?void 0:Re.citizenComment)&&((l=(et=(Ye=e==null?void 0:e.applicationData)==null?void 0:Ye.data)==null?void 0:et.citizenComment)==null?void 0:l.length)===0&&t.jsx("div",{className:"w-full text-center mt-4",children:t.jsx("span",{className:"text-red-400 font-semibold",children:n("mainHoldingPage.propIndexBtnCmmntsNoComment.label")})}),(te=(ye=(v=e==null?void 0:e.applicationData)==null?void 0:v.data)==null?void 0:ye.citizenComment)==null?void 0:te.map((d,N)=>t.jsx(Rt,{agency:!1,data:d,index:N})),t.jsx("div",{className:"px-10",children:t.jsx("hr",{})}),t.jsx("div",{className:"pl-10 font-semibold mt-5",children:n("mainHoldingPage.propIndexBtnCmmntsLevel.label")}),Array.isArray((o=(a=e==null?void 0:e.applicationData)==null?void 0:a.data)==null?void 0:o.levelComment)&&((b=(S=(W=e==null?void 0:e.applicationData)==null?void 0:W.data)==null?void 0:S.levelComment)==null?void 0:b.length)===0&&t.jsx("div",{className:"w-full text-center mt-4",children:t.jsx("span",{className:"text-red-400 font-semibold",children:n("mainHoldingPage.propIndexBtnCmmntsNoComment.label")})}),(J=(ue=(z=e==null?void 0:e.applicationData)==null?void 0:z.data)==null?void 0:ue.levelComment)==null?void 0:J.map((d,N)=>t.jsx(Rt,{agency:!0,data:d,index:N}))]})]}),t.jsx("div",{className:"w-full h-20"}),t.jsx(Oe,{isOpen:V,onRequestClose:ie,style:Oa,contentLabel:"Example Modal",children:t.jsxs("div",{class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[t.jsx("button",{onClick:fe,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",children:t.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:t.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),t.jsxs("div",{class:"p-6 text-center",children:[t.jsxs("div",{className:"w-full flex h-10",children:[" ",t.jsx("span",{className:"mx-auto",children:t.jsx(At,{size:30})})]}),t.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:D}),t.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:"",children:n("mainHoldingPage.propIndexBtnCmmntsYes.label")})]})]})})]})}const $a={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Oe.setAppElement("#root");function Ua(e){var he,ee,O,re,j,me,ge,be,Pe,_e,Se,Be,He,Ce,Ge,Ve,Qe,We,qe,Ie,B,Z,$e,Ee,Ne,p,Te,Re,Ye,et,l,v,ye,te,a,o,W,S,b,z,ue,J,d,N,E,H,U,F,ae,xe,g,y,X,K,x;const[n,m]=i.useState([]);console.log("document base url....",(he=e==null?void 0:e.api)==null?void 0:he.documentBaseUrl,e==null?void 0:e.docList);const{notify:f}=i.useContext(Ct),[u,P]=i.useState(!1),[T,le]=i.useState(0),[Q,R]=i.useState(""),[_,r]=i.useState(),[L,I]=i.useState(null),[V,q]=i.useState(),[D,ne]=i.useState(!1),[w,A]=i.useState(""),ie=s=>{s=="Verified"&&f("Document Verified Successfully!","success"),s=="Rejected"&&f("Document Rejected Successfully!","error")},Y=()=>P(!0),fe=()=>{P(!1),oe(!1)},M=()=>{},k=(s,C)=>{le(s),r(C),fe(),we()},we=()=>{Y()},h=()=>oe(!0),[Je,oe]=i.useState(!1),ze=(s,C,ve)=>{h(),q(s),A(C),I(ve)},c=()=>{var C,ve,De,ke;if(T!="Verified"&&Q==""){f("Please enter comment.","error");return}ne(!0),console.log("submitting verification with values => ",T,"and",Q,"and",_);let s={applicationId:e==null?void 0:e.id,id:_,docStatus:T,docRemarks:Q};fe(),console.log("before verify document...",s),Ue[(ve=(C=e==null?void 0:e.api)==null?void 0:C.api_verifyDocuments)==null?void 0:ve.method]((ke=(De=e==null?void 0:e.api)==null?void 0:De.api_verifyDocuments)==null?void 0:ke.url,s,pe()).then(G=>{var je;console.log("submitting doc status data => "),(je=G==null?void 0:G.data)!=null&&je.status?(ie(T),e.refresh()):e==null||e.activateBottomErrorCard(!0,"Some error occured while verifying document. Please try again later"),R(""),ne(!1)}).catch(G=>{console.log("error submitting status => ",G),R(""),ne(!1),e==null||e.activateBottomErrorCard(!0,"Some error occured while verifying document. Please try again later")})},$=s=>n==null?void 0:n.some(C=>C==s);return t.jsxs(t.Fragment,{children:[D&&t.jsx(ot,{}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:e.index+1})}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:Ae((ee=e==null?void 0:e.docList)==null?void 0:ee.doc_code)})}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm cursor-pointer",onClick:()=>{var s,C,ve,De,ke,G,je;return ze(`${(s=e==null?void 0:e.docList)==null?void 0:s.doc_path}`,(G=(C=e==null?void 0:e.docList)==null?void 0:C.doc_path)==null?void 0:G.split(".")[((ke=(De=(ve=e==null?void 0:e.docList)==null?void 0:ve.doc_path)==null?void 0:De.split("."))==null?void 0:ke.length)-1],(je=e==null?void 0:e.docList)==null?void 0:je.id)},children:t.jsxs("div",{className:"flex items-center",children:[(((ge=(O=e==null?void 0:e.docList)==null?void 0:O.doc_path)==null?void 0:ge.split(".")[((me=(j=(re=e==null?void 0:e.docList)==null?void 0:re.doc_path)==null?void 0:j.split("."))==null?void 0:me.length)-1])=="pdf"||((Be=(be=e==null?void 0:e.docList)==null?void 0:be.doc_path)==null?void 0:Be.split(".")[((Se=(_e=(Pe=e==null?void 0:e.docList)==null?void 0:Pe.doc_path)==null?void 0:_e.split("."))==null?void 0:Se.length)-1])=="pdf/")&&t.jsx("div",{className:"flex-shrink-0 text-[28px] shadow-xl",children:t.jsx(ut,{})}),(((Qe=(He=e==null?void 0:e.docList)==null?void 0:He.doc_path)==null?void 0:Qe.split(".")[((Ve=(Ge=(Ce=e==null?void 0:e.docList)==null?void 0:Ce.doc_path)==null?void 0:Ge.split("."))==null?void 0:Ve.length)-1])=="jpg"||((Z=(We=e==null?void 0:e.docList)==null?void 0:We.doc_path)==null?void 0:Z.split(".")[((B=(Ie=(qe=e==null?void 0:e.docList)==null?void 0:qe.doc_path)==null?void 0:Ie.split("."))==null?void 0:B.length)-1])=="jpg/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>m(s=>{var C;return[...s,(C=e==null?void 0:e.docList)==null?void 0:C.id]}),src:$(($e=e==null?void 0:e.docList)==null?void 0:$e.id)?tt:`${(Ee=e==null?void 0:e.docList)==null?void 0:Ee.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),(((Ye=(Ne=e==null?void 0:e.docList)==null?void 0:Ne.doc_path)==null?void 0:Ye.split(".")[((Re=(Te=(p=e==null?void 0:e.docList)==null?void 0:p.doc_path)==null?void 0:Te.split("."))==null?void 0:Re.length)-1])=="jpeg"||((te=(et=e==null?void 0:e.docList)==null?void 0:et.doc_path)==null?void 0:te.split(".")[((ye=(v=(l=e==null?void 0:e.docList)==null?void 0:l.doc_path)==null?void 0:v.split("."))==null?void 0:ye.length)-1])=="jpeg/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>m(s=>{var C;return[...s,(C=e==null?void 0:e.docList)==null?void 0:C.id]}),src:$((a=e==null?void 0:e.docList)==null?void 0:a.id)?tt:`${(o=e==null?void 0:e.docList)==null?void 0:o.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),(((ue=(W=e==null?void 0:e.docList)==null?void 0:W.doc_path)==null?void 0:ue.split(".")[((z=(b=(S=e==null?void 0:e.docList)==null?void 0:S.doc_path)==null?void 0:b.split("."))==null?void 0:z.length)-1])=="png"||((H=(J=e==null?void 0:e.docList)==null?void 0:J.doc_path)==null?void 0:H.split(".")[((E=(N=(d=e==null?void 0:e.docList)==null?void 0:d.doc_path)==null?void 0:N.split("."))==null?void 0:E.length)-1])=="png/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>m(s=>{var C;return[...s,(C=e==null?void 0:e.docList)==null?void 0:C.id]}),src:$((U=e==null?void 0:e.docList)==null?void 0:U.id)?tt:`${(F=e==null?void 0:e.docList)==null?void 0:F.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})}),t.jsxs("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:[((ae=e==null?void 0:e.docList)==null?void 0:ae.doc_code)=="PHOTOGRAPH"&&t.jsx("p",{className:"whitespace-no-wrap",children:"NA"}),((xe=e==null?void 0:e.docList)==null?void 0:xe.doc_code)!="PHOTOGRAPH"&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((g=e==null?void 0:e.docList)==null?void 0:g.verify_status)==0&&t.jsx(t.Fragment,{children:"Pending"})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((y=e==null?void 0:e.docList)==null?void 0:y.verify_status)==1&&t.jsx(t.Fragment,{children:"Verified"})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((X=e==null?void 0:e.docList)==null?void 0:X.verify_status)==2&&t.jsx(t.Fragment,{children:"Rejected"})})]})]}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:Ae((K=e==null?void 0:e.docList)==null?void 0:K.remarks)})})]}),t.jsx(Oe,{isOpen:u,onAfterOpen:M,onRequestClose:fe,style:$a,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 bg-white md:ml-32 py-4 px-8 md:px-4 flex flex-col items-center justify-center gap-y-4 w-full md:w-[30vw] animate__animated animate__zoomIn animate__faster",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:fe,children:t.jsx(rt,{})}),t.jsxs("div",{className:"flex flex-wrap font-semibold gap-4 justify-center items-center",children:[t.jsx("span",{children:t.jsx(sa,{})}),T=="Verified"&&t.jsx("span",{children:"Verify Document ?"}),T=="Rejected"&&t.jsx("span",{children:"Reject Document ?"})]}),t.jsxs("div",{className:"flex flex-col flex-wrap gap-1 justify-center w-full px-4",children:[t.jsx("span",{className:"text-sm font-semibold",children:"Comment :"}),t.jsx("textarea",{type:"text",name:"docRemarks",id:"",className:"form-control block px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md text-xs",placeholder:"Enter your comments here...",rows:2,onChange:s=>R(s.target.value)})]}),t.jsxs("div",{className:"flex flex-wrap justify-center items-center px-6 md:px-10",children:[T=="Verified"&&t.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",onClick:()=>c(),children:"Verify"}),T=="Rejected"&&t.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",onClick:()=>c(),children:"Reject"})]})]})}),t.jsx(Oe,{isOpen:Je,onAfterOpen:M,onRequestClose:fe,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 bg-white border-gray-200 md:ml-32 p-4 animate__animated animate__zoomIn animate__faster  w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:fe,children:t.jsx(rt,{})}),$(L)?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[w=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:V,frameborder:"0"})}),w!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:V,alt:"",srcset:""})})})]}),t.jsx("div",{className:"absolute bottom-10 text-center left-[26.5vw] text-sm",children:((x=e==null?void 0:e.docList)==null?void 0:x.verify_status)==0&&t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{var s;return k("Verified",(s=e==null?void 0:e.docList)==null?void 0:s.id)},className:"flex-initial bg-green-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white text-black flex items-center",children:"Verify"}),t.jsx("button",{onClick:()=>{var s;return k("Rejected",(s=e==null?void 0:e.docList)==null?void 0:s.id)},className:"flex-initial bg-red-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black items-center flex",children:"Reject"})]})})]})})]})}const Va={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Oe.setAppElement("#root");function qa(e){const{t:n}=ct(),[m,f]=i.useState(),[u,P]=i.useState(!1),[T,le]=i.useState(""),[Q,R]=i.useState(""),[_,r]=i.useState(!1),[L,I]=i.useState(0),V=()=>P(!0),q=()=>P(!1),D=()=>{};i.useEffect(()=>{var A,ie,Y,fe;r(!0),console.log("before document verify fetch ",e==null?void 0:e.id);let w={applicationId:e==null?void 0:e.id};Ue[(ie=(A=e==null?void 0:e.api)==null?void 0:A.api_documentList)==null?void 0:ie.method]((fe=(Y=e==null?void 0:e.api)==null?void 0:Y.api_documentList)==null?void 0:fe.url,w,pe()).then(M=>{var k,we,h;console.log("getting doc status and verify in doc verify===========> ",M),f((k=M==null?void 0:M.data)==null?void 0:k.data),e==null||e.setallDocumentVerifyStatus((h=(we=M==null?void 0:M.data)==null?void 0:we.message)==null?void 0:h.docVerifyStatus),r(!1)}).catch(M=>{console.log("getting doc status and verify in doc verify error  ===========> ",M),r(!1)})},[L]);const ne=(w,A)=>{le(w),R(A),V()};return console.log("🚀document api at document verify component",e==null?void 0:e.api),t.jsxs(t.Fragment,{children:[_&&t.jsx(ot,{}),t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsx("span",{})}),t.jsx("div",{className:"container mx-auto  max-w-3xl ml-0  px-1 py-1 shadow-lg rounded-lg",children:t.jsx("div",{className:"py-0",children:t.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:t.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"bg-sky-100",children:t.jsxs("tr",{className:"font-semibold",children:[t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentName.label")}),t.jsxs("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:[n("mainHoldingPage.propIndexDoVewVef.label"),t.jsx("div",{className:"font-normal text-xs",children:n("mainHoldingPage.propIndexDoClkVrfy.label")})]}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentStatus.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:n("mainHoldingPage.documentRemark.label")})]})}),t.jsxs("tbody",{children:[(m==null?void 0:m.length)==0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"text-center",children:t.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg",children:"No Document Found !!"})})}),m==null?void 0:m.map((w,A)=>t.jsx(Ua,{activateBottomErrorCard:e==null?void 0:e.activateBottomErrorCard,api:e==null?void 0:e.api,openModal:ne,id:e==null?void 0:e.id,docList:w,index:A,refresh:()=>I(L+1)}))]})]})})})})}),t.jsx(Oe,{isOpen:u,onAfterOpen:D,onRequestClose:q,style:Va,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-100 ml-32 p-4 animate__animated animate__zoomIn animate__faster",style:{width:"60vw",height:"80vh"},children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:q,children:t.jsx(rt,{})}),Q=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:T,frameborder:"0"})}),Q!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("img",{src:T,alt:"",srcset:""})})})]})}),t.jsx("div",{className:"w-full mt-20"})]})}const Wa={content:{top:"50%",left:"52%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};Oe.setAppElement("#root");function Ja(e){var v,ye,te;const{t:n}=ct();i.useContext(Ct);const[m,f]=i.useState(!1);i.useState(),i.useState(),i.useState();const[u,P]=i.useState(null),[T,le]=i.useState("");i.useState(null),i.useState(0);const[Q,R]=i.useState(0),[_,r]=i.useState(!1);i.useState();const[L,I]=i.useState(""),[V,q]=i.useState(1),[D,ne]=i.useState(0);i.useState(0);const[w,A]=i.useState(),[ie,Y]=i.useState(""),[fe,M]=i.useState(!0),[k,we]=i.useState(!1);i.useState(null);const[h,Je]=i.useState(),[oe,ze]=i.useState(),[c,$]=i.useState(""),[he,ee]=i.useState(null),[O,re]=i.useState(null),[j,me]=i.useState(null),[ge,be]=i.useState(""),[Pe,_e]=i.useState([]),Se=i.useRef([]),Be=i.useRef([]),He=i.useRef([]),Ce=i.useRef([]),[Ge,Ve]=i.useState(!1),[Qe,We]=i.useState(!1),qe=()=>We(!0),Ie=()=>{},B=(a,o)=>{et(o),ee(a),ne(D+1),r(!0),Ve(!0)},Z=()=>{ee(null),we(!1),Ve(!1),r(!1),We(!1),q(V+1),Se.current=[],He.current=[],Be.current=[],Ce.current=[],console.log("modal m end => ",_,k)};console.log(".............data in full details card in bo doc upload.........",e==null?void 0:e.applicationData2),console.log("id in upload........",e==null?void 0:e.id),i.useEffect(()=>{$e()},[]);const $e=()=>{var a,o,W,S;console.log("before fetch upload doc"),f(!0),Ue[(o=(a=e==null?void 0:e.api)==null?void 0:a.api_uploadDocumentShow)==null?void 0:o.method]((S=(W=e==null?void 0:e.api)==null?void 0:W.api_uploadDocumentShow)==null?void 0:S.url,{applicationId:e==null?void 0:e.id},pe()).then(b=>{var z,ue,J,d;console.log("list of doc to upload at pilotworkflowdocumentupload => ",b==null?void 0:b.data),(z=b==null?void 0:b.data)!=null&&z.status?(Je((ue=b==null?void 0:b.data)==null?void 0:ue.data),e==null||e.setallDocumentUploadStatus((d=(J=b==null?void 0:b.data)==null?void 0:J.data)==null?void 0:d.docUploadStatus)):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),f(!1)}).catch(b=>{console.log("data submission error bo doc upload => ",b),e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),r(!1),f(!1)})};console.log("temp doc => ",k);const Ee=St({docId:Ot().required("Select document type"),docUpload:wt().required("Select document")}),Ne=vt({initialValues:{docId:"",docUpload:"",docName:""},onSubmit:async a=>{console.log("use effect 2"),console.log("values submission => ",a),Te()},validationSchema:Ee}),p=(a,o,W)=>{var b,z;let S=a.target.files[0];Y(a.target.name),A(URL.createObjectURL(a.target.files[0])),P(a.target.files[0]),o=="owner"?He.current[W]=(b=a.target.files[0])==null?void 0:b.name:Ce.current[W]=(z=a.target.files[0])==null?void 0:z.name,Ne.setFieldValue("docUpload",URL.createObjectURL(a.target.files[0])),console.log("use effect change ",Ne.values.docId,Ne.values.docUpload),console.log("file on change bo doc upload => ",S,"and doc upload => ",u,"and url => ",w,"and name => ",S==null?void 0:S.name,"file name => ",ie),(S==null?void 0:S.name).substring((S==null?void 0:S.name).lastIndexOf(".")+1)=="pdf"?M(!1):M(!0)};console.log("and doc name => ",ie);const Te=(a,o,W)=>{var J,d,N,E;console.log("use effect 3 => ",He.current[o],`
 index => `,o,`
 module => `,W,a);let S;W==="property"?S=Be.current:S=Se.current;const b=S.map((H,U)=>U===o?H.value:"");if(console.log("current select document is....",b[o]),b[o]===null||b[o]==="Select"||b[o]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${a}`),ee(null),re(null);return}if(b[o]===null||b[o]==="Select"||b[o]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${a}`),ee(null),re(null);return}if(W=="owner"&&(He.current[o]==null||He.current[o]==""||He.current[o]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`),He.current[o]=null;return}if(W=="property"&&(Ce.current[o]==null||Ce.current[o]==""||Ce.current[o]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`),Ce.current[o]=null;return}if(u==null){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`);return}if(!zt(u)){e==null||e.activateBottomErrorCard(!0,`File is too large for ${a}`),P(null);return}if((j==null?void 0:j.toLowerCase())=="others"&&c==""){e==null||e.activateBottomErrorCard(!0,`Document name is required for type ${a}`);return}console.log("doc ref name...",a);let z=new FormData;console.log("document  => ",u);let ue={applicationId:e==null?void 0:e.id,ownerId:he,docCode:b[o],document:u,docName:a,docCategory:(j==null?void 0:j.toLowerCase())=="others"?c:j};z.append("applicationId",e==null?void 0:e.id),he!=null&&z.append("ownerId",he),z.append("docCode",b[o]),z.append("document",u),z.append("docName",a),z.append("docCategory",(j==null?void 0:j.toLowerCase())=="others"?c:j),console.log("form data bo doc upload => ",ue),u!=null?(Z(),f(!0),console.log("before fetch doc to upload...",z),Ue[(d=(J=e==null?void 0:e.api)==null?void 0:J.api_uploadDocument)==null?void 0:d.method]((E=(N=e==null?void 0:e.api)==null?void 0:N.api_uploadDocument)==null?void 0:E.url,z,It()).then(H=>{var U;console.log("data submitted bo doc upload => ",H.data),(U=H==null?void 0:H.data)!=null&&U.status?(at.success("Document Uploaded Successfully !!"),r(!1),le(""),P(""),f(!1),R(Q+1),Y(""),Ne.setFieldValue("docUpload",""),e.refresh(),ee(null),re(null),me(null),$e()):(console.log("something went"),e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later")),f(!1)}).catch(H=>{console.log("data submission error bo doc upload => ",H),e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),r(!1),f(!1)})):e==null||e.activateBottomErrorCard(!0,"Please select file")},Re=(a,o)=>{console.log("getting doc name => ",a),a==""&&at.error("File not uploaded !!!"),a!=""&&(I(a),be(o),qe(),q(V+1))},Ye=(a,o)=>{re(a.target.value),me(o),console.log("changing id use effect",o)},et=a=>{let o=h==null?void 0:h.ownerDocs[a];console.log("select row....",o),ze(o)};console.log("filterred modal data......",oe),console.log("owner doc list ===>......",h==null?void 0:h.ownersDocList);const l=a=>Pe==null?void 0:Pe.some(o=>o==a);return t.jsxs(t.Fragment,{children:[t.jsx(Pt,{position:"top-right",autoClose:2e3}),m&&t.jsx("div",{className:"inline",children:t.jsx(ot,{})}),t.jsxs("div",{className:"overflow-x-auto ",children:[t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsxs("span",{children:[t.jsx("img",{src:bt,alt:"pin",className:"w-8 inline"})," ",n("mainHoldingPage.propIndexBoDocUp.label")]})}),t.jsxs("div",{className:"bg-white",children:[console.log("object",h==null?void 0:h.ownerDocs),(h==null?void 0:h.ownerDocs)&&t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-10",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsx("h1",{className:"text-md font-semibold",children:n("mainHoldingPage.propIndexBtnOwnrDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.propIndexBtnApplImg.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.propertyApplicantNm.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.holdingOwnerGuardianName.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.holdingOwnerMobileNum.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:n("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:n("mainHoldingPage.holdingAction.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(v=h==null?void 0:h.ownerDocs)==null?void 0:v.map((a,o)=>{var W,S,b,z,ue,J,d,N,E,H,U;return t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center",children:[((W=a==null?void 0:a.ownerDetails)==null?void 0:W.uploadedDoc)!=""&&t.jsx("div",{className:"text-center cursor-pointer ",onClick:()=>{var F,ae;return Re(`${(F=a==null?void 0:a.ownerDetails)==null?void 0:F.uploadedDoc}`,"jpg",(ae=a==null?void 0:a.ownerDetails)==null?void 0:ae.docId)},children:t.jsx("img",{src:l((S=a==null?void 0:a.ownerDetails)==null?void 0:S.docId)?tt:`${(b=a==null?void 0:a.ownerDetails)==null?void 0:b.uploadedDoc}`,alt:"",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((z=a==null?void 0:a.ownerDetails)==null?void 0:z.uploadedDoc)==""&&t.jsx("span",{className:"text-red-500 font-semibold",children:"Not Uploaded"})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:Ze((ue=a==null?void 0:a.ownerDetails)==null?void 0:ue.name)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:Ze((J=a==null?void 0:a.ownerDetails)==null?void 0:J.guardian)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:Ze((d=a==null?void 0:a.ownerDetails)==null?void 0:d.mobile)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`font-medium ${((N=a==null?void 0:a.ownerDetails)==null?void 0:N.reqDocCount)===((E=a==null?void 0:a.ownerDetails)==null?void 0:E.uploadedDocCount)?"text-green-400":"text-red-400"}`,children:["Uploaded ",Ze((H=a==null?void 0:a.ownerDetails)==null?void 0:H.uploadedDocCount)," of ",Ze((U=a==null?void 0:a.ownerDetails)==null?void 0:U.reqDocCount)]})})}),t.jsx("td",{className:"py-3 px-6",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:!m&&t.jsx("button",{onClick:()=>{var F;return B((F=a==null?void 0:a.ownerDetails)==null?void 0:F.ownerId,o)},type:"button",className:`px-4 py-1 ${ca}`,children:n("mainHoldingPage.holdingView.label")})})})})]})})})]})})]})}),t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsx("h1",{className:"text-md font-semibold",children:n("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:n("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexPropDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexDocUpld.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(ye=h==null?void 0:h.listDocs)==null?void 0:ye.map((a,o)=>{var W,S,b,z,ue,J,d,N,E,H,U,F,ae,xe,g,y,X,K,x,s,C,ve,De,ke,G,je,Ke,lt,nt,it,st,se,Fe,ce,Me,dt;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:Ne.handleSubmit,onChange:Ne.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:o+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:bt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:a==null?void 0:a.docName,children:[Ze(a==null?void 0:a.docName),((a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:(a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R"?t.jsx("span",{className:"font-semibold text-red-400",children:n("mainHoldingPage.propIndexDoRqrd.label")}):t.jsx("span",{children:n("mainHoldingPage.propIndexDoOptnl.label")})}),t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsxs("select",{ref:de=>Be.current[o]=de,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(h==null?void 0:h.isCitizen)!=!0&&(h==null?void 0:h.isCitizen)!="true"),onChange:de=>Ye(de,a==null?void 0:a.docName),children:[t.jsx("option",{value:null,selected:!0,children:n("mainHoldingPage.holdingSelectBtn.label")}),(W=a==null?void 0:a.masters)==null?void 0:W.map((de,Le)=>t.jsx("option",{value:de==null?void 0:de.documentCode,children:de==null?void 0:de.docVal}))]})}),((S=a==null?void 0:a.docName)==null?void 0:S.toLowerCase())=="others"&&(j==null?void 0:j.toLowerCase())=="others"&&t.jsx("input",{type:"text",name:"otherDocumentName",value:c,onChange:de=>$(de.target.value),className:`${$t} capitalize m-1`,placeholder:"Enter document Name",required:!0})]})}),t.jsx("td",{className:"py-3 px-6 text-center relative",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var de,Le,xt,ht,_t,Bt,Ht;return Re(`${(de=a==null?void 0:a.uploadedDoc)==null?void 0:de.docPath}`,(Bt=(Le=a==null?void 0:a.uploadedDoc)==null?void 0:Le.docPath)==null?void 0:Bt.split(".")[((_t=(ht=(xt=a==null?void 0:a.uploadedDoc)==null?void 0:xt.docPath)==null?void 0:ht.split("."))==null?void 0:_t.length)-1],(Ht=a==null?void 0:a.uploadedDoc)==null?void 0:Ht.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((d=(b=a==null?void 0:a.uploadedDoc)==null?void 0:b.docPath)==null?void 0:d.split(".")[((J=(ue=(z=a==null?void 0:a.uploadedDoc)==null?void 0:z.docPath)==null?void 0:ue.split("."))==null?void 0:J.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(ut,{})}),((F=(N=a==null?void 0:a.uploadedDoc)==null?void 0:N.docPath)==null?void 0:F.split(".")[((U=(H=(E=a==null?void 0:a.uploadedDoc)==null?void 0:E.docPath)==null?void 0:H.split("."))==null?void 0:U.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(de=>{var Le;return[...de,(Le=a==null?void 0:a.uploadedDoc)==null?void 0:Le.uploadedDocId]}),src:l((ae=a==null?void 0:a.uploadedDoc)==null?void 0:ae.uploadedDocId)?tt:`${(xe=a==null?void 0:a.uploadedDoc)==null?void 0:xe.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((x=(g=a==null?void 0:a.uploadedDoc)==null?void 0:g.docPath)==null?void 0:x.split(".")[((K=(X=(y=a==null?void 0:a.uploadedDoc)==null?void 0:y.docPath)==null?void 0:X.split("."))==null?void 0:K.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(de=>{var Le;return[...de,(Le=a==null?void 0:a.uploadedDoc)==null?void 0:Le.uploadedDocId]}),src:l((s=a==null?void 0:a.uploadedDoc)==null?void 0:s.uploadedDocId)?tt:`${(C=a==null?void 0:a.uploadedDoc)==null?void 0:C.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((je=(ve=a==null?void 0:a.uploadedDoc)==null?void 0:ve.docPath)==null?void 0:je.split(".")[((G=(ke=(De=a==null?void 0:a.uploadedDoc)==null?void 0:De.docPath)==null?void 0:ke.split("."))==null?void 0:G.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(de=>{var Le;return[...de,(Le=a==null?void 0:a.uploadedDoc)==null?void 0:Le.uploadedDocId]}),src:l((Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.uploadedDocId)?tt:`${(lt=a==null?void 0:a.uploadedDoc)==null?void 0:lt.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((nt=a==null?void 0:a.uploadedDoc)==null?void 0:nt.verifyStatus)==0&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((it=a==null?void 0:a.uploadedDoc)==null?void 0:it.verifyStatus)==1&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((st=a==null?void 0:a.uploadedDoc)==null?void 0:st.verifyStatus)==2&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoRjct.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(a==null?void 0:a.btcStatus)===!0&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoRjct.label")})})]})}),t.jsx("td",{className:"py-3 px-6 text-center",children:((se=a==null?void 0:a.uploadedDoc)==null?void 0:se.remarks)==""||((Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):(ce=a==null?void 0:a.uploadedDoc)==null?void 0:ce.remarks}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:(h==null?void 0:h.isCitizen)!=!0&&(h==null?void 0:h.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||e!=null&&e.isBtc&&((Me=a==null?void 0:a.uploadedDoc)==null?void 0:Me.verifyStatus)==2||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{type:"file",name:a==null?void 0:a.docName,onChange:de=>p(de,"property",o),accept:(a==null?void 0:a.docName)==="Layout sanction Map"?".png, .jpg, .jpeg":".pdf, .png, .jpg, .jpeg",className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"})}),((dt=a==null?void 0:a.uploadedDoc)==null?void 0:dt.verify_status)!=1&&t.jsx("div",{className:"mt-2",children:!m&&t.jsx("button",{onClick:()=>Te(a==null?void 0:a.docName,o,"property"),className:" px-4 py-1.5 bg-blue-400 text-white text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:n("mainHoldingPage.propIndexDocUpld.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:n("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:n("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})]})})]})}),t.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[t.jsx("div",{className:"md:pl-0"}),t.jsx("div",{className:"md:px-4 text-center"}),t.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),t.jsx(Oe,{isOpen:Ge,onRequestClose:Z,style:Wa,contentLabel:"Example Modal",children:t.jsxs("div",{class:"relative overflow-x-auto bg-white rounded-lg shadow-xl border-2 border-gray-50 animate__animated animate__zoomIn animate__faster",children:[t.jsx("div",{className:"absolute top-5 right-5 bg-red-200 hover:bg-red-300 rounded-full p-2 cursor-pointer",onClick:Z,children:t.jsx(rt,{})}),t.jsx("div",{className:"flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsxs("div",{className:"font-semibold w-full flex",children:[t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("span",{className:"float-none",children:n("mainHoldingPage.propIndexDoUpldDoc.label")})})]}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:n("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.holdingStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.holdingAction.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(te=oe==null?void 0:oe.documents)==null?void 0:te.map((a,o)=>{var W,S,b,z,ue,J,d,N,E,H,U,F,ae,xe,g,y,X,K,x,s,C,ve,De,ke,G,je,Ke,lt,nt,it,st;return t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:o+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2 ",children:t.jsx("img",{src:bt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",children:[Ze(a==null?void 0:a.docName),((a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:t.jsxs("select",{ref:se=>Se.current[o]=se,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(h==null?void 0:h.isCitizen)!=!0&&(h==null?void 0:h.isCitizen)!="true"),onChange:se=>Ye(se,a==null?void 0:a.docName),children:[t.jsx("option",{value:null,children:n("mainHoldingPage.holdingSelectBtn.label")}),(W=a==null?void 0:a.masters)==null?void 0:W.map((se,Fe)=>t.jsx("option",{value:se==null?void 0:se.documentCode,children:se==null?void 0:se.docVal}))]})})})})}),t.jsx("td",{className:"py-3 px-6 text-center",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var se,Fe,ce,Me,dt,de,Le;return Re(`${(se=a==null?void 0:a.uploadedDoc)==null?void 0:se.docPath}`,(de=(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.docPath)==null?void 0:de.split(".")[((dt=(Me=(ce=a==null?void 0:a.uploadedDoc)==null?void 0:ce.docPath)==null?void 0:Me.split("."))==null?void 0:dt.length)-1],(Le=a==null?void 0:a.uploadedDoc)==null?void 0:Le.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((J=(S=a==null?void 0:a.uploadedDoc)==null?void 0:S.docPath)==null?void 0:J.split(".")[((ue=(z=(b=a==null?void 0:a.uploadedDoc)==null?void 0:b.docPath)==null?void 0:z.split("."))==null?void 0:ue.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(ut,{})}),((U=(d=a==null?void 0:a.uploadedDoc)==null?void 0:d.docPath)==null?void 0:U.split(".")[((H=(E=(N=a==null?void 0:a.uploadedDoc)==null?void 0:N.docPath)==null?void 0:E.split("."))==null?void 0:H.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(se=>{var Fe;return[...se,(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.uploadedDocId]}),src:l((F=a==null?void 0:a.uploadedDoc)==null?void 0:F.uploadedDocId)?tt:`${(ae=a==null?void 0:a.uploadedDoc)==null?void 0:ae.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((K=(xe=a==null?void 0:a.uploadedDoc)==null?void 0:xe.docPath)==null?void 0:K.split(".")[((X=(y=(g=a==null?void 0:a.uploadedDoc)==null?void 0:g.docPath)==null?void 0:y.split("."))==null?void 0:X.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(se=>{var Fe;return[...se,(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.uploadedDocId]}),src:l((x=a==null?void 0:a.uploadedDoc)==null?void 0:x.uploadedDocId)?tt:`${(s=a==null?void 0:a.uploadedDoc)==null?void 0:s.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((G=(C=a==null?void 0:a.uploadedDoc)==null?void 0:C.docPath)==null?void 0:G.split(".")[((ke=(De=(ve=a==null?void 0:a.uploadedDoc)==null?void 0:ve.docPath)==null?void 0:De.split("."))==null?void 0:ke.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(se=>{var Fe;return[...se,(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.uploadedDocId]}),src:l((je=a==null?void 0:a.uploadedDoc)==null?void 0:je.uploadedDocId)?tt:`${(Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("span",{className:"text-red-500 font-semibold",children:n("mainHoldingPage.propIndexDoNtUplded.label")}):t.jsxs(t.Fragment,{children:[(a==null?void 0:a.docName)=="Photograph"&&t.jsx("p",{className:"whitespace-no-wrap"}),(a==null?void 0:a.docName)!="Photograph"&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((lt=a==null?void 0:a.uploadedDoc)==null?void 0:lt.verifyStatus)==0&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((nt=a==null?void 0:a.uploadedDoc)==null?void 0:nt.verifyStatus)==1&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(a==null?void 0:a.btcStatus)===!0&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoRjct.label")})})]})]})}),t.jsxs("td",{className:"py-3 px-6",children:[((it=a==null?void 0:a.uploadedDoc)==null?void 0:it.remarks)==""?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):(st=a==null?void 0:a.uploadedDoc)==null?void 0:st.remarks,(a==null?void 0:a.uploadedDoc)==""&&t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")})]}),t.jsx("td",{className:"py-3 px-6",children:(h==null?void 0:h.isCitizen)!=!0&&(h==null?void 0:h.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{accept:o==0?".png,.jpg,.jpeg":".pdf,.png,.jpg,.jpeg",type:"file",onChange:se=>p(se,"owner",o),className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36 cursor-pointer"})}),t.jsx("div",{className:"mt-2",children:!m&&t.jsx("button",{onClick:()=>Te(a==null?void 0:a.docName,o,"owner"),type:"button",className:" px-6 py-1.5 bg-blue-400 text-white font-medium text-xs leading-tight capitalize rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:n("mainHoldingPage.propIndexDocUpld.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:n("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:n("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})})]})})]})})]})}),t.jsx(Oe,{isOpen:Qe,onAfterOpen:Ie,onRequestClose:Z,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:Z,children:t.jsx(rt,{})}),Pe==!0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:n("mainHoldingPage.propIndexDoErr.label")}),t.jsx("div",{className:"pl-4",children:n("mainHoldingPage.propIndexDoNtVsbl.label")})]})}):t.jsxs(t.Fragment,{children:[ge=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:L,frameborder:"0"})}),ge!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:L,alt:"",srcset:"",className:""})})})]})]})}),t.jsx("h1",{className:"w-full mt-20"})]})}const Ga={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Oe.setAppElement("#root");function Qa(e){var Je,oe,ze;const[n,m]=i.useState(!1),[f,u]=i.useState([]),[P,T]=i.useState(!0),[le,Q]=i.useState(),[R,_]=i.useState(),[r,L]=i.useState(0),[I,V]=i.useState("");console.log("app data...",e==null?void 0:e.applicationData),console.log("dynamic custom form....",(ze=(oe=(Je=e==null?void 0:e.applicationData)==null?void 0:Je.data)==null?void 0:oe.timelineData)==null?void 0:ze.customFor);const q=vt({initialValues:{remarks:"",document:""},onSubmit:c=>{if(console.log("saf custom Getting custom tab values in formik function => ",c,"and id is => ",e==null?void 0:e.id),c.remarks==""){at.error("Please write some comment");return}D(c)}});console.log("custorm for  => ",e==null?void 0:e.applicationData);const D=c=>{var he,ee,O,re,j,me,ge;let $=new FormData;$.append("applicationId",e==null?void 0:e.id),$.append("customFor",(O=(ee=(he=e==null?void 0:e.applicationData)==null?void 0:he.data)==null?void 0:ee.timelineData)==null?void 0:O.customFor),$.append("remarks",c.remarks),$.append("document",f),console.log("before send => ",$),c.remarks==""&&le==null?at.error("Please fill any field.."):(m(!0),Ue[(j=(re=e==null?void 0:e.api)==null?void 0:re.api_postDepartmentalData)==null?void 0:j.method]((ge=(me=e==null?void 0:e.api)==null?void 0:me.api_postDepartmentalData)==null?void 0:ge.url,$,It()).then(be=>{var Pe;console.log("submitted => ",be),(Pe=be==null?void 0:be.data)!=null&&Pe.status?(L(r+1),T(!0),at.success("Message Submitted Successfully..."),q.resetForm()):e==null||e.activateBottomErrorCard(!0,"Some error occured while saving message. Please try again later."),m(!1)}).catch(be=>{console.log("ERror submission => ",be),e==null||e.activateBottomErrorCard(!0,"Some error occured while saving message. Please try again later."),m(!1)}))},ne=c=>{if(c.target.name=="document"){let $=c.target.files[0];Q(c.target.files[0]),u(c.target.files[0]),console.log("document file on change..",$)}};i.useEffect(()=>{L(r+1)},[]),i.useEffect(()=>{var c,$,he,ee,O,re,j;console.log("role id => ",e==null?void 0:e.roleId),(e==null?void 0:e.roleId)==11&&V("Back Office"),(e==null?void 0:e.roleId)==6&&V("Dealing Assistant"),m(!0),Ue[($=(c=e==null?void 0:e.api)==null?void 0:c.api_getDepartmentalData)==null?void 0:$.method]((ee=(he=e==null?void 0:e.api)==null?void 0:he.api_getDepartmentalData)==null?void 0:ee.url,{applicationId:e==null?void 0:e.id,customFor:(j=(re=(O=e==null?void 0:e.applicationData)==null?void 0:O.data)==null?void 0:re.timelineData)==null?void 0:j.customFor},pe()).then(me=>{var ge;m(!1),console.log("get remark data => ",me),_((ge=me==null?void 0:me.data)==null?void 0:ge.data)}).catch(me=>{m(!1),console.log("error get remark data => ",me)})},[r]);const[w,A]=i.useState(!1),[ie,Y]=i.useState(""),fe=()=>A(!0),M=()=>A(!1),k=()=>{},we=c=>{console.log("incoming doc url modal => ",c),Y(c),fe()};console.log("doc url modal => ",ie);const h=c=>{let $=ba(c);return console.log("date => ",$.format("lll")),$.format("lll")};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"container mx-auto ml-0  px-1 py-1 shadow-lg rounded-lg w-full",children:[n&&t.jsx("div",{className:"inline",children:t.jsx(ot,{})}),P?t.jsxs("div",{className:"pb-4 visible text-xs text-gray-600 px-4 pt-2 w-full flex flex-col space-y-2 poppins",children:[t.jsx("div",{className:"flex md:flex-row flex-col w-full md:justify-end items-between mt-2 mb-4 ",children:t.jsx("div",{onClick:()=>T(!1),className:"cursor-pointer px-4 py-1.5 mx-6 rounded-sm bg-sky-400 text-white hover:bg-sky-500 shadow-lg text-xs",children:"Comment"})}),R<1&&t.jsx("div",{className:"flex justify-center items-center w-full",children:t.jsx("span",{className:"bg-red-100 px-4 py-1.5 rounded-sm shadow-sm",children:"👉Click comment to add comment on this application.👈"})}),t.jsx("div",{className:"w-full flex flex-wrap justify-evenly timeline-container text-xs text-gray-800 poppins",children:R==null?void 0:R.map(c=>{var $,he,ee,O,re,j,me,ge,be;return t.jsxs(t.Fragment,{children:[(c==null?void 0:c.type)=="text"&&(c==null?void 0:c.customFor)==((ee=(he=($=e==null?void 0:e.applicationData)==null?void 0:$.data)==null?void 0:he.timelineData)==null?void 0:ee.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:I}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",h(c==null?void 0:c.date)]})]}),t.jsxs("div",{children:["Remarks : ",t.jsx("span",{className:"font-semibold",children:Ae(c==null?void 0:c.remarks)})," "]}),t.jsx("span",{className:"circle"})]})}),(c==null?void 0:c.type)=="file"&&(c==null?void 0:c.customFor)==((j=(re=(O=e==null?void 0:e.applicationData)==null?void 0:O.data)==null?void 0:re.timelineData)==null?void 0:j.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:I}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",Ae(c==null?void 0:c.date)]})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[t.jsxs("span",{className:"text-xs",children:["Document :"," "]}),t.jsx("div",{className:"font-semibold cursor-pointer text-2xl",onClick:()=>we(c==null?void 0:c.docUrl),children:t.jsx(ut,{className:"bg-white rounded-lg shadow-xl"})})," "]}),t.jsx("span",{className:"circle"})]})}),(c==null?void 0:c.type)=="both"&&(c==null?void 0:c.customFor)==((be=(ge=(me=e==null?void 0:e.applicationData)==null?void 0:me.data)==null?void 0:ge.timelineData)==null?void 0:be.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:I}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",Ae(c==null?void 0:c.date)]})]}),t.jsxs("p",{children:["Remarks : ",t.jsx("span",{className:"font-semibold",children:Ae(c==null?void 0:c.remarks)})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[t.jsxs("span",{className:"text-xs",children:["Document :"," "]}),t.jsx("div",{className:"font-semibold cursor-pointer text-2xl",onClick:()=>we(c==null?void 0:c.docUrl),children:t.jsx(ut,{className:"bg-white rounded-lg p-1 shadow-xl"})})," "]}),t.jsx("span",{className:"circle"})]})})]})})})]}):t.jsxs("form",{className:"pb-4 visible poppins",onSubmit:q.handleSubmit,children:[t.jsx("div",{onClick:()=>T(!0),className:"cursor-pointer px-4 py-1.5 mx-6 mt-4 rounded-sm bg-gray-400 text-white hover:bg-gray-500 shadow-lg text-xs w-max mb-4",children:"Comment List"}),t.jsxs("div",{className:"flex flex-wrap md:flex-row flex-col md:justify-evenly items-evenly space-y-2 ",children:[t.jsxs("div",{className:"flex flex-col  w-[40%] space-y-2 mb-2",children:[t.jsx("label",{htmlFor:"remarks",className:"text-zinc-500 capitalize text-xs font-semibold",children:"Remarks"}),t.jsx("textarea",{name:"remarks",onChange:q.handleChange,className:"bg-gray-100 text-xs border-2 border-gray-400 rounded-md px-4 py-2 shadow-md",placeholder:"Write your remarks here..."})]}),t.jsxs("div",{className:"flex flex-col w-[40%] space-y-2",children:[t.jsxs("label",{className:"text-zinc-500 capitalize text-xs font-semibold",htmlFor:"document",children:["Document :"," "]}),t.jsx("input",{accept:".pdf,.jpg,.jpeg",type:"file",name:"document",id:"document",onChange:ne,className:"form-control block w-full px-3 py-1.5 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md "})]})]}),t.jsxs("div",{className:"flex md:flex-row flex-col md:justify-between items-between",children:[t.jsx("div",{}),t.jsx("button",{type:"submit",className:"px-4 py-1.5 mx-6 mt-4 rounded-lg bg-sky-400 hover:bg-sky-500 text-white shadow-lg text-xs",children:"Submit"})]})]})]}),t.jsx(Oe,{isOpen:w,onAfterOpen:k,onRequestClose:M,style:Ga,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 ml-32 px-0",style:{width:"60vw",height:"80vh"},children:[t.jsx("div",{className:"absolute top-10 bg-red-200 hover:bg-red-300 right-10 rounded-full p-2 cursor-pointer",onClick:M,children:t.jsx(xa,{})}),t.jsx("iframe",{className:"w-full h-full",src:ie,frameborder:"0"})]})}),t.jsx("div",{className:"w-full mt-20"})]})}function Ya(e){var f,u,P,T,le,Q,R,_;i.useState(!1),i.useState(!1),i.useState(!0),i.useState([]);const[n,m]=i.useState([]);return console.log("lis....",n),t.jsx(t.Fragment,{children:t.jsxs("div",{class:"rounded-lg pt-4 z-50 w-full h-full",children:[t.jsxs("div",{className:"",children:[(T=(P=(u=(f=e==null?void 0:e.applicationData)==null?void 0:f.data)==null?void 0:u.fullDetailsData)==null?void 0:P.dataArray)==null?void 0:T.map(r=>{var L;return t.jsx("div",{className:"w-full md:w-[69vw] ",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 p-2 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"md:p-3  rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("div",{className:"tracking-wide flex-1",children:[t.jsx(Et,{className:"inline font-semibold"})," ",Ze(r==null?void 0:r.headerTitle)]})}),t.jsx("div",{className:" rounded-lg  py-6 bg-sky-50 shadow-xl",children:t.jsx("div",{className:"grid grid-cols-10 space-y-2  pl-4 ",children:(L=r==null?void 0:r.data)==null?void 0:L.map(I=>t.jsxs("div",{className:"col-span-5 md:col-span-2 text-xs",children:[t.jsx("div",{className:"font-bold text-sm",children:Ze(I==null?void 0:I.value)}),t.jsx("div",{className:"text-gray-500 flex",children:Ze(I==null?void 0:I.displayString)})]}))})})]})})})})})}),(_=(R=(Q=(le=e==null?void 0:e.applicationData)==null?void 0:le.data)==null?void 0:Q.fullDetailsData)==null?void 0:R.tableArray)==null?void 0:_.map(r=>{var L,I;return t.jsx("div",{className:"w-full md:w-[69vw] overflow-x-auto",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"px-1 md:p-3 rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("span",{className:"tracking-wide",children:[t.jsx(Et,{className:"inline font-semibold"})," ",Ze(r==null?void 0:r.headerTitle)]})}),t.jsx(t.Fragment,{children:t.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-sky-50 shadow-xl",children:[t.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50 text-gray-600",children:t.jsx("tr",{children:(L=r==null?void 0:r.tableHead)==null?void 0:L.map(V=>t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:Ze(V)}))})}),t.jsx("tbody",{className:"text-sm",children:t.jsx(t.Fragment,{children:(I=r==null?void 0:r.tableData)==null?void 0:I.map((V,q)=>t.jsx("tr",{className:"bg-sky-50  border-b border-gray-200",children:V==null?void 0:V.map(D=>t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:Ze(D)}))}))})})]})})]})})})})})})]}),t.jsx("div",{className:"h-40 w-full"})]})})}Oe.setAppElement("#root");function Ka(e){var Re,Ye,et;const{t:n}=ct();i.useContext(Ct);const[m,f]=i.useState(!1);i.useState(),i.useState(),i.useState();const[u,P]=i.useState(null),[T,le]=i.useState("");i.useState(null),i.useState(0);const[Q,R]=i.useState(0),[_,r]=i.useState(!1);i.useState();const[L,I]=i.useState(""),[V,q]=i.useState(1);i.useState(0),i.useState(0);const[D,ne]=i.useState(),[w,A]=i.useState(""),[ie,Y]=i.useState(!0),[fe,M]=i.useState(!1);i.useState(null);const[k,we]=i.useState(),[h,Je]=i.useState(),[oe,ze]=i.useState(""),[c,$]=i.useState(null),[he,ee]=i.useState(null),[O,re]=i.useState(null),[j,me]=i.useState(""),[ge,be]=i.useState([]),Pe=i.useRef([]),_e=i.useRef([]),Se=i.useRef([]),Be=i.useRef([]),[He,Ce]=i.useState(!1),[Ge,Ve]=i.useState(!1),Qe=()=>Ve(!0),We=()=>{},qe=()=>{$(null),M(!1),Ce(!1),r(!1),Ve(!1),q(V+1),Pe.current=[],Se.current=[],_e.current=[],Be.current=[],console.log("modal m end => ",_,fe)};console.log(".............data in full details card in bo doc upload.........",e==null?void 0:e.applicationData3),console.log("id in upload........",e==null?void 0:e.id),i.useEffect(()=>{Ie()},[]);const Ie=()=>{var l,v,ye,te;console.log("before fetch upload doc"),f(!0),Ue[(v=(l=e==null?void 0:e.api)==null?void 0:l.api_getJahirNamaUploadList)==null?void 0:v.method]((te=(ye=e==null?void 0:e.api)==null?void 0:ye.api_getJahirNamaUploadList)==null?void 0:te.url,{applicationId:e==null?void 0:e.id},pe()).then(a=>{var o,W,S,b;console.log("list of doc to upload at pilotworkflowdocumentupload => ",a==null?void 0:a.data),(o=a==null?void 0:a.data)!=null&&o.status?(we((W=a==null?void 0:a.data)==null?void 0:W.data),e==null||e.setallDocumentUploadStatus((b=(S=a==null?void 0:a.data)==null?void 0:S.data)==null?void 0:b.docUploadStatus)):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),f(!1)}).catch(a=>{console.log("data submission error bo doc upload => ",a),e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),r(!1),f(!1)})},B=St({docId:Ot().required("Select document type"),docUpload:wt().required("Select document")}),Z=vt({initialValues:{docId:"",docUpload:"",docName:""},onSubmit:async l=>{console.log("use effect 2"),console.log("values submission => ",l),Ee()},validationSchema:B}),$e=(l,v,ye)=>{var a,o;let te=l.target.files[0];A(l.target.name),ne(URL.createObjectURL(l.target.files[0])),P(l.target.files[0]),v=="owner"?Se.current[ye]=(a=l.target.files[0])==null?void 0:a.name:Be.current[ye]=(o=l.target.files[0])==null?void 0:o.name,Z.setFieldValue("docUpload",URL.createObjectURL(l.target.files[0])),console.log("use effect change ",Z.values.docId,Z.values.docUpload),console.log("file on change bo doc upload => ",te,"and doc upload => ",u,"and url => ",D,"and name => ",te==null?void 0:te.name,"file name => ",w),(te==null?void 0:te.name).substring((te==null?void 0:te.name).lastIndexOf(".")+1)=="pdf"?Y(!1):Y(!0)};console.log("and doc name => ",w);const Ee=(l,v,ye)=>{var S,b,z,ue;console.log("use effect 3 => ",Se.current[v],`
 index => `,v,`
 module => `,ye,l);let te;ye==="property"?te=_e.current:te=Pe.current;const a=te.map((J,d)=>d===v?J.value:"");if(console.log("current select document is....",a[v]),a[v]===null||a[v]==="Select"||a[v]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${l}`),$(null),ee(null);return}if(a[v]===null||a[v]==="Select"||a[v]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${l}`),$(null),ee(null);return}if(ye=="owner"&&(Se.current[v]==null||Se.current[v]==""||Se.current[v]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${l}`),Se.current[v]=null;return}if(ye=="property"&&(Be.current[v]==null||Be.current[v]==""||Be.current[v]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${l}`),Be.current[v]=null;return}if(u==null){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${l}`);return}if(!zt(u)){e==null||e.activateBottomErrorCard(!0,`File is too large for ${l}`),P(null);return}if((O==null?void 0:O.toLowerCase())=="others"&&oe==""){e==null||e.activateBottomErrorCard(!0,`Document name is required for type ${l}`);return}console.log("doc ref name...",l);let o=new FormData;console.log("document  => ",u);let W={applicationId:e==null?void 0:e.id,ownerId:c,docCode:a[v],document:u,docName:l,docCategory:(O==null?void 0:O.toLowerCase())=="others"?oe:O};o.append("applicationId",e==null?void 0:e.id),c!=null&&o.append("ownerId",c),o.append("docCode",a[v]),o.append("document",u),o.append("docName",l),o.append("docCategory",(O==null?void 0:O.toLowerCase())=="others"?oe:O),console.log("form data bo doc upload => ",W),u!=null?(qe(),f(!0),console.log("before fetch doc to upload...",o),Ue[(b=(S=e==null?void 0:e.api)==null?void 0:S.api_uploadJahirNama)==null?void 0:b.method]((ue=(z=e==null?void 0:e.api)==null?void 0:z.api_uploadJahirNama)==null?void 0:ue.url,o,It()).then(J=>{var d,N,E;console.log("data submitted bo doc upload => ",(d=J.data)==null?void 0:d.message),(N=J==null?void 0:J.data)!=null&&N.status?(at.success("Document Uploaded Successfully !!"),r(!1),le(""),P(""),f(!1),R(Q+1),A(""),Z.setFieldValue("docUpload",""),e.refresh(),$(null),ee(null),re(null),Ie()):(console.log("something went"),e==null||e.activateBottomErrorCard(!0,(E=J.data)==null?void 0:E.message)),f(!1)}).catch(J=>{console.log("data submission error bo doc upload => ",J),e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),r(!1),f(!1)})):e==null||e.activateBottomErrorCard(!0,"Please select file")},Ne=(l,v)=>{console.log("getting doc name => ",l),l==""&&at.error("File not uploaded !!!"),l!=""&&(I(l),me(v),Qe(),q(V+1))},p=(l,v)=>{ee(l.target.value),re(v),console.log("changing id use effect",v)};console.log("filterred modal data......",h);const Te=l=>ge==null?void 0:ge.some(v=>v==l);return t.jsxs(t.Fragment,{children:[t.jsx(Pt,{position:"top-right",autoClose:2e3}),m&&t.jsx("div",{className:"inline",children:t.jsx(ot,{})}),t.jsxs("div",{className:"overflow-x-auto ",children:[t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsxs("span",{children:[t.jsx("img",{src:bt,alt:"pin",className:"w-8 inline"})," ATS Doc Upload"]})}),t.jsxs("div",{className:"bg-white",children:[console.log("object",k==null?void 0:k.listDocs),console.log("object",(Ye=(Re=k==null?void 0:k.listDocs[0])==null?void 0:Re.masters)==null?void 0:Ye.documentCode),t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full ",children:[t.jsx("h1",{className:"text-md font-semibold",children:n("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:n("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:n("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexPropDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:n("mainHoldingPage.propIndexDocUpld.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(et=k==null?void 0:k.listDocs)==null?void 0:et.map((l,v)=>{var ye,te,a,o,W,S,b,z,ue,J,d,N,E,H,U,F,ae,xe,g,y,X,K,x,s,C,ve,De,ke,G,je,Ke,lt,nt,it,st,se,Fe;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:Z.handleSubmit,onChange:Z.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:v+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:bt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:l==null?void 0:l.docName,children:[Ze(l==null?void 0:l.docName),((l==null?void 0:l.docType)=="OR"||(l==null?void 0:l.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{td:!0,className:"py-3 px-6 text-left whitespace-nowrap",children:(l==null?void 0:l.docType)=="OR"||(l==null?void 0:l.docType)=="R"?t.jsx("span",{className:"font-semibold text-red-400",children:n("mainHoldingPage.propIndexDoRqrd.label")}):t.jsx("span",{children:n("mainHoldingPage.propIndexDoOptnl.label")})}),t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsxs("select",{ref:ce=>_e.current[v]=ce,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(l!=null&&l.btcStatus)||!(e!=null&&e.isBtc)&&!(l!=null&&l.btcStatus)&&(l==null?void 0:l.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(k==null?void 0:k.isCitizen)!=!0&&(k==null?void 0:k.isCitizen)!="true"),onChange:ce=>p(ce,l==null?void 0:l.docName),children:[t.jsx("option",{value:null,selected:!0,children:n("mainHoldingPage.holdingSelectBtn.label")}),console.log("object",l==null?void 0:l.masters),l==null?void 0:l.masters.map((ce,Me)=>t.jsx("option",{value:ce==null?void 0:ce.documentCode,children:ce==null?void 0:ce.docVal}))]})}),((ye=l==null?void 0:l.docName)==null?void 0:ye.toLowerCase())=="others"&&(O==null?void 0:O.toLowerCase())=="others"&&t.jsx("input",{type:"text",name:"otherDocumentName",value:oe,onChange:ce=>ze(ce.target.value),className:`${$t} capitalize m-1`,placeholder:"Enter document Name",required:!0})]})}),console.log("object",(te=l==null?void 0:l.uploadedDoc)==null?void 0:te.doc_path),t.jsx("td",{className:"py-3 px-6 text-center relative",children:(l==null?void 0:l.uploadedDoc)==null?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var ce,Me,dt,de,Le,xt,ht;return Ne(`${(ce=l==null?void 0:l.uploadedDoc)==null?void 0:ce.doc_path}`,(xt=(Me=l==null?void 0:l.uploadedDoc)==null?void 0:Me.doc_path)==null?void 0:xt.split(".")[((Le=(de=(dt=l==null?void 0:l.uploadedDoc)==null?void 0:dt.doc_path)==null?void 0:de.split("."))==null?void 0:Le.length)-1],(ht=l==null?void 0:l.uploadedDoc)==null?void 0:ht.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((b=(a=l==null?void 0:l.uploadedDoc)==null?void 0:a.doc_path)==null?void 0:b.split(".")[((S=(W=(o=l==null?void 0:l.uploadedDoc)==null?void 0:o.doc_path)==null?void 0:W.split("."))==null?void 0:S.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(ut,{})}),((N=(z=l==null?void 0:l.uploadedDoc)==null?void 0:z.doc_path)==null?void 0:N.split(".")[((d=(J=(ue=l==null?void 0:l.uploadedDoc)==null?void 0:ue.doc_path)==null?void 0:J.split("."))==null?void 0:d.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>be(ce=>{var Me;return[...ce,(Me=l==null?void 0:l.uploadedDoc)==null?void 0:Me.uploadedDocId]}),src:Te((E=l==null?void 0:l.uploadedDoc)==null?void 0:E.uploadedDocId)?tt:`${(H=l==null?void 0:l.uploadedDoc)==null?void 0:H.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((g=(U=l==null?void 0:l.uploadedDoc)==null?void 0:U.doc_path)==null?void 0:g.split(".")[((xe=(ae=(F=l==null?void 0:l.uploadedDoc)==null?void 0:F.doc_path)==null?void 0:ae.split("."))==null?void 0:xe.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>be(ce=>{var Me;return[...ce,(Me=l==null?void 0:l.uploadedDoc)==null?void 0:Me.uploadedDocId]}),src:Te((y=l==null?void 0:l.uploadedDoc)==null?void 0:y.uploadedDocId)?tt:`${(X=l==null?void 0:l.uploadedDoc)==null?void 0:X.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((ve=(K=l==null?void 0:l.uploadedDoc)==null?void 0:K.doc_path)==null?void 0:ve.split(".")[((C=(s=(x=l==null?void 0:l.uploadedDoc)==null?void 0:x.doc_path)==null?void 0:s.split("."))==null?void 0:C.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>be(ce=>{var Me;return[...ce,(Me=l==null?void 0:l.uploadedDoc)==null?void 0:Me.uploadedDocId]}),src:Te((De=l==null?void 0:l.uploadedDoc)==null?void 0:De.uploadedDocId)?tt:`${(ke=l==null?void 0:l.uploadedDoc)==null?void 0:ke.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),console.log("object",(G=l==null?void 0:l.masters[0])==null?void 0:G.verifyStatus),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(l==null?void 0:l.uploadedDoc)==null?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((je=l==null?void 0:l.masters[0])==null?void 0:je.verifyStatus)==0&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((Ke=l==null?void 0:l.masters[0])==null?void 0:Ke.verifyStatus)==1&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((lt=l==null?void 0:l.masters[0])==null?void 0:lt.verifyStatus)==2&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoRjct.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(l==null?void 0:l.btcStatus)==!0&&t.jsx(t.Fragment,{children:n("mainHoldingPage.propIndexDoRjct.label")})})]})}),t.jsx("td",{className:"py-3 px-6 text-center",children:((nt=l==null?void 0:l.masters[0])==null?void 0:nt.remarks)==""||((it=l==null?void 0:l.masters[0])==null?void 0:it.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:n("mainHoldingPage.propIndexDoNa.label")}):(st=l==null?void 0:l.masters[0])==null?void 0:st.remarks}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:(k==null?void 0:k.isCitizen)!=!0&&(k==null?void 0:k.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc&&(l!=null&&l.btcStatus)||e!=null&&e.isBtc&&((se=l==null?void 0:l.uploadedDoc)==null?void 0:se.verifyStatus)==2||!(e!=null&&e.isBtc)&&!(l!=null&&l.btcStatus)&&(l==null?void 0:l.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{type:"file",name:l==null?void 0:l.docName,onChange:ce=>$e(ce,"property",v),accept:(l==null?void 0:l.docName)==="Layout sanction Map"?".png, .jpg, .jpeg":".pdf, .png, .jpg, .jpeg",className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"})}),((Fe=l==null?void 0:l.uploadedDoc)==null?void 0:Fe.verify_status)!=1&&t.jsx("div",{className:"mt-2",children:!m&&t.jsx("button",{onClick:()=>Ee(l==null?void 0:l.docName,v,"property"),className:" px-4 py-1.5 bg-blue-400 text-white text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:n("mainHoldingPage.propIndexDocUpld.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:n("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:n("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})]})})]})}),t.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[t.jsx("div",{className:"md:pl-0"}),t.jsx("div",{className:"md:px-4 text-center"}),t.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),t.jsx(Oe,{isOpen:Ge,onAfterOpen:We,onRequestClose:qe,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:qe,children:t.jsx(rt,{})}),ge==!0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:n("mainHoldingPage.propIndexDoErr.label")}),t.jsx("div",{className:"pl-4",children:n("mainHoldingPage.propIndexDoNtVsbl.label")})]})}):t.jsxs(t.Fragment,{children:[j=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:L,frameborder:"0"})}),j!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:L,alt:"",srcset:"",className:""})})})]})]})}),t.jsx("h1",{className:"w-full mt-20"})]})}const Xa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Oe.setAppElement("#modal");mt.node,mt.number.isRequired,mt.number.isRequired;function Za(e){var Z,$e,Ee,Ne,p,Te,Re,Ye,et,l,v,ye,te,a,o,W,S,b,z,ue,J,d,N,E,H,U,F,ae,xe;const{t:n}=ct();console.log("workflowInfo at pilotworkflowtabs....",e==null?void 0:e.workflowInfo);const[m,f]=i.useState(!1),[u,P]=i.useState(!0),[T,le]=i.useState(!1),[Q,R]=i.useState(""),[_,r]=i.useState(),[L,I]=i.useState({}),[V,q]=i.useState({}),[D,ne]=i.useState(0),[w,A]=i.useState({}),[ie,Y]=i.useState({}),[fe,M]=i.useState(0),[k,we]=i.useState(0),[h,Je]=i.useState(0),[oe,ze]=i.useState(),[c,$]=i.useState(0),[he,ee]=i.useState(),[O,re]=i.useState(),[j,me]=i.useState(0),[ge,be]=i.useState(!1),[Pe,_e]=i.useState(null),Se=[11,6,5,7,9,10];function Be(g){console.log("inside openmodal...."),R(g),f(!0)}function He(){f(!1),e==null||e.fun(null,0)}const Ce=(g,y)=>{console.log("value at workflow tabs...",y),ne(y),r(y)},Ge=(g,y)=>{at.dismiss(),y=="escalated"&&at.success(g),y=="de-escalated"&&at.warn(g),y=="error"&&at.error(g)};i.useEffect(()=>{Qe()},[e.id,k,(Z=e==null?void 0:e.workflowInfo)==null?void 0:Z.members]),i.useEffect(()=>{var g,y,X,K;ze(e==null?void 0:e.id),Ue[(y=(g=e==null?void 0:e.api)==null?void 0:g.api_uploadDocumentShow)==null?void 0:y.method]((K=(X=e==null?void 0:e.api)==null?void 0:X.api_uploadDocumentShow)==null?void 0:K.url,{applicationId:e==null?void 0:e.id},pe()).then(x=>{var s;console.log("at upload document list to show => ",x),I((s=x==null?void 0:x.data)==null?void 0:s.data)}).catch(x=>{console.log("bo doc upload data error => ",x)})},[]),i.useEffect(()=>{var g,y,X,K,x;ze(e==null?void 0:e.id),console.log("upload api => ",(g=e==null?void 0:e.api)==null?void 0:g.api_getJahirNamaUploadList),Ue[(X=(y=e==null?void 0:e.api)==null?void 0:y.api_getJahirNamaUploadList)==null?void 0:X.method]((x=(K=e==null?void 0:e.api)==null?void 0:K.api_getJahirNamaUploadList)==null?void 0:x.url,{applicationId:e==null?void 0:e.id},pe()).then(s=>{var C;console.log("at upload document list to show => ",s),q((C=s==null?void 0:s.data)==null?void 0:C.data)}).catch(s=>{console.log("bo doc upload data error => ",s)})},[]);const Ve=g=>{console.log("current role is...",g),M(Se.indexOf(g))},Qe=()=>{var y,X,K,x;le(!0);const g=pe();console.log("id before getting dta =>",e==null?void 0:e.id),Ue[(X=(y=e==null?void 0:e.api)==null?void 0:y.api_details)==null?void 0:X.method]((x=(K=e==null?void 0:e.api)==null?void 0:K.api_details)==null?void 0:x.url,{applicationId:e==null?void 0:e.id},g).then(function(s){var C,ve,De,ke,G,je,Ke,lt,nt,it,st,se,Fe;console.log("==2 details by id response...",s==null?void 0:s.data),A(s==null?void 0:s.data),We((De=(ve=(C=s==null?void 0:s.data)==null?void 0:C.data)==null?void 0:ve.timelineData)==null?void 0:De.wfRoleId),Ve((G=(ke=s==null?void 0:s.data)==null?void 0:ke.data)==null?void 0:G.current_role),Je((Ke=(je=s==null?void 0:s.data)==null?void 0:je.data)==null?void 0:Ke.current_role),console.log("role id in main => ",(nt=(lt=s==null?void 0:s.data)==null?void 0:lt.data)==null?void 0:nt.current_role),ee((st=(it=s==null?void 0:s.data)==null?void 0:it.data)==null?void 0:st.doc_upload_status),re((Fe=(se=s==null?void 0:s.data)==null?void 0:se.data)==null?void 0:Fe.doc_verify_status),le(!1)}).catch(function(s){console.log("==2 details by id error...",s),le(!1)})},We=g=>{var K;console.log("current role id at stepper...",g);let X=((K=e==null?void 0:e.workflowInfo)==null?void 0:K.members.map((x,s)=>x==null?void 0:x.role_id)).indexOf(g);$(X)};if(console.log("index of current role id...",c),e.id=="")return t.jsx(fa,{fun:e.fun,title:"No Application Selected !"});const qe=g=>{r(g),console.log("🚀 ~ file: PropertyConcessionDetailsTabs.js:147 ~ funId ~ id",g)},Ie=g=>{me(g)},B=(g,y)=>{_e(y),be(g)};return console.log("permission at workflow tabssss...",e==null?void 0:e.workflowInfo),t.jsxs(t.Fragment,{children:[ge&&t.jsx(da,{activateBottomErrorCard:B,errorTitle:Pe}),T&&t.jsx(ot,{}),t.jsx(Pt,{position:"top-right",autoClose:5e3}),t.jsxs("div",{className:"",children:[t.jsx("div",{className:"flex",children:(Ee=($e=e==null?void 0:e.workflowInfo)==null?void 0:$e.members)==null?void 0:Ee.map((g,y)=>{var X,K;return t.jsx("div",{children:t.jsx(Ea,{index:y+1,level:g==null?void 0:g.role_name,verificationStatus:y<c,last:y==((K=(X=e==null?void 0:e.workflowInfo)==null?void 0:X.members)==null?void 0:K.length)-1,active:y==c,backStatus:!1,btc:!1})},y)})}),t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDataCard",children:t.jsx(Ta,{boxType:e==null?void 0:e.boxType,permissions:(Ne=e==null?void 0:e.workflowInfo)==null?void 0:Ne.permissions,tabIndex:e==null?void 0:e.tabIndex,workflow:e==null?void 0:e.workflow,id:e==null?void 0:e.id,applicationData:w,index:qe})}),t.jsxs("div",{className:" ",children:[t.jsxs("div",{className:"flex space-x-4 uppercase text-gray-600 text-sm pl-4 border-b border-gray-200 mb-6 w-full overflow-x-auto whitespace-nowrap",children:[t.jsx("div",{onClick:()=>Ie(0),className:`pb-3 flex-initial cursor-pointer ${j==0?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.propIndexBtnDtls.label")})}),(((Te=(p=e==null?void 0:e.workflowInfo)==null?void 0:p.permissions)==null?void 0:Te.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>Ie(1),className:`pb-3 flex-initial cursor-pointer ${j==1?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.propIndexBtnVewDcmt.label")})}),((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>Ie(2),className:`pb-3 flex-initial cursor-pointer ${j==2?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.holdingAction.label")})}),((Ye=(Re=e==null?void 0:e.workflowInfo)==null?void 0:Re.permissions)==null?void 0:Ye.can_upload_document)==!0&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>Ie(3),className:`pb-3 flex-initial cursor-pointer ${j==3?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.propIndexBtnUpldDcmt.label")})}),((l=(et=e==null?void 0:e.workflowInfo)==null?void 0:et.permissions)==null?void 0:l.can_verify_document)==!0&&(e==null?void 0:e.boxType)=="inbox"&&t.jsx("div",{onClick:()=>Ie(4),className:`pb-3 flex-initial cursor-pointer ${j==4?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.propIndexBtnVrfyDcmt.label")})}),((ye=(v=e==null?void 0:e.workflowInfo)==null?void 0:v.permissions)==null?void 0:ye.allow_free_communication)==!0&&t.jsx("div",{onClick:()=>Ie(5),className:`pb-3 flex-initial cursor-pointer ${j==5?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.propIndexBtnDprtComm.label")})}),console.log("object",(a=(te=e==null?void 0:e.workflowInfo)==null?void 0:te.permissions)==null?void 0:a.can_genrate_jahirnama),((W=(o=e==null?void 0:e.workflowInfo)==null?void 0:o.permissions)==null?void 0:W.can_genrate_jahirnama)==!0&&t.jsx("div",{onClick:()=>Ie(6),className:`pb-3 flex-initial cursor-pointer ${j==6?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:"Jahir Nama"})}),(e==null?void 0:e.customTabs)!=null&&t.jsx("div",{onClick:()=>Ie(6),className:`pb-3 flex-initial cursor-pointer ${j==6?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:n("mainHoldingPage.propIndexBtnCstmTab.label")})})]}),t.jsxs(yt,{sx:{width:"100%"},children:[j==0&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowFullDetailsTab",children:t.jsx(Ya,{applicationData:w,id:oe})}),j==1&&(((b=(S=e==null?void 0:e.workflowInfo)==null?void 0:S.permissions)==null?void 0:b.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentViewTab",children:t.jsx(Ra,{applicationData:w,api:e==null?void 0:e.api,id:oe})}),j==2&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowActions",children:t.jsx(za,{allDocumentUploadStatus:he,allDocumentVerifyStatus:O,handleChangeTabs:Ce,api:e==null?void 0:e.api,toast:Ge,assessmentType:e==null?void 0:e.assessmentType,permissions:(z=e==null?void 0:e.workflowInfo)==null?void 0:z.permissions,workflowInfo:e==null?void 0:e.workflowInfo,applicationData:w,setpropertyDetails:Y,members:e.members,showTabFun:P,showTabs:u,openModal:Be,id:oe,setrefresh:we,refresh:k,fun:e==null?void 0:e.fun,activateBottomErrorCard:B})}),j==3&&((J=(ue=e==null?void 0:e.workflowInfo)==null?void 0:ue.permissions)==null?void 0:J.can_upload_document)==!0&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentUpload",children:t.jsx(Ja,{canUpload:e==null?void 0:e.canUpload,allDocumentUploadStatus:he,setallDocumentUploadStatus:ee,allDocumentVerifyStatus:O,handleChangeTabs:Ce,api:e==null?void 0:e.api,id:oe,applicationData:w,applicationData2:L,refresh:()=>we(k+1),activateBottomErrorCard:B,isBtc:(e==null?void 0:e.boxType)=="btcbox"})}),j==4&&((N=(d=e==null?void 0:e.workflowInfo)==null?void 0:d.permissions)==null?void 0:N.can_verify_document)==!0&&(e==null?void 0:e.boxType)=="inbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentVerify",children:t.jsx(qa,{allDocumentUploadStatus:he,allDocumentVerifyStatus:O,setallDocumentVerifyStatus:re,handleChangeTabs:Ce,api:e==null?void 0:e.api,id:oe,activateBottomErrorCard:B})}),j==5&&((H=(E=e==null?void 0:e.workflowInfo)==null?void 0:E.permissions)==null?void 0:H.allow_free_communication)==!0&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDepartmentalCommunication",children:t.jsx(Qa,{workflow:e==null?void 0:e.workflow,permissions:(U=e==null?void 0:e.workflowInfo)==null?void 0:U.permissions,applicationData:w,departmentalPost:(F=w==null?void 0:w.data)==null?void 0:F.departmentalPost,api:e==null?void 0:e.api,id:oe,roleId:h,activateBottomErrorCard:B})}),j==6&&(((xe=(ae=e==null?void 0:e.workflowInfo)==null?void 0:ae.permissions)==null?void 0:xe.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentViewTab",children:t.jsx(Ka,{canUpload:e==null?void 0:e.canUpload,allDocumentUploadStatus:he,setallDocumentUploadStatus:ee,allDocumentVerifyStatus:O,handleChangeTabs:Ce,api:e==null?void 0:e.api,id:oe,applicationData:w,applicationData3:V,refresh:()=>we(k+1),activateBottomErrorCard:B,isBtc:(e==null?void 0:e.boxType)=="btcbox"})})]})]})]}),t.jsx(Oe,{isOpen:m,onRequestClose:He,style:Xa,contentLabel:"Example Modal",children:t.jsxs("div",{style:{zIndex:1e4},class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[t.jsx("button",{onClick:He,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white"}),t.jsxs("div",{class:"p-6 text-center",children:[t.jsxs("div",{className:"w-full flex h-10",children:[" ",t.jsx("span",{className:`mx-auto text-${Q=="Application Rejected Successfully"?"red":"green"}-500 text-xl font-semibold`,children:t.jsx(At,{size:30})})]}),t.jsx("h3",{className:`mb-5 text-lg font-semibold ${Q=="Application Rejected Successfully"?"text-red-500":"text-green-600"} dark:text-gray-400`,children:Q}),t.jsx("button",{type:"button",className:"text-white bg-green-400  hover:bg-sky-800 focus:ring-4 focus:outline-none focus:ring-sky-300 dark:focus:ring-sky-800 font-medium rounded-lg text-sm inline-flex items-center px-8 py-2.5 text-center mr-2",onClick:He,children:n("mainHoldingPage.propIndexDoPgBck.label")}),Q!=="Application Rejected Successfully"?t.jsx("button",{className:"text-white bg-cyan-700  hover:bg-sky-800 focus:ring-4 focus:outline-none focus:ring-sky-300 dark:focus:ring-sky-800 font-medium rounded-lg text-sm inline-flex items-center px-8 py-2.5 text-center mr-2",children:t.jsx(oa,{to:`/holdingPropertyDetails/${ie==null?void 0:ie.propId}`,children:" View Property"})}):null]})]})})]})}function Dt(e){const{children:n,value:m,index:f,...u}=e;return t.jsx("div",{role:"tabpanel",hidden:m!==f,id:`simple-tabpanel-${f}`,"aria-labelledby":`simple-tab-${f}`,...u,children:m===f&&t.jsx(yt,{sx:{p:3},children:t.jsx(wa,{children:n})})})}Dt.propTypes={children:mt.node,index:mt.number.isRequired,value:mt.number.isRequired};function Mt(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function ml(e){var _,r,L,I,V,q,D;const{t:n}=ct();console.log("workflowInfo at pilotworkflowlistbox....",e==null?void 0:e.workflowInfo),console.log("api at listbox...",e==null?void 0:e.api),console.log("workflow candidate sp...",e.workflowCandidates),ra();const[m,f]=i.useState(0),[u,P]=i.useState(""),[T,le]=i.useState(""),Q=(ne,w)=>{f(w)},R=(ne,w)=>{P(ne),Q(ne,1),le(w)};return t.jsx(t.Fragment,{children:t.jsxs(yt,{sx:{width:"100%",paddingLeft:"20px"},children:[t.jsx(yt,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsxs(ja,{value:m,onChange:Q,"aria-label":"basic tabs example",children:[t.jsx(Tt,{label:`${n("mainHoldingPage.propIndexBtnLst.label")}`,...Mt(0)}),t.jsx(Tt,{label:`${n("mainHoldingPage.propIndexBtnDtls.label")}`,...Mt(1)}),t.jsxs("div",{className:"text-right float-right absolute right-4 top-4 text-white justify-center flex gap-4",children:[(e==null?void 0:e.isSpecial)&&t.jsx("div",{className:" items-center",children:t.jsxs("span",{className:"bg-yellow-600 px-4 shadow-lg font-mono font-semibold italic rounded-l-xl",children:[" ",t.jsx(ma,{className:"inline text-red-100 animate-bounce"})," special"]})}),t.jsx("div",{})]})]})}),t.jsxs(Dt,{value:m,index:0,children:[e.boxType=="inbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowInboxList",children:t.jsx(gt,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(_=e==null?void 0:e.api)==null?void 0:_.api_inboxList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:R})}),e.boxType=="outbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowOutboxList",children:t.jsx(gt,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(r=e==null?void 0:e.api)==null?void 0:r.api_outboxList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:R})}),e.boxType=="specialbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowSpecialList",children:t.jsx(gt,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(L=e==null?void 0:e.api)==null?void 0:L.api_specialList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:R})}),e.boxType=="btcbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowBtcList",children:t.jsx(gt,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(I=e==null?void 0:e.api)==null?void 0:I.apt_btcList,boxType:e.boxType,COLUMNS:e==null?void 0:e.COLUMNS,fun:R})}),e.boxType=="fieldbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowFieldVerificationList",children:t.jsx(gt,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(V=e==null?void 0:e.api)==null?void 0:V.api_fieldVerificationList,boxType:e.boxType,COLUMNS:e==null?void 0:e.COLUMNS,fun:R})})]}),t.jsx(Dt,{value:m,index:1,children:t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowTabs",children:t.jsx(Za,{assessmentType:T,canUpload:(D=(q=e==null?void 0:e.workflowInfo)==null?void 0:q.permissions)==null?void 0:D.can_upload_document,tabIndex:e==null?void 0:e.tabIndex,workflow:e==null?void 0:e.workflow,workflowInfo:e==null?void 0:e.workflowInfo,api:e==null?void 0:e.api,fun:Q,id:u,members:e.workflowCandidates,customTabs:e==null?void 0:e.customTabs,boxType:e.boxType,boxTypeFun:e.boxType=="outbox"})})})]})})}export{ml as P};
