import{Y as _,r as o,u as T,a as H,j as a,n,b as L,q as R,w as E,e as F,S as $,Z as D,U as k,aj as I,g as O}from"./index-d31408c8.js";function G(){const{t:i}=_();o.useState(),o.useState(!1);const[g,x]=o.useState();o.useState();const[b,m]=o.useState(),[U,h]=o.useState(!1);o.useState(),o.useState(!1);const[f,W]=o.useState(!1),[u,y]=o.useState(null),[j,w]=o.useState(0);T(),H(`${i("mainSearchapplicationPage.useSetTitle.label")}`);const S=[{Header:"Sl No.",Cell:({row:e})=>a.jsx("div",{className:"pr-2",children:e.index+1})},{Header:`${i("mainSearchapplicationPage.wardNo.label")}`,accessor:"old_ward_no",Cell:({cell:e})=>{var s,r,l,d,c,p;return a.jsx("span",{children:((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.new_ward_no)==""?n((d=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:d.old_ward_no):n((p=(c=e==null?void 0:e.row)==null?void 0:c.original)==null?void 0:p.new_ward_no)})}},{Header:`${i("mainSearchapplicationPage.applicationNo.label")}`,accessor:"saf_no",Cell:({cell:e})=>{var s,r;return a.jsx("span",{children:n((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.saf_no)})}},{Header:`${i("mainSearchapplicationPage.assessmentType.label")}`,accessor:"assessment_type",Cell:({cell:e})=>{var s,r;return a.jsx("span",{children:n((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.assessment_type)})}},{Header:`${i("mainSearchapplicationPage.firstOwner.label")}`,accessor:"owner_name",Cell:({cell:e})=>{var s,r;return a.jsx("span",{children:n((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.owner_name)})}},{Header:`${i("mainSearchapplicationPage.mobileNo.label")}`,accessor:"mobile_no",Cell:({cell:e})=>{var s,r;return a.jsx("span",{children:n((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.mobile_no)})}},{Header:`${i("mainSearchapplicationPage.appliedby.label")}`,accessor:"appliedby",Cell:({cell:e})=>{var s,r;return a.jsx("span",{children:n((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.appliedby)})}},{Header:`${i("mainSearchapplicationPage.applydate.label")}`,accessor:"application_date",Cell:({cell:e})=>{var s,r;return a.jsx("span",{children:n((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.application_date)})}},{Header:`${i("mainSearchapplicationPage.currentlevel.label")}`,accessor:"currentRole",Cell:({cell:e})=>{var s,r,l,d;return a.jsxs("div",{className:"",children:[a.jsx("span",{}),n(((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.currentrole)=="At SENIOR LIPIK"?"At NAGAR RACHANA":(d=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:d.currentrole)]})}},{Header:"Application Status",accessor:"status",Cell:({cell:e})=>{var s,r,l,d,c,p;return a.jsx("div",{className:`capitalize ${((r=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:r.status)==="approved"?"bg-green-600 text-white rounded-md px-2 py-1 text-center":((d=(l=e==null?void 0:e.row)==null?void 0:l.original)==null?void 0:d.status)==="active"?"bg-orange-900 text-white rounded-md px-2 py-1 text-center":""}`,children:n((p=(c=e==null?void 0:e.row)==null?void 0:c.original)==null?void 0:p.status)})}},{Header:`${i("mainSearchapplicationPage.action.label")}`,accessor:"id",Cell:({cell:e})=>a.jsx(a.Fragment,{children:a.jsx("button",{onClick:()=>P(`/saf-workflow-report-details/${e.row.values.id}`),className:"mr-4 text-white bg-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-600 hover:text-white",children:i("mainSearchapplicationPage.view.label")})})}],{api_getWardListByLogin:q,api_filterPropertyDetails:K,api_SafAppliedReportList:N}=O();L();const v=R({}),t=E({initialValues:{filterBy:"",searchBy:"",entry:"",pendingAt:""},onSubmit:e=>{A(e)},validationSchema:v}),P=F(),A=e=>{(e==null?void 0:e.filterBy)=="saf"?x(S):x(COLUMNS_OTHER),y({filteredBy:e==null?void 0:e.filterBy,searchBy:e==null?void 0:e.searchBy,value:e==null?void 0:e.entry,pendingAt:e==null?void 0:e.pendingAt}),w(s=>s+1)},B=e=>{t.values.filterBy=e.target.value,e.target.value=="holdingNo"&&(m("15 Digit Holding No"),h(!0)),e.target.value=="ownerDetails"&&(m("Owner Details"),h(!1)),e.target.value=="address"&&(m("Address"),h(!1))},C=e=>{let s=e.target.name;e.target.value,s=="filterBy"&&B(e)};return f?a.jsx($,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border shadow-xl bg-white mt-6",children:[a.jsxs("div",{className:"hidden sm:flex ml-5 mt-2 ",children:[a.jsx("img",{src:D,alt:"",className:"w-10 h-10"}),a.jsx("h1",{className:"font-bold text-xl ml-4 mt-1 text-gray-600",children:"Search Applied Applications Time Stamp"})]}),a.jsx("div",{children:a.jsx("p",{className:"ml-4 text-sm text-orange-600 px-16",children:"You can Search applied applications time stamp and perform actions like : filter with pending at level, view level wise details, timestamps etc."})}),a.jsx("form",{onSubmit:t.handleSubmit,onChange:C,children:a.jsxs("div",{className:"flex-col sm:flex-row flex justify-center sm:space-x-8 my-5 m-10",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[i("mainSearchapplicationPage.applicationType.label"),a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...t.getFieldProps("filterBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[a.jsx("option",{value:"",children:i("mainSearchapplicationPage.select.label")}),a.jsx("option",{value:"saf",children:i("mainSearchapplicationPage.saf.label")})]}),a.jsx("p",{className:"text-red-500 text-xs",children:t.touched.filterBy&&t.errors.filterBy?t.errors.filterBy:null})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pending At",a.jsx("span",{className:"text-red-500"})]}),a.jsxs("select",{...t.getFieldProps("pendingAt"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[a.jsx("option",{value:"",children:"ALL"}),a.jsx("option",{value:"11",children:"BACK OFFICE"}),a.jsx("option",{value:"5",children:"TAX COLLECTOR"}),a.jsx("option",{value:"7",children:"NAGAR RACHANA"}),a.jsx("option",{value:"6",children:"LIPIK"}),a.jsx("option",{value:"9",children:"ASSISTANT TAX SUPERITENDENT"}),a.jsx("option",{value:"10",children:"TAX SUPERITENDENT"})]}),a.jsx("p",{className:"text-red-500 text-xs",children:t.touched.searchBy&&t.errors.searchBy?t.errors.searchBy:null})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[i("mainSearchapplicationPage.searchby.label"),a.jsx("span",{className:"text-red-500"})]}),a.jsxs("select",{...t.getFieldProps("searchBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[a.jsx("option",{value:"",children:i("mainSearchapplicationPage.select.label")}),a.jsx("option",{value:"applicationNo",children:i("mainSearchapplicationPage.applicationNo.label")}),a.jsx("option",{value:"name",children:i("mainSearchapplicationPage.name.label")}),a.jsx("option",{value:"mobileNo",children:i("mainSearchapplicationPage.mobileNo.label")}),a.jsx("option",{value:"holding",children:i("mainSearchapplicationPage.holdingNo.label")})]}),a.jsx("p",{className:"text-red-500 text-xs",children:t.touched.searchBy&&t.errors.searchBy?t.errors.searchBy:null})]}),a.jsxs("div",{className:"mt-5 sm:mt-0",children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[" ",i("mainSearchapplicationPage.value.label")," ",b," ",a.jsx("span",{className:"text-red-500"})]}),a.jsx("input",{type:"text",...t.getFieldProps("entry"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),a.jsx("p",{className:"text-red-500 text-xs",children:t.touched.entry&&t.errors.entry?t.errors.entry:null})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",className:"w-full border rounded-md border-indigo-500 bg-indigo-500 hover:bg-indigo-700 text-white  shadow-lg  text-base font-semibold px-5 sm:m-3 py-1",children:a.jsxs("p",{className:"flex",children:[a.jsxs("span",{className:"mt-1 mr-2",children:[a.jsx(k,{})," "]})," ",i("mainSearchapplicationPage.searchRecord.label")]})})})]})}),a.jsx("div",{className:"sm:m-10",children:u!=null&&a.jsx(I,{api:N,columns:g,requestBody:u,changeData:j})})]})})}export{G as default};
