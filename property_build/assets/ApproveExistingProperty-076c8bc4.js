import{ag as Q,r as a,u as de,a as ce,j as e,B as ae,S as oe,n as c,ae as ie,bF as y,b_ as g,c8 as $,Q as U,A as G,b as H,P as ne}from"./index-0259a4f9.js";const xe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};Q.setAppElement("#root");function ge(pe){var v,k,S,A,C,E,_,M,O,B,I,P,V,F,T,R,z,L,q;const[W,i]=a.useState(!1);a.useState();const[X,n]=a.useState(!1),[J,b]=a.useState(""),[s,K]=a.useState(),{safId:m,type:he}=de(),[Y,j]=a.useState(!1),[Z,f]=a.useState(""),[p,u]=a.useState(""),[D,h]=a.useState(!1),[ee,w]=a.useState(!0),{api_getVerificationData:re,api_approveRejectApplication:se}=ne();ce("Existing holding Edit Approval ");const te=r=>{if(!p){U("Please enter a comment.");return}i(!0),n(!1);let l={applicationId:m,status:r,comment:p};G.post(se,l,H()).then(function(d){d.status===200?(U(`Application has been ${r?"approved":"rejected"}.`),u(""),h(!1),window.history.back()):alert(`Error: ${d.statusText}`),i(!1)}).catch(function(d){alert(`Error: ${d.message}`),i(!1)})},x=r=>{j(!0),f(r)},N=()=>{j(!1),f("")},le=()=>{i(!0),n(!1);let r={applicationId:m};G.post(re,r,H()).then(function(l){var d,o,t;(d=l==null?void 0:l.data)!=null&&d.status?K((o=l==null?void 0:l.data)==null?void 0:o.data):(n(!0),b((t=l==null?void 0:l.data)==null?void 0:t.message)),i(!1)}).catch(function(l){b("Server error! Please try again later."),n(!0),i(!1)})};return a.useEffect(()=>{le()},[]),W?e.jsx(e.Fragment,{children:e.jsx(ae,{})}):X?e.jsx(oe,{title:"Server is busy",desc:J,buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsx("div",{className:"py-4 rounded-lg shadow-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 md:items-center justify-center",children:[e.jsxs("div",{className:"flex-1 flex flex-col-reverse justify-center",children:[e.jsx("div",{className:"font-semibold text-md",children:c((v=s==null?void 0:s.userDtl)==null?void 0:v.updationType)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Updation Type"})]}),e.jsxs("div",{className:"flex-1 flex flex-col-reverse justify-center",children:[e.jsx("div",{className:"font-bold text-sm",children:c((k=s==null?void 0:s.userDtl)==null?void 0:k.employeeName)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Verified By"})]}),e.jsxs("div",{className:"flex-1 flex flex-col-reverse justify-center",children:[e.jsx("div",{className:"font-bold text-sm",children:ie((S=s==null?void 0:s.userDtl)==null?void 0:S.applicationDate)}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Application Date"})]})]})})}),e.jsx("div",{className:" font-bold text-xl pb-4 md:py-4 text-gray-400",children:"Verification Details"}),e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsx("div",{class:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{class:"w-full text-sm text-left text-gray-500 darks:text-gray-400",children:[e.jsx("thead",{class:"text-gray-700 capitalize darks:text-gray-400",children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{scope:"col",class:"text-md px-6 py-3",children:"#"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Particular"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Self-Assessed"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Check"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Verification"})]})}),e.jsxs("tbody",{children:[(E=(C=(A=s==null?void 0:s.propCom)==null?void 0:A.basic)==null?void 0:C.values)==null?void 0:E.map((r,l)=>e.jsxs("tr",{class:"border-b border-gray-200 ",children:[e.jsx("th",{scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap  darks:bg-gray-800",children:l+1}),e.jsx("th",{scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap  darks:bg-gray-800 border-l border-l-gray-200",children:c(r==null?void 0:r.key)}),e.jsx("td",{class:"px-6 py-3 border-l border-l-gray-200",children:c(r==null?void 0:r.according_application)}),e.jsx("td",{class:"px-6 py-3 darks:bg-gray-800 border-l border-l-gray-200",children:c((r==null?void 0:r.values)==!1?e.jsx(y,{className:"inline text-red-500 text-5xl"}):e.jsx(g,{className:"inline text-green-500 text-3xl ml-3"}))}),e.jsx("td",{class:"px-6 py-3 border-l border-l-gray-200",children:c(r==null?void 0:r.according_verification)})]})),(O=(M=(_=s==null?void 0:s.propCom)==null?void 0:_.primary)==null?void 0:M.values)==null?void 0:O.map((r,l)=>{var d,o;return e.jsxs("tr",{class:"border-b border-gray-200 ",children:[e.jsx("th",{scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap  darks:bg-gray-800",children:((o=(d=s==null?void 0:s.propCom)==null?void 0:d.basic)==null?void 0:o.values.length)+l+1}),e.jsx("th",{scope:"row",class:"px-6 py-3 font-medium text-gray-900 whitespace-nowrap  darks:bg-gray-800 border-l border-l-gray-200",children:c(r==null?void 0:r.key)}),e.jsx("td",{class:"px-6 py-3 border-l border-l-gray-200",children:c(r==null?void 0:r.according_application)}),e.jsx("td",{class:"px-6 py-3 darks:bg-gray-800 border-l border-l-gray-200",children:c((r==null?void 0:r.values)==!1?e.jsx(y,{className:"inline text-red-500 text-5xl"}):e.jsx(g,{className:"inline text-green-500 text-3xl ml-3"}))}),e.jsx("td",{class:"px-6 py-3 border-l border-l-gray-200",children:c(r==null?void 0:r.according_verification)})]})})]})]})})}),e.jsx("div",{className:" font-bold text-xl pb-4 md:py-4 text-gray-400",children:"Owner Verified Details"}),e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsx("div",{class:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{class:"w-full text-sm text-left text-gray-500 darks:text-gray-400",children:[e.jsx("thead",{class:"text-gray-700 capitalize darks:text-gray-400",children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{scope:"col",class:"text-md px-6 py-3",children:"Particular"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Owner Name"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Owner Name In Marathi"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Bhogatdar/Occupant Name"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Bhogatdar/Occupant Name In Marathi"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Mobile No."}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Email"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Pan No."}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Aadhar No."}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Gender"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"DOB"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Ex-Army / Ex-Army Widow"}),e.jsx("th",{scope:"col",class:"text-md px-6 py-3 border-l border-l-gray-200",children:"Is specially abled"})]})}),e.jsx("tbody",{children:(B=s==null?void 0:s.ownerCom)==null?void 0:B.map(r=>{var l,d,o;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200 font-semibold text-gray-900",children:"Self Assessed"}),(l=r==null?void 0:r.values)==null?void 0:l.map(t=>(t==null?void 0:t.key)!="relation type"&&e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200",children:c(t==null?void 0:t.according_application)}))]}),e.jsxs("tr",{className:"border-b border-gray-200 ",children:[e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200 font-semibold text-gray-900",children:"Check"}),(d=r==null?void 0:r.values)==null?void 0:d.map(t=>(t==null?void 0:t.key)!="relation type"&&e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200",children:c((t==null?void 0:t.values)==!1?e.jsx(y,{className:"inline text-red-500 text-5xl"}):e.jsx(g,{className:"inline text-green-500 text-3xl ml-3"}))}))]}),e.jsxs("tr",{className:"border-b border-gray-200 ",children:[e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200 font-semibold text-gray-900",children:"Verification"}),(o=r==null?void 0:r.values)==null?void 0:o.map(t=>(t==null?void 0:t.key)!="relation type"&&e.jsx("td",{className:"px-6 py-3 border-l border-l-gray-200",children:c(t==null?void 0:t.according_verification)}))]})]})})})]})})}),e.jsx("div",{className:" font-bold text-xl pb-4 md:py-4 text-gray-400",children:"Supportive Document"}),e.jsx("div",{className:"w-full bg-white shadow-xl mt-4 mb-6  ",children:e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsx("div",{className:"font-semibold text-md cursor-pointer p-4",children:Array.isArray((V=(P=(I=s==null?void 0:s.userDtl)==null?void 0:I.document)==null?void 0:P.original)==null?void 0:V.data)?(z=(R=(T=(F=s==null?void 0:s.userDtl)==null?void 0:F.document)==null?void 0:T.original)==null?void 0:R.data)==null?void 0:z.map((r,l)=>$(r.doc_path)==="pdf"?e.jsx("img",{src:"https://static.vecteezy.com/system/resources/previews/022/597/332/original/3d-file-pdf-icon-illustration-png.png",alt:"supporting document",className:"w-16 h-16",onClick:()=>x(r.doc_path)},l):e.jsx("img",{src:r.doc_path,alt:"supporting document",className:"w-16 h-16",onClick:()=>x(r.doc_path)},l)):$((L=s==null?void 0:s.userDtl)==null?void 0:L.document)==="pdf"?e.jsx("img",{src:"https://static.vecteezy.com/system/resources/previews/022/597/332/original/3d-file-pdf-icon-illustration-png.png",alt:"supporting document",className:"w-16 h-16",onClick:()=>{var r;return x((r=s==null?void 0:s.userDtl)==null?void 0:r.document)}}):e.jsx("img",{src:(q=s==null?void 0:s.userDtl)==null?void 0:q.document,alt:"supporting document",className:"w-16 h-16",onClick:()=>{var r;return x((r=s==null?void 0:s.userDtl)==null?void 0:r.document)}})})})}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{className:"bg-green-600 text-white px-2 py-2 rounded-md",onClick:()=>{h(!0),w(!0)},children:"Approve"}),e.jsx("button",{className:"bg-red-600 text-white px-2 py-2 rounded-md",onClick:()=>{h(!0),w(!1)},children:"Reject"}),D&&e.jsxs("div",{children:[e.jsx("textarea",{placeholder:"Enter your comment",value:p,required:!0,onChange:r=>u(r.target.value)}),e.jsx("button",{className:"bg-blue-600 text-white px-2 py-2 rounded-md",onClick:()=>{te(ee?1:0)},children:"Submit"})]})]}),e.jsx(Q,{isOpen:Y,onAfterClose:N,style:xe,children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"overflow-auto p-1  shadow-lg rounded-lg text-center bg-gray-500",style:{width:"60vw",height:"70vh"},children:[e.jsx("button",{className:"bg-red-500 rounded-full absolute top-0 right-0 p-1 h-8 w-8 text-white cursor-pointer",onClick:N,children:"X"}),e.jsx("iframe",{src:Z,frameborder:"0",className:"w-full h-full ml-20"})]})})})]})}export{ge as default};
