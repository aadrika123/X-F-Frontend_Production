import{R as C,r as d,j as e,ag as M,ah as I,A as y,p as W,Q as p,g as A,q as E,s as j,w as D,b as F,a as T,B as H,V as $,ai as z,n as S}from"./index-bcf64005.js";/* empty css             */const B={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function V(t){const[x,m]=C.useState(!1),{post_deleteFaq:a}=A(),h=f=>{const r={id:f};y.post(a,r,W()).then(c=>(p.success("FAQ Deleted successfully"),i(),t==null?void 0:t.refresh())).catch(c=>(p.error("Failed to Deleted the FAQ"),i()))};d.useEffect(()=>{t.openDeleteModal>0&&m(!0)},[t.openDeleteModal]);function u(){}function i(){m(!1)}return e.jsx("div",{className:"",children:e.jsx(M,{isOpen:x,onAfterOpen:u,onRequestClose:i,style:B,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Are you sure to Delete ?"}),e.jsxs("p",{onClick:i,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(I,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>h(t.deleteId),className:"rounded-md bg-red-300 hover:bg-red-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:i,className:"rounded-md bg-green-300 hover:bg-green-400 shadow-lg py-1.5 text-sm px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const P={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function U(t){var c,l,g,w,v,_,q;const{post_editFaq:x}=A(),m=E({moduelName:j().required("Select module"),question:j().required("Write question"),answer:j().required("Write answer")}),a=D({initialValues:{moduelName:(c=t==null?void 0:t.editData)==null?void 0:c.module_id,question:(l=t==null?void 0:t.editData)==null?void 0:l.question,answer:(g=t==null?void 0:t.editData)==null?void 0:g.answer},enableReinitialize:!0,onSubmit:n=>{i(n)},validationSchema:m}),[h,u]=C.useState(!1),i=n=>{var N;const k={id:(N=t==null?void 0:t.editData)==null?void 0:N.id,question:n==null?void 0:n.question,answer:n==null?void 0:n.answer,moduleId:n==null?void 0:n.moduelName};y.post(x,k,F()).then(b=>(p.success("FAQ updated successfully"),r(),t==null?void 0:t.refresh())).catch(b=>(p.error("Failed to updated the FAQ"),r()))};d.useEffect(()=>{t.openEditFaq>0&&u(!0)},[t.openEditFaq]);function f(){}function r(){u(!1)}return e.jsx("div",{className:"",children:e.jsx(M,{isOpen:h,onAfterOpen:f,onRequestClose:r,style:P,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins w-[100vw] md:w-[50vw]",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-lg font-semibold",children:["Edit FAQ"," "]}),e.jsxs("p",{onClick:r,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:[" ",e.jsx(I,{size:25})," "]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,onChange:a.handleChange,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Module : "}),e.jsx("select",{type:"text",value:(w=a.values)==null?void 0:w.moduelName,name:"moduelName",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:(v=t==null?void 0:t.moduleList)==null?void 0:v.map(n=>e.jsx(e.Fragment,{children:e.jsx("option",{value:n==null?void 0:n.id,children:n==null?void 0:n.module_name})}))}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.moduelName&&a.errors.moduelName?a.errors.moduelName:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Question : "}),e.jsx("textarea",{cols:2,rows:2,placeholder:"Type Question",value:(_=a.values)==null?void 0:_.question,name:"question",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.question&&a.errors.question?a.errors.question:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Answer : "}),e.jsx("textarea",{cols:2,rows:6,placeholder:"Type Answer",value:(q=a.values)==null?void 0:q.answer,name:"answer",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.answer&&a.errors.answer?a.errors.answer:null})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:[" ","Update"," "]})})]})})]})})})}const G={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Y(t){var c;const{post_addFaq:x}=A(),m=E({moduelName:j().required("Select module"),question:j().required("Write question"),answer:j().required("Write answer")}),a=D({initialValues:{moduelName:"",question:"",answer:""},onSubmit:l=>{i(l)},validationSchema:m}),[h,u]=C.useState(!1),i=l=>{const g={question:l==null?void 0:l.question,answer:l==null?void 0:l.answer,moduleId:l==null?void 0:l.moduelName};y.post(x,g,F()).then(w=>(p.success("FAQ added successfully"),r(),t==null||t.refresh(),a.resetForm())).catch(w=>(p.error("Failed to add the FAQ"),r()))};d.useEffect(()=>{t.openAddFaq>0&&u(!0)},[t.openAddFaq]);function f(){}function r(){u(!1)}return e.jsx("div",{className:"w-full",children:e.jsx(M,{isOpen:h,onAfterOpen:f,onRequestClose:r,style:G,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-indigo-300 shadow-2xl p-5 m-5 rounded-md poppins w-[100vw] md:w-[50vw]",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-lg font-semibold",children:"Add FAQ"}),e.jsx("p",{onClick:r,className:"float-right cursor-pointer rounded-full bg-red-200 hover:bg-red-300 mx-3",children:e.jsx(I,{size:25})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,onChange:a.handleChange,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Module : "}),e.jsxs("select",{type:"text",name:"moduelName",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),(c=t==null?void 0:t.moduleList)==null?void 0:c.map(l=>e.jsx(e.Fragment,{children:e.jsx("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.module_name})}))]}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.moduelName&&a.errors.moduelName?a.errors.moduelName:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Question : "}),e.jsx("textarea",{cols:2,rows:2,type:"text",placeholder:"Type Question",name:"question",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.question&&a.errors.question?a.errors.question:null})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"late",className:"text-sm",children:"Answer : "}),e.jsx("textarea",{cols:2,rows:6,type:"text",placeholder:"Type Answer",name:"answer",id:"late",className:"animate__animated animate__fadeIn animate__faster form-control block w-full px-3 2xl:py-1 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 text-xs",children:a.touched.answer&&a.errors.answer?a.errors.answer:null})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"rounded-md bg-green-300 hover:bg-green-400  hover:text-black shadow-lg  py-1 text-sm px-3 m-3",children:"Add"})})]})})]})})})}function X(){const{post_listFaq:t,post_moduleList:x}=A();T("FAQ Master");const[m,a]=d.useState(0),[h,u]=d.useState(0),[i,f]=d.useState(0),[r,c]=d.useState(0),[l,g]=d.useState([]),[w,v]=d.useState(),[_,q]=d.useState(),[n,k]=d.useState(),[N,b]=d.useState(!1),Q=s=>{u(o=>o+1),v(s)},L=s=>{f(o=>o+1),q(s)};d.useEffect(()=>{b(!0),y.post(t,{},F()).then(s=>{var o;k((o=s==null?void 0:s.data)==null?void 0:o.data),b(!1)}).catch(s=>{b(!1)}),y.post(x,{},F()).then(s=>{var o;g((o=s==null?void 0:s.data)==null?void 0:o.data),b(!1)}).catch(s=>{b(!1)})},[r]);const R=[{Header:"#",Cell:({row:s})=>e.jsx("div",{className:"pr-2",children:(s==null?void 0:s.index)+1})},{Header:"Module Name",Cell:({cell:s})=>{var o;return S((o=s.row.original)==null?void 0:o.module_name)}},{Header:"Question",Cell:({cell:s})=>{var o;return S((o=s.row.original)==null?void 0:o.question)}},{Header:"Answer",Cell:({cell:s})=>{var o;return S((o=s.row.original)==null?void 0:o.answer)}},{Header:"Action",accessor:"id",Cell:({cell:s})=>e.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{var o;return L((o=s==null?void 0:s.row)==null?void 0:o.original)},className:"poppins bg-indigo-200 mx-1 px-5 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-indigo-400 hover:text-white text-black",children:"Edit"}),e.jsx("button",{onClick:()=>{var o,O;return Q((O=(o=s==null?void 0:s.row)==null?void 0:o.original)==null?void 0:O.id)},className:"poppins bg-red-300 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-red-400 hover:text-white text-black",children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsx(Y,{openAddFaq:m,moduleList:l,refresh:()=>c(s=>s+1)}),e.jsx(U,{openEditFaq:i,editData:_,moduleList:l,refresh:()=>c(s=>s+1)}),e.jsx(V,{openDeleteModal:h,deleteId:w,refresh:()=>c(s=>s+1)}),N&&e.jsx(H,{}),!N&&(n==null?void 0:n.length)!=null&&e.jsxs("div",{className:"poppins p-4 px-6",children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.7rem]",children:"FAQ   Master"}),e.jsx("div",{className:"w-full h-[0.15rem] bg-gray-400 mb-6"}),e.jsx($,{assessmentType:!1,columns:R,dataList:n,children:e.jsxs("button",{onClick:()=>a(s=>s+1),className:"float-right bg-green-500 px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white text-white flex items-center",children:[e.jsx(z,{})," Add FAQ"]})})]})]})}export{X as default};
