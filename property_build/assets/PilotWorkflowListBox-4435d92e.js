import{al as Dt,j as t,aB as Ut,aC as Vt,aD as Wt,aE as qt,aF as Lt,aG as gt,aH as Jt,r as l,aI as Gt,aJ as Yt,aK as Qt,aL as Kt,Y as lt,q as kt,s as bt,w as wt,o as Ft,U as Xt,ag as Zt,aM as pt,J as yt,e as ea,A as ct,b as Ue,B as ta,W as He,ab as aa,aN as la,ai as na,Q as pe,ad as Fe,a9 as Oe,L as st,aO as ia,aP as Mt,aQ as sa,a3 as Ot,a8 as zt,a7 as St,aa as Ct,aR as ft,n as Ze,aS as da,aT as $t,x as Tt,H as rt,a5 as ca,C as Xe,au as ra,u as ma,aU as oa}from"./index-19ed171f.js";/* empty css             */import{a as xa,b as ua}from"./index.esm-5348901f.js";import{P as ha}from"./PilotWorkflowDocumentRow-3a6cc9ea.js";import{R as dt}from"./index.esm-640ad1c4.js";import{S as ga}from"./SwitchBase-4b76a92a.js";import{E as fa}from"./EmptyDetailsIllustration-e1401d6d.js";import{F as mt}from"./index.esm-6cd15e97.js";import{p as et}from"./photo-f9d7c0b5.js";import{m as ba}from"./moment-efcdeefa.js";import{B as jt,T as ja,a as Et}from"./Tabs-68c21db9.js";import{T as wa}from"./Typography-e867eab9.js";const ya=Dt(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),va=Dt(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Na=Dt(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Da(e){return Vt("MuiCheckbox",e)}const ka=Ut("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),vt=ka,Sa=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ca=e=>{const{classes:i,indeterminate:m,color:S}=e,v={root:["root",m&&"indeterminate",`color${Lt(S)}`]},F=Kt(v,Da,i);return gt({},i,F)},Ia=Wt(ga,{shouldForwardProp:e=>qt(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:m}=e;return[i.root,m.indeterminate&&i.indeterminate,m.color!=="default"&&i[`color${Lt(m.color)}`]]}})(({theme:e,ownerState:i})=>gt({color:(e.vars||e).palette.text.secondary},!i.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${i.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Jt(i.color==="default"?e.palette.action.active:e.palette[i.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},i.color!=="default"&&{[`&.${vt.checked}, &.${vt.indeterminate}`]:{color:(e.vars||e).palette[i.color].main},[`&.${vt.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Pa=t.jsx(va,{}),_a=t.jsx(ya,{}),Ba=t.jsx(Na,{}),Ha=l.forwardRef(function(i,m){var S,v;const F=Gt({props:i,name:"MuiCheckbox"}),{checkedIcon:C=Pa,color:L="primary",icon:$=_a,indeterminate:o=!1,indeterminateIcon:J=Ba,inputProps:P,size:j="medium",className:U}=F,M=Yt(F,Sa),q=o?J:$,H=o?J:C,V=gt({},F,{color:L,indeterminate:o,size:j}),I=Ca(V);return t.jsx(Ia,gt({type:"checkbox",inputProps:gt({"data-indeterminate":o},P),icon:l.cloneElement(q,{fontSize:(S=q.props.fontSize)!=null?S:j}),checkedIcon:l.cloneElement(H,{fontSize:(v=H.props.fontSize)!=null?v:j}),ownerState:V,ref:m,className:Qt(I.root,U)},M,{classes:I}))}),Fa=Ha;function ht(e){var q;const{t:i}=lt();let m=[...e==null?void 0:e.COLUMNS];m=[...m,{Header:`${i("mainHoldingPage.holdingAction.label")}`,Cell:({cell:H})=>t.jsx("button",{onClick:()=>{var V,I,W,X,te;e==null||e.fetchWorkflowPermission((V=H.row.original)==null?void 0:V.workflow_id),e.fun((W=(I=H==null?void 0:H.row)==null?void 0:I.original)==null?void 0:W.id,(te=(X=H==null?void 0:H.row)==null?void 0:X.original)==null?void 0:te.assessment)},className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
            hover:text-white text-black`,children:i("mainHoldingPage.holdingView.label")})}];const[S,v]=l.useState({}),[F,C]=l.useState(0),[L,$]=l.useState(!1),[o,J]=l.useState(!1),P=()=>{U.setFieldValue("searchBy",""),U.setFieldValue("entry",""),v({}),J(!1),C(H=>H+1)},j=kt({searchBy:bt().required("Select filter type"),entry:bt().required("Enter the parameter")}),U=wt({initialValues:{searchBy:"",entry:""},onSubmit:H=>{M(H)},validationSchema:j}),M=H=>{J(!0),v({[H==null?void 0:H.searchBy]:H==null?void 0:H.entry}),C(V=>V+1)};return t.jsxs(t.Fragment,{children:[t.jsx("form",{onSubmit:U.handleSubmit,onChange:U.handleChange,className:"bg-white poppins",children:t.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b",children:[t.jsxs("div",{className:"w-full md:w-[25%]",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[i("mainHoldingPage.holdingFilterBy.label"),t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{...U.getFieldProps("searchBy"),className:`${U.errors.searchBy?"text-red-500 font-semibold border border-solid border-red-600 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 "} cursor-pointer w-full px-3 py-1.5 text-base  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md`,children:[t.jsx("option",{value:"",children:i("mainHoldingPage.holdingSelectBtn.label")}),t.jsx("option",{value:"applicationNo",children:i("mainHoldingPage.applicationNum.label")}),t.jsx("option",{value:"name",children:i("mainHoldingPage.propertyFilterByNm.label")})]})]}),t.jsxs("div",{className:"w-full md:w-[25%] ",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[i("mainHoldingPage.propertyParameter.label"),t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",...U.getFieldProps("entry"),placeholder:i("mainHoldingPage.propertyParamPlc.label"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),t.jsxs("div",{className:"mt-4 w-full md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:[t.jsx("div",{className:" ",children:L?t.jsx(t.Fragment,{children:!o&&t.jsx("div",{className:"flex justify-center",children:t.jsx(Ft,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):t.jsxs("button",{type:"submit",className:" flex items-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-lg rounded-sm  text-base px-5 py-1",children:[t.jsx("span",{className:"",children:t.jsx(Xt,{fontSize:""})}),t.jsx("span",{children:i("mainHoldingPage.searchHoldingRecord.label")})]})}),o&&t.jsx("div",{className:" ",onClick:()=>P(),children:L?t.jsx("div",{className:"flex justify-center",children:t.jsx(Ft,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):t.jsx("div",{className:"cursor-pointer text-center w-full border border-indigo-600 bg-indigo-500 hover:bg-indigo-600 text-white shadow-lg rounded-sm text-base font-semibold px-5 py-1",children:i("mainHoldingPage.propertyAllApli.label")})})]})]})}),t.jsx(Zt,{api:(q=e==null?void 0:e.api)==null?void 0:q.url,columns:m,requestBody:S,changeData:F,search:!1})]})}function Ta(e){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative w-full overflow-x-auto",children:[t.jsxs("div",{className:" mb-2 flex items-center w-full",children:[t.jsx("div",{style:{boxShadow:"2px 4px 2px gray"},className:(e.verificationStatus?"bg-green-400 border-2 border-green-500 shadow-lg":"bg-gray-200")+" z-1 flex flex-initial items-center order-1 w-5 h-5 sm:w-6 sm:h-6 rounded-full",children:t.jsxs("h1",{className:"mx-auto font-semibold text-sm text-white",children:[e.verificationStatus?t.jsx(pt,{size:20}):"X",e.active&&t.jsx("span",{className:"absolute top-0 left-1",children:t.jsx(xa,{className:"text-red-500 text-xl"})})," "]})}),e.last?"":t.jsx("div",{className:(e.verificationStatus?"bg-green-300":"bg-gray-200")+" order-2 flex-initial w-10 sm:w-32",style:{height:"2px"}})]}),t.jsx("div",{className:"flex-initial text-xs text-left font-semibold pl-2",children:e.index}),t.jsx("div",{className:"flex-initial text-xs opacity-50 pl-0 sm:pl-2",children:e.level})]})})}function Ea(e){var be,re,je,Qe,Ve,We,qe,Ke,ge,ve,De,we,Je,ke,$e,Ee,Se,Re,n,w,ie,K,d,a,r,N,b,x,h;const{dataID:i}=l.useContext(yt),{t:m}=lt(),S=ea(),{api_propertyNoCheck:v,api_propertyNoSave:F,api_getAppicationFullDetail:C,api_getStaticSafDetails:L,api_objectionAgainstJahirNama:$}=na(),[o,J]=l.useState(!1),[P,j]=l.useState(!1),U=()=>{J(!0)},M=()=>{J(!1)},q=c=>{M(),c.preventDefault()},[H,V]=l.useState(""),[I,W]=l.useState(""),[X,te]=l.useState(""),[xe,_]=l.useState(""),[he,fe]=l.useState(!1),[f,s]=l.useState(!1),[O,ue]=l.useState(""),[de,ce]=l.useState(null),[G,ae]=l.useState(null),Z=c=>{const u=c.target.value;V(u),(X||xe)&&(te(""),_(""))},T=()=>{var z,E;const c=H.trim();if(!/^[0-9-]+$/.test(c)||c.length<4){_("Please enter a valid property number with at least four digits, allowing only numeric characters and hyphens."),te("");return}j(!0);const B={applicationId:e.id,wardId:(E=(z=e==null?void 0:e.applicationData)==null?void 0:z.data)==null?void 0:E.ward_mstr_id,propertyNo:c};ct.post(v,B,Ue()).then(function(y){V(y.data.data),te(y.data.message),_(""),j(!1)}).catch(function(y){_("Error while checking property number availability."),te(""),j(!1)})},D=c=>{var z,E;j(!0);const u=c.trim(),B={applicationId:e.id,wardId:(E=(z=e==null?void 0:e.applicationData)==null?void 0:z.data)==null?void 0:E.ward_mstr_id,propertyNo:u};ct.post(F,B,Ue()).then(function(y){V(y.data.data),_(""),j(!1),pe.success(y.data.message),y.data.status&&window.location.reload()}).catch(function(y){_("Error while checking property number availability."),te(""),j(!1)})};l.useEffect(()=>{j(!0),ct.post(C,{applicationId:e.id},Ue()).then(function(c){var u;j(!1),ae((u=c==null?void 0:c.data)==null?void 0:u.data)}).catch(function(c){j(!1)})},[i]);const Pe=()=>{j(!0);const c={applicationId:e.id};ct.post(L,c,Ue()).then(function(u){W(u.data.data),_(""),j(!1),pe.success("Jahir Nama Generated Successfully"),u.data.status&&S("jahir-nama-format",{state:{data:u.data.data}})}).catch(function(u){_("Error while generating Jahir Nama."),te(""),j(!1)})},Ye=()=>{j(!0),ct.post(C,{applicationId:e.id},Ue()).then(function(c){j(!1),ae(c==null?void 0:c.data)}).catch(function(c){j(!1)})},ze=async c=>{j(!0),c.preventDefault();const u=new FormData;u.append("applicationId",e.id),u.append("hasAnyObjection",f?"1":"0"),u.append("comment",O),f&&u.append("document",de),ct.post($,u,Ue()).then(function(B){M(),Ye(),_(""),j(!1),pe.success(B.data.message)}).catch(function(B){_("Error while generating Jahir Nama."),te(""),j(!1)})},_e=()=>{fe(!0),s(!0)},Ne=()=>{fe(!0),s(!1)},Te=c=>{const u=c.target.files[0];ce(u)};return t.jsxs(t.Fragment,{children:[P&&t.jsx(ta,{}),t.jsx("div",{className:"bg-white",children:t.jsxs("div",{className:"container mx-auto my-5 md:p-5",children:[t.jsxs("div",{className:"md:flex no-wrap md:-mx-2 ",children:[t.jsx("div",{className:"w-full md:w-3/12 mx-2 md:shadow-xl flex md:justify-center items-center ",children:t.jsxs("div",{className:"bg-white md:items-center my-auto ",children:[t.jsxs("div",{className:"image overflow-hidden md:text-center",children:[t.jsx("div",{className:"text-indigo-600 font-bold text-2xl leading-8",children:He((re=(be=e==null?void 0:e.applicationData)==null?void 0:be.data)==null?void 0:re.application_no)}),t.jsx("div",{className:"text-sm text-gray-600",children:m("mainHoldingPage.applicationNum.label")})]}),t.jsxs("div",{className:"image overflow-hidden md:text-center mt-3 md:mt-10",children:[t.jsx("div",{className:"text-gray-900 font-bold text-lg leading-8",children:aa((Qe=(je=e==null?void 0:e.applicationData)==null?void 0:je.data)==null?void 0:Qe.apply_date)}),t.jsx("div",{className:"text-sm text-gray-600",children:m("mainHoldingPage.propertyApplyDate.label")})]})]})}),t.jsxs("div",{className:"w-full md:w-9/12 mx-2 h-auto",children:[t.jsxs("div",{className:"bg-white mt-6 md:p-3 md:shadow-xl rounded-sm",children:[t.jsxs("div",{className:"flex items-center md:pl-4 space-x-2 font-semibold text-gray-900 leading-8",children:[t.jsx("span",{clas:"text-green-500",children:t.jsx(la,{})}),t.jsx("span",{className:"tracking-wide",children:He((Ke=(qe=(We=(Ve=e==null?void 0:e.applicationData)==null?void 0:Ve.data)==null?void 0:We.fullDetailsData)==null?void 0:qe.cardArray)==null?void 0:Ke.headerTitle)}),((ve=(ge=e==null?void 0:e.applicationData)==null?void 0:ge.data)==null?void 0:ve.parked)==!0&&t.jsx("span",{className:"float-right text-right text-red-600 px-4  border border-red-500 rounded-lg",children:m("mainHoldingPage.propIndexBtnCstmTabBack.label")})]}),t.jsxs("div",{className:"text-gray-700 py-2 md:py-6",children:[t.jsx("div",{className:"grid md:grid-cols-2 text-sm",children:($e=(ke=(Je=(we=(De=e==null?void 0:e.applicationData)==null?void 0:De.data)==null?void 0:we.fullDetailsData)==null?void 0:Je.cardArray)==null?void 0:ke.data)==null?void 0:$e.map(c=>t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsxs("div",{className:"md:px-4 py-2 font-semibold",children:[He(c==null?void 0:c.displayString)," :"," "]}),t.jsx("div",{className:"md:px-4 py-2",children:He(c==null?void 0:c.value)})]}))}),t.jsxs("div",{className:"pb-2 mt-2 pl-4 flex",children:[((Ee=e==null?void 0:e.permissions)==null?void 0:Ee.can_view_form)&&t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>{var c;return window.open(`${(c=e==null?void 0:e.workflow)==null?void 0:c.fullDetailsUrl}/${e==null?void 0:e.id}`,"_blank")},children:m("mainHoldingPage.propIndexBtnCstmTabView.label")}),((Se=e==null?void 0:e.permissions)==null?void 0:Se.can_assing_propety_no)&&((n=(Re=e==null?void 0:e.applicationData)==null?void 0:Re.data)==null?void 0:n.property_no)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:U,children:"Add New Property No."}),o&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-auto flex items-center justify-center",children:[t.jsx("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-70"}),t.jsx("div",{className:"modal-container bg-white w-[40rem] h-[14rem] rounded shadow-lg z-50 overflow-y-auto",children:t.jsxs("div",{className:"modal-content py-4 text-left px-6",children:[t.jsx("span",{className:"text-white mt-4 bg-red-500 text-lg cursor-pointer absolute top-72 right-96 p-4 rounded-full w-4 h-4 flex items-center justify-center",onClick:M,children:"×"}),t.jsxs("div",{children:[t.jsx("form",{onSubmit:q,onClick:T,className:"",children:t.jsxs("div",{className:"bg-white",children:[t.jsxs("div",{className:"text-lg font-semibold ",children:[" ward No. -  ",t.jsxs("span",{children:[He((a=(d=(K=(ie=(w=e==null?void 0:e.applicationData)==null?void 0:w.data)==null?void 0:ie.fullDetailsData)==null?void 0:K.cardArray)==null?void 0:d.data[0])==null?void 0:a.value)," "]})," "]}),t.jsx("div",{className:"mt-2",children:t.jsxs("label",{className:"text-lg font-semibold flex",children:["Add New Property No.",t.jsx("input",{type:"text",placeholder:"Enter property no.",className:"border-2 ml-4 border-blue-400",value:H,onChange:Z}),X&&t.jsxs("p",{className:`ml-2 mt-2 ${X==="Available"?"text-green-600 text-sm":"text-red-600 text-sm"}`,children:["*",X]})]})}),xe&&t.jsx("div",{className:"text-red-600 mt-2 text-xs font-semibold",children:xe}),X==="Available"?t.jsx("button",{type:"submit",onClick:()=>D(H),className:"bg-green-600 px-2 py-1 rounded-md text-white mt-4",children:"Submit"}):null]})}),t.jsxs("p",{className:"text-xs mt-4",children:["*Note:- ",t.jsx("span",{className:"text-indigo-600",children:"Enter the property number and tap on white screen to see the availability."})," "]})]})]})})]})]}),((r=e==null?void 0:e.permissions)==null?void 0:r.can_edit)&&((e==null?void 0:e.boxType)==="inbox"||(e==null?void 0:e.boxType)==="btcbox")&&t.jsx("button",{className:"float-right mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>{var c;return window.open(`${(c=e==null?void 0:e.workflow)==null?void 0:c.formUrl}/${e==null?void 0:e.id}`,"_blank")},children:m("mainHoldingPage.propIndexBtnCstmTabEdit.label")}),((N=e==null?void 0:e.permissions)==null?void 0:N.can_genrate_jahirnama)&&((x=(b=e==null?void 0:e.applicationData)==null?void 0:b.data)==null?void 0:x.can_jahirnama_genrate)&&t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>Pe(),children:"Generate Jahir Nama"}),void 0,void 0,void 0,((h=e==null?void 0:e.permissions)==null?void 0:h.can_update_jahirnama_obj)&&(G==null?void 0:G.can_jahirnama_update)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:U,children:"Objection"}),o&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-auto flex items-center justify-center",children:[t.jsx("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-70"}),t.jsx("div",{className:"modal-container bg-white w-[56rem] h-[30rem] rounded shadow-lg z-50 overflow-y-auto",children:t.jsxs("div",{className:"modal-content py-4 text-left px-6",children:[t.jsx("span",{className:"text-white mt-4 bg-red-500 text-lg cursor-pointer absolute top-32 right-64 p-4 rounded-full w-4 h-4 flex items-center justify-center",onClick:M,children:"×"}),t.jsx("div",{children:t.jsx("form",{onSubmit:q,className:" mx-auto mt-8 p-2 bg-gray-100 rounded-md",children:t.jsxs("div",{className:"bg-white p-4 rounded-md",children:[t.jsx("div",{className:"text-lg font-semibold",children:"Upload Objection Document"}),t.jsxs("div",{className:"mt-4 space-x-4",children:[t.jsx("button",{type:"button",onClick:_e,className:`bg-${f?"green-700":"green-500"} text-white px-4 py-2 rounded-md`,children:"Yes"}),t.jsx("button",{type:"button",onClick:Ne,className:`bg-${f?"red-500":"red-700"} text-white px-4 py-2 rounded-md`,children:"No"})]}),he&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-semibold",children:"Comment:"}),t.jsx("textarea",{value:O,onChange:c=>ue(c.target.value),className:"w-full border border-gray-300 p-2 rounded-md"})]}),f&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-semibold",children:"Upload Document:"}),t.jsx("input",{type:"file",onChange:Te,className:"w-full border border-gray-300 p-2 rounded-md"})]}),t.jsx("button",{type:"submit",onClick:ze,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Save"})]})})})]})})]})]})]})]})]}),t.jsx("div",{className:"md:my-4"})]})]}),t.jsx("div",{})]})})]})}Fe.setAppElement("#root");function Ra(e){const{t:i}=lt(),[m,S]=l.useState(),[v,F]=l.useState(!1),[C,L]=l.useState("");l.useEffect(()=>{var W,X,te,xe;F(!0);let I={applicationId:e==null?void 0:e.id};Oe[(X=(W=e==null?void 0:e.api)==null?void 0:W.api_documentList)==null?void 0:X.method]((xe=(te=e==null?void 0:e.api)==null?void 0:te.api_documentList)==null?void 0:xe.url,I,Ue()).then(_=>{var he,fe;(he=_==null?void 0:_.data)!=null&&he.status?S((fe=_==null?void 0:_.data)==null?void 0:fe.data):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),F(!1)}).catch(_=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),F(!1)})},[]);const[$,o]=l.useState(!1),[J,P]=l.useState(""),[j,U]=l.useState(!1),M=()=>o(!0),q=()=>o(!1),H=()=>{},V=(I,W,X)=>{P(I),L(W),U(X),M()};return t.jsxs(t.Fragment,{children:[v&&t.jsx(st,{}),t.jsx("div",{className:"container mx-auto  max-w-3xl ml-0  px-1 py-1 shadow-lg rounded-lg",children:t.jsx("div",{className:"py-0",children:t.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:t.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"bg-sky-100",children:t.jsxs("tr",{className:"font-semibold",children:[t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentView.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentRemark.label")})]})}),t.jsxs("tbody",{children:[(m==null?void 0:m.length)==0&&!v&&t.jsx("tr",{className:"mt-5",children:t.jsx("td",{colSpan:5,className:"text-center",children:t.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg",children:i("mainHoldingPage.nodocumentFnd.label")})})}),m==null?void 0:m.map((I,W)=>t.jsx(ha,{api:e==null?void 0:e.api,openModal:V,docList:I,index:W}))]})]})})})})}),t.jsx(Fe,{isOpen:$,onAfterOpen:H,onRequestClose:q,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:q,children:t.jsx(dt,{})}),j==!0||j=="true"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[C=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:J,frameborder:"0"})}),C!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:J,alt:"",srcset:"",className:" "})})})]})]})}),t.jsx("div",{className:"w-full mt-20"})]})}function Aa(e){const[i,m]=l.useState(e==null?void 0:e.is_escalate),S=v=>{m(v.target.checked),e.fun(v.target.checked)};return t.jsxs(t.Fragment,{children:[t.jsx(Fa,{checked:i,onChange:S,inputProps:{"aria-label":"controlled"}})," ",t.jsx("span",{className:"text-sm font-semibold",children:"Escalate"})]})}function La(){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"absolute -top-6 -left-2",children:[t.jsx("div",{className:"bg-orange-600 w-5 h-5 rounded-full  animate-ping"}),t.jsxs("div",{className:" w-3 h-3 rounded-full absolute top-1 left-1",children:[" ",t.jsx(ia,{color:"red"})]}),t.jsx("div",{className:"relative -top-4 left-6 text-black font-semibold text-xs",children:"This Application has been escalated"})]})})}function Ma(e){return t.jsx(t.Fragment,{children:t.jsx("div",{className:"relative mb-4 h-full",children:t.jsx("textarea",{onChange:i=>e.commentFun(i.target.value),className:"shadow-lg w-full rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-full text-sm outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out "+e.bgColor+" focus:bg-white",children:e.value})})})}function Rt(e){var i,m,S,v,F,C,L;return t.jsx("div",{children:t.jsx("div",{className:"container bg-white mx-auto w-full",children:t.jsx("div",{className:"relative wrap overflow-hidden md:p-10 md:py-4 h-full",children:t.jsx("div",{className:"mb-0 flex justify-between items-center w-full right-timeline",children:t.jsxs("div",{className:"relative order-1 bg-sky-100 rounded-lg shadow-xl w-9/12 px-6 py-4",children:[t.jsx("div",{className:"z-1 flex items-center bg-sky-400 shadow-xl w-6 h-6 rounded-full absolute top-0 left-0",children:t.jsx("h1",{className:"mx-auto font-semibold text-sm text-white",children:(e==null?void 0:e.index)+1})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{className:"inline-block h-12 w-12 rounded-full",src:"https://overreacted.io/static/profile-pic-c715447ce38098828758e525a1128b87.jpg",alt:"Dan_Abromov"}),t.jsxs("span",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:He((i=e==null?void 0:e.data)==null?void 0:i.user_name)}),(e==null?void 0:e.agency)&&t.jsx("span",{className:"text-sm font-medium text-gray-500",children:He((m=e==null?void 0:e.data)==null?void 0:m.commentedBy)})]})]}),(e==null?void 0:e.agency)&&t.jsxs("div",{className:"mb-1  ",children:[t.jsx("span",{className:"text-xs",children:"forwarded to"})," ",t.jsx("span",{className:"bg-gray-500 text-white px-2 rounded-sm font-normal py-1 text-xs",children:He((S=e==null?void 0:e.data)==null?void 0:S.forwarded_to)})]}),t.jsxs("p",{className:" leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:"Comment"})," : ",He((v=e==null?void 0:e.data)==null?void 0:v.message)," "]}),t.jsx("div",{children:t.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:e!=null&&e.agency?"Received Date":"Date"})," : ",t.jsx("span",{className:"font-semibold",children:He((F=e==null?void 0:e.data)==null?void 0:F.track_date)})]})}),(e==null?void 0:e.agency)&&t.jsx("div",{children:t.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:"forward date"})," : ",t.jsxs("span",{className:"font-semibold",children:[He((C=e==null?void 0:e.data)==null?void 0:C.forward_date)," ",He((L=e==null?void 0:e.data)==null?void 0:L.forward_time)]})]})})]})})})})})}const Oa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Fe.setAppElement("#root");function za(e){var O,ue,de,ce,G,ae,Z,T,D,Pe,Ye,ze,_e,Ne,Te,be,re,je,Qe,Ve,We,qe,Ke,ge,ve,De,we,Je,ke,$e,Ee,Se,Re,n,w,ie,K;const{t:i}=lt(),[m,S]=l.useState(!1),[v,F]=l.useState("");l.useState("");const[C,L]=l.useState(""),[$,o]=l.useState(!1);l.useState();const[J,P]=l.useState(),[j,U]=l.useState(!1);l.useState(!1);const[M,q]=l.useState(null),[H,V]=l.useState(null);function I(){U(!1)}const W=Ue(),X=()=>{q(null),V(null),U(!1)},te=d=>{F(d)},xe=()=>{var a,r,N,b;if(v==""){e==null||e.toast("Please enter comment","error");return}o(!0);let d={applicationId:e==null?void 0:e.id,comment:v};Oe[(r=(a=e==null?void 0:e.api)==null?void 0:a.api_independentComment)==null?void 0:r.method]((b=(N=e==null?void 0:e.api)==null?void 0:N.api_independentComment)==null?void 0:b.url,d,W).then(function(x){var h;(h=x==null?void 0:x.data)!=null&&h.status?e.toast("comment recorded successfully","escalated"):e==null||e.activateBottomErrorCard(!0,"Some error occured while sending comment. Please try again later"),o(!1)}).catch(function(x){e==null||e.activateBottomErrorCard(!0,"Some error occured while sending comment. Please try again later"),o(!1)})},_=d=>{var N,b,x,h,c,u,B,z,E,y,me,p;if((N=e==null?void 0:e.permissions)!=null&&N.can_comment&&v==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}o(!0);let a;d.target.id=="btn_forward"&&(a="forward"),d.target.id=="btn_back"&&(a="backward"),d.target.id=="btn_backToDa"&&(a="backward");let r;d.target.id=="btn_backToDa"?r={applicationId:e==null?void 0:e.id,comment:v,senderRoleId:(h=(x=(b=e==null?void 0:e.applicationData)==null?void 0:b.data)==null?void 0:x.roleDetails)==null?void 0:h.wf_role_id,receiverRoleId:d.target.value,action:"backward",isBtd:(c=e==null?void 0:e.permissions)==null?void 0:c.can_bt_da}:r={applicationId:e==null?void 0:e.id,comment:v,senderRoleId:(z=(B=(u=e==null?void 0:e.applicationData)==null?void 0:u.data)==null?void 0:B.roleDetails)==null?void 0:z.wf_role_id,receiverRoleId:d.target.value,action:a},Oe[(y=(E=e==null?void 0:e.api)==null?void 0:E.api_sendLevel)==null?void 0:y.method]((p=(me=e==null?void 0:e.api)==null?void 0:me.api_sendLevel)==null?void 0:p.url,r,W).then(function(g){var k,le,ee;(k=g==null?void 0:g.data)!=null&&k.status?(e.showTabFun(!1),e.toast("comment recorded successfully","escalated"),d.target.id=="btn_forward"&&e.toast("Application is forwarded successfully !","escalated"),d.target.id=="btn_back"&&e.toast("Application send backward successfully","de-escalated"),d.target.id=="btn_backToDa"&&e.toast("Application send back to Dealing Assistant successfully !","de-escalated"),d.target.id=="btn_independent_level"&&e.toast("Application send back to Dealing Assistant successfully !","de-escalated"),e==null||e.fun(null,0)):(e.toast((le=g==null?void 0:g.data)==null?void 0:le.message,"error"),e==null||e.activateBottomErrorCard(!0,(ee=g==null?void 0:g.data)==null?void 0:ee.message)),o(!1)}).catch(function(g){let k;d.target.id=="btn_forward"&&(k="Some error occured while forwarding. Please try again later"),d.target.id=="btn_back"&&(k="Some error occured while sending backward. Please try again later"),d.target.id=="btn_backToDa"&&(k="Some error occured while sending back to dealing assistant. Please try again later"),d.target.id=="btn_independent_level"&&(k="Some error occured while forwarding. Please try again later"),e==null||e.activateBottomErrorCard(!0,k),o(!1)})},he=async d=>{var N,b,x,h;X(),o(!0);let a;d&&(a=1),!d&&(a=0);let r={escalateStatus:a,applicationId:e==null?void 0:e.id};Oe[(b=(N=e==null?void 0:e.api)==null?void 0:N.api_escalate)==null?void 0:b.method]((h=(x=e==null?void 0:e.api)==null?void 0:x.api_escalate)==null?void 0:h.url,r,W).then(function(c){var u;if((u=c==null?void 0:c.data)!=null&&u.status)a==1&&e.toast("Application Escalated Successfully!","escalated"),a==0&&e.toast("Application De-Escalated Successfully!","de-escalated");else{let B;a==1?B="Something went wrong while escalting application. Please try again later.":B="Something went wrong while De-Ecalting application. Please try again later.",e==null||e.activateBottomErrorCard(!0,B)}o(!1)}).catch(function(c){e==null||e.activateBottomErrorCard(!0,msg),o(!1)})},fe=d=>{S(d),he(d)},f=d=>{var r,N,b,x,h,c,u,B,z,E;if(v==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}o(!0);let a={applicationId:e==null?void 0:e.id,workflowId:(b=(N=(r=e==null?void 0:e.applicationData)==null?void 0:r.data)==null?void 0:N.roleDetails)==null?void 0:b.workflow_id,comment:v,currentRoleId:(c=(h=(x=e==null?void 0:e.applicationData)==null?void 0:x.data)==null?void 0:h.roleDetails)==null?void 0:c.wf_role_id};Oe[(B=(u=e==null?void 0:e.api)==null?void 0:u.api_btc)==null?void 0:B.method]((E=(z=e==null?void 0:e.api)==null?void 0:z.api_btc)==null?void 0:E.url,a,W).then(function(y){var me,p;(me=y==null?void 0:y.data)!=null&&me.status?(e.showTabFun(!1),d.target.id=="btn_backToCitizen"&&e.toast("Application is forwarded to BTC successfully","escalated"),e==null||e.fun(null,0)):e==null||e.activateBottomErrorCard(!0,(p=y==null?void 0:y.data)==null?void 0:p.message),o(!1)}).catch(function(y){e==null||e.activateBottomErrorCard(!0,"Something went wrong while sending application back to citizen. Please try again later."),o(!1)})},s=d=>{var r,N,b,x,h,c,u,B,z,E;if(v==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}o(!0);let a={applicationId:e==null?void 0:e.id,workflowId:(b=(N=(r=e==null?void 0:e.applicationData)==null?void 0:r.data)==null?void 0:N.roleDetails)==null?void 0:b.workflow_id,roleId:(c=(h=(x=e==null?void 0:e.applicationData)==null?void 0:x.data)==null?void 0:h.roleDetails)==null?void 0:c.wf_role_id,status:d.target.value,comment:v};Oe[(B=(u=e==null?void 0:e.api)==null?void 0:u.api_approveReject)==null?void 0:B.method]((E=(z=e==null?void 0:e.api)==null?void 0:z.api_approveReject)==null?void 0:E.url,a,W).then(function(y){var me,p,g;if((me=y==null?void 0:y.data)!=null&&me.status)e==null||e.openModal((p=y==null?void 0:y.data)==null?void 0:p.message),d.target.value=="1"&&e.toast("Application is Approved ","escalated"),d.target.value=="0"&&e.toast("Application is Rejected","de-escalated"),e.showTabFun(!1),e==null||e.setpropertyDetails((g=y==null?void 0:y.data)==null?void 0:g.data);else{let k;d.target.value=="1"?k="Something went wrong while approving application. Please try again later.":k="Something went wrong while rejecting application. Please try again later.",e==null||e.activateBottomErrorCard(!0,k)}o(!1)}).catch(function(y){e.toast("Oops! Something went wrong","error"),o(!1)})};return t.jsxs(t.Fragment,{children:[$&&t.jsx(st,{}),t.jsxs("div",{className:" grid grid-cols-12 shadow-lg border-2 border-gray-200 relative overflow-hidden h-auto",children:[e.showTabs&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-gray-200 col-span-12 md:col-span-5 h-auto",children:[t.jsxs("h1",{className:"bg-sky-200  text-black font-semibold text-center py-2 mb-8",children:[i("mainHoldingPage.propIndexBtnMembrs.label")," ",m?t.jsx(La,{}):""]}),t.jsx("div",{className:"px-2 hidden",children:t.jsx("select",{className:"shadow-lg h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-pointer",children:(de=(ue=(O=e==null?void 0:e.applicationData)==null?void 0:O.data)==null?void 0:ue.time_line)!=null&&de.length?(G=(ce=e==null?void 0:e.applicationData)==null?void 0:ce.data)==null?void 0:G.time_line.map(d=>t.jsx("option",{value:d.id,children:d.designation})):""})}),t.jsxs("div",{className:"px-2 mt-4 h-auto",children:[((ae=e==null?void 0:e.permissions)==null?void 0:ae.can_comment)&&t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-xs",children:i("mainHoldingPage.propIndexBtnCmmnts.label")}),t.jsx("div",{className:"h-28",children:t.jsx(Ma,{commentFun:te,bgColor:"bg-gray-100",value:v})}),t.jsxs("div",{className:"flex mt-2 w-full",children:[t.jsx("div",{className:"flex-1",children:t.jsx("button",{className:"bg-sky-400 text-white rounded-sm px-2 py-0 hover:shadow-lg",children:t.jsxs("a",{className:"",style:{fontSize:"10px"},target:"_blank",href:"https://www.google.com/inputtools/try/",children:[i("mainHoldingPage.propIndexBtnHnTy.label")," →"]})})}),t.jsx("div",{className:"flex-1",children:t.jsx("button",{onClick:xe,style:{fontSize:"10px"},className:"bg-sky-400 text-white rounded-sm px-2 hover:shadow-lg py-1 float-right",children:i("mainHoldingPage.propIndexBtnCmmntsSend.label")})})]})]}),((Z=e==null?void 0:e.permissions)==null?void 0:Z.can_escalate)&&t.jsx("div",{children:t.jsx(Aa,{is_escalate:(D=(T=e==null?void 0:e.applicationData)==null?void 0:T.data)==null?void 0:D.is_escalate,fun:fe})}),((Pe=e==null?void 0:e.permissions)==null?void 0:Pe.allow_full_list)==!0&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"form-group mb-6 col-span-5 md:col-span-1 px-2",children:[t.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsSelect.label")}),t.jsx("select",{onChange:d=>P(d.target.value),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no.",children:(Ye=e==null?void 0:e.workflowInfo)==null?void 0:Ye.members.map(d=>t.jsx("option",{value:d==null?void 0:d.role_id,children:d==null?void 0:d.role_name}))})]}),t.jsx("div",{className:"flex justify-center items-center",children:t.jsx("button",{id:"btn_independent_level",value:J,onClick:_,type:"button",className:"hover:scale-105 px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexBtnCmmntsSendApp.label")})})]}),t.jsxs("div",{className:"flex space-x-2",children:[((ze=e==null?void 0:e.permissions)==null?void 0:ze.can_backward)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_back",value:(Ne=(_e=e==null?void 0:e.applicationData)==null?void 0:_e.data)==null?void 0:Ne.roleDetails.backward_role_id,className:"w-full bg-indigo-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-indigo-600 hover:text-white my-4 text-center",onClick:_,children:i("mainHoldingPage.propIndexBtnCmmntsBackward.label")})}),((Te=e==null?void 0:e.permissions)==null?void 0:Te.can_forward)&&t.jsx("div",{className:"flex-initial",children:t.jsx("button",{type:"button",id:"btn_forward",value:(je=(re=(be=e==null?void 0:e.applicationData)==null?void 0:be.data)==null?void 0:re.roleDetails)==null?void 0:je.forward_role_id,className:"w-full bg-indigo-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-indigo-600 hover:text-white my-4 text-center",onClick:_,children:i("mainHoldingPage.propIndexBtnCmmntsForward.label")})})]}),((Qe=e==null?void 0:e.permissions)==null?void 0:Qe.can_bt_da)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_backToDa",value:C,className:"bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4 text-center",onClick:_,children:i("mainHoldingPage.propIndexBtnCmmntsBackToDA.label")})}),((Ve=e==null?void 0:e.permissions)==null?void 0:Ve.can_btc)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_backToCitizen",value:C,className:" bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4 text-center",onClick:f,children:i("mainHoldingPage.propIndexBtnCmmntsBackToCitizen.label")})}),((We=e==null?void 0:e.permissions)==null?void 0:We.can_reject)&&t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-1 pr-10",children:t.jsx("button",{type:"button",id:"btn_approve",value:1,className:"block w-full bg-green-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-green-600 hover:text-white my-4",onClick:s,children:i("mainHoldingPage.propIndexBtnCmmntsApprove.label")})}),t.jsx("div",{className:"flex-1 pl-10",children:t.jsx("button",{type:"button",id:"btn_reject",value:0,className:"block w-full bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4",onClick:s,children:i("mainHoldingPage.propIndexBtnCmmntsReject.label")})})]})]})]})}),t.jsxs("div",{className:"col-span-12 md:col-span-7 bg-white oveflow-y-scroll",children:[t.jsx("h1",{className:"text-center bg-gray-200 h-10 grid items-center font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsTimeline.label")}),t.jsx("div",{className:"pl-10 font-semibold mt-5",children:i("mainHoldingPage.propIndexBtnCmmntsCitizen.label")}),Array.isArray((Ke=(qe=e==null?void 0:e.applicationData)==null?void 0:qe.data)==null?void 0:Ke.citizenComment)&&((De=(ve=(ge=e==null?void 0:e.applicationData)==null?void 0:ge.data)==null?void 0:ve.citizenComment)==null?void 0:De.length)===0&&t.jsx("div",{className:"w-full text-center mt-4",children:t.jsx("span",{className:"text-red-400 font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsNoComment.label")})}),(ke=(Je=(we=e==null?void 0:e.applicationData)==null?void 0:we.data)==null?void 0:Je.citizenComment)==null?void 0:ke.map((d,a)=>t.jsx(Rt,{agency:!1,data:d,index:a})),t.jsx("div",{className:"px-10",children:t.jsx("hr",{})}),t.jsx("div",{className:"pl-10 font-semibold mt-5",children:i("mainHoldingPage.propIndexBtnCmmntsLevel.label")}),Array.isArray((Ee=($e=e==null?void 0:e.applicationData)==null?void 0:$e.data)==null?void 0:Ee.levelComment)&&((n=(Re=(Se=e==null?void 0:e.applicationData)==null?void 0:Se.data)==null?void 0:Re.levelComment)==null?void 0:n.length)===0&&t.jsx("div",{className:"w-full text-center mt-4",children:t.jsx("span",{className:"text-red-400 font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsNoComment.label")})}),(K=(ie=(w=e==null?void 0:e.applicationData)==null?void 0:w.data)==null?void 0:ie.levelComment)==null?void 0:K.map((d,a)=>t.jsx(Rt,{agency:!0,data:d,index:a}))]})]}),t.jsx("div",{className:"w-full h-20"}),t.jsx(Fe,{isOpen:j,onRequestClose:I,style:Oa,contentLabel:"Example Modal",children:t.jsxs("div",{class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[t.jsx("button",{onClick:X,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",children:t.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:t.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),t.jsxs("div",{class:"p-6 text-center",children:[t.jsxs("div",{className:"w-full flex h-10",children:[" ",t.jsx("span",{className:"mx-auto",children:t.jsx(Mt,{size:30})})]}),t.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:M}),t.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:"",children:i("mainHoldingPage.propIndexBtnCmmntsYes.label")})]})]})})]})}const $a={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Fe.setAppElement("#root");function Ua(e){var G,ae,Z,T,D,Pe,Ye,ze,_e,Ne,Te,be,re,je,Qe,Ve,We,qe,Ke,ge,ve,De,we,Je,ke,$e,Ee,Se,Re,n,w,ie,K,d,a,r,N,b,x,h,c,u,B,z,E,y,me,p,g,k,le,ee,ne,A;const[i,m]=l.useState([]),{notify:S}=l.useContext(yt),[v,F]=l.useState(!1),[C,L]=l.useState(0),[$,o]=l.useState(""),[J,P]=l.useState(),[j,U]=l.useState(null),[M,q]=l.useState(),[H,V]=l.useState(!1),[I,W]=l.useState(""),X=R=>{R=="Verified"&&S("Document Verified Successfully!","success"),R=="Rejected"&&S("Document Rejected Successfully!","error")},te=()=>F(!0),xe=()=>{F(!1),O(!1)},_=()=>{},he=(R,Y)=>{L(R),P(Y),xe(),fe()},fe=()=>{te()},f=()=>O(!0),[s,O]=l.useState(!1),ue=(R,Y,Ce)=>{f(),q(R),W(Y),U(Ce)},de=()=>{var Y,Ce,Ae,Le;if(C!="Verified"&&$==""){S("Please enter comment.","error");return}V(!0);let R={applicationId:e==null?void 0:e.id,id:J,docStatus:C,docRemarks:$};xe(),Oe[(Ce=(Y=e==null?void 0:e.api)==null?void 0:Y.api_verifyDocuments)==null?void 0:Ce.method]((Le=(Ae=e==null?void 0:e.api)==null?void 0:Ae.api_verifyDocuments)==null?void 0:Le.url,R,Ue()).then(Ie=>{var Me;(Me=Ie==null?void 0:Ie.data)!=null&&Me.status?(X(C),e.refresh()):e==null||e.activateBottomErrorCard(!0,"Some error occured while verifying document. Please try again later"),o(""),V(!1)}).catch(Ie=>{o(""),V(!1),e==null||e.activateBottomErrorCard(!0,"Some error occured while verifying document. Please try again later")})},ce=R=>i==null?void 0:i.some(Y=>Y==R);return t.jsxs(t.Fragment,{children:[H&&t.jsx(st,{}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:e.index+1})}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:He((G=e==null?void 0:e.docList)==null?void 0:G.doc_code)})}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm cursor-pointer",onClick:()=>{var R,Y,Ce,Ae,Le,Ie,Me;return ue(`${(R=e==null?void 0:e.docList)==null?void 0:R.doc_path}`,(Ie=(Y=e==null?void 0:e.docList)==null?void 0:Y.doc_path)==null?void 0:Ie.split(".")[((Le=(Ae=(Ce=e==null?void 0:e.docList)==null?void 0:Ce.doc_path)==null?void 0:Ae.split("."))==null?void 0:Le.length)-1],(Me=e==null?void 0:e.docList)==null?void 0:Me.id)},children:t.jsxs("div",{className:"flex items-center",children:[(((Pe=(ae=e==null?void 0:e.docList)==null?void 0:ae.doc_path)==null?void 0:Pe.split(".")[((D=(T=(Z=e==null?void 0:e.docList)==null?void 0:Z.doc_path)==null?void 0:T.split("."))==null?void 0:D.length)-1])=="pdf"||((Te=(Ye=e==null?void 0:e.docList)==null?void 0:Ye.doc_path)==null?void 0:Te.split(".")[((Ne=(_e=(ze=e==null?void 0:e.docList)==null?void 0:ze.doc_path)==null?void 0:_e.split("."))==null?void 0:Ne.length)-1])=="pdf/")&&t.jsx("div",{className:"flex-shrink-0 text-[28px] shadow-xl",children:t.jsx(mt,{})}),(((Ve=(be=e==null?void 0:e.docList)==null?void 0:be.doc_path)==null?void 0:Ve.split(".")[((Qe=(je=(re=e==null?void 0:e.docList)==null?void 0:re.doc_path)==null?void 0:je.split("."))==null?void 0:Qe.length)-1])=="jpg"||((ve=(We=e==null?void 0:e.docList)==null?void 0:We.doc_path)==null?void 0:ve.split(".")[((ge=(Ke=(qe=e==null?void 0:e.docList)==null?void 0:qe.doc_path)==null?void 0:Ke.split("."))==null?void 0:ge.length)-1])=="jpg/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>m(R=>{var Y;return[...R,(Y=e==null?void 0:e.docList)==null?void 0:Y.id]}),src:ce((De=e==null?void 0:e.docList)==null?void 0:De.id)?et:`${(we=e==null?void 0:e.docList)==null?void 0:we.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),(((Se=(Je=e==null?void 0:e.docList)==null?void 0:Je.doc_path)==null?void 0:Se.split(".")[((Ee=($e=(ke=e==null?void 0:e.docList)==null?void 0:ke.doc_path)==null?void 0:$e.split("."))==null?void 0:Ee.length)-1])=="jpeg"||((K=(Re=e==null?void 0:e.docList)==null?void 0:Re.doc_path)==null?void 0:K.split(".")[((ie=(w=(n=e==null?void 0:e.docList)==null?void 0:n.doc_path)==null?void 0:w.split("."))==null?void 0:ie.length)-1])=="jpeg/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>m(R=>{var Y;return[...R,(Y=e==null?void 0:e.docList)==null?void 0:Y.id]}),src:ce((d=e==null?void 0:e.docList)==null?void 0:d.id)?et:`${(a=e==null?void 0:e.docList)==null?void 0:a.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),(((h=(r=e==null?void 0:e.docList)==null?void 0:r.doc_path)==null?void 0:h.split(".")[((x=(b=(N=e==null?void 0:e.docList)==null?void 0:N.doc_path)==null?void 0:b.split("."))==null?void 0:x.length)-1])=="png"||((E=(c=e==null?void 0:e.docList)==null?void 0:c.doc_path)==null?void 0:E.split(".")[((z=(B=(u=e==null?void 0:e.docList)==null?void 0:u.doc_path)==null?void 0:B.split("."))==null?void 0:z.length)-1])=="png/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>m(R=>{var Y;return[...R,(Y=e==null?void 0:e.docList)==null?void 0:Y.id]}),src:ce((y=e==null?void 0:e.docList)==null?void 0:y.id)?et:`${(me=e==null?void 0:e.docList)==null?void 0:me.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})}),t.jsxs("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:[((p=e==null?void 0:e.docList)==null?void 0:p.doc_code)=="PHOTOGRAPH"&&t.jsx("p",{className:"whitespace-no-wrap",children:"NA"}),((g=e==null?void 0:e.docList)==null?void 0:g.doc_code)!="PHOTOGRAPH"&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((k=e==null?void 0:e.docList)==null?void 0:k.verify_status)==0&&t.jsx(t.Fragment,{children:"Pending"})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((le=e==null?void 0:e.docList)==null?void 0:le.verify_status)==1&&t.jsx(t.Fragment,{children:"Verified"})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((ee=e==null?void 0:e.docList)==null?void 0:ee.verify_status)==2&&t.jsx(t.Fragment,{children:"Rejected"})})]})]}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:He((ne=e==null?void 0:e.docList)==null?void 0:ne.remarks)})})]}),t.jsx(Fe,{isOpen:v,onAfterOpen:_,onRequestClose:xe,style:$a,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 bg-white md:ml-32 py-4 px-8 md:px-4 flex flex-col items-center justify-center gap-y-4 w-full md:w-[30vw] animate__animated animate__zoomIn animate__faster",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:xe,children:t.jsx(dt,{})}),t.jsxs("div",{className:"flex flex-wrap font-semibold gap-4 justify-center items-center",children:[t.jsx("span",{children:t.jsx(sa,{})}),C=="Verified"&&t.jsx("span",{children:"Verify Document ?"}),C=="Rejected"&&t.jsx("span",{children:"Reject Document ?"})]}),t.jsxs("div",{className:"flex flex-col flex-wrap gap-1 justify-center w-full px-4",children:[t.jsx("span",{className:"text-sm font-semibold",children:"Comment :"}),t.jsx("textarea",{type:"text",name:"docRemarks",id:"",className:"form-control block px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md text-xs",placeholder:"Enter your comments here...",rows:2,onChange:R=>o(R.target.value)})]}),t.jsxs("div",{className:"flex flex-wrap justify-center items-center px-6 md:px-10",children:[C=="Verified"&&t.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",onClick:()=>de(),children:"Verify"}),C=="Rejected"&&t.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",onClick:()=>de(),children:"Reject"})]})]})}),t.jsx(Fe,{isOpen:s,onAfterOpen:_,onRequestClose:xe,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 bg-white border-gray-200 md:ml-32 p-4 animate__animated animate__zoomIn animate__faster  w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:xe,children:t.jsx(dt,{})}),ce(j)?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[I=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:M,frameborder:"0"})}),I!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:M,alt:"",srcset:""})})})]}),t.jsx("div",{className:"absolute bottom-10 text-center left-[26.5vw] text-sm",children:((A=e==null?void 0:e.docList)==null?void 0:A.verify_status)==0&&t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{var R;return he("Verified",(R=e==null?void 0:e.docList)==null?void 0:R.id)},className:"flex-initial bg-green-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white text-black flex items-center",children:"Verify"}),t.jsx("button",{onClick:()=>{var R;return he("Rejected",(R=e==null?void 0:e.docList)==null?void 0:R.id)},className:"flex-initial bg-red-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black items-center flex",children:"Reject"})]})})]})})]})}const Va={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Fe.setAppElement("#root");function Wa(e){const{t:i}=lt(),[m,S]=l.useState(),[v,F]=l.useState(!1),[C,L]=l.useState(""),[$,o]=l.useState(""),[J,P]=l.useState(!1),[j,U]=l.useState(0),M=()=>F(!0),q=()=>F(!1),H=()=>{};l.useEffect(()=>{var W,X,te,xe;P(!0);let I={applicationId:e==null?void 0:e.id};Oe[(X=(W=e==null?void 0:e.api)==null?void 0:W.api_documentList)==null?void 0:X.method]((xe=(te=e==null?void 0:e.api)==null?void 0:te.api_documentList)==null?void 0:xe.url,I,Ue()).then(_=>{var he,fe,f;S((he=_==null?void 0:_.data)==null?void 0:he.data),e==null||e.setallDocumentVerifyStatus((f=(fe=_==null?void 0:_.data)==null?void 0:fe.message)==null?void 0:f.docVerifyStatus),P(!1)}).catch(_=>{P(!1)})},[j]);const V=(I,W)=>{L(I),o(W),M()};return t.jsxs(t.Fragment,{children:[J&&t.jsx(st,{}),t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsx("span",{})}),t.jsx("div",{className:"container mx-auto  max-w-3xl ml-0  px-1 py-1 shadow-lg rounded-lg",children:t.jsx("div",{className:"py-0",children:t.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:t.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"bg-sky-100",children:t.jsxs("tr",{className:"font-semibold",children:[t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentName.label")}),t.jsxs("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:[i("mainHoldingPage.propIndexDoVewVef.label"),t.jsx("div",{className:"font-normal text-xs",children:i("mainHoldingPage.propIndexDoClkVrfy.label")})]}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentRemark.label")})]})}),t.jsxs("tbody",{children:[(m==null?void 0:m.length)==0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"text-center",children:t.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg",children:"No Document Found !!"})})}),m==null?void 0:m.map((I,W)=>t.jsx(Ua,{activateBottomErrorCard:e==null?void 0:e.activateBottomErrorCard,api:e==null?void 0:e.api,openModal:V,id:e==null?void 0:e.id,docList:I,index:W,refresh:()=>U(j+1)}))]})]})})})})}),t.jsx(Fe,{isOpen:v,onAfterOpen:H,onRequestClose:q,style:Va,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-100 ml-32 p-4 animate__animated animate__zoomIn animate__faster",style:{width:"60vw",height:"80vh"},children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:q,children:t.jsx(dt,{})}),$=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:C,frameborder:"0"})}),$!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("img",{src:C,alt:"",srcset:""})})})]})}),t.jsx("div",{className:"w-full mt-20"})]})}const qa={content:{top:"50%",left:"52%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};Fe.setAppElement("#root");function Ja(e){var ie,K,d;const{t:i}=lt();l.useContext(yt);const[m,S]=l.useState(!1);l.useState(),l.useState(),l.useState();const[v,F]=l.useState(null),[C,L]=l.useState("");l.useState(null),l.useState(0);const[$,o]=l.useState(0),[J,P]=l.useState(!1);l.useState();const[j,U]=l.useState(""),[M,q]=l.useState(1),[H,V]=l.useState(0);l.useState(0);const[I,W]=l.useState(),[X,te]=l.useState(""),[xe,_]=l.useState(!0),[he,fe]=l.useState(!1);l.useState(null);const[f,s]=l.useState(),[O,ue]=l.useState(),[de,ce]=l.useState(""),[G,ae]=l.useState(null),[Z,T]=l.useState(null),[D,Pe]=l.useState(null),[Ye,ze]=l.useState(""),[_e,Ne]=l.useState([]),Te=l.useRef([]),be=l.useRef([]),re=l.useRef([]),je=l.useRef([]),[Qe,Ve]=l.useState(!1),[We,qe]=l.useState(!1),Ke=()=>qe(!0),ge=()=>{},ve=(a,r)=>{n(r),ae(a),V(H+1),P(!0),Ve(!0)},De=()=>{ae(null),fe(!1),Ve(!1),P(!1),qe(!1),q(M+1),Te.current=[],re.current=[],be.current=[],je.current=[]};l.useEffect(()=>{we()},[]);const we=()=>{var a,r,N,b;S(!0),Oe[(r=(a=e==null?void 0:e.api)==null?void 0:a.api_uploadDocumentShow)==null?void 0:r.method]((b=(N=e==null?void 0:e.api)==null?void 0:N.api_uploadDocumentShow)==null?void 0:b.url,{applicationId:e==null?void 0:e.id},Ue()).then(x=>{var h,c,u,B;(h=x==null?void 0:x.data)!=null&&h.status?(s((c=x==null?void 0:x.data)==null?void 0:c.data),e==null||e.setallDocumentUploadStatus((B=(u=x==null?void 0:x.data)==null?void 0:u.data)==null?void 0:B.docUploadStatus)):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),S(!1)}).catch(x=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),P(!1),S(!1)})},Je=kt({docId:Ot().required("Select document type"),docUpload:bt().required("Select document")}),ke=wt({initialValues:{docId:"",docUpload:"",docName:""},onSubmit:async a=>{Ee()},validationSchema:Je}),$e=(a,r,N)=>{var x,h;let b=a.target.files[0];te(a.target.name),W(URL.createObjectURL(a.target.files[0])),F(a.target.files[0]),r=="owner"?re.current[N]=(x=a.target.files[0])==null?void 0:x.name:je.current[N]=(h=a.target.files[0])==null?void 0:h.name,ke.setFieldValue("docUpload",URL.createObjectURL(a.target.files[0])),(b==null?void 0:b.name).substring((b==null?void 0:b.name).lastIndexOf(".")+1)=="pdf"?_(!1):_(!0)},Ee=(a,r,N)=>{var c,u,B,z;let b;N==="property"?b=be.current:b=Te.current;const x=b.map((E,y)=>y===r?E.value:"");if(x[r]===null||x[r]==="Select"||x[r]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${a}`),ae(null),T(null);return}if(x[r]===null||x[r]==="Select"||x[r]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${a}`),ae(null),T(null);return}if(N=="owner"&&(re.current[r]==null||re.current[r]==""||re.current[r]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`),re.current[r]=null;return}if(N=="property"&&(je.current[r]==null||je.current[r]==""||je.current[r]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`),je.current[r]=null;return}if(v==null){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`);return}if(!zt(v)){e==null||e.activateBottomErrorCard(!0,`File is too large for ${a}`),F(null);return}if((D==null?void 0:D.toLowerCase())=="others"&&de==""){e==null||e.activateBottomErrorCard(!0,`Document name is required for type ${a}`);return}let h=new FormData;e==null||e.id,x[r],(D==null?void 0:D.toLowerCase())=="others",h.append("applicationId",e==null?void 0:e.id),G!=null&&h.append("ownerId",G),h.append("docCode",x[r]),h.append("document",v),h.append("docName",a),h.append("docCategory",(D==null?void 0:D.toLowerCase())=="others"?de:D),v!=null?(De(),S(!0),Oe[(u=(c=e==null?void 0:e.api)==null?void 0:c.api_uploadDocument)==null?void 0:u.method]((z=(B=e==null?void 0:e.api)==null?void 0:B.api_uploadDocument)==null?void 0:z.url,h,St()).then(E=>{var y;(y=E==null?void 0:E.data)!=null&&y.status?(pe.success("Document Uploaded Successfully !!"),P(!1),L(""),F(""),S(!1),o($+1),te(""),ke.setFieldValue("docUpload",""),e.refresh(),ae(null),T(null),Pe(null),we()):e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),S(!1)}).catch(E=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),P(!1),S(!1)})):e==null||e.activateBottomErrorCard(!0,"Please select file")},Se=(a,r)=>{a==""&&pe.error("File not uploaded !!!"),a!=""&&(U(a),ze(r),Ke(),q(M+1))},Re=(a,r)=>{T(a.target.value),Pe(r)},n=a=>{let r=f==null?void 0:f.ownerDocs[a];ue(r)},w=a=>_e==null?void 0:_e.some(r=>r==a);return t.jsxs(t.Fragment,{children:[t.jsx(Ct,{position:"top-right",autoClose:2e3}),m&&t.jsx("div",{className:"inline",children:t.jsx(st,{})}),t.jsxs("div",{className:"overflow-x-auto ",children:[t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsxs("span",{children:[t.jsx("img",{src:ft,alt:"pin",className:"w-8 inline"})," ",i("mainHoldingPage.propIndexBoDocUp.label")]})}),t.jsxs("div",{className:"bg-white",children:[void 0,(f==null?void 0:f.ownerDocs)&&t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-10",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsx("h1",{className:"text-md font-semibold",children:i("mainHoldingPage.propIndexBtnOwnrDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.propIndexBtnApplImg.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.propertyApplicantNm.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.holdingOwnerGuardianName.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.holdingOwnerMobileNum.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.holdingAction.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(ie=f==null?void 0:f.ownerDocs)==null?void 0:ie.map((a,r)=>{var N,b,x,h,c,u,B,z,E,y,me;return t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center",children:[((N=a==null?void 0:a.ownerDetails)==null?void 0:N.uploadedDoc)!=""&&t.jsx("div",{className:"text-center cursor-pointer ",onClick:()=>{var p,g;return Se(`${(p=a==null?void 0:a.ownerDetails)==null?void 0:p.uploadedDoc}`,"jpg",(g=a==null?void 0:a.ownerDetails)==null?void 0:g.docId)},children:t.jsx("img",{src:w((b=a==null?void 0:a.ownerDetails)==null?void 0:b.docId)?et:`${(x=a==null?void 0:a.ownerDetails)==null?void 0:x.uploadedDoc}`,alt:"",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((h=a==null?void 0:a.ownerDetails)==null?void 0:h.uploadedDoc)==""&&t.jsx("span",{className:"text-red-500 font-semibold",children:"Not Uploaded"})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:Ze((c=a==null?void 0:a.ownerDetails)==null?void 0:c.name)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:Ze((u=a==null?void 0:a.ownerDetails)==null?void 0:u.guardian)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:Ze((B=a==null?void 0:a.ownerDetails)==null?void 0:B.mobile)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`font-medium ${((z=a==null?void 0:a.ownerDetails)==null?void 0:z.reqDocCount)===((E=a==null?void 0:a.ownerDetails)==null?void 0:E.uploadedDocCount)?"text-green-400":"text-red-400"}`,children:["Uploaded ",Ze((y=a==null?void 0:a.ownerDetails)==null?void 0:y.uploadedDocCount)," of ",Ze((me=a==null?void 0:a.ownerDetails)==null?void 0:me.reqDocCount)]})})}),t.jsx("td",{className:"py-3 px-6",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:!m&&t.jsx("button",{onClick:()=>{var p;return ve((p=a==null?void 0:a.ownerDetails)==null?void 0:p.ownerId,r)},type:"button",className:`px-4 py-1 ${da}`,children:i("mainHoldingPage.holdingView.label")})})})})]})})})]})})]})}),t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsx("h1",{className:"text-md font-semibold",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexDocUpld.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(K=f==null?void 0:f.listDocs)==null?void 0:K.map((a,r)=>{var N,b,x,h,c,u,B,z,E,y,me,p,g,k,le,ee,ne,A,R,Y,Ce,Ae,Le,Ie,Me,tt,Q,ye,at,nt,it,se,Be,ot,xt,ut;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:ke.handleSubmit,onChange:ke.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:r+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:ft,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:a==null?void 0:a.docName,children:[Ze(a==null?void 0:a.docName),((a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:(a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R"?t.jsx("span",{className:"font-semibold text-red-400",children:i("mainHoldingPage.propIndexDoRqrd.label")}):t.jsx("span",{children:i("mainHoldingPage.propIndexDoOptnl.label")})}),t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsxs("select",{ref:oe=>be.current[r]=oe,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(f==null?void 0:f.isCitizen)!=!0&&(f==null?void 0:f.isCitizen)!="true"),onChange:oe=>Re(oe,a==null?void 0:a.docName),children:[t.jsx("option",{value:null,selected:!0,children:i("mainHoldingPage.holdingSelectBtn.label")}),(N=a==null?void 0:a.masters)==null?void 0:N.map((oe,Ge)=>t.jsx("option",{value:oe==null?void 0:oe.documentCode,children:oe==null?void 0:oe.docVal}))]})}),((b=a==null?void 0:a.docName)==null?void 0:b.toLowerCase())=="others"&&(D==null?void 0:D.toLowerCase())=="others"&&t.jsx("input",{type:"text",name:"otherDocumentName",value:de,onChange:oe=>ce(oe.target.value),className:`${$t} capitalize m-1`,placeholder:"Enter document Name",required:!0})]})}),t.jsx("td",{className:"py-3 px-6 text-center relative",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var oe,Ge,It,Pt,_t,Bt,Ht;return Se(`${(oe=a==null?void 0:a.uploadedDoc)==null?void 0:oe.docPath}`,(Bt=(Ge=a==null?void 0:a.uploadedDoc)==null?void 0:Ge.docPath)==null?void 0:Bt.split(".")[((_t=(Pt=(It=a==null?void 0:a.uploadedDoc)==null?void 0:It.docPath)==null?void 0:Pt.split("."))==null?void 0:_t.length)-1],(Ht=a==null?void 0:a.uploadedDoc)==null?void 0:Ht.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((B=(x=a==null?void 0:a.uploadedDoc)==null?void 0:x.docPath)==null?void 0:B.split(".")[((u=(c=(h=a==null?void 0:a.uploadedDoc)==null?void 0:h.docPath)==null?void 0:c.split("."))==null?void 0:u.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(mt,{})}),((p=(z=a==null?void 0:a.uploadedDoc)==null?void 0:z.docPath)==null?void 0:p.split(".")[((me=(y=(E=a==null?void 0:a.uploadedDoc)==null?void 0:E.docPath)==null?void 0:y.split("."))==null?void 0:me.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>Ne(oe=>{var Ge;return[...oe,(Ge=a==null?void 0:a.uploadedDoc)==null?void 0:Ge.uploadedDocId]}),src:w((g=a==null?void 0:a.uploadedDoc)==null?void 0:g.uploadedDocId)?et:`${(k=a==null?void 0:a.uploadedDoc)==null?void 0:k.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((R=(le=a==null?void 0:a.uploadedDoc)==null?void 0:le.docPath)==null?void 0:R.split(".")[((A=(ne=(ee=a==null?void 0:a.uploadedDoc)==null?void 0:ee.docPath)==null?void 0:ne.split("."))==null?void 0:A.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>Ne(oe=>{var Ge;return[...oe,(Ge=a==null?void 0:a.uploadedDoc)==null?void 0:Ge.uploadedDocId]}),src:w((Y=a==null?void 0:a.uploadedDoc)==null?void 0:Y.uploadedDocId)?et:`${(Ce=a==null?void 0:a.uploadedDoc)==null?void 0:Ce.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((tt=(Ae=a==null?void 0:a.uploadedDoc)==null?void 0:Ae.docPath)==null?void 0:tt.split(".")[((Me=(Ie=(Le=a==null?void 0:a.uploadedDoc)==null?void 0:Le.docPath)==null?void 0:Ie.split("."))==null?void 0:Me.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>Ne(oe=>{var Ge;return[...oe,(Ge=a==null?void 0:a.uploadedDoc)==null?void 0:Ge.uploadedDocId]}),src:w((Q=a==null?void 0:a.uploadedDoc)==null?void 0:Q.uploadedDocId)?et:`${(ye=a==null?void 0:a.uploadedDoc)==null?void 0:ye.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((at=a==null?void 0:a.uploadedDoc)==null?void 0:at.verifyStatus)==0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((nt=a==null?void 0:a.uploadedDoc)==null?void 0:nt.verifyStatus)==1&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((it=a==null?void 0:a.uploadedDoc)==null?void 0:it.verifyStatus)==2&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoRjct.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(a==null?void 0:a.btcStatus)===!0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoRjct.label")})})]})}),t.jsx("td",{className:"py-3 px-6 text-center",children:((se=a==null?void 0:a.uploadedDoc)==null?void 0:se.remarks)==""||((Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):(ot=a==null?void 0:a.uploadedDoc)==null?void 0:ot.remarks}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:(f==null?void 0:f.isCitizen)!=!0&&(f==null?void 0:f.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc||e!=null&&e.isBtc&&((xt=a==null?void 0:a.uploadedDoc)==null?void 0:xt.verifyStatus)==2||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[void 0,t.jsx("div",{className:""}),((ut=a==null?void 0:a.uploadedDoc)==null?void 0:ut.verifyStatus)!=1?t.jsxs("div",{className:"mt-2",children:[void 0,!m&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"file",name:a==null?void 0:a.docName,onChange:oe=>$e(oe,"property",r),accept:(a==null?void 0:a.docName)==="Layout sanction Map"?".png, .jpg, .jpeg":".pdf, .png, .jpg, .jpeg",className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"}),t.jsx("button",{onClick:()=>Ee(a==null?void 0:a.docName,r,"property"),className:" px-4 py-1.5 bg-blue-400 text-white text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexDocUpld.label")})]})]}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoUplded.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})]})})]})}),t.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[t.jsx("div",{className:"md:pl-0"}),t.jsx("div",{className:"md:px-4 text-center"}),t.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),t.jsx(Fe,{isOpen:Qe,onRequestClose:De,style:qa,contentLabel:"Example Modal",children:t.jsxs("div",{class:"relative overflow-x-auto bg-white rounded-lg shadow-xl border-2 border-gray-50 animate__animated animate__zoomIn animate__faster",children:[t.jsx("div",{className:"absolute top-5 right-5 bg-red-200 hover:bg-red-300 rounded-full p-2 cursor-pointer",onClick:De,children:t.jsx(dt,{})}),t.jsx("div",{className:"flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsxs("div",{className:"font-semibold w-full flex",children:[t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("span",{className:"float-none",children:i("mainHoldingPage.propIndexDoUpldDoc.label")})})]}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.holdingAction.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(d=O==null?void 0:O.documents)==null?void 0:d.map((a,r)=>{var N,b,x,h,c,u,B,z,E,y,me,p,g,k,le,ee,ne,A,R,Y,Ce,Ae,Le,Ie,Me,tt,Q,ye,at,nt,it;return t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:r+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2 ",children:t.jsx("img",{src:ft,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",children:[Ze(a==null?void 0:a.docName),((a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:t.jsxs("select",{ref:se=>Te.current[r]=se,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(f==null?void 0:f.isCitizen)!=!0&&(f==null?void 0:f.isCitizen)!="true"),onChange:se=>Re(se,a==null?void 0:a.docName),children:[t.jsx("option",{value:null,children:i("mainHoldingPage.holdingSelectBtn.label")}),(N=a==null?void 0:a.masters)==null?void 0:N.map((se,Be)=>t.jsx("option",{value:se==null?void 0:se.documentCode,children:se==null?void 0:se.docVal}))]})})})})}),t.jsx("td",{className:"py-3 px-6 text-center",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var se,Be,ot,xt,ut,oe,Ge;return Se(`${(se=a==null?void 0:a.uploadedDoc)==null?void 0:se.docPath}`,(oe=(Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.docPath)==null?void 0:oe.split(".")[((ut=(xt=(ot=a==null?void 0:a.uploadedDoc)==null?void 0:ot.docPath)==null?void 0:xt.split("."))==null?void 0:ut.length)-1],(Ge=a==null?void 0:a.uploadedDoc)==null?void 0:Ge.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((u=(b=a==null?void 0:a.uploadedDoc)==null?void 0:b.docPath)==null?void 0:u.split(".")[((c=(h=(x=a==null?void 0:a.uploadedDoc)==null?void 0:x.docPath)==null?void 0:h.split("."))==null?void 0:c.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(mt,{})}),((me=(B=a==null?void 0:a.uploadedDoc)==null?void 0:B.docPath)==null?void 0:me.split(".")[((y=(E=(z=a==null?void 0:a.uploadedDoc)==null?void 0:z.docPath)==null?void 0:E.split("."))==null?void 0:y.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>Ne(se=>{var Be;return[...se,(Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.uploadedDocId]}),src:w((p=a==null?void 0:a.uploadedDoc)==null?void 0:p.uploadedDocId)?et:`${(g=a==null?void 0:a.uploadedDoc)==null?void 0:g.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((A=(k=a==null?void 0:a.uploadedDoc)==null?void 0:k.docPath)==null?void 0:A.split(".")[((ne=(ee=(le=a==null?void 0:a.uploadedDoc)==null?void 0:le.docPath)==null?void 0:ee.split("."))==null?void 0:ne.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>Ne(se=>{var Be;return[...se,(Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.uploadedDocId]}),src:w((R=a==null?void 0:a.uploadedDoc)==null?void 0:R.uploadedDocId)?et:`${(Y=a==null?void 0:a.uploadedDoc)==null?void 0:Y.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Me=(Ce=a==null?void 0:a.uploadedDoc)==null?void 0:Ce.docPath)==null?void 0:Me.split(".")[((Ie=(Le=(Ae=a==null?void 0:a.uploadedDoc)==null?void 0:Ae.docPath)==null?void 0:Le.split("."))==null?void 0:Ie.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>Ne(se=>{var Be;return[...se,(Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.uploadedDocId]}),src:w((tt=a==null?void 0:a.uploadedDoc)==null?void 0:tt.uploadedDocId)?et:`${(Q=a==null?void 0:a.uploadedDoc)==null?void 0:Q.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("span",{className:"text-red-500 font-semibold",children:i("mainHoldingPage.propIndexDoNtUplded.label")}):t.jsxs(t.Fragment,{children:[(a==null?void 0:a.docName)=="Photograph"&&t.jsx("p",{className:"whitespace-no-wrap"}),(a==null?void 0:a.docName)!="Photograph"&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((ye=a==null?void 0:a.uploadedDoc)==null?void 0:ye.verifyStatus)==0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((at=a==null?void 0:a.uploadedDoc)==null?void 0:at.verifyStatus)==1&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(a==null?void 0:a.btcStatus)===!0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoRjct.label")})})]})]})}),t.jsxs("td",{className:"py-3 px-6",children:[((nt=a==null?void 0:a.uploadedDoc)==null?void 0:nt.remarks)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):(it=a==null?void 0:a.uploadedDoc)==null?void 0:it.remarks,(a==null?void 0:a.uploadedDoc)==""&&t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")})]}),t.jsx("td",{className:"py-3 px-6",children:(f==null?void 0:f.isCitizen)!=!0&&(f==null?void 0:f.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{accept:r==0?".png,.jpg,.jpeg":".pdf,.png,.jpg,.jpeg",type:"file",onChange:se=>$e(se,"owner",r),className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36 cursor-pointer"})}),t.jsx("div",{className:"mt-2",children:!m&&t.jsx("button",{onClick:()=>Ee(a==null?void 0:a.docName,r,"owner"),type:"button",className:" px-6 py-1.5 bg-blue-400 text-white font-medium text-xs leading-tight capitalize rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexDocUpld.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})})]})})]})})]})}),t.jsx(Fe,{isOpen:We,onAfterOpen:ge,onRequestClose:De,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:De,children:t.jsx(dt,{})}),_e==!0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:i("mainHoldingPage.propIndexDoErr.label")}),t.jsx("div",{className:"pl-4",children:i("mainHoldingPage.propIndexDoNtVsbl.label")})]})}):t.jsxs(t.Fragment,{children:[Ye=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:j,frameborder:"0"})}),Ye!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:j,alt:"",srcset:"",className:""})})})]})]})}),t.jsx("h1",{className:"w-full mt-20"})]})}const Ga={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Fe.setAppElement("#root");function Ya(e){const[i,m]=l.useState(!1),[S,v]=l.useState([]),[F,C]=l.useState(!0),[L,$]=l.useState(),[o,J]=l.useState(),[P,j]=l.useState(0),[U,M]=l.useState(""),q=wt({initialValues:{remarks:"",document:""},onSubmit:s=>{if(s.remarks==""){pe.error("Please write some comment");return}H(s)}}),H=s=>{var ue,de,ce,G,ae,Z,T;let O=new FormData;O.append("applicationId",e==null?void 0:e.id),O.append("customFor",(ce=(de=(ue=e==null?void 0:e.applicationData)==null?void 0:ue.data)==null?void 0:de.timelineData)==null?void 0:ce.customFor),O.append("remarks",s.remarks),O.append("document",S),s.remarks==""&&L==null?pe.error("Please fill any field.."):(m(!0),Oe[(ae=(G=e==null?void 0:e.api)==null?void 0:G.api_postDepartmentalData)==null?void 0:ae.method]((T=(Z=e==null?void 0:e.api)==null?void 0:Z.api_postDepartmentalData)==null?void 0:T.url,O,St()).then(D=>{var Pe;(Pe=D==null?void 0:D.data)!=null&&Pe.status?(j(P+1),C(!0),pe.success("Message Submitted Successfully..."),q.resetForm()):e==null||e.activateBottomErrorCard(!0,"Some error occured while saving message. Please try again later."),m(!1)}).catch(D=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while saving message. Please try again later."),m(!1)}))},V=s=>{s.target.name=="document"&&(s.target.files[0],$(s.target.files[0]),v(s.target.files[0]))};l.useEffect(()=>{j(P+1)},[]),l.useEffect(()=>{var s,O,ue,de,ce,G,ae;(e==null?void 0:e.roleId)==11&&M("Back Office"),(e==null?void 0:e.roleId)==6&&M("Dealing Assistant"),m(!0),Oe[(O=(s=e==null?void 0:e.api)==null?void 0:s.api_getDepartmentalData)==null?void 0:O.method]((de=(ue=e==null?void 0:e.api)==null?void 0:ue.api_getDepartmentalData)==null?void 0:de.url,{applicationId:e==null?void 0:e.id,customFor:(ae=(G=(ce=e==null?void 0:e.applicationData)==null?void 0:ce.data)==null?void 0:G.timelineData)==null?void 0:ae.customFor},Ue()).then(Z=>{var T;m(!1),J((T=Z==null?void 0:Z.data)==null?void 0:T.data)}).catch(Z=>{m(!1)})},[P]);const[I,W]=l.useState(!1),[X,te]=l.useState(""),xe=()=>W(!0),_=()=>W(!1),he=()=>{},fe=s=>{te(s),xe()},f=s=>ba(s).format("lll");return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"container mx-auto ml-0  px-1 py-1 shadow-lg rounded-lg w-full",children:[i&&t.jsx("div",{className:"inline",children:t.jsx(st,{})}),F?t.jsxs("div",{className:"pb-4 visible text-xs text-gray-600 px-4 pt-2 w-full flex flex-col space-y-2 poppins",children:[t.jsx("div",{className:"flex md:flex-row flex-col w-full md:justify-end items-between mt-2 mb-4 ",children:t.jsx("div",{onClick:()=>C(!1),className:"cursor-pointer px-4 py-1.5 mx-6 rounded-sm bg-sky-400 text-white hover:bg-sky-500 shadow-lg text-xs",children:"Comment"})}),o<1&&t.jsx("div",{className:"flex justify-center items-center w-full",children:t.jsx("span",{className:"bg-red-100 px-4 py-1.5 rounded-sm shadow-sm",children:"👉Click comment to add comment on this application.👈"})}),t.jsx("div",{className:"w-full flex flex-wrap justify-evenly timeline-container text-xs text-gray-800 poppins",children:o==null?void 0:o.map(s=>{var O,ue,de,ce,G,ae,Z,T,D;return t.jsxs(t.Fragment,{children:[(s==null?void 0:s.type)=="text"&&(s==null?void 0:s.customFor)==((de=(ue=(O=e==null?void 0:e.applicationData)==null?void 0:O.data)==null?void 0:ue.timelineData)==null?void 0:de.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:U}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",f(s==null?void 0:s.date)]})]}),t.jsxs("div",{children:["Remarks : ",t.jsx("span",{className:"font-semibold",children:He(s==null?void 0:s.remarks)})," "]}),t.jsx("span",{className:"circle"})]})}),(s==null?void 0:s.type)=="file"&&(s==null?void 0:s.customFor)==((ae=(G=(ce=e==null?void 0:e.applicationData)==null?void 0:ce.data)==null?void 0:G.timelineData)==null?void 0:ae.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:U}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",He(s==null?void 0:s.date)]})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[t.jsxs("span",{className:"text-xs",children:["Document :"," "]}),t.jsx("div",{className:"font-semibold cursor-pointer text-2xl",onClick:()=>fe(s==null?void 0:s.docUrl),children:t.jsx(mt,{className:"bg-white rounded-lg shadow-xl"})})," "]}),t.jsx("span",{className:"circle"})]})}),(s==null?void 0:s.type)=="both"&&(s==null?void 0:s.customFor)==((D=(T=(Z=e==null?void 0:e.applicationData)==null?void 0:Z.data)==null?void 0:T.timelineData)==null?void 0:D.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:U}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",He(s==null?void 0:s.date)]})]}),t.jsxs("p",{children:["Remarks : ",t.jsx("span",{className:"font-semibold",children:He(s==null?void 0:s.remarks)})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[t.jsxs("span",{className:"text-xs",children:["Document :"," "]}),t.jsx("div",{className:"font-semibold cursor-pointer text-2xl",onClick:()=>fe(s==null?void 0:s.docUrl),children:t.jsx(mt,{className:"bg-white rounded-lg p-1 shadow-xl"})})," "]}),t.jsx("span",{className:"circle"})]})})]})})})]}):t.jsxs("form",{className:"pb-4 visible poppins",onSubmit:q.handleSubmit,children:[t.jsx("div",{onClick:()=>C(!0),className:"cursor-pointer px-4 py-1.5 mx-6 mt-4 rounded-sm bg-gray-400 text-white hover:bg-gray-500 shadow-lg text-xs w-max mb-4",children:"Comment List"}),t.jsxs("div",{className:"flex flex-wrap md:flex-row flex-col md:justify-evenly items-evenly space-y-2 ",children:[t.jsxs("div",{className:"flex flex-col  w-[40%] space-y-2 mb-2",children:[t.jsx("label",{htmlFor:"remarks",className:"text-zinc-500 capitalize text-xs font-semibold",children:"Remarks"}),t.jsx("textarea",{name:"remarks",onChange:q.handleChange,className:"bg-gray-100 text-xs border-2 border-gray-400 rounded-md px-4 py-2 shadow-md",placeholder:"Write your remarks here..."})]}),t.jsxs("div",{className:"flex flex-col w-[40%] space-y-2",children:[t.jsxs("label",{className:"text-zinc-500 capitalize text-xs font-semibold",htmlFor:"document",children:["Document :"," "]}),t.jsx("input",{accept:".pdf,.jpg,.jpeg",type:"file",name:"document",id:"document",onChange:V,className:"form-control block w-full px-3 py-1.5 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md "})]})]}),t.jsxs("div",{className:"flex md:flex-row flex-col md:justify-between items-between",children:[t.jsx("div",{}),t.jsx("button",{type:"submit",className:"px-4 py-1.5 mx-6 mt-4 rounded-lg bg-sky-400 hover:bg-sky-500 text-white shadow-lg text-xs",children:"Submit"})]})]})]}),t.jsx(Fe,{isOpen:I,onAfterOpen:he,onRequestClose:_,style:Ga,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 ml-32 px-0",style:{width:"60vw",height:"80vh"},children:[t.jsx("div",{className:"absolute top-10 bg-red-200 hover:bg-red-300 right-10 rounded-full p-2 cursor-pointer",onClick:_,children:t.jsx(ua,{})}),t.jsx("iframe",{className:"w-full h-full",src:X,frameborder:"0"})]})}),t.jsx("div",{className:"w-full mt-20"})]})}function Qa(e){var i,m,S,v,F,C,L,$;return l.useState(!1),l.useState(!1),l.useState(!0),l.useState([]),l.useState([]),t.jsx(t.Fragment,{children:t.jsxs("div",{class:"rounded-lg pt-4 z-50 w-full h-full",children:[t.jsxs("div",{className:"",children:[(v=(S=(m=(i=e==null?void 0:e.applicationData)==null?void 0:i.data)==null?void 0:m.fullDetailsData)==null?void 0:S.dataArray)==null?void 0:v.map(o=>{var J;return t.jsx("div",{className:"w-full md:w-[69vw] ",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 p-2 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"md:p-3  rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("div",{className:"tracking-wide flex-1",children:[t.jsx(Tt,{className:"inline font-semibold"})," ",Ze(o==null?void 0:o.headerTitle)]})}),t.jsx("div",{className:" rounded-lg  py-6 bg-sky-50 shadow-xl",children:t.jsx("div",{className:"grid grid-cols-10 space-y-2  pl-4 ",children:(J=o==null?void 0:o.data)==null?void 0:J.map(P=>t.jsxs("div",{className:"col-span-5 md:col-span-2 text-xs",children:[t.jsx("div",{className:"font-bold text-sm",children:Ze(P==null?void 0:P.value)}),t.jsx("div",{className:"text-gray-500 flex",children:Ze(P==null?void 0:P.displayString)})]}))})})]})})})})})}),($=(L=(C=(F=e==null?void 0:e.applicationData)==null?void 0:F.data)==null?void 0:C.fullDetailsData)==null?void 0:L.tableArray)==null?void 0:$.map(o=>{var J,P;return t.jsx("div",{className:"w-full md:w-[69vw] overflow-x-auto",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"px-1 md:p-3 rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("span",{className:"tracking-wide",children:[t.jsx(Tt,{className:"inline font-semibold"})," ",Ze(o==null?void 0:o.headerTitle)]})}),t.jsx(t.Fragment,{children:t.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-sky-50 shadow-xl",children:[t.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50 text-gray-600",children:t.jsx("tr",{children:(J=o==null?void 0:o.tableHead)==null?void 0:J.map(j=>t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:Ze(j)}))})}),t.jsx("tbody",{className:"text-sm",children:t.jsx(t.Fragment,{children:(P=o==null?void 0:o.tableData)==null?void 0:P.map((j,U)=>t.jsx("tr",{className:"bg-sky-50  border-b border-gray-200",children:j==null?void 0:j.map(M=>t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:Ze(M)}))}))})})]})})]})})})})})})]}),t.jsx("div",{className:"h-40 w-full"})]})})}Fe.setAppElement("#root");function Ka(e){var Re;const{t:i}=lt(),{notify:m,setDataID:S,dataID:v}=l.useContext(yt),[F,C]=l.useState(!1);l.useState(),l.useState(),l.useState();const[L,$]=l.useState(null),[o,J]=l.useState("");l.useState(null),l.useState(0);const[P,j]=l.useState(0),[U,M]=l.useState(!1);l.useState();const[q,H]=l.useState(""),[V,I]=l.useState(1);l.useState(0),l.useState(0);const[W,X]=l.useState(),[te,xe]=l.useState(""),[_,he]=l.useState(!0),[fe,f]=l.useState(!1);l.useState(null);const[s,O]=l.useState();l.useState();const[ue,de]=l.useState(""),[ce,G]=l.useState(null),[ae,Z]=l.useState(null),[T,D]=l.useState(null),[Pe,Ye]=l.useState(""),[ze,_e]=l.useState([]),Ne=l.useRef([]),Te=l.useRef([]),be=l.useRef([]),re=l.useRef([]),[je,Qe]=l.useState(!1),[Ve,We]=l.useState(!1),qe=()=>We(!0),Ke=()=>{},ge=()=>{G(null),f(!1),Qe(!1),M(!1),We(!1),I(V+1),Ne.current=[],be.current=[],Te.current=[],re.current=[]};l.useEffect(()=>{ve()},[]);const ve=()=>{var n,w,ie,K;C(!0),Oe[(w=(n=e==null?void 0:e.api)==null?void 0:n.api_getJahirNamaUploadList)==null?void 0:w.method]((K=(ie=e==null?void 0:e.api)==null?void 0:ie.api_getJahirNamaUploadList)==null?void 0:K.url,{applicationId:e==null?void 0:e.id},Ue()).then(d=>{var a,r,N,b;(a=d==null?void 0:d.data)!=null&&a.status?(O((r=d==null?void 0:d.data)==null?void 0:r.data),e==null||e.setallDocumentUploadStatus((b=(N=d==null?void 0:d.data)==null?void 0:N.data)==null?void 0:b.docUploadStatus)):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),C(!1)}).catch(d=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),M(!1),C(!1)})},De=kt({docId:Ot().required("Select document type"),docUpload:bt().required("Select document")}),we=wt({initialValues:{docId:"",docUpload:"",docName:"",generationDate:""},onSubmit:async n=>{ke()},validationSchema:De}),Je=(n,w,ie)=>{var d,a;let K=n.target.files[0];xe(n.target.name),X(URL.createObjectURL(n.target.files[0])),$(n.target.files[0]),w=="owner"?be.current[ie]=(d=n.target.files[0])==null?void 0:d.name:re.current[ie]=(a=n.target.files[0])==null?void 0:a.name,we.setFieldValue("docUpload",URL.createObjectURL(n.target.files[0])),(K==null?void 0:K.name).substring((K==null?void 0:K.name).lastIndexOf(".")+1)=="pdf"?he(!1):he(!0)},ke=(n,w,ie)=>{var r,N,b,x;let K;ie==="property"?K=Te.current:K=Ne.current;const d=K.map((h,c)=>c===w?h.value:"");if(d[w]===null||d[w]==="Select"||d[w]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${n}`),G(null),Z(null);return}if(d[w]===null||d[w]==="Select"||d[w]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${n}`),G(null),Z(null);return}if(ie=="owner"&&(be.current[w]==null||be.current[w]==""||be.current[w]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${n}`),be.current[w]=null;return}if(ie=="property"&&(re.current[w]==null||re.current[w]==""||re.current[w]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${n}`),re.current[w]=null;return}if(L==null){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${n}`);return}if(!zt(L)){e==null||e.activateBottomErrorCard(!0,`File is too large for ${n}`),$(null);return}if((T==null?void 0:T.toLowerCase())=="others"&&ue==""){e==null||e.activateBottomErrorCard(!0,`Document name is required for type ${n}`);return}let a=new FormData;e==null||e.id,d[w],(T==null?void 0:T.toLowerCase())=="others",a.append("applicationId",e==null?void 0:e.id),ce!=null&&a.append("ownerId",ce),a.append("docCode",d[w]),a.append("document",L),a.append("docName",n),a.append("docCategory",(T==null?void 0:T.toLowerCase())=="others"?ue:T),a.append("generationDate",we.values.generationDate),L!=null?(ge(),C(!0),Oe[(N=(r=e==null?void 0:e.api)==null?void 0:r.api_uploadJahirNama)==null?void 0:N.method]((x=(b=e==null?void 0:e.api)==null?void 0:b.api_uploadJahirNama)==null?void 0:x.url,a,St()).then(h=>{var c,u;(c=h==null?void 0:h.data)!=null&&c.status?(pe.success("Document Uploaded Successfully !!"),M(!1),J(""),$(""),C(!1),j(P+1),xe(""),we.setFieldValue("docUpload",""),e.refresh(),G(null),Z(null),D(null),ve(),S(!v)):e==null||e.activateBottomErrorCard(!0,(u=h.data)==null?void 0:u.message),C(!1)}).catch(h=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),M(!1),C(!1)})):e==null||e.activateBottomErrorCard(!0,"Please select file")},$e=(n,w)=>{n==""&&pe.error("File not uploaded !!!"),n!=""&&(H(n),Ye(w),qe(),I(V+1))},Ee=(n,w)=>{Z(n.target.value),D(w)},Se=n=>ze==null?void 0:ze.some(w=>w==n);return t.jsxs(t.Fragment,{children:[t.jsx(Ct,{position:"top-right",autoClose:2e3}),F&&t.jsx("div",{className:"inline",children:t.jsx(st,{})}),t.jsxs("div",{className:"overflow-x-auto ",children:[t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsxs("span",{children:[t.jsx("img",{src:ft,alt:"pin",className:"w-8 inline"})," ATS Jahirnama Upload"]})}),t.jsxs("div",{className:"bg-white",children:[void 0,void 0,t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full ",children:[t.jsx("h1",{className:"text-md font-semibold",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Uploaded On"}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Date"}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexDocUpld.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(Re=s==null?void 0:s.listDocs)==null?void 0:Re.map((n,w)=>{var ie,K,d,a,r,N,b,x,h,c,u,B,z,E,y,me,p,g,k,le,ee,ne,A,R,Y,Ce,Ae,Le,Ie,Me,tt;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:we.handleSubmit,onChange:we.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:w+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:ft,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:n==null?void 0:n.docName,children:[Ze(n==null?void 0:n.docName),((n==null?void 0:n.docType)=="OR"||(n==null?void 0:n.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{td:!0,className:"py-3 px-6 text-left whitespace-nowrap",children:(n==null?void 0:n.docType)=="OR"||(n==null?void 0:n.docType)=="R"?t.jsx("span",{className:"font-semibold text-red-400",children:i("mainHoldingPage.propIndexDoRqrd.label")}):t.jsx("span",{children:i("mainHoldingPage.propIndexDoOptnl.label")})}),t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsxs("select",{ref:Q=>Te.current[w]=Q,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(n!=null&&n.btcStatus)||!(e!=null&&e.isBtc)&&!(n!=null&&n.btcStatus)&&(n==null?void 0:n.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(s==null?void 0:s.isCitizen)!=!0&&(s==null?void 0:s.isCitizen)!="true"),onChange:Q=>Ee(Q,n==null?void 0:n.docName),children:[t.jsx("option",{value:null,selected:!0,children:i("mainHoldingPage.holdingSelectBtn.label")}),void 0,n==null?void 0:n.masters.map((Q,ye)=>t.jsx("option",{value:Q==null?void 0:Q.documentCode,children:Q==null?void 0:Q.docVal}))]})}),((ie=n==null?void 0:n.docName)==null?void 0:ie.toLowerCase())=="others"&&(T==null?void 0:T.toLowerCase())=="others"&&t.jsx("input",{type:"text",name:"otherDocumentName",value:ue,onChange:Q=>de(Q.target.value),className:`${$t} capitalize m-1`,placeholder:"Enter document Name",required:!0})]})}),void 0,t.jsx("td",{className:"py-3 px-6 text-center relative",children:(n==null?void 0:n.uploadedDoc)==null?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var Q,ye,at,nt,it,se,Be;return $e(`${(Q=n==null?void 0:n.uploadedDoc)==null?void 0:Q.doc_path}`,(se=(ye=n==null?void 0:n.uploadedDoc)==null?void 0:ye.doc_path)==null?void 0:se.split(".")[((it=(nt=(at=n==null?void 0:n.uploadedDoc)==null?void 0:at.doc_path)==null?void 0:nt.split("."))==null?void 0:it.length)-1],(Be=n==null?void 0:n.uploadedDoc)==null?void 0:Be.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((N=(K=n==null?void 0:n.uploadedDoc)==null?void 0:K.doc_path)==null?void 0:N.split(".")[((r=(a=(d=n==null?void 0:n.uploadedDoc)==null?void 0:d.doc_path)==null?void 0:a.split("."))==null?void 0:r.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(mt,{})}),((u=(b=n==null?void 0:n.uploadedDoc)==null?void 0:b.doc_path)==null?void 0:u.split(".")[((c=(h=(x=n==null?void 0:n.uploadedDoc)==null?void 0:x.doc_path)==null?void 0:h.split("."))==null?void 0:c.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(Q=>{var ye;return[...Q,(ye=n==null?void 0:n.uploadedDoc)==null?void 0:ye.uploadedDocId]}),src:Se((B=n==null?void 0:n.uploadedDoc)==null?void 0:B.uploadedDocId)?et:`${(z=n==null?void 0:n.uploadedDoc)==null?void 0:z.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((g=(E=n==null?void 0:n.uploadedDoc)==null?void 0:E.doc_path)==null?void 0:g.split(".")[((p=(me=(y=n==null?void 0:n.uploadedDoc)==null?void 0:y.doc_path)==null?void 0:me.split("."))==null?void 0:p.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(Q=>{var ye;return[...Q,(ye=n==null?void 0:n.uploadedDoc)==null?void 0:ye.uploadedDocId]}),src:Se((k=n==null?void 0:n.uploadedDoc)==null?void 0:k.uploadedDocId)?et:`${(le=n==null?void 0:n.uploadedDoc)==null?void 0:le.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Y=(ee=n==null?void 0:n.uploadedDoc)==null?void 0:ee.doc_path)==null?void 0:Y.split(".")[((R=(A=(ne=n==null?void 0:n.uploadedDoc)==null?void 0:ne.doc_path)==null?void 0:A.split("."))==null?void 0:R.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>_e(Q=>{var ye;return[...Q,(ye=n==null?void 0:n.uploadedDoc)==null?void 0:ye.uploadedDocId]}),src:Se((Ce=n==null?void 0:n.uploadedDoc)==null?void 0:Ce.uploadedDocId)?et:`${(Ae=n==null?void 0:n.uploadedDoc)==null?void 0:Ae.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),void 0,t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:((Le=n==null?void 0:n.uploadedDoc)==null?void 0:Le.generation_date)||"NA"}),t.jsx("td",{className:"py-3 px-6 text-center",children:((Ie=n==null?void 0:n.masters[0])==null?void 0:Ie.remarks)==""||((Me=n==null?void 0:n.masters[0])==null?void 0:Me.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):(tt=n==null?void 0:n.masters[0])==null?void 0:tt.remarks}),t.jsx("td",{className:"py-3 px-6 text-center text-xl",children:t.jsx("input",{type:"date",required:!0,name:"generationDate",className:"border-2 border-orange-400 font-semibold",...we.getFieldProps("generationDate")})}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:(s==null?void 0:s.isCitizen)!=!0&&(s==null?void 0:s.isCitizen)!="true"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{type:"file",name:n==null?void 0:n.docName,onChange:Q=>Je(Q,"property",w),accept:(n==null?void 0:n.docName)==="Layout sanction Map"?".png, .jpg, .jpeg":".pdf, .png, .jpg, .jpeg",className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"})}),t.jsx("div",{className:"mt-2",children:!F&&t.jsx("button",{onClick:()=>ke(n==null?void 0:n.docName,w,"property"),className:" px-4 py-1.5 bg-blue-400 text-white text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexDocUpld.label")})})]})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})]})})]})}),t.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[t.jsx("div",{className:"md:pl-0"}),t.jsx("div",{className:"md:px-4 text-center"}),t.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),t.jsx(Fe,{isOpen:Ve,onAfterOpen:Ke,onRequestClose:ge,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:ge,children:t.jsx(dt,{})}),ze==!0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:i("mainHoldingPage.propIndexDoErr.label")}),t.jsx("div",{className:"pl-4",children:i("mainHoldingPage.propIndexDoNtVsbl.label")})]})}):t.jsxs(t.Fragment,{children:[Pe=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:q,frameborder:"0"})}),Pe!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:q,alt:"",srcset:"",className:""})})})]})]})}),t.jsx("h1",{className:"w-full mt-20"})]})}const Xa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Fe.setAppElement("#modal");rt.node,rt.number.isRequired,rt.number.isRequired;function Za(e){var De,we,Je,ke,$e,Ee,Se,Re,n,w,ie,K,d,a,r,N,b,x,h,c,u,B,z,E,y,me,p;const{t:i}=lt(),[m,S]=l.useState(!1),[v,F]=l.useState(!0),[C,L]=l.useState(!1),[$,o]=l.useState(""),[J,P]=l.useState(),[j,U]=l.useState({}),[M,q]=l.useState({}),[H,V]=l.useState(0),[I,W]=l.useState({}),[X,te]=l.useState({}),[xe,_]=l.useState(0),[he,fe]=l.useState(0),[f,s]=l.useState(0),[O,ue]=l.useState(),[de,ce]=l.useState(0),[G,ae]=l.useState(),[Z,T]=l.useState(),[D,Pe]=l.useState(0),[Ye,ze]=l.useState(!1),[_e,Ne]=l.useState(null),Te=[11,6,5,7,9,10];function be(g){o(g),S(!0)}function re(){S(!1),e==null||e.fun(null,0)}const je=(g,k)=>{V(k),P(k)},Qe=(g,k)=>{pe.dismiss(),k=="escalated"&&pe.success(g),k=="de-escalated"&&pe.warn(g),k=="error"&&pe.error(g)};l.useEffect(()=>{We()},[e.id,he,(De=e==null?void 0:e.workflowInfo)==null?void 0:De.members]),l.useEffect(()=>{var g,k,le,ee;ue(e==null?void 0:e.id),Oe[(k=(g=e==null?void 0:e.api)==null?void 0:g.api_uploadDocumentShow)==null?void 0:k.method]((ee=(le=e==null?void 0:e.api)==null?void 0:le.api_uploadDocumentShow)==null?void 0:ee.url,{applicationId:e==null?void 0:e.id},Ue()).then(ne=>{var A;U((A=ne==null?void 0:ne.data)==null?void 0:A.data)}).catch(ne=>{})},[]),l.useEffect(()=>{var g,k,le,ee;ue(e==null?void 0:e.id),Oe[(k=(g=e==null?void 0:e.api)==null?void 0:g.api_getJahirNamaUploadList)==null?void 0:k.method]((ee=(le=e==null?void 0:e.api)==null?void 0:le.api_getJahirNamaUploadList)==null?void 0:ee.url,{applicationId:e==null?void 0:e.id},Ue()).then(ne=>{var A;q((A=ne==null?void 0:ne.data)==null?void 0:A.data)}).catch(ne=>{})},[]);const Ve=g=>{_(Te.indexOf(g))},We=()=>{var k,le,ee,ne;L(!0);const g=Ue();Oe[(le=(k=e==null?void 0:e.api)==null?void 0:k.api_details)==null?void 0:le.method]((ne=(ee=e==null?void 0:e.api)==null?void 0:ee.api_details)==null?void 0:ne.url,{applicationId:e==null?void 0:e.id},g).then(function(A){var R,Y,Ce,Ae,Le,Ie,Me,tt,Q,ye,at;W(A==null?void 0:A.data),qe((Ce=(Y=(R=A==null?void 0:A.data)==null?void 0:R.data)==null?void 0:Y.timelineData)==null?void 0:Ce.wfRoleId),Ve((Le=(Ae=A==null?void 0:A.data)==null?void 0:Ae.data)==null?void 0:Le.current_role),s((Me=(Ie=A==null?void 0:A.data)==null?void 0:Ie.data)==null?void 0:Me.current_role),ae((Q=(tt=A==null?void 0:A.data)==null?void 0:tt.data)==null?void 0:Q.doc_upload_status),T((at=(ye=A==null?void 0:A.data)==null?void 0:ye.data)==null?void 0:at.doc_verify_status),L(!1)}).catch(function(A){L(!1)})},qe=g=>{var ee;let le=((ee=e==null?void 0:e.workflowInfo)==null?void 0:ee.members.map((ne,A)=>ne==null?void 0:ne.role_id)).indexOf(g);ce(le)};if(e.id=="")return t.jsx(fa,{fun:e.fun,title:"No Application Selected !"});const Ke=g=>{P(g)},ge=g=>{Pe(g)},ve=(g,k)=>{Ne(k),ze(g)};return t.jsxs(t.Fragment,{children:[Ye&&t.jsx(ca,{activateBottomErrorCard:ve,errorTitle:_e}),C&&t.jsx(st,{}),t.jsx(Ct,{position:"top-right",autoClose:5e3}),t.jsxs("div",{className:"",children:[t.jsx("div",{className:"flex",children:(Je=(we=e==null?void 0:e.workflowInfo)==null?void 0:we.members)==null?void 0:Je.map((g,k)=>{var le,ee;return t.jsx("div",{children:t.jsx(Ta,{index:k+1,level:g==null?void 0:g.role_name,verificationStatus:k<de,last:k==((ee=(le=e==null?void 0:e.workflowInfo)==null?void 0:le.members)==null?void 0:ee.length)-1,active:k==de,backStatus:!1,btc:!1})},k)})}),t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDataCard",children:t.jsx(Ea,{boxType:e==null?void 0:e.boxType,permissions:(ke=e==null?void 0:e.workflowInfo)==null?void 0:ke.permissions,tabIndex:e==null?void 0:e.tabIndex,workflow:e==null?void 0:e.workflow,id:e==null?void 0:e.id,applicationData:I,index:Ke})}),t.jsxs("div",{className:" ",children:[t.jsxs("div",{className:"flex space-x-4 uppercase text-gray-600 text-sm pl-4 border-b border-gray-200 mb-6 w-full overflow-x-auto whitespace-nowrap",children:[t.jsx("div",{onClick:()=>ge(0),className:`pb-3 flex-initial cursor-pointer ${D==0?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnDtls.label")})}),(((Ee=($e=e==null?void 0:e.workflowInfo)==null?void 0:$e.permissions)==null?void 0:Ee.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>ge(1),className:`pb-3 flex-initial cursor-pointer ${D==1?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnVewDcmt.label")})}),((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>ge(2),className:`pb-3 flex-initial cursor-pointer ${D==2?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.holdingAction.label")})}),((Re=(Se=e==null?void 0:e.workflowInfo)==null?void 0:Se.permissions)==null?void 0:Re.can_upload_document)==!0&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>ge(3),className:`pb-3 flex-initial cursor-pointer ${D==3?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnUpldDcmt.label")})}),((w=(n=e==null?void 0:e.workflowInfo)==null?void 0:n.permissions)==null?void 0:w.can_verify_document)==!0&&(e==null?void 0:e.boxType)=="inbox"&&t.jsx("div",{onClick:()=>ge(4),className:`pb-3 flex-initial cursor-pointer ${D==4?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnVrfyDcmt.label")})}),((K=(ie=e==null?void 0:e.workflowInfo)==null?void 0:ie.permissions)==null?void 0:K.allow_free_communication)==!0&&t.jsx("div",{onClick:()=>ge(5),className:`pb-3 flex-initial cursor-pointer ${D==5?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnDprtComm.label")})}),void 0,((a=(d=e==null?void 0:e.workflowInfo)==null?void 0:d.permissions)==null?void 0:a.can_genrate_jahirnama)==!0&&t.jsx("div",{onClick:()=>ge(6),className:`pb-3 flex-initial cursor-pointer ${D==6?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:"Jahir Nama"})}),(e==null?void 0:e.customTabs)!=null&&t.jsx("div",{onClick:()=>ge(6),className:`pb-3 flex-initial cursor-pointer ${D==6?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnCstmTab.label")})})]}),t.jsxs(jt,{sx:{width:"100%"},children:[D==0&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowFullDetailsTab",children:t.jsx(Qa,{applicationData:I,id:O})}),D==1&&(((N=(r=e==null?void 0:e.workflowInfo)==null?void 0:r.permissions)==null?void 0:N.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentViewTab",children:t.jsx(Ra,{applicationData:I,api:e==null?void 0:e.api,id:O})}),D==2&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowActions",children:t.jsx(za,{allDocumentUploadStatus:G,allDocumentVerifyStatus:Z,handleChangeTabs:je,api:e==null?void 0:e.api,toast:Qe,assessmentType:e==null?void 0:e.assessmentType,permissions:(b=e==null?void 0:e.workflowInfo)==null?void 0:b.permissions,workflowInfo:e==null?void 0:e.workflowInfo,applicationData:I,setpropertyDetails:te,members:e.members,showTabFun:F,showTabs:v,openModal:be,id:O,setrefresh:fe,refresh:he,fun:e==null?void 0:e.fun,activateBottomErrorCard:ve})}),D==3&&((h=(x=e==null?void 0:e.workflowInfo)==null?void 0:x.permissions)==null?void 0:h.can_upload_document)==!0&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentUpload",children:t.jsx(Ja,{canUpload:e==null?void 0:e.canUpload,allDocumentUploadStatus:G,setallDocumentUploadStatus:ae,allDocumentVerifyStatus:Z,handleChangeTabs:je,api:e==null?void 0:e.api,id:O,applicationData:I,applicationData2:j,refresh:()=>fe(he+1),activateBottomErrorCard:ve,isBtc:(e==null?void 0:e.boxType)=="btcbox"})}),D==4&&((u=(c=e==null?void 0:e.workflowInfo)==null?void 0:c.permissions)==null?void 0:u.can_verify_document)==!0&&(e==null?void 0:e.boxType)=="inbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentVerify",children:t.jsx(Wa,{allDocumentUploadStatus:G,allDocumentVerifyStatus:Z,setallDocumentVerifyStatus:T,handleChangeTabs:je,api:e==null?void 0:e.api,id:O,activateBottomErrorCard:ve})}),D==5&&((z=(B=e==null?void 0:e.workflowInfo)==null?void 0:B.permissions)==null?void 0:z.allow_free_communication)==!0&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDepartmentalCommunication",children:t.jsx(Ya,{workflow:e==null?void 0:e.workflow,permissions:(E=e==null?void 0:e.workflowInfo)==null?void 0:E.permissions,applicationData:I,departmentalPost:(y=I==null?void 0:I.data)==null?void 0:y.departmentalPost,api:e==null?void 0:e.api,id:O,roleId:f,activateBottomErrorCard:ve})}),D==6&&(((p=(me=e==null?void 0:e.workflowInfo)==null?void 0:me.permissions)==null?void 0:p.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentViewTab",children:t.jsx(Ka,{canUpload:e==null?void 0:e.canUpload,allDocumentUploadStatus:G,setallDocumentUploadStatus:ae,allDocumentVerifyStatus:Z,handleChangeTabs:je,api:e==null?void 0:e.api,id:O,applicationData:I,applicationData3:M,refresh:()=>fe(he+1),activateBottomErrorCard:ve,isBtc:(e==null?void 0:e.boxType)=="btcbox"})})]})]})]}),t.jsx(Fe,{isOpen:m,onRequestClose:re,style:Xa,contentLabel:"Example Modal",children:t.jsxs("div",{style:{zIndex:1e4},class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[t.jsx("button",{onClick:re,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white"}),t.jsxs("div",{class:"p-6 text-center",children:[t.jsxs("div",{className:"w-full flex h-10",children:[" ",t.jsx("span",{className:`mx-auto text-${$=="Application Rejected Successfully"?"red":"green"}-500 text-xl font-semibold`,children:t.jsx(Mt,{size:30})})]}),t.jsx("h3",{className:`mb-5 text-lg font-semibold ${$=="Application Rejected Successfully"?"text-red-500":"text-green-600"} dark:text-gray-400`,children:$}),t.jsx("button",{type:"button",className:"text-white bg-green-400  hover:bg-sky-800 focus:ring-4 focus:outline-none focus:ring-sky-300 dark:focus:ring-sky-800 font-medium rounded-lg text-sm inline-flex items-center px-8 py-2.5 text-center mr-2",onClick:re,children:i("mainHoldingPage.propIndexDoPgBck.label")}),$!=="Application Rejected Successfully"?t.jsx("button",{className:"text-white bg-cyan-700  hover:bg-sky-800 focus:ring-4 focus:outline-none focus:ring-sky-300 dark:focus:ring-sky-800 font-medium rounded-lg text-sm inline-flex items-center px-8 py-2.5 text-center mr-2",children:t.jsx(ra,{to:`/holdingPropertyDetails/${X==null?void 0:X.propId}`,children:" View Property"})}):null]})]})})]})}function Nt(e){const{children:i,value:m,index:S,...v}=e;return t.jsx("div",{role:"tabpanel",hidden:m!==S,id:`simple-tabpanel-${S}`,"aria-labelledby":`simple-tab-${S}`,...v,children:m===S&&t.jsx(jt,{sx:{p:3},children:t.jsx(wa,{children:i})})})}Nt.propTypes={children:rt.node,index:rt.number.isRequired,value:rt.number.isRequired};function At(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function ol(e){var J,P,j,U,M,q,H;const{t:i}=lt();ma();const[m,S]=l.useState(0),[v,F]=l.useState(""),[C,L]=l.useState(""),$=(V,I)=>{S(I)},o=(V,I)=>{F(V),$(V,1),L(I)};return t.jsx(t.Fragment,{children:t.jsxs(jt,{sx:{width:"100%",paddingLeft:"20px"},children:[t.jsx(jt,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsxs(ja,{value:m,onChange:$,"aria-label":"basic tabs example",children:[t.jsx(Et,{label:`${i("mainHoldingPage.propIndexBtnLst.label")}`,...At(0)}),t.jsx(Et,{label:`${i("mainHoldingPage.propIndexBtnDtls.label")}`,...At(1)}),t.jsxs("div",{className:"text-right float-right absolute right-4 top-4 text-white justify-center flex gap-4",children:[(e==null?void 0:e.isSpecial)&&t.jsx("div",{className:" items-center",children:t.jsxs("span",{className:"bg-yellow-600 px-4 shadow-lg font-mono font-semibold italic rounded-l-xl",children:[" ",t.jsx(oa,{className:"inline text-red-100 animate-bounce"})," special"]})}),t.jsx("div",{})]})]})}),t.jsxs(Nt,{value:m,index:0,children:[e.boxType=="inbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowInboxList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(J=e==null?void 0:e.api)==null?void 0:J.api_inboxList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:o})}),e.boxType=="outbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowOutboxList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(P=e==null?void 0:e.api)==null?void 0:P.api_outboxList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:o})}),e.boxType=="specialbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowSpecialList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(j=e==null?void 0:e.api)==null?void 0:j.api_specialList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:o})}),e.boxType=="btcbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowBtcList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(U=e==null?void 0:e.api)==null?void 0:U.apt_btcList,boxType:e.boxType,COLUMNS:e==null?void 0:e.COLUMNS,fun:o})}),e.boxType=="fieldbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowFieldVerificationList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(M=e==null?void 0:e.api)==null?void 0:M.api_fieldVerificationList,boxType:e.boxType,COLUMNS:e==null?void 0:e.COLUMNS,fun:o})})]}),t.jsx(Nt,{value:m,index:1,children:t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowTabs",children:t.jsx(Za,{assessmentType:C,canUpload:(H=(q=e==null?void 0:e.workflowInfo)==null?void 0:q.permissions)==null?void 0:H.can_upload_document,tabIndex:e==null?void 0:e.tabIndex,workflow:e==null?void 0:e.workflow,workflowInfo:e==null?void 0:e.workflowInfo,api:e==null?void 0:e.api,fun:$,id:v,members:e.workflowCandidates,customTabs:e==null?void 0:e.customTabs,boxType:e.boxType,boxTypeFun:e.boxType=="outbox"})})})]})})}export{ol as P};
