import{j as e,aZ as I,W as d,af as S,u as R,Y as T,r as o,B as E,S as B,a$ as C,x as L,i as z,ae as M,A as k,g as U}from"./index-89110e36.js";function W(t){var v,a,s,f,c,h,g,l,w,x,y,j,N;return e.jsx("div",{children:e.jsxs("div",{className:"relative order-1 bg-sky-100 rounded-lg shadow-xl  px-6 py-4  h-40",children:[e.jsx("div",{className:"z-1 flex items-center bg-sky-400 shadow-xl w-6 h-6 rounded-full absolute top-0 left-0",children:e.jsx("h1",{className:"mx-auto font-semibold text-sm text-white",children:(t==null?void 0:t.index)+1})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{className:"inline-block h-12 w-12 rounded-full",src:I,alt:"Img"}),e.jsxs("span",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:d((v=t==null?void 0:t.data)==null?void 0:v.name)}),(t==null?void 0:t.agency)&&e.jsx("span",{className:"text-sm font-medium text-gray-500",children:d(((a=t==null?void 0:t.data)==null?void 0:a.commentedBy)=="SENIOR LIPIK"?"NAGAR RACHANA":(s=t==null?void 0:t.data)==null?void 0:s.commentedBy)})]})]}),((f=t==null?void 0:t.data)==null?void 0:f.commentedBy)!=="TAX SUPERITENDENT"&&e.jsx(e.Fragment,{children:(t==null?void 0:t.agency)&&e.jsxs("div",{className:"mb-1  ",children:[e.jsx("span",{className:"text-xs",children:"Forwarded to "}),e.jsx("span",{className:"bg-gray-500 text-white px-2 rounded-sm font-normal py-1 text-xs",children:d(((c=t==null?void 0:t.data)==null?void 0:c.forwarded_to)=="SENIOR LIPIK"?"NAGAR RACHANA":(h=t==null?void 0:t.data)==null?void 0:h.forwarded_to)})]})}),e.jsxs("p",{className:" leading-snug tracking-wide text-gray-800 text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Comment"})," : ",d((g=t==null?void 0:t.data)==null?void 0:g.message)," "]}),e.jsx("div",{children:e.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[e.jsx("span",{className:"text-blue-600",children:t!=null&&t.agency?"Received Date":"Date"})," : ",e.jsxs("span",{className:"font-semibold",children:[" ",d((l=t==null?void 0:t.data)==null?void 0:l.track_date)]})]})}),(t==null?void 0:t.agency)&&e.jsx("div",{children:e.jsx("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:((w=t==null?void 0:t.data)==null?void 0:w.commentedBy)=="TAX SUPERITENDENT"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-600",children:"Approved date"})," :",e.jsxs("span",{className:"font-semibold",children:[" ",S((y=(x=t==null?void 0:t.safApplicationDetails)==null?void 0:x.data)==null?void 0:y.approveDate)," "]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600",children:"Forward Date"})," :",e.jsxs("span",{className:"font-semibold",children:[" ",S((j=t==null?void 0:t.data)==null?void 0:j.forward_date)," ",d((N=t==null?void 0:t.data)==null?void 0:N.forward_time)]})]})})})})]})})}function H(){var b,u;const{id:t,tranId:v}=R(),{t:a}=T(),[s,f]=o.useState(),[c,h]=o.useState(),[g,l]=o.useState(!1),[w,x]=o.useState(!1),{getDocumentList:y,api_getStaticSafDetails:j,api_getSafDetailsById:N}=U(),A=()=>{l(!0);const m={headers:{Authorization:`Bearer ${window.localStorage.getItem("token")}`,Accept:"application/json"}};k.post(N,{applicationId:t},m).then(function(n){var r;(r=n==null?void 0:n.data)!=null&&r.status?h(n==null?void 0:n.data):x(!0),l(!1)}).catch(function(n){x(!0),l(!1)})},P=()=>{x(!1),l(!0);const m={headers:{Authorization:`Bearer ${window.localStorage.getItem("token")}`,Accept:"application/json"}};k.post(j,{applicationId:t},m).then(function(n){var r,_;(r=n==null?void 0:n.data)!=null&&r.status?f((_=n==null?void 0:n.data)==null?void 0:_.data):x(!0),l(!1)}).catch(function(n){x(!0),l(!1)})};return o.useEffect(()=>{P(),A()},[]),g?e.jsx(e.Fragment,{children:e.jsx(E,{})}):w?e.jsx(B,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsx("div",{children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container sm:mx-auto w-full",children:e.jsx("div",{className:"col-span-12 rounded-lg sm:p-4",children:(s==null?void 0:s.current_role_name2)!==""&&e.jsx("span",{className:"py-1 justify-center items-center font-semibold ",children:e.jsxs("span",{className:"bg-green-200 text-black px-4 py-1 flex justify-center items-center",children:[e.jsx(C,{className:"inline mr-2"}),a("mainSearchapplicationPage.currentlevel.label")," - ",(s==null?void 0:s.current_role_name2)=="Application pending at SENIOR LIPIK"?"Application pending at Nagar Rachana":s==null?void 0:s.current_role_name2]})})})}),e.jsx("div",{className:"p-2 md:p-4 ",children:e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[e.jsx(L,{className:"inline"})," ",a("mainSearchapplicationPage.basis.label")]}),e.jsxs("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:[e.jsxs("div",{className:"flex md:flex-row flex-col gap-y-2 md:space-x-5 pl-4 ",children:[e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:d(s==null?void 0:s.saf_no)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.applicationNo.label")})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-semibold text-lg",children:d(s==null?void 0:s.zone)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.zone.label")})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-semibold text-lg",children:d(s==null?void 0:s.old_ward_no)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.newwardno.label")})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-semibold text-md",children:d(s==null?void 0:s.ownership_type)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.ownershiptype.label")})]})]}),e.jsxs("div",{className:"flex md:flex-row flex-col gap-y-2 md:space-x-5 pl-4 ",children:[e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:d(s==null?void 0:s.holding_type)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.holdingtype.label")})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-md text-green-500 ",children:d(s==null?void 0:s.assessment_type)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.assessmentType.label")})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:d(s==null?void 0:s.property_type)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.propertytype.label")})]}),(s==null?void 0:s.assessment_type)==="Mutation"||(s==null?void 0:s.assessment_type)==="Direct Mutation"||(s==null?void 0:s.assessment_type)==="Bifurcation"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-md ",children:s==null?void 0:s.transfer_mode}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:"Transfer Mode"})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-md",children:z(s==null?void 0:s.sale_value)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:"Sale Value"})]})]}):null,e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsxs("div",{className:"md:w-auto w-[50%] font-bold text-md ",children:[d(s==null?void 0:s.category)," ",s==null?void 0:s.category_description]}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:"Category"})]})]}),e.jsxs("div",{className:"flex md:flex-row flex-col gap-y-2 md:space-x-5 pl-4 ",children:[(s==null?void 0:s.prop_type_mstr_id)==4&&e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:d(s==null?void 0:s.vacant_land_type)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:"Plot Category"})]}),(s==null?void 0:s.holding_no)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:d(s==null?void 0:s.holding_no)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.holdingNo.label")})]}),(s==null?void 0:s.assessment_type)=="Amalgamation"&&e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:e.jsx("div",{className:"flex gap-10",children:d((b=s==null?void 0:s.amalgamateProps)==null?void 0:b.map((i,m)=>e.jsxs("div",{className:"",children:[e.jsx("div",{children:e.jsx("button",{className:"text-white bg-blue-500 px-2 py-1 rounded-md hover:bg-blue-600",onClick:()=>openDialogModal2(i.id),title:"Click on the holding no. to view amalgamated holding details",children:i.holding_no})}),e.jsxs("div",{className:" text-gray-500 text-xs",children:["Amalgamated Holding No. ",m+1]})]})))})}),(s==null?void 0:s.apartment_code)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsxs("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:[d(s==null?void 0:s.apartment_name)," "]}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.apartmentname.label")})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsxs("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:[d(s==null?void 0:s.apartment_code)," "]}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:a("mainSearchapplicationPage.apartmentcode.label")})]})]})]}),e.jsxs("div",{className:"md:flex-1 md:block flex flex-row-reverse justify-between",children:[e.jsx("div",{className:"md:w-auto w-[50%] font-bold text-sm",children:M(s==null?void 0:s.application_date)}),e.jsx("div",{className:"md:w-auto w-[50%] text-gray-500 text-xs",children:"Application Date"})]})]})]})]})}),e.jsx("h1",{className:"px-1 font-semibold font-serif text-center text-gray-500",children:"Workflow Timeline"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 px-4 mt-4",children:[...((u=c==null?void 0:c.data)==null?void 0:u.levelComment)||[]].reverse().map((i,m)=>e.jsx(W,{agency:!0,data:i,index:m,safApplicationDetails:c},m+1))})]})})}export{H as default};
