import{r as s,cM as r,j as e,dR as L,az as M,dQ as R}from"./index-89110e36.js";function U(t){const[N,g]=s.useState("hidden"),y=s.useMemo(()=>t.columns,[]),P=s.useMemo(()=>t.dataList,[t.dataList,t==null?void 0:t.totalCount]),[l,x]=s.useState(1),[u,c]=s.useState(!0),[h,d]=s.useState(!0),[m,C]=s.useState(0);s.useEffect(()=>{x(1)},[t==null?void 0:t.totalCount]),s.useEffect(()=>{c(!0),d(!0);let a=(t==null?void 0:t.totalCount)/(t==null?void 0:t.perPage);(t==null?void 0:t.totalCount)%(t==null?void 0:t.perPage)!=0?f(parseInt(a)+1):f(parseInt(a)),i==l&&c(!1),(i==l||l==1)&&d(!1)},[t==null?void 0:t.totalCount,m]);const{getTableProps:B,getTableBodyProps:b,headerGroups:o,page:D,nextPage:H,previousPage:A,canNextPage:G,canPreviousPage:O,prepareRow:w,pageOptions:z,gotoPage:Q,pageCount:q,setPageSize:f,state:k,rows:F,setGlobalFilter:S}=r.useTable({columns:y,data:P,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{globalFilter:E,pageIndex:J,pageSize:i}=k,T=()=>{i!=l&&(x(l+1),d(!0),t.nextPage()),i==l&&c(!1)},I=()=>{l!=1&&(c(!0),x(l-1),t.prevPage()),l==1&&d(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex mb-2 pb-2",children:[e.jsx("div",{className:"flex-initial opacity-50",children:e.jsx(L,{filter:E,setFilter:S})}),e.jsx("div",{className:"flex-initial ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>g(""),onMouseLeave:()=>g("hidden"),onClick:t.exportDataF,children:["Export",e.jsx("div",{className:N+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(M,{})})]})}),e.jsx("div",{className:"flex-1",children:t.children})]}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"opacity-50",children:"Total Result : "}),e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.totalCount})," "]})}),(t==null?void 0:t.feedback)!=null&&e.jsx("div",{children:e.jsxs("span",{className:"text-xs bg-gray-200 opacity-50 pr-2 pl-1 py-1 rounded-sm",children:[e.jsx(R,{className:"inline text-xs text-gray-400 mr-2"}),t.feedback]})}),e.jsx("div",{className:" py-2 overflow-x-auto bg-white",children:e.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[e.jsxs("table",{...b,className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:o==null?void 0:o.map(a=>e.jsx("tr",{...a.getHeaderGroupProps(),children:a.headers.map(n=>e.jsxs("th",{...n.getHeaderProps(n.getSortByToggleProps()),className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase text-left",children:[n.render("Header"),e.jsx("span",{children:n.isSorted?n.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),e.jsxs("tbody",{...b(),className:"text-sm",children:[F.map((a,n)=>{var j;return w(a),e.jsx("tr",{...a.getRowProps(),className:"bg-white shadow-lg border-b border-gray-200",children:(j=a==null?void 0:a.cells)==null?void 0:j.map(v=>e.jsx("td",{...v.getCellProps(),className:"px-2 py-2 text-sm text-left",children:v.render("Cell")}))})}),e.jsx("tr",{children:e.jsx("td",{})})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-12",children:[e.jsxs("div",{className:"col-span-2",children:["  ",e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:m,onChange:a=>{C(Number(a.target.value)),t.perPageC(Number(a.target.value))},children:[5,10,25,50].map(a=>e.jsxs("option",{value:a,children:["show ",a]},a))})]}),e.jsxs("div",{className:"col-span-4 text-center col-start-5",children:["   ",e.jsxs("span",{children:["page ","",e.jsxs("strong",{children:[l," of ",i]}),""]})]}),e.jsxs("div",{className:"col-span-4 text-right",children:[e.jsx("button",{className:(h?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>I(),disabled:!h,children:"⬅️"}),e.jsx("button",{className:(u?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>T(),disabled:!u,children:"➡️"})]})]})]})})]})}export{U as L};
