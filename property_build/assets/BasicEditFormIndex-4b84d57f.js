import{r as o,q as ke,bk as nl,s as b,w as Fe,j as e,bo as Da,dp as Xa,bp as pe,bq as Ya,br as te,D as Ne,cZ as Ca,J as el,bw as il,b_ as ul,by as bl,bm as xl,bz as hl,e as al,N as fl,az as yl,a as Nl,u as gl,A as ne,b as ie,L as jl,S as vl,ad as _l,al as wl}from"./index-048babd9.js";function pl(a){var P,V,W,f,g,_,E,q,R,se,c,n,re,H,X,Y,I,C,de,U,G,D,K,J,ee,Z,O,L,T,x,$,u,B,r;const[F,A]=o.useState(!1),w=ke({addressCheckbox:nl(),khataNo:b().max(50,"Enter maximum 50 characters"),plotNo:b(),village_mauja:b(),plotArea:b(),roadWidth:b(),city:b(),district:b(),state:b(),pin:b().min(6,"Enter minimum 6 digit"),locality:b(),c_city:b().when("addressCheckbox",{is:!0,then:b()}),c_district:b().when("addressCheckbox",{is:!0,then:b()}),c_state:b().when("addressCheckbox",{is:!0,then:b()}),c_pin:b().when("addressCheckbox",{is:!0,then:b().min(6,"Enter minimum 6 digit")}),c_locality:b().when("addressCheckbox",{is:!0,then:b()}),buildingName:b(),streetName:b(),location2:b(),landmark:b()}),t=Fe({initialValues:{addressCheckbox:"",khataNo:"",plotNo:"",village_mauja:"",plotArea:"",roadWidth:"",city:"",district:"",state:"",pin:"",locality:"",c_city:"",c_district:"",c_state:"",c_pin:"",c_locality:"",buildingName:"",streetName:"",location2:"",landmark:""},onSubmit:(m,i)=>{a==null||a.setpropAddressDetails(m),a==null||a.setleveFormSubmitCount(3),a==null||a.submitSafForm()},validationSchema:w}),p=m=>{let i=m.target.name,y=m.target.value;i=="addressCheckbox"&&A(m.target.checked),i=="khataNo"&&t.setFieldValue("khataNo",Xa(y,t.values.khataNo,100)),i=="plotNo"&&t.setFieldValue("plotNo",Xa(y,t.values.plotNo,100)),i=="village_mauja"&&t.setFieldValue("village_mauja",pe(y,t.values.village_mauja,100)),i=="plotArea"&&t.setFieldValue("plotArea",Ya(y,t.values.plotArea,20)),i=="roadWidth"&&t.setFieldValue("roadWidth",Ya(y,t.values.roadWidth,20)),i=="city"&&t.setFieldValue("city",te(y,t.values.city,100)),i=="district"&&t.setFieldValue("district",te(y,t.values.district,100)),i=="state"&&t.setFieldValue("state",te(y,t.values.state,100)),i=="pin"&&t.setFieldValue("pin",Ne(y,t.values.pin,6)),i=="locality"&&t.setFieldValue("locality",Ca(y,t.values.locality,200)),i=="c_city"&&t.setFieldValue("c_city",te(y,t.values.c_city,100)),i=="c_district"&&t.setFieldValue("c_district",te(y,t.values.c_district,100)),i=="c_state"&&t.setFieldValue("c_state",te(y,t.values.c_state,100)),i=="c_pin"&&t.setFieldValue("c_pin",Ne(y,t.values.c_pin,6)),i=="c_locality"&&t.setFieldValue("c_locality",Ca(y,t.values.c_locality,200))};o.useEffect(()=>{h()},[a==null?void 0:a.existingPropertyDetails,a==null?void 0:a.safType]),o.useEffect(()=>{S()},[a==null?void 0:a.ulbLocation]),o.useEffect(()=>{(a==null?void 0:a.leveFormSubmitCount)==2&&t.handleSubmit()},[a==null?void 0:a.leveFormSubmitCount]);const[s,v]=o.useState(),S=()=>{var m,i,y;t.setFieldValue("city",(m=a==null?void 0:a.ulbLocation)==null?void 0:m.city_name),t.setFieldValue("state",(i=a==null?void 0:a.ulbLocation)==null?void 0:i.name),t.setFieldValue("district",(y=a==null?void 0:a.ulbLocation)==null?void 0:y.city_name)},h=()=>{var m,i,y,ue,ge,k,je,be,ce,xe,oe,he,ve,_e,fe,M,ae,ye,le;t.setFieldValue("khataNo",(m=a==null?void 0:a.propAddressDetails)==null?void 0:m.khataNo),t.setFieldValue("plotNo",(i=a==null?void 0:a.propAddressDetails)==null?void 0:i.plotNo),t.setFieldValue("village_mauja",(y=a==null?void 0:a.propAddressDetails)==null?void 0:y.village_mauja),t.setFieldValue("plotArea",(ue=a==null?void 0:a.propAddressDetails)==null?void 0:ue.plotArea),t.setFieldValue("roadWidth",(ge=a==null?void 0:a.propAddressDetails)==null?void 0:ge.roadWidth),t.setFieldValue("city",(k=a==null?void 0:a.propAddressDetails)==null?void 0:k.city),t.setFieldValue("district",(je=a==null?void 0:a.propAddressDetails)==null?void 0:je.district),t.setFieldValue("state",(be=a==null?void 0:a.propAddressDetails)==null?void 0:be.state),t.setFieldValue("pin",(ce=a==null?void 0:a.propAddressDetails)==null?void 0:ce.pin),t.setFieldValue("locality",(xe=a==null?void 0:a.propAddressDetails)==null?void 0:xe.locality),t.setFieldValue("c_city",(oe=a==null?void 0:a.propAddressDetails)==null?void 0:oe.c_city),t.setFieldValue("c_district",(he=a==null?void 0:a.propAddressDetails)==null?void 0:he.c_district),t.setFieldValue("c_state",(ve=a==null?void 0:a.propAddressDetails)==null?void 0:ve.c_state),t.setFieldValue("c_pin",(_e=a==null?void 0:a.propAddressDetails)==null?void 0:_e.c_pin),t.setFieldValue("c_locality",(fe=a==null?void 0:a.propAddressDetails)==null?void 0:fe.c_locality),t.setFieldValue("buildingName",(M=a==null?void 0:a.propAddressDetails)==null?void 0:M.buildingName),t.setFieldValue("streetName",(ae=a==null?void 0:a.propAddressDetails)==null?void 0:ae.streetName),t.setFieldValue("location2",(ye=a==null?void 0:a.propAddressDetails)==null?void 0:ye.location2),t.setFieldValue("landmark",(le=a==null?void 0:a.propAddressDetails)==null?void 0:le.landmark)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex md:pr-6 mt-6 mb-4",children:e.jsx("div",{class:"w-full",children:e.jsx("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("div",{class:"flex-1",children:e.jsx("div",{children:e.jsx("div",{class:"text-lg font-bold text-gray-700 leading-tight",children:"Property Address & Details"})})})})})}),e.jsx("div",{className:"block p-4 w-full md:py-6 rounded-lg shadow-lg bg-white mx-auto border border-gray-200",children:e.jsxs("form",{onSubmit:t.handleSubmit,onChange:p,children:[e.jsx(Da,{anchorId:"id_khata"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-5",children:[e.jsxs("div",{className:"form-group col-span-4 md:col-span-1 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Khata No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(P=s==null?void 0:s.khataNo)==null?void 0:P.readOnly,...t.getFieldProps("khataNo"),type:"text",className:`cypress_khata_no form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(V=s==null?void 0:s.khataNo)==null?void 0:V.style}`,placeholder:"Enter Khata No."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.khataNo&&t.errors.khataNo?t.errors.khataNo:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Plot No",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(W=s==null?void 0:s.plotNo)==null?void 0:W.readOnly,...t.getFieldProps("plotNo"),type:"text",className:`cypress_plot_no form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(f=s==null?void 0:s.plotNo)==null?void 0:f.style}`,placeholder:"Enter Plot No."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.plotNo&&t.errors.plotNo?t.errors.plotNo:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Village/Mauja Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(g=s==null?void 0:s.village_mauja)==null?void 0:g.readOnly,...t.getFieldProps("village_mauja"),type:"text",className:`cypress_village form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(_=s==null?void 0:s.village_mauja)==null?void 0:_.style}`,placeholder:"Enter Village/Mauja Name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.village_mauja&&t.errors.village_mauja?t.errors.village_mauja:null})]})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-5 justify-center items-center",children:[e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("small",{className:"mt-1 text-xs text-blue-400 inline md:px-4 font-mono text-center",children:"Basic Address"})]})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["City",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(E=s==null?void 0:s.city)==null?void 0:E.readOnly,...t.getFieldProps("city"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-norma text-gray-500 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 placeholder-gray-300 shadow-md bg-gray-200 ${(q=s==null?void 0:s.city)==null?void 0:q.style}`,placeholder:"Enter City"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.city&&t.errors.city?t.errors.city:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["District",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(R=s==null?void 0:s.district)==null?void 0:R.readOnly,...t.getFieldProps("district"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-norma ltext-gray-500 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 placeholder-gray-300 shadow-md bg-gray-200 ${(se=s==null?void 0:s.district)==null?void 0:se.style}`,placeholder:"Enter District"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.district&&t.errors.district?t.errors.district:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["State",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(c=s==null?void 0:s.state)==null?void 0:c.readOnly,...t.getFieldProps("state"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-norma text-gray-500 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 placeholder-gray-300 shadow-md bg-gray-200 ${(n=s==null?void 0:s.state)==null?void 0:n.style}`,placeholder:"Enter State"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.state&&t.errors.state?t.errors.state:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pin",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(re=s==null?void 0:s.pin)==null?void 0:re.readOnly,...t.getFieldProps("pin"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(H=s==null?void 0:s.pin)==null?void 0:H.style}`,placeholder:"Enter Pin no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.pin&&t.errors.pin?t.errors.pin:null})]}),!(a!=null&&a.apartmentStatus)&&e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Building Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(X=s==null?void 0:s.buildingName)==null?void 0:X.readOnly,...t.getFieldProps("buildingName"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(Y=s==null?void 0:s.buildingName)==null?void 0:Y.style}`,placeholder:"Enter Pin no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.buildingName&&t.errors.buildingName?t.errors.buildingName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Street Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(I=s==null?void 0:s.streetName)==null?void 0:I.readOnly,...t.getFieldProps("streetName"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(C=s==null?void 0:s.streetName)==null?void 0:C.style}`,placeholder:"Enter street name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.streetName&&t.errors.streetName?t.errors.streetName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Location",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(de=s==null?void 0:s.location2)==null?void 0:de.readOnly,...t.getFieldProps("location2"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(U=s==null?void 0:s.location2)==null?void 0:U.style}`,placeholder:"Enter location."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.location2&&t.errors.location2?t.errors.location2:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Landmark",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(G=s==null?void 0:s.landmark)==null?void 0:G.readOnly,...t.getFieldProps("landmark"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(D=s==null?void 0:s.landmark)==null?void 0:D.style}`,placeholder:"Enter landmark"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.landmark&&t.errors.landmark?t.errors.landmark:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-4 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Property Address (enter full postal address)",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(K=s==null?void 0:s.locality)==null?void 0:K.readOnly,...t.getFieldProps("locality"),type:"text",className:`cypress_address form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(J=s==null?void 0:s.locality)==null?void 0:J.style}`,placeholder:"Enter Property Address"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.locality&&t.errors.locality?t.errors.locality:null})]}),e.jsxs("div",{className:"form-group col-span-4 form-check mb-2 md:px-4",children:[e.jsx("input",{...t.getFieldProps("addressCheckbox"),type:"checkbox",className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer"}),e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("span",{className:"inline text-red-400 text-sm font-semibold",children:"Note : "}),e.jsx("small",{className:"mt-1 text-xs text-gray-600 inline",children:"If Corresponding Address Different from Property Address (Please Tick)"})]})]})]}),e.jsxs("div",{className:`col-span-4 ${F?"grid":"hidden"} grid-cols-1 md:grid-cols-4`,children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-5 justify-center items-center",children:[e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("small",{className:" mt-1 text-xs text-blue-400 inline md:px-4 font-mono text-center",children:"Corresponding Address"})]})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["City",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(ee=s==null?void 0:s.c_city)==null?void 0:ee.readOnly,...t.getFieldProps("c_city"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(Z=s==null?void 0:s.c_city)==null?void 0:Z.style}`,placeholder:"Enter City"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_city&&t.errors.c_city?t.errors.c_city:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["District",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(O=s==null?void 0:s.c_district)==null?void 0:O.readOnly,...t.getFieldProps("c_district"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(L=s==null?void 0:s.c_district)==null?void 0:L.style}`,placeholder:"Enter District"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_district&&t.errors.c_district?t.errors.c_district:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["State",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(T=s==null?void 0:s.c_state)==null?void 0:T.readOnly,...t.getFieldProps("c_state"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(x=s==null?void 0:s.c_state)==null?void 0:x.style}`,placeholder:"Enter State"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_state&&t.errors.c_state?t.errors.c_state:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pin",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:($=s==null?void 0:s.c_pin)==null?void 0:$.readOnly,...t.getFieldProps("c_pin"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(u=s==null?void 0:s.c_pin)==null?void 0:u.style}`,placeholder:"Enter Pin"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_pin&&t.errors.c_pin?t.errors.c_pin:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-4 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Address ",e.jsxs("span",{className:"font-normal",children:["(enter full postal address)",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]}),e.jsx("input",{disabled:(B=s==null?void 0:s.c_locality)==null?void 0:B.readOnly,...t.getFieldProps("c_c_locality"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(r=s==null?void 0:s.locality)==null?void 0:r.style}`,placeholder:"Enter Address"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_locality&&t.errors.c_locality?t.errors.c_locality:null})]})]})]})]})})]})}function kl(a){var U,G,D,K,J,ee,Z,O,L,T,x,$,u,B;const[F,A]=o.useState([]),[w,t]=o.useState([]),[p,s]=o.useState(),[v,S]=o.useState(!1),[h,P]=o.useState(null);o.useState("-translate-y-full -top-[800px]");const[V,W]=o.useState(!1);o.useState(!1),o.useState(!1),o.useContext(el);const[f,g]=o.useState(0),_=o.useRef(null),E=o.useRef(null),q=o.useRef(null),R=o.useRef(null),se=ke({ownerName:b().required("Enter owner name").max(500,"Enter maximum 500 characters"),guardianName:b().required("Enter guardian name"),relation:b().required("Select relation"),mobileNo:b().required("Enter mobile no.").min(10,"Enter 10 digit mobilen no"),aadhar:b().required("Enter aadhar no").min(12,"Enter 12 digit aadhar no."),pan:b().required("Enter PAN no.").min(10,"enter 10 digit PAN no."),email:b().required("Enter email address").min(11,"enter atleast 11 character")}),c=Fe({initialValues:{ownerName:"",guardianName:"",relation:"",mobileNo:"",aadhar:"",pan:"",email:""},onSubmit:(r,m)=>{if(v){X(),S(!1),P(null),m();return}[...F],A([...F,r]);let i=Y();t([...w,i]),a==null||a.setownerDetails([...F,r]),a==null||a.setownerDetailsPreview([...w,i]),I()},validationSchema:se}),[n,re]=o.useState();o.useEffect(()=>{H()},[a==null?void 0:a.existingPropertyDetails]);const H=()=>{var r,m;g((r=a==null?void 0:a.ownerDetails)==null?void 0:r.length),((m=a==null?void 0:a.ownerDetails)==null?void 0:m.length)!=0&&(A(a==null?void 0:a.ownerDetails),t(a==null?void 0:a.ownerDetailsPreview))},X=()=>{let r=[...F],m=[...w];m[h].ownerName=c.values.ownerName,m[h].guardianName=c.values.guardianName,m[h].relation=E.current.options[E.current.selectedIndex].innerHTML,m[h].mobileNo=c.values.mobileNo,m[h].aadhar=c.values.aadhar,m[h].pan=c.values.pan,m[h].email=c.values.email,r[h].ownerName=c.values.ownerName,r[h].guardianName=c.values.guardianName,r[h].relation=c.values.relation,r[h].mobileNo=c.values.mobileNo,r[h].aadhar=c.values.aadhar,r[h].pan=c.values.pan,r[h].email=c.values.email,A(r),t(m),a==null||a.setownerDetails(r),a==null||a.setownerDetailsPreview(m),S(!1),P(null),I()},Y=()=>({ownerName:c.values.ownerName,gender:_.current.options[_.current.selectedIndex].innerHTML,dob:c.values.dob,guardianName:c.values.guardianName,relation:E.current.options[E.current.selectedIndex].innerHTML,mobileNo:c.values.mobileNo,aadhar:c.values.aadhar,pan:c.values.pan,email:c.values.email,isArmedForce:q.current.options[q.current.selectedIndex].innerHTML,isSpeciallyAbled:R.current.options[R.current.selectedIndex].innerHTML}),I=()=>{W(!V)},C=r=>{S(!0),P(r);let m=[...F];c.resetForm(),c.initialValues.ownerName=m[r].ownerName,c.initialValues.gender=m[r].gender,c.initialValues.dob=m[r].dob,c.initialValues.guardianName=m[r].guardianName,c.initialValues.relation=m[r].relation,c.initialValues.mobileNo=m[r].mobileNo,c.initialValues.aadhar=m[r].aadhar,c.initialValues.pan=m[r].pan,c.initialValues.email=m[r].email,c.initialValues.isArmedForce=m[r].isArmedForce,c.initialValues.isSpeciallyAbled=m[r].isSpeciallyAbled,I()},de=r=>{let m=r.target.name,i=r.target.value;m=="ownerName"&&c.setFieldValue("ownerName",pe(i,c.values.ownerName,100)),m=="guardianName"&&c.setFieldValue("guardianName",pe(i,c.values.guardianName,100)),m=="mobileNo"&&c.setFieldValue("mobileNo",Ne(i,c.values.mobileNo,10)),m=="aadhar"&&c.setFieldValue("aadhar",Ne(i,c.values.aadhar,12)),m=="pan"&&c.setFieldValue("pan",xl(i,c.values.pan,10)),m=="email"&&c.setFieldValue("email",hl(i,c.values.email,100)),r.target.type=="select-one"?s({...p,[m]:r.target[r.target.selectedIndex].text}):s({...p,[m]:i})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex md:pr-6 mt-6 mb-4",children:e.jsx("div",{class:"w-full",children:e.jsx("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("div",{class:"flex-1",children:e.jsx("div",{children:e.jsx("div",{class:"text-lg font-bold text-gray-700 leading-tight",children:"Owner details"})})})})})}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"p-4 w-full md:py-4 md:px-0 md:pb-0 md:pt-0  md:w-full mx-auto overflow-x-auto",children:(w==null?void 0:w.length)!=0&&e.jsx(e.Fragment,{children:e.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Owner"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Guardian"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Relation"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"mobile No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Aadhar No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"PAN No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Email"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm",children:w==null?void 0:w.map((r,m)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:m+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.ownerName}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.guardianName}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.relation}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.mobileNo}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(r==null?void 0:r.aadhar)==""||(r==null?void 0:r.aadhar)==null?"N/A":r==null?void 0:r.aadhar}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(r==null?void 0:r.pan)==""||(r==null?void 0:r.pan)==null?"N/A":r==null?void 0:r.pan}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(r==null?void 0:r.email)==""||(r==null?void 0:r.email)==null?"N/A":r==null?void 0:r.email}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx(il,{onClick:()=>C(m),className:"inline text-green-500 font-semibold text-lg cursor-pointer hover:text-green-700 relative hover:scale-150"})})]})}))})]})})}),V&&e.jsx(e.Fragment,{children:e.jsx(ul,{children:e.jsx("div",{className:"transition-all block w-full mt-20  md:w-full mx-auto  z-50 ",children:e.jsx("form",{onSubmit:c.handleSubmit,onChange:de,className:"",children:e.jsx("div",{className:"grid grid-cols-12 pt-10",children:e.jsxs("div",{className:"md:col-start-4 col-span-12 md:col-span-6 grid grid-cols-12 bg-white relative p-10 shadow-xl",children:[e.jsx("button",{type:"button",onClick:()=>{P(null),S(!1),I()},children:e.jsx(bl,{className:"absolute top-5 right-5 text-red-500 text-3xl hover:scale-125"})}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold ",children:["Owner Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," "]}),e.jsx("input",{disabled:(U=n==null?void 0:n.ownerName)==null?void 0:U.readOnly,...c.getFieldProps("ownerName"),type:"text",className:`cypress_owner_name form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(G=n==null?void 0:n.ownerName)==null?void 0:G.style}`,"aria-describedby":"emailHelp",placeholder:"Enter owner name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.ownerName&&c.errors.ownerName?c.errors.ownerName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Guardian Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(D=n==null?void 0:n.guardianName)==null?void 0:D.readOnly,...c.getFieldProps("guardianName"),type:"text",className:`cypress_guardian_name form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(K=n==null?void 0:n.guardianName)==null?void 0:K.style}`,placeholder:"Enter guardian name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.guardianName&&c.errors.guardianName?c.errors.guardianName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Relation",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{disabled:(J=n==null?void 0:n.relation)==null?void 0:J.readOnly,ref:E,...c.getFieldProps("relation"),className:`cypress_relation form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md ${(ee=n==null?void 0:n.relation)==null?void 0:ee.style}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"S/O",children:"S/O"}),e.jsx("option",{value:"D/O",children:"D/O"}),e.jsx("option",{value:"W/O",children:"W/O"}),e.jsx("option",{value:"C/O",children:"C/O"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.relation&&c.errors.relation?c.errors.relation:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(Z=n==null?void 0:n.mobileNo)==null?void 0:Z.readOnly,...c.getFieldProps("mobileNo"),type:"text",className:`cypress_mobile form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(O=n==null?void 0:n.mobileNo)==null?void 0:O.style}`,placeholder:"Enter mobileNo no"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.mobileNo&&c.errors.mobileNo?c.errors.mobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Aadhar No",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(L=n==null?void 0:n.aadhar)==null?void 0:L.readOnly,...c.getFieldProps("aadhar"),type:"text",className:`cypress_aadhar form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(T=n==null?void 0:n.aadhar)==null?void 0:T.style}`,placeholder:"Enter aadhar no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.aadhar&&c.errors.aadhar?c.errors.aadhar:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["PAN No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(x=n==null?void 0:n.pan)==null?void 0:x.readOnly,...c.getFieldProps("pan"),type:"text",className:`cypress_pan form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${($=n==null?void 0:n.pan)==null?void 0:$.style}`,placeholder:"Enter pan no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.pan&&c.errors.pan?c.errors.pan:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Email",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(u=n==null?void 0:n.email)==null?void 0:u.readOnly,...c.getFieldProps("email"),type:"email",className:`cypress_email form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(B=n==null?void 0:n.email)==null?void 0:B.style}`,placeholder:"Enter email."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.email&&c.errors.email?c.errors.email:null})]}),e.jsx("div",{className:"form-group col-span-12 mb-2 md:px-4",children:e.jsxs("span",{className:"",children:["   ",e.jsx("span",{className:"text-black text-sm",children:"Note : "})," ",e.jsx("span",{className:"text-gray-500 text-sm",children:" In case of armed force or specially abled, you will need to upload related documents."})]})}),e.jsx("div",{className:" col-span-12 text-center mt-10",children:e.jsx("button",{type:"submit",className:"cypress_owner_add_update px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight capitalize rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Update Owner"})})]})})})})})}),e.jsx("div",{className:"col-span-12 grid grid-cols-12 mt-10",children:e.jsx("div",{className:" text-right col-span-6",children:e.jsx("button",{onClick:()=>a==null?void 0:a.setleveFormSubmitCount(1),className:"cypress_next6_button px-6 py-2.5 bg-indigo-600 text-white font-medium text-sm leading-tight  rounded shadow-xl hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"})})})]})]})}function Fl(a){var P,V,W;al(),o.useState(),o.useState([]);const[F,A]=o.useState({mobileTowerStatus:"0",hoardingStatus:"0",petrolPumpStatus:"0",waterHarvestingStatus:"0"}),w=ke({newWardNo:b()}),p=Fe({initialValues:{newWardNo:""},enableReinitialize:!0,onSubmit:(f,g)=>{a==null||a.setbasicDetails(f),a==null||a.setbasicDetailsPreview(F),a==null||a.setleveFormSubmitCount(2)},validationSchema:w});o.useEffect(()=>{(a==null?void 0:a.leveFormSubmitCount)==1&&p.handleSubmit()},[a==null?void 0:a.leveFormSubmitCount]);const s=f=>{let g=f.target.name,_=f.target.value;g=="wardNo"&&(a==null||a.fetchNewWardByOldWard(_)),f.target.type=="select-one"?A({...F,[g]:f.target[f.target.selectedIndex].text}):A({...F,[g]:_})},[v,S]=o.useState();o.useEffect(()=>{h()},[a==null?void 0:a.existingPropertyDetails]),o.useEffect(()=>{var f;p.setFieldValue("newWardNo",(f=a==null?void 0:a.basicDetails)==null?void 0:f.newWardNo)},[a==null?void 0:a.newWardList]);const h=()=>{var f;a==null||a.fetchNewWardByOldWard((f=a==null?void 0:a.basicDetails)==null?void 0:f.wardNo),A(a==null?void 0:a.basicDetailsPreview)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex md:pr-6",children:e.jsx("div",{class:"py-4 w-full",children:e.jsx("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("div",{class:"flex-1",children:e.jsx("div",{children:e.jsx("div",{class:"text-lg font-bold text-gray-700 leading-tight",children:"Basic Details"})})})})})}),e.jsx("div",{className:"block md:p-4 w-full md:py-2 rounded-lg mx-auto  shadow-xl bg-white",children:e.jsxs("form",{onChange:s,onSubmit:p.handleSubmit,children:[e.jsx(Da,{anchorId:"my-element"}),e.jsx("div",{className:"grid grid-cols-12  space-x-2",children:e.jsx("div",{className:"col-span-12  grid grid-cols-12 md:px-2  md:py-4 rounded-lg py-6",children:e.jsxs("div",{className:"form-group col-span-12 md:col-span-3 mb-4 ",children:[e.jsxs("div",{children:[" ",e.jsxs("label",{className:"form-label text-xs mb-1 text-gray-400  font-semibold flex items-center",children:[e.jsx(fl,{className:"inline"}),"Select old ward to get new ward list"]})]}),e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["New Ward No",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{disabled:(P=v==null?void 0:v.newWardNo)==null?void 0:P.readOnly,...p.getFieldProps("newWardNo"),className:`${yl} cursor-pointer cypress_new_ward ${(V=v==null?void 0:v.newWardNo)==null?void 0:V.style}`,children:[e.jsx("option",{value:"",children:"Select"}),(W=a==null?void 0:a.newWardList)==null?void 0:W.map(f=>e.jsx("option",{value:f.id,children:f.ward_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:p.touched.newWardNo&&p.errors.newWardNo?p.errors.newWardNo:null})]})})})]})})]})}function Al(){const{api_getMasterData:a,api_getHoldingDetails:F,api_getLocationByUlbAdmin:A,api_reviewCalculation:w,api_boEdit:t,api_newWardByOldWard:p,api_editPropertyDetails:s}=wl(),{notify:v}=o.useContext(el),S=al();o.useState(1);const[h,P]=o.useState();o.useState(),o.useState(!1);const[V,W]=o.useState(!1);o.useState("");const[f,g]=o.useState(!1),[_,E]=o.useState(),[q,R]=o.useState(),[se,c]=o.useState([]);o.useState(!1),o.useState(!1),o.useState(null);const[n,re]=o.useState(""),[H,X]=o.useState(!1),[Y,I]=o.useState(null),[C,de]=o.useState(),[U,G]=o.useState(),[D,K]=o.useState(),[J,ee]=o.useState(),[Z,O]=o.useState(!1),[L,T]=o.useState(!1),[x,$]=o.useState(null),[u,B]=o.useState(null);o.useState(null);const[r,m]=o.useState([]),[i,y]=o.useState([]),[ue,ge]=o.useState([]),[k,je]=o.useState({mobileTowerStatus:0,hoardingStatus:0,petrolPumpStatus:0,waterHarvestingStatus:0}),[be,ce]=o.useState(null),[xe,oe]=o.useState([]),[he,ve]=o.useState([]);o.useState([]),o.useState(null);const[_e,fe]=o.useState(0),[M,ae]=o.useState(0);Nl("Property Basic Edit");const ye=o.useRef(null);let le="mu";const ll=l=>{let N={oldWardMstrId:l};ne.post(p,N,ie()).then(function(j){G(j.data.data)}).catch(function(j){})};let tl="NEW ASSESSMENT";const{propId:Pe}=gl(),sl=()=>({ulbId:x==null?void 0:x.ulbId,assessmentType:"1",landOccupationDate:x==null?void 0:x.landOccupationDate,ward:x==null?void 0:x.wardNo,newWard:x==null?void 0:x.newWardNo,ownershipType:x==null?void 0:x.ownerShiptype,propertyType:x==null?void 0:x.propertyType,zone:k.zone,isMobileTower:k.mobileTowerStatus,mobileTower:{area:k.mobileTowerArea,dateFrom:k.mobileTowerDate},isHoardingBoard:k.hoardingStatus,hoardingBoard:{area:k.hoardingArea,dateFrom:k.hoardingDate},isPetrolPump:k.petrolPumpStatus,petrolPump:{area:k.petrolPumpArea,dateFrom:k.petrolPumpDate},isWaterHarvesting:k.waterHarvestingStatus,roadType:u.roadWidth,areaOfPlot:u.plotArea,owner:r,floor:ue}),Ae=()=>{g(!0),O(!1);let l;u.addressCheckbox?l={corrAddress:u.c_locality,corrCity:u.c_city,corrDist:u.c_district,corrState:u.c_state,corrPinCode:u.c_pin}:l={corrAddress:u.locality,corrCity:u.city,corrDist:u.district,corrState:u.state,corrPinCode:u.pin};let N,j=sl();N={propertyId:Pe,newWardMstrId:j.newWard,buildingName:u.buildingName,streetName:u.streetName,location:u.location2,landmark:u.landmark,khataNo:u.khataNo,plotNo:u.plotNo,villageMauja:u.village_mauja,pinCode:u==null?void 0:u.pin,address:u==null?void 0:u.locality,corrPin:l==null?void 0:l.corrPinCode,corrAddress:l==null?void 0:l.corrAddress,owner:j==null?void 0:j.owner},ne.post(s,N,ie()).then(function(Q){var me;(me=Q==null?void 0:Q.data)!=null&&me.status?(v("Property Details has been updated successfully !!","success"),T(!0)):v("Network is busy, Please try again after some time","error"),g(!1)}).catch(function(Q){O(!0),T(!1),g(!1)})};o.useEffect(()=>{Oe(),rl(),dl()},[]),o.useEffect(()=>{M==3&&Ae()},[M]);const rl=()=>{ne.get(`${a}`,ie()).then(function(l){P(l.data.data)}).catch(function(l){})},dl=()=>{g(!0),O(!1);let l={propertyId:Pe};ne.post(F,l,ie()).then(function(N){var j;(j=N==null?void 0:N.data)!=null&&j.data?(E(N),cl(N)):O(!0),g(!1)}).catch(function(N){O(!0),g(!1)})},cl=l=>{var N,j,Q,me,Ve,Ee,Se,We,Ie,Le,Te,$e,Be,Me,ze,qe,Re,He,Ue,Ge,Ke,Je,Ze,Qe,Xe,Ye,Ce,De,ea,aa,la,ta,sa,ra,da,ca,oa,ma,na,ia,ua,ba,xa,ha,fa,ya,Na,ga,ja,va,_a,wa,pa,ka,Fa,Pa,Aa,Oa,Va,Ea,Sa,Wa,Ia,La,Ta,$a,Ba,Ma,za,qa,Ra,Ha,Ua,Ga,Ka,Ja,Za,Qa;if(c((j=(N=l==null?void 0:l.data)==null?void 0:N.data)==null?void 0:j.holding_no.split(",")),$({ulbId:(me=(Q=l==null?void 0:l.data)==null?void 0:Q.data)==null?void 0:me.ulb_id,wardNo:(Ee=(Ve=l==null?void 0:l.data)==null?void 0:Ve.data)==null?void 0:Ee.ward_mstr_id,newWardNo:(We=(Se=l==null?void 0:l.data)==null?void 0:Se.data)==null?void 0:We.new_ward_mstr_id,ownerShiptype:(Le=(Ie=l==null?void 0:l.data)==null?void 0:Ie.data)==null?void 0:Le.ownership_type_mstr_id,propertyType:($e=(Te=l==null?void 0:l.data)==null?void 0:Te.data)==null?void 0:$e.prop_type_mstr_id,landOccupationDate:(Me=(Be=l==null?void 0:l.data)==null?void 0:Be.data)==null?void 0:Me.landOccupationDate,apartment:(qe=(ze=l==null?void 0:l.data)==null?void 0:ze.data)==null?void 0:qe.apartment}),ce({ulbId:(He=(Re=l==null?void 0:l.data)==null?void 0:Re.data)==null?void 0:He.ulb_id,wardNo:(Ge=(Ue=l==null?void 0:l.data)==null?void 0:Ue.data)==null?void 0:Ge.ward_mstr_id,newWardNo:(Je=(Ke=l==null?void 0:l.data)==null?void 0:Ke.data)==null?void 0:Je.new_ward_mstr_id,ownerShiptype:(Qe=(Ze=l==null?void 0:l.data)==null?void 0:Ze.data)==null?void 0:Qe.ownership_type,propertyType:(Ye=(Xe=l==null?void 0:l.data)==null?void 0:Xe.data)==null?void 0:Ye.property_type,landOccupationDate:(De=(Ce=l==null?void 0:l.data)==null?void 0:Ce.data)==null?void 0:De.landOccupationDate,apartment:(aa=(ea=l==null?void 0:l.data)==null?void 0:ea.data)==null?void 0:aa.apartment}),B({khataNo:(ta=(la=l==null?void 0:l.data)==null?void 0:la.data)==null?void 0:ta.khata_no,plotNo:(ra=(sa=l==null?void 0:l.data)==null?void 0:sa.data)==null?void 0:ra.plot_no,village_mauja:(ca=(da=l==null?void 0:l.data)==null?void 0:da.data)==null?void 0:ca.village_mauja_name,plotArea:(ma=(oa=l==null?void 0:l.data)==null?void 0:oa.data)==null?void 0:ma.area_of_plot,roadWidth:(ia=(na=l==null?void 0:l.data)==null?void 0:na.data)==null?void 0:ia.road_width,city:(ba=(ua=l==null?void 0:l.data)==null?void 0:ua.data)==null?void 0:ba.prop_city,district:(ha=(xa=l==null?void 0:l.data)==null?void 0:xa.data)==null?void 0:ha.prop_dist,state:(ya=(fa=l==null?void 0:l.data)==null?void 0:fa.data)==null?void 0:ya.prop_state,pin:(ga=(Na=l==null?void 0:l.data)==null?void 0:Na.data)==null?void 0:ga.prop_pin_code,locality:(va=(ja=l==null?void 0:l.data)==null?void 0:ja.data)==null?void 0:va.prop_address,c_city:(wa=(_a=l==null?void 0:l.data)==null?void 0:_a.data)==null?void 0:wa.corr_city,c_district:(ka=(pa=l==null?void 0:l.data)==null?void 0:pa.data)==null?void 0:ka.corr_dist,c_state:(Pa=(Fa=l==null?void 0:l.data)==null?void 0:Fa.data)==null?void 0:Pa.corr_state,c_pin:(Oa=(Aa=l==null?void 0:l.data)==null?void 0:Aa.data)==null?void 0:Oa.corr_pin_code,c_locality:(Ea=(Va=l==null?void 0:l.data)==null?void 0:Va.data)==null?void 0:Ea.corr_address,buildingName:(Wa=(Sa=l==null?void 0:l.data)==null?void 0:Sa.data)==null?void 0:Wa.building_name,streetName:(La=(Ia=l==null?void 0:l.data)==null?void 0:Ia.data)==null?void 0:La.street_name,location2:($a=(Ta=l==null?void 0:l.data)==null?void 0:Ta.data)==null?void 0:$a.location,landmark:(Ma=(Ba=l==null?void 0:l.data)==null?void 0:Ba.data)==null?void 0:Ma.landmark}),((Ra=(qa=(za=l==null?void 0:l.data)==null?void 0:za.data)==null?void 0:qa.owners)==null?void 0:Ra.length)!=0){fe((Ga=(Ua=(Ha=l==null?void 0:l.data)==null?void 0:Ha.data)==null?void 0:Ua.owners)==null?void 0:Ga.length);let ol=(Ja=(Ka=l==null?void 0:l.data)==null?void 0:Ka.data)==null?void 0:Ja.owners.map(d=>{let z,we;return d!=null&&d.is_armed_force&&(z="1"),(d==null?void 0:d.is_armed_force)==!1&&(z="0"),d!=null&&d.is_specially_abled&&(we="1"),(d==null?void 0:d.is_specially_abled)==!1&&(we="0"),{ownerId:d==null?void 0:d.id,ownerName:d==null?void 0:d.owner_name,gender:d==null?void 0:d.gender,dob:d==null?void 0:d.dob,guardianName:d==null?void 0:d.guardian_name,relation:d==null?void 0:d.relation_type,mobileNo:d==null?void 0:d.mobile_no,aadhar:d==null?void 0:d.aadhar_no,pan:d==null?void 0:d.pan_no,email:d==null?void 0:d.email,isArmedForce:z,isSpeciallyAbled:we}}),ml=(Qa=(Za=l==null?void 0:l.data)==null?void 0:Za.data)==null?void 0:Qa.owners.map(d=>{let z;return(d==null?void 0:d.gender)=="Male"&&(z="Male"),(d==null?void 0:d.gender)=="Female"&&(z="Female"),(d==null?void 0:d.gender)=="Transgender"&&(z="Transgender"),{ownerName:d==null?void 0:d.owner_name,gender:z,dob:d==null?void 0:d.dob,guardianName:d==null?void 0:d.guardian_name,relation:d==null?void 0:d.relation_type,mobileNo:d==null?void 0:d.mobile_no,aadhar:d==null?void 0:d.aadhar_no,pan:d==null?void 0:d.pan_no,email:d==null?void 0:d.email,isArmedForce:d==null?void 0:d.is_armed_force,isSpeciallyAbled:d==null?void 0:d.is_specially_abled}});m(ol),oe(ml)}},Oe=()=>{let l={};ne.post(A,l,ie()).then(function(N){var j;R((j=N==null?void 0:N.data)==null?void 0:j.data)}).catch(function(N){})};return f?e.jsx(jl,{}):Z?e.jsx(vl,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(_l,{autoClose:2e3,position:"top-right"}),e.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-12 gap-2 lg:grid-cols-12 px-2 md:px-2 md:space-x-2",children:e.jsx("div",{className:"col-span-12 w-full h-screen overflow-x-hidden",children:e.jsx("div",{className:"w-full  text-lg rounded-lg",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-8 lg:grid-cols-8 gap-8  py-4",children:e.jsxs("div",{className:"col-span-8 ",ref:ye,children:[!L&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",children:e.jsx(Fl,{setselectedUlbId:K,wardByUlb:C,newWardList:U,fetchNewWardByOldWard:ll,apartmentList:J,basicDetails:x,setbasicDetails:$,setbasicDetailsPreview:ce,basicDetailsPreview:be,choosedUlbId:Y,apartmentStatus:H,setapartmentStatus:X,setpropertyTypeState:re,propertyTypeState:n,getLocationByUlb:Oe,safType:le,existingPropertyDetails:_,ulbList:V,preFormData:h,toastFun:v,setleveFormSubmitCount:ae,leveFormSubmitCount:M})}),e.jsx("div",{className:"",children:e.jsx(pl,{propAddressDetails:u,setpropAddressDetails:B,apartmentStatus:H,ulbLocation:q,safType:le,existingPropertyDetails:_,preFormData:h,toastFun:v,setleveFormSubmitCount:ae,leveFormSubmitCount:M,submitSafForm:Ae})}),e.jsx("div",{className:"",children:e.jsx(kl,{ownerDetails:r,setownerDetails:m,ownerDetailsPreview:xe,setownerDetailsPreview:oe,oldOwnerDetails:i,oldownerDetailsPreview:he,safType:le,existingPropertyDetails:_,preFormData:h,assType:tl,toastFun:v,setleveFormSubmitCount:ae,leveFormSubmitCount:M})})]}),L&&e.jsx("div",{className:"",children:e.jsx("div",{className:"w-full h-full bg-white p-20 shadow-xl",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-center font-semibold text-3xl",children:"Property details has been updated successfully !"}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("button",{className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>window.location.reload(),children:"Re Update"}),e.jsx("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>{var l,N;return S(`/holdingPropertyDetails/${(N=(l=_==null?void 0:_.data)==null?void 0:l.data)==null?void 0:N.id}`)},children:"View Details"})]})]})})})]})})})})}),e.jsx("div",{className:"w-full mt-40"})]})}export{Al as default};
