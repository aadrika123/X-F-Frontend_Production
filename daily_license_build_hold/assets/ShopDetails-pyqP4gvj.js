import{r as m,u as K,A as B,a as H,j as e,Q as E,d as de}from"./index-dx5-A7G2.js";import{M as V}from"./index-xqfc3j1B.js";import{n as M,g as me,a as xe,s as he}from"./PowerupFunctions-s6bioPlg.js";import{R as Z}from"./RentalApiList-D2ELU4bk.js";import{L as X}from"./Loader-wyGKhGId.js";import{u as ee}from"./formik.esm-zvLaCWDQ.js";import{c as _,b as u}from"./object-lp7FtyDi.js";import{r as ue}from"./imageResizer-cmMUQzUz.js";function ge(l){var A,n,D,S,te;const{api_shopPaymentByCash:f,api_getSelectedFinancialYearAmount:y,api_shopPaymentByChequeDD:j,api_shopPaymentOnline:R,eziBuzzOnline:N}=Z(),[w,r]=m.useState(!1);m.useState(!1);const[d,c]=m.useState(),[q,k]=m.useState(!1),[v,g]=m.useState(),[b,a]=m.useState(),[p,h]=m.useState(""),[C,F]=m.useState(""),[Y,U]=m.useState();K();const T=(t,i)=>{E.dismiss(),i=="success"&&E.success(t),i=="error"&&E.error(t)};let P;d=="CASH"&&(P=_({paymentMode:u().required("select payment mode"),financialYearTo:u().required("select financial year")})),d=="CHEQUE"&&(P=_({paymentMode:u().required("select payment mode"),financialYearTo:u().required("select financial year"),bankName:u().required("Enter bank name"),branchName:u().required("Enter branch name"),chequeNo:u().required("Enter cheque no."),chequeDDPhoto:u().required("select photo"),chequeDdDate:u().required("Enter Date")})),d=="DD"&&(P=_({paymentMode:u().required("select payment mode"),financialYearTo:u().required("select financial year"),bankName:u().required("Enter bank name"),branchName:u().required("Enter branch name"),ddNo:u().required("Enter DD no."),chequeDDPhoto:u().required("select photo"),chequeDdDate:u().required("Enter Date")}));const s=ee({initialValues:{paymentMode:"",bankName:"",branchName:"",chequeNo:"",ddNo:"",financialYearTo:"",chequeDDPhoto:"",chequeDdDate:""},enableReinitialize:!0,onSubmit:(t,i)=>{console.log("values at submit payment",t),I(t)},validationSchema:P}),$=()=>{l.closeModal()};console.log("master data...2",v);const Q=t=>{r(!0),console.log("data---12",t);const i={shopId:l==null?void 0:l.shopId,toFYear:t};B.post(y,i,H()).then(x=>{console.log("calculated amount",x.data.data),a(x.data.data),r(!1)}).catch(x=>{console.log(x),r(!1)})},W=t=>{let i=t.target.name,x=t.target.value;i=="chequeDDPhoto"&&G(i,t.target.files[0]),i=="financialYearTo"&&Q(x),i=="paymentMode"&&c(x),i=="payAdvance"&&k(t.target.checked),i=="amount"&&s.setFieldValue("amount",xe(x,s.values.amount,8))},G=(t,i)=>{console.log("name ,fileData ",t,i),h(i),t=="chequeDDPhoto"&&s.setFieldValue("chequeDDPhoto",i);const x=new FileReader;x.onloadend=()=>{t=="chequeDDPhoto"&&F(x.result)},x.readAsDataURL(i)},I=t=>{r(!0);let i,x;if(((t==null?void 0:t.paymentMode)==4001||(t==null?void 0:t.paymentMode)==5120)&&window.ReactNativeWebView.postMessage(JSON.stringify({keyData:{userId:window.localStorage.getItem("userId"),shopId:l==null?void 0:l.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentAmount:b==null?void 0:b.amount,TransactionType:t==null?void 0:t.paymentMode,BillingRefNo:Math.floor(Math.random()*1e9),token:window.localStorage.getItem("token")},Key:"PINELAB_RENTAL_PAYMENT"})),d=="ONLINE"&&(i=N,x={shopId:l==null?void 0:l.shopId,uptoFYear:t==null?void 0:t.financialYearTo,frontFailUrl:"".concat(window.location.origin,"/daily-license-app/shop-fullDetail-payment/").concat(l==null?void 0:l.shopId),frontSuccessUrl:"".concat(window.location.origin,"/daily-license-app/shop-fullDetail-payment/").concat(l==null?void 0:l.shopId)}),d=="CASH"&&(i=f,x={shopId:l==null?void 0:l.shopId,toFYear:t==null?void 0:t.financialYearTo,paymentMode:t==null?void 0:t.paymentMode}),d=="CHEQUE"||d=="DD"){const o=new FormData;o.append("shopId",l==null?void 0:l.shopId),o.append("toFYear",t==null?void 0:t.financialYearTo),o.append("paymentMode",t==null?void 0:t.paymentMode),o.append("bankName",t==null?void 0:t.bankName),o.append("chequeNo",t==null?void 0:t.chequeNo),o.append("ddNo",t==null?void 0:t.ddNo),o.append("branchName",t==null?void 0:t.branchName),o.append("photo",t==null?void 0:t.chequeDDPhoto),o.append("chequeDdDate",t==null?void 0:t.chequeDdDate),i=j,x=o}console.log("before make payment..",x),B.post(i,x,H()).then(function(o){var z,L,le,se,ae,oe,ne,re,ce,ie;console.log(" payment response...",(z=o==null?void 0:o.data)==null?void 0:z.data),((L=o==null?void 0:o.data)==null?void 0:L.status)===!0?(T((le=o==null?void 0:o.data)==null?void 0:le.message,"success"),console.log("status",(se=o==null?void 0:o.data)==null?void 0:se.data),U((ae=o==null?void 0:o.data)==null?void 0:ae.data),((ne=(oe=o==null?void 0:o.data)==null?void 0:oe.data)==null?void 0:ne.url)!=null?window.location.href=(ce=(re=o==null?void 0:o.data)==null?void 0:re.data)==null?void 0:ce.url:(l==null||l.closeModal(),l==null||l.fetchDetailsByIdFun())):(T((ie=o==null?void 0:o.data)==null?void 0:ie.message,"error"),l.closeModal()),r(!1)}).catch(function(o){console.log(" payment error..",o),r(!1)})},O=async t=>{var o,z,L;const i=await ue((o=t==null?void 0:t.target)==null?void 0:o.files[0]),x=new File([i],(L=(z=t==null?void 0:t.target)==null?void 0:z.files[0])==null?void 0:L.name,{type:"image/*"});s.setFieldValue("chequeDDPhoto",x)};return e.jsxs(e.Fragment,{children:[w&&e.jsx(X,{}),e.jsx("div",{className:"  p-4  w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto   overflow-y-auto",children:e.jsxs("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto  ",children:[e.jsx("h1",{className:" text-gray-600 text-md capitalize font-bold",children:"Payment Process"}),e.jsx("h1",{className:" text-gray-400 text-sm  mb-4",children:"Seamless Payments: Making transactions effortless."}),e.jsx("div",{className:"border-b"}),e.jsxs("div",{className:"flex space-x-8 justify-between mt-4 text-xs",children:[e.jsxs("h1",{className:"mb-2 text-gray-600 text-sm",children:[" ","Amount -"," ",e.jsxs("span",{className:"font-semibold text-sm text-gray-800",children:["Rs. ",M((A=l.listDetails)==null?void 0:A.pendingAmount)]})]}),e.jsxs("h1",{className:"mb-2 text-gray-600 text-sm",children:["Payable Amount -"," ",e.jsxs("span",{className:"font-semibold text-sm text-gray-800",children:["Rs. ",M(b==null?void 0:b.amount)]})]})]}),e.jsxs("form",{onSubmit:s.handleSubmit,onChange:W,className:"p-4 relative",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[e.jsxs("div",{className:"form-group mb-6 col-span-6 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),e.jsxs("select",{...s.getFieldProps("paymentMode"),className:"form-control block text-xs w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:"ONLINE",children:"Online"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"CHEQUE",children:"Cheque"}),e.jsx("option",{value:"DD",children:"DD"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.paymentMode&&s.errors.paymentMode?s.errors.paymentMode:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-6 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Financial Year"]}),e.jsxs("select",{...s.getFieldProps("financialYearTo"),className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),(n=l==null?void 0:l.financialYrList)==null?void 0:n.map(t=>e.jsx("option",{value:t==null?void 0:t.id,children:t==null?void 0:t.financialYear},t==null?void 0:t.id))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.financialYearTo&&s.errors.financialYearTo?s.errors.financialYearTo:null})]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[(d=="CHEQUE"||d=="DD")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e.jsx("input",{...s.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.bankName&&s.errors.bankName?s.errors.bankName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e.jsx("input",{...s.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.branchName&&s.errors.branchName?s.errors.branchName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),d=="CHEQUE"?"Check Date":"DD Date"]}),e.jsx("input",{type:"date",...s.getFieldProps("chequeDdDate"),min:me(),className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.chequeDdDate&&s.errors.chequeDdDate?s.errors.chequeDdDate:null})]})]}),d=="CHEQUE"&&e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Cheque No."]}),e.jsx("input",{...s.getFieldProps("chequeNo"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.chequeNo&&s.errors.chequeNo?s.errors.chequeNo:null})]}),d=="DD"&&e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"DD No."]}),e.jsx("input",{...s.getFieldProps("ddNo"),type:"text",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:s.touched.ddNo&&s.errors.ddNo?s.errors.ddNo:null})]}),(d=="CHEQUE"||d=="DD")&&e.jsxs("div",{className:"form-group  col-span-12 md:col-span-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Upload Photo"]}),e.jsx("input",{type:"file",name:"chequeDDPhoto",className:"form-control block w-full px-3 py-1.5 text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",onChange:t=>O(t)}),e.jsx("img",{src:"".concat(C),alt:"Upload img",className:"h-20"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:(D=s==null?void 0:s.touched)!=null&&D.chequeDDPhoto&&((S=s==null?void 0:s.errors)!=null&&S.chequeDDPhoto)?(te=s==null?void 0:s.errors)==null?void 0:te.chequeDDPhoto:null})]}),e.jsx("div",{className:"col-span-12"}),e.jsx("div",{className:"col-span-12  mx-auto mt-10 ",children:e.jsxs("div",{className:"",children:[e.jsxs("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:["Pay"," "]}),e.jsx("button",{type:"submit",className:"ml-4 px-6 py-2.5 bg-red-500 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-red-600 hover:shadow-lg focus:bg-red-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-500 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:$,children:"Cancel"})]})})]})]})]})})]})}function be(l){var b;console.log("shop id",l==null?void 0:l.shopId);const[f,y]=m.useState(!1),[j,R]=m.useState(),{api_postUpdateOrReportedShop:N,api_getShopMasterType:w}=Z(),r=(a,p)=>{E.dismiss(),p=="success"&&E.success(a),p=="error"&&E.error(a)};_({contactNo:u().required("Enter mobile no.").min(10,"Enter 10 digit number").max(10,"Enter 10 digit number")});const c=ee({initialValues:{contactNo:"",remarks:"",rentType:"",zoneId:"",amcShopNo:""},onSubmit:a=>{console.log("form values",a),k(a)}});m.useEffect(()=>{q(),y(!0)},[]);const q=()=>{B.post(w,{},H()).then(a=>{var p;console.log("master data type",a.data.data),R((p=a==null?void 0:a.data)==null?void 0:p.data),y(!1)}).catch(a=>{console.log(a),y(!1)})},k=a=>{y(!0);let p={shopId:l==null?void 0:l.shopId,contactNo:a==null?void 0:a.contactNo,rentType:a==null?void 0:a.rentType,circleId:a==null?void 0:a.zoneId,remarks:a==null?void 0:a.remarks,amcShopNo:a==null?void 0:a.amcShopNo};B.post(N,p,H()).then(h=>{var C,F,Y;console.log("response ",h.data),((C=h==null?void 0:h.data)==null?void 0:C.status)===!0?(r((F=h==null?void 0:h.data)==null?void 0:F.message,"success"),l==null||l.fetchDetailsByIdFun(),l==null||l.closeModal()):r((Y=h==null?void 0:h.data)==null?void 0:Y.message,"error"),y(!1)}).catch(h=>{console.log(h)})},v=a=>{let p=a.target.name,h=a.target.value;p=="contactNo"&&c.setFieldValue("contactNo",allowNumberInput(h,c.values.contactNo,10))},g=()=>{l==null||l.closeModal()};return e.jsxs(e.Fragment,{children:[f&&e.jsx(X,{}),e.jsx("div",{className:"container",children:e.jsx("form",{onSubmit:c.handleSubmit,onChange:v,children:e.jsxs("div",{className:"bg-white p-2 ",children:[e.jsxs("div",{className:"grid grid-cols-12 w-full border-b flex border-gray-300",children:[e.jsx("svg",{id:"report_id","data-tooltip-content":"Report problem",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 ml-0 md:ml-3 lg:ml-3  mt-1 text-red-600  ",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("h1",{className:"text-lg text-gray-500 font-semibold mb-2 ml-2",children:"Update"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-12 w-full  ",children:[e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Contact No."}),e.jsx("input",{...c.getFieldProps("contactNo"),type:"text",className:"text-xs appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-2 px-4 mb-3 leading-tight focus:outline-none focus:border-blue-500 focus:bg-white ring-0 "}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.contactNo&&c.errors.contactNo?c.errors.contactNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"AMC Shop No."}),e.jsx("input",{...c.getFieldProps("amcShopNo"),type:"text",className:"appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-2 px-4 mb-3 leading-tight focus:outline-none focus:border-blue-500 focus:bg-white ring-0 "}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.amcShopNo&&c.errors.amcShopNo?c.errors.amcShopNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 -mt-4 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Zone"}),e.jsxs("select",{...c.getFieldProps("zoneId"),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select"}),(b=j==null?void 0:j.circleList)==null?void 0:b.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.circle_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.zoneId&&c.errors.zoneId?c.errors.zoneId:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-4 mb-2 md:px-6 ",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:"Rent Type"}),e.jsxs("select",{...c.getFieldProps("rentType"),className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select"}),e.jsx("option",{value:"Shop Rent",children:"Shop Rent"}),e.jsx("option",{value:"Plot Rent",children:"Plot Rent"}),e.jsx("option",{value:"Building Rent",children:"Building Rent"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.rentType&&c.errors.rentType?c.errors.rentType:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-12 mb-6 md:px-6",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold w-full",children:"Remark"}),e.jsx("textarea",{name:"remarks",onChange:c.handleChange,value:c.values.remarks,className:"border text-xs  p-2 w-full h-24",placeholder:"Remark..."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:c.touched.remarks&&c.errors.remarks?c.errors.remarks:null})]})]}),e.jsxs("div",{className:"w-full m-2 text-right",children:[e.jsx("button",{type:"submit",className:"capitalize hover:shadow-md text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 font-medium rounded-md text-xs px-5 py-2 mr-2 mb-2 focus:outline-none max-w-[144px] whitespace-pre-wrap",children:"Save"}),e.jsx("button",{type:"button",className:"capitalize hover:shadow-md text-white bg-red-400 hover:bg-red-600 focus:ring-4 focus:ring-red-300 font-medium rounded-md text-xs px-5 py-2 mr-2 mb-2 focus:outline-none max-w-[144px] whitespace-pre-wrap",onClick:g,children:"Close"})]})]})]})})})]})}function fe(l){var k,v;const[f,y]=m.useState(!1);m.useState(!1);const[j,R]=m.useState(),[N,w]=m.useState(),r=K(),d=ee({initialValues:{financialYearTo:""},enableReinitialize:!0,onSubmit:(g,b)=>{console.log("values at submit payment",g)}}),c=()=>{l.closeModal()};console.log("master data...2",j);const q=g=>{let b=g.target.name,a=g.target.value;b=="financialYearTo"&&w(a)};return console.log("financial year",N),e.jsxs(e.Fragment,{children:[f&&e.jsxs("p",{className:"text-red-500 text-lg font-bold absolute top-1/2 left-1/2 z-20",children:[" ",he()]}),e.jsx("div",{className:"  p-4  w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto   overflow-y-auto",children:e.jsxs("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto  ",children:[e.jsx("h1",{className:" text-gray-600 text-lg capitalize",children:"Demand Receipt"}),e.jsx("h1",{className:" text-gray-400 text-sm  mb-4",children:"Seamless Payments: Making transactions effortless."}),e.jsx("div",{className:"border-b"}),e.jsx("div",{className:"flex space-x-8 justify-between mt-4",children:e.jsxs("h1",{className:"mb-2 text-gray-600 px-8 text-lg",children:["Amount - ",e.jsxs("span",{className:"font-semibold text-md text-gray-800",children:["Rs. ",M((k=l.listDetails)==null?void 0:k.pendingAmount)]})]})}),e.jsxs("form",{onSubmit:d.handleSubmit,onChange:q,className:"p-4 relative",children:[e.jsx("div",{className:"grid grid-cols-12",children:e.jsxs("div",{className:"form-group mb-6 col-span-12 md:col-span-12 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-xs font-semibold",children:[e.jsx("small",{className:" mt-1 text-xs font-semibold text-red-600 inline ",children:"*"}),"Financial Year"]}),e.jsxs("select",{...d.getFieldProps("financialYearTo"),className:"form-control block text-xs w-full px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{children:"Select"}),(v=l==null?void 0:l.financialYrList)==null?void 0:v.map(g=>e.jsx("option",{value:g==null?void 0:g.id,children:g==null?void 0:g.financialYear}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:d.touched.financialYearTo&&d.errors.financialYearTo?d.errors.financialYearTo:null})]})}),e.jsx("div",{className:"col-span-12  mx-auto mt-10 ",children:e.jsxs("div",{className:"",children:[N!=null&&e.jsx("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:()=>r("/demand-receipt/".concat(l==null?void 0:l.shopId,"/").concat(N)),children:"Demand Receipt"}),e.jsx("button",{type:"submit",className:"ml-4 px-6 py-2.5 bg-red-500 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-red-600 hover:shadow-lg focus:bg-red-600 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-500 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",onClick:c,children:"Cancel"})]})})]})]})})]})}const J={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"gray",border:"none",overflowY:"scroll"}};V.setAppElement("#root");function Se(){var O,A;const{api_getShopDetailsById:l}=Z(),{id:f}=de(),y=K();let j="text-md text-[#454646] opacity-80 font-semibold ",R="text-sm text-[#454646] opacity-80 capitalize";const[N,w]=m.useState(!1),[r,d]=m.useState(),[c,q]=m.useState(),[k,v]=m.useState(!1),g=()=>v(!0),b=()=>v(!1),a=()=>{},[p,h]=m.useState(!1),C=()=>h(!0),F=()=>h(!1),Y=()=>{},[U,T]=m.useState(!1),P=()=>T(!0),s=()=>T(!1),$=()=>{},Q=n=>{console.log("application id in modal",n),g()},W=n=>{console.log("application id in modal",n),P()},G=()=>{C()};m.useEffect(()=>{I()},[f]);const I=()=>{w(!0);let n=l;const D={id:f};console.log("request body category id",D),B.post("".concat(n),D,H()).then(function(S){console.log("application details by id",S.data.data.fYear),d(S.data.data),q(S.data.data.fYear),w(!1)}).catch(function(S){console.log("errorrr.... ",S),w(!1)})};return e.jsxs(e.Fragment,{children:[N&&e.jsx(X,{}),e.jsx("div",{className:"h-auto bg-[#FDFCFE] flex flex-row flex-wrap justify-center items-center p-3",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-tl-[44px]  h-full sm:w-1/2 lg:w-1/3 w-full rounded-xl p-2",children:[e.jsxs("div",{className:"bg-[#5846BE] h-28 w-full mx-auto rounded-br-[68px] rounded-tl-[44px]  opacity-90",children:[e.jsxs("div",{className:"p-4 pt-10",children:[e.jsx("h1",{className:"text-gray-50 font-bold capitalize text-2xl",children:"Shop Details"}),e.jsx("h1",{className:"text-gray-50 capitalize text-[12px]",children:"Budgeting Essentials: Shop Rent Payment"})]}),e.jsx("div",{className:"col-span-6 ",children:e.jsx("button",{id:"report_id",className:"float-right bg-amber-400 mt-4 px-2 py-1 border-amber-500 border text-gray-600 text-xs",onClick:G,children:"Update Shop"})})]}),e.jsxs("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5 p-2",children:[e.jsx("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-3 border-b ",children:e.jsxs("h1",{className:"flex space-x-1 text-xl text-[#454646] opacity-80 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),e.jsx("span",{className:" text-[#161717] text-sm",children:"Basic Details"})]})}),(O=r==null?void 0:r.shopDetails)==null?void 0:O.map((n,D)=>e.jsxs("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-2 text-xs ",children:[e.jsxs("label",{className:"".concat(j," mb-2 "),children:[M(n==null?void 0:n.displayString)," -"]}),e.jsx("label",{className:"".concat(R," text-xs"),children:M(n==null?void 0:n.value)})]},D))]}),e.jsxs("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5 p-2 ",children:[e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2 ",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:[" ","Total Demand -",e.jsxs("span",{className:"",children:[" Rs. ",r==null?void 0:r.total]})]})}),e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:["Paid Amount - Rs."," ",e.jsx("span",{className:"",children:r==null?void 0:r.totalPaid})," "]})}),e.jsx("div",{className:"col-span-2 text-center bg-indigo-100 px-1 py-1 mb-2",children:e.jsxs("span",{className:"font-semibold text-xs text-center text-[#454646] uppercase ",children:["Pending Amount - Rs."," ",e.jsx("span",{className:"",children:r==null?void 0:r.pendingAmount})]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[(r==null?void 0:r.pendingAmount)!=0&&e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{className:"bg-indigo-500 border-2 w-full border-indigo-500 hover:bg-indigo-600 px-2 py-0.5 text-white font-semibold  rounded leading-5 shadow-lg shadow-gray-300 text-xs",onClick:()=>W(f),children:"Demand Receipt"})}),(r==null?void 0:r.pendingAmount)!=0&&e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{className:"bg-green-500 border-2 w-full border-green-500 hover:bg-green-600 px-4 py-0.5 text-white font-semibold  rounded leading-5 shadow-lg shadow-gray-300 text-xs",onClick:()=>Q(f),children:"Pay Now"})})]})]}),e.jsx("div",{className:"bg-[#FDFCFE] shadow-lg rounded-lg  w-full mt-5  ",children:e.jsxs("div",{class:"",children:[e.jsx("div",{class:" flex-shrink space-x-2 max-w-full px-4 w-full md:w-full mb-3 border-b ",children:e.jsxs("h1",{className:"flex space-x-1 text-md text-[#454646] opacity-80 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),e.jsx("span",{className:"-mt-1 text-[#161717]",children:"Financial Year Wise Demand"})]})}),e.jsx("div",{class:"overflow-x-auto p-3",children:e.jsxs("table",{class:"w-full table-auto",children:[e.jsx("thead",{class:"bg-indigo-100    text-gray-400 ",children:e.jsxs("tr",{className:"text-xs",children:[e.jsx("th",{class:"",children:e.jsx("div",{class:"text-[#454646] ",children:"#"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Financial Year"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Generated Demand"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Payment Date"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"text-[#454646] ",children:"Payment Status"})})]})}),e.jsx("tbody",{children:(A=r==null?void 0:r.demands)==null?void 0:A.map((n,D)=>e.jsxs("tr",{className:"".concat((n==null?void 0:n.payment_status)==1?"text-green-500  divide-y divide-gray-100":"text-[#454646] divide-y divide-gray-100 text-xs"),children:[e.jsx("td",{class:"p-2",children:e.jsx("div",{class:" text-center text-xs ",children:D+1})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:" text-center text-xs",children:M(n==null?void 0:n.financial_year)})}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"text-center text-xs",children:["Rs. ",M(n==null?void 0:n.amount)]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-center text-xs ",children:M(n==null?void 0:n.payment_date)})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-center text-xs ",children:(n==null?void 0:n.amount)==0?"NA":e.jsx(e.Fragment,{children:(n==null?void 0:n.payment_status)==1?e.jsxs("button",{className:"capitalize border border-indigo-500 text-indigo-500 hover:bg-indigo-500 px-2 py-1 text-xs hover:text-white rounded-md",onClick:()=>y("/shop-receipt/".concat(n==null?void 0:n.tran_id)),children:["View Receipt"," "]}):"Payment pending"})})})]}))})]})})]})})]})}),e.jsx(V,{isOpen:k,onAfterOpen:a,onRequestClose:b,style:J,contentLabel:"Example Modal",children:e.jsx("div",{className:"",style:{width:"auto",height:"170vw"},children:e.jsx("div",{className:"overflow-auto ",children:e.jsx(ge,{listDetails:r,shopId:f,closeModal:b,fetchDetailsByIdFun:I,financialYrList:c})})})}),e.jsx(V,{isOpen:p,onAfterOpen:Y,onRequestClose:F,style:J,contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full",style:{height:"50%"},children:e.jsx("div",{className:"h-auto ",children:e.jsx(be,{closeModal:F,shopId:f,fetchDetailsByIdFun:I})})})}),e.jsx(V,{isOpen:U,onAfterOpen:$,onRequestClose:s,style:J,contentLabel:"Example Modal",children:e.jsx("div",{className:"",style:{width:"auto",height:"120vw"},children:e.jsx("div",{className:"overflow-auto ",children:e.jsx(fe,{listDetails:r,shopId:f,closeModal:s,fetchDetailsByIdFun:I,financialYrList:c})})})})]})}export{Se as default};
