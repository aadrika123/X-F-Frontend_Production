import{u as B,a as _,p as A,j as s}from"./index-BmzyyeIl.js";import{f as L,u as F,e as a}from"./react-kJeE4wWB.js";import{I as M}from"./index.esm-Rhk5eSV9.js";import{T}from"./TextField-CYO3Rrh-.js";import{S as W}from"./SelectField-EvjuAayu.js";import"./index-FYp6KAEl.js";import{P as z}from"./index-hx76H7S1.js";import{S as I}from"./index-WZsvnZjC.js";import{u as R}from"./usePathWisePermission-0uJNnjn9.js";import"./formik.esm-u2hvNN2G.js";import"./ArrowRightIcon-Mm16dm-C.js";const H=[{id:1,value:"applicationNo",label:"Application No"},{id:2,value:"mobileNo",label:"Mobile No"},{id:3,value:"name",label:"Name"}];function V(){var o,t,l,h,x,g,j,p,f,m,v;const{pathname:S}=L(),{result:n}=R(S),e=B(),c=F(),{data:i,refetch:d,isFetching:u,isLoading:$,isPending:D}=_({api:A.safInbox,config:{[(o=e==null?void 0:e.searchVerification)==null?void 0:o.searchBy]:e==null?void 0:e.searchVerification.search,page:e==null?void 0:e.searchVerification.page,perPage:e==null?void 0:e.searchVerification.perPage},value:[(t=e==null?void 0:e.searchVerification)==null?void 0:t.page,(l=e==null?void 0:e.searchVerification)==null?void 0:l.perPage],options:{enabled:!!((h=e==null?void 0:e.searchVerification)!=null&&h.page)}}),P=()=>{e==null||e.setSearchVerification({...e==null?void 0:e.searchVerification,page:1}),d()},C=r=>{c("/amc-app/property/saf-site-verification/".concat(r))};return s.jsx(z,{title:"SAF Verification List",children:s.jsxs("div",{className:"p-4 ",children:[s.jsx(a.Card,{className:"w-full",children:s.jsxs(a.CardBody,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"font-semibold",children:"SAF Verification"}),s.jsxs("div",{className:"items-center flex justify-start px-2 py-1 border rounded-lg gap-1 cursor-pointer",onClick:()=>{e==null||e.setSearchVerification({searchBy:"",setSearchBy:"",search:"",setSearch:"",page:1,perPage:10}),d()},children:[s.jsx(M,{size:"1.2rem",className:"cursor-pointer text-blue-600"}),s.jsx("small",{className:" text-blue-600 ",children:"Reset"})]})]}),s.jsx("div",{className:"my-2 border-b-2"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsx("div",{children:s.jsxs(W,{label:"Search By",value:(x=e==null?void 0:e.searchVerification)==null?void 0:x.searchBy,onChange:r=>{e==null||e.setSearchVerification({...e==null?void 0:e.searchVerification,searchBy:r.target.value})},name:"searchBy",children:[s.jsx("option",{value:"",children:"Select"}),H.map(r=>s.jsx("option",{value:r==null?void 0:r.value,children:r==null?void 0:r.label},r==null?void 0:r.id))]})}),s.jsx("div",{children:s.jsx(T,{label:"Search",name:"search",value:(g=e==null?void 0:e.searchVerification)==null?void 0:g.search,onChange:r=>{e==null||e.setSearchVerification({...e==null?void 0:e.searchVerification,search:r.target.value})}})})]}),s.jsx(a.Button,{color:"blue",onClick:P,fullWidth:!0,children:"Search"})]})}),u?s.jsx("div",{className:"flex justify-center items-center py-52",children:s.jsx("h1",{children:"Loading..."})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b-2 border-gray-300 w-full py-2"}),((p=(j=i==null?void 0:i.data)==null?void 0:j.data)==null?void 0:p.length)>0?(m=(f=i==null?void 0:i.data)==null?void 0:f.data)==null?void 0:m.map((r,k)=>{var N,y,b,w;return s.jsxs(a.Card,{className:"mt-4 full",children:[s.jsx(a.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"SAF No :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-600",children:r==null?void 0:r.saf_no})})]}),s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Name :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-600 truncate w-40",children:r==null?void 0:r.owner_name})})]}),s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Ward :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-600",children:r==null?void 0:r.ward_no})})]}),s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Assessment Type :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-600",children:r==null?void 0:r.assessment})})]}),s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Mobile No :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-600 truncate w-40",children:r==null?void 0:r.mobile_no})})]}),s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Property Type :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-600 lowercase ",children:r==null?void 0:r.property_type})})]}),s.jsxs("div",{className:"grid grid-cols-2 items-start",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Verification Status :"})}),s.jsxs("div",{children:[((y=(N=e==null?void 0:e.user)==null?void 0:N.roleWithId[0])==null?void 0:y.role_id)==7&&(r!=null&&r.is_agency_verified?s.jsx("h1",{className:"text-sm text-green-500 font-semibold truncate w-40",children:"Verified by TC"}):s.jsx("h1",{className:"text-sm text-red-500 font-semibold",children:"Not Verified"})),((w=(b=e==null?void 0:e.user)==null?void 0:b.roleWithId[0])==null?void 0:w.role_id)==5&&(r!=null&&r.is_agency_verified?s.jsx("h1",{className:"text-sm text-green-500 font-semibold truncate w-40",children:"Pending Geo Tagging"}):s.jsx("h1",{className:"text-sm text-red-500 font-semibold",children:"Not Verified"}))]})]})]})}),s.jsx(a.CardFooter,{className:"-mt-8",children:s.jsxs("div",{className:"flex justify-between items-center gap-2 mb-1",children:[(n==null?void 0:n.create)&&s.jsxs(a.Button,{onClick:()=>C(r==null?void 0:r.id),size:"sm",variant:"text",className:"flex items-center gap-2 bg-gray-200 text-blue-500 capitalize",children:["Verification",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-4 w-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]}),(n==null?void 0:n.update)&&s.jsxs(a.Button,{onClick:()=>c("/amc-app/property/naksha-verification/".concat(r==null?void 0:r.id)),size:"sm",variant:"text",className:"flex items-center gap-2 bg-gray-200 text-red-500 capitalize",children:["Sanction Plan",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-4 w-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]})]})})]},k)}):s.jsx("div",{className:"flex justify-center items-center py-52",children:s.jsx("h1",{children:"No Record Found"})}),s.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"}),s.jsx(I,{active:e==null?void 0:e.searchVerification,noOfPage:(v=i==null?void 0:i.data)==null?void 0:v.last_page,setActive:e==null?void 0:e.setSearchVerification})]})]})})}export{V as default};
