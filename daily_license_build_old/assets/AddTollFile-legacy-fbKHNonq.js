!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return r};var t,r={},n=Object.prototype,l=n.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,l=Object.create(o.prototype),a=new _(n||[]);return i(l,"_invoke",{value:O(e,r,a)}),l}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var p="suspendedStart",m="suspendedYield",v="executing",x="completed",y={};function b(){}function g(){}function w(){}var j={};d(j,c,(function(){return this}));var N=Object.getPrototypeOf,k=N&&N(N(q([])));k&&k!==n&&l.call(k,c)&&(j=k);var S=w.prototype=b.prototype=Object.create(j);function P(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function L(t,r){function n(o,i,a,c){var s=h(t[o],t,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==e(d)&&l.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):r.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;i(this,"_invoke",{value:function(e,t){function l(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(l,l):l()}})}function O(e,r,n){var o=p;return function(l,i){if(o===v)throw new Error("Generator is already running");if(o===x){if("throw"===l)throw i;return{value:t,done:!0}}for(n.method=l,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?x:m,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=x,n.method="throw",n.arg=s.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var l=h(o,e.iterator,r.arg);if("throw"===l.type)return r.method="throw",r.arg=l.arg,r.delegate=null,y;var i=l.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function q(r){if(r||""===r){var n=r[c];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,i=function e(){for(;++o<r.length;)if(l.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(e(r)+" is not iterable")}return g.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:g,configurable:!0}),g.displayName=d(w,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},P(L.prototype),d(L.prototype,s,(function(){return this})),r.AsyncIterator=L,r.async=function(e,t,n,o,l){void 0===l&&(l=Promise);var i=new L(f(e,t,n,o),l);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(S),d(S,u,"Generator"),d(S,c,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=q,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&l.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:q(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},r}function l(e,t,r,n,o,l,i){try{var a=e[l](i),c=a.value}catch(s){return void r(s)}a.done?t(c):Promise.resolve(c).then(n,o)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,i,a=[],c=!0,s=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}System.register(["./index-legacy-wRD2w25S.js","./formik.esm-legacy-1pOS7Vrs.js","./ThemeStyle-legacy-INb0jLAV.js","./object-legacy-6629OYLX.js","./RentalApiList-legacy-0TNflu7Z.js","./Loader-legacy-aQMqoNpU.js","./PowerupFunctions-legacy-ihpsALFm.js","./imageResizer-legacy-279oPM57.js"],(function(e,t){"use strict";var n,a,c,s,u,d,f,h,p,m,v,x,y,b,g;return{setters:[function(e){n=e.u,a=e.r,c=e.A,s=e.a,u=e.j,d=e.Q},function(e){f=e.u},function(e){h=e.T},function(e){p=e.c,m=e.b},function(e){v=e.R},function(e){x=e.L},function(e){y=e.b,b=e.a},function(e){g=e.r}],execute:function(){e("default",(function(){var e=h(),t=e.inputStyle,w=e.labelStyle,j=v(),N=j.api_UlbCircleList,k=j.api_locationByCircleList,S=j.api_addToll,P=j.api_getTollRateList,L=n(),O=i(a.useState(!1),2),E=O[0],F=O[1],T=i(a.useState(""),2),_=(T[0],T[1]),q=i(a.useState(""),2),C=q[0],A=q[1],R=i(a.useState(""),2),I=(R[0],R[1]),V=i(a.useState(),2),D=V[0],G=V[1],U=i(a.useState(),2),z=U[0],B=U[1],M=i(a.useState(),2),Y=M[0],Q=M[1],$=p({circle:m().required("This field is required"),market:m().required("This field is required"),vendorName:m().required("This field is required"),mobile:m().required("Enter mobile no.").min(10,"Enter 10 digit number").max(10,"Enter 10 digit number"),address:m().required("This field is required"),rate:m().required("This field is required"),photo1Path:m().required("This field is required")}),H=function(e,t){d.dismiss(),"success"==t&&d.success(e),"error"==t&&d.error(e)},J=f({initialValues:{circle:"",market:"",vendorName:"",vendorType:"",mobile:"",address:"",rate:"",photo1Path:""},enableReinitialize:!0,onSubmit:function(e){console.log("shop data",e),W(e)},validationSchema:$}),K=function(e,t){console.log("name ,fileData ",e,t),_(t),"photo1Path"==e?J.setFieldValue("photo1Path",t):J.setFieldValue("photo2Path",t);var r=new FileReader;r.onloadend=function(){"photo1Path"==e?A(r.result):I(r.result)},r.readAsDataURL(t)};console.log("form values",J.values);var W=function(e){console.log("data in form",e);var t,r,n=new FormData;n.append("circleId",null==e?void 0:e.circle),n.append("marketId",null==e?void 0:e.market),n.append("vendorName",null==e?void 0:e.vendorName),n.append("vendorType",null==e?void 0:e.vendorType),n.append("address",null==e?void 0:e.address),n.append("rate",null==e?void 0:e.rate),n.append("mobile",null==e?void 0:e.mobile),n.append("photograph1",null==e?void 0:e.photo1Path),t=S,r=n,console.log("request body",r),c.post("".concat(t),r,s()).then((function(e){var t,r,n;(console.log("response after data submitted",null==e||null===(t=e.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.toll_no),!0===(null==e||null===(r=e.data)||void 0===r?void 0:r.status))?(H("submitted successfully","success"),L("/submitScreen/toll/".concat(null==e||null===(n=e.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.toll_no))):H("Failed to submit","error")})).catch((function(e){console.log("errorrr.... ",e)}))};a.useEffect((function(){X(),Z()}),[]);var X=function(){c.post(N,{},s()).then((function(e){console.log("circle list 1",e.data),G(e.data.data),F(!1)})).catch((function(e){console.log(e),F(!1)}))},Z=function(){c.post(P,{},s()).then((function(e){console.log("circle list 1",e.data),Q(e.data.data),F(!1)})).catch((function(e){console.log(e),F(!1)}))},ee=function(e){var t={circleId:e};c.post(k,t,s()).then((function(e){console.log("location list",e.data),e.data.status&&B(e.data.data)})).catch((function(e){console.log(e)}))},te=function(){var e,t=(e=o().mark((function e(t){var r,n,l,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(null==t||null===(r=t.target)||void 0===r?void 0:r.files[0]);case 2:l=e.sent,i=new File([l],null==t||null===(n=t.target)||void 0===n||null===(n=n.files[0])||void 0===n?void 0:n.name,{type:"image/*"}),J.setFieldValue("photo1Path",i);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){l(i,n,o,a,c,"next",e)}function c(e){l(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(E)return u.jsx(u.Fragment,{children:u.jsx("div",{className:"min-h-screen"})});return u.jsxs(u.Fragment,{children:[E&&u.jsx(x,{}),u.jsx("div",{className:"h-screen bg-[#FDFCFE] flex flex-row flex-wrap justify-center items-center p-3",children:u.jsxs("div",{className:"bg-white shadow-xl rounded-tl-[44px]  h-full sm:w-1/2 lg:w-1/3 w-full rounded-xl",children:[u.jsx("div",{className:"bg-[#5846BE] h-32 w-full mx-auto rounded-br-[68px] rounded-tl-[44px] opacity-90",children:u.jsxs("div",{className:"p-4 pt-12",children:[u.jsx("h1",{className:"text-gray-50 font-bold capitalize text-2xl",children:"Add Toll"}),u.jsx("h1",{className:"text-gray-50 capitalize text-[12px]",children:"Rent a Toll Booth and Secure Your Spot on the Road"})]})}),u.jsx("form",{onSubmit:J.handleSubmit,onChange:function(e){console.log("target type",e.target.type),console.log("check box name",e.target.name);var t=e.target.name,r=e.target.value;"photo1Path"==t&&K(t,e.target.files[0]),"circle"==t&&ee(r),"vendorName"==t&&J.setFieldValue("vendorName",y(r,J.values.vendorName,50)),"mobile"==t&&J.setFieldValue("mobile",b(r,J.values.mobile,10)),"rate"==t&&J.setFieldValue("rate",r,J.values.rate)},encType:"multipart/form-data",children:u.jsxs("div",{className:"bg-[#FFFFFF]  rounded-2xl shadow-md p-4 text-xs",children:[u.jsxs("div",{className:"p-2",children:[u.jsxs("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("label",{className:"".concat(w," inline-block mb-2 "),children:"Circle"}),u.jsxs("select",r(r({},J.getFieldProps("circle")),{},{className:"".concat(t," inline-block w-full relative"),children:[u.jsx("option",{selected:!0,children:"select"}),null==D?void 0:D.map((function(e){return u.jsx("option",{value:null==e?void 0:e.id,children:null==e?void 0:e.circle_name},null==e?void 0:e.id)}))]})),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.circle&&J.errors.circle?J.errors.circle:null})]}),u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("label",{className:"".concat(w," inline-block mb-2 "),children:"Market"}),u.jsxs("select",r(r({},J.getFieldProps("market")),{},{className:"".concat(t," inline-block w-full relative"),children:[u.jsx("option",{selected:!0,children:"select"}),null==z?void 0:z.map((function(e){return u.jsx("option",{value:null==e?void 0:e.id,children:null==e?void 0:e.market_name})}))]})),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.market&&J.errors.market?J.errors.market:null})]}),u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("label",{className:"".concat(w," inline-block mb-2 "),children:"Vendor Type"}),u.jsxs("select",r(r({},J.getFieldProps("vendorType")),{},{className:"".concat(t," inline-block w-full relative"),children:[u.jsx("option",{selected:!0,children:"select"}),u.jsx("option",{value:"schedule",children:"Schedule"}),u.jsx("option",{value:"unschedule",children:"Unscheduled"})]})),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.vendorType&&J.errors.vendorType?J.errors.vendorType:null})]}),u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("h1",{className:"".concat(w," inline-block mb-2"),children:"Vendor name"}),u.jsx("input",{type:"text",name:"vendorName",className:"".concat(t," inline-block w-full relative"),onChange:J.handleChange,value:J.values.vendorName}),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.vendorName&&J.errors.vendorName?J.errors.vendorName:null})]})]}),u.jsxs("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("h1",{className:"".concat(w," inline-block mb-2"),children:"Mobile no."}),u.jsx("input",{type:"text",name:"mobile",className:"".concat(t," inline-block w-full relative"),onChange:J.handleChange,value:J.values.mobile}),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.mobile&&J.errors.mobile?J.errors.mobile:null})]}),u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("label",{className:"".concat(w," inline-block mb-2 "),children:"Landmark"}),u.jsx("input",{type:"text",name:"address",className:"".concat(t," inline-block w-full relative"),onChange:J.handleChange,value:J.values.address}),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.address&&J.errors.address?J.errors.address:null})]}),u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("label",{className:"".concat(w," inline-block mb-2 "),children:"Rate"}),u.jsxs("select",r(r({},J.getFieldProps("rate")),{},{className:"".concat(t," inline-block w-full relative"),children:[u.jsx("option",{selected:!0,children:"select"}),null==Y?void 0:Y.map((function(e){return u.jsxs("option",{value:null==e?void 0:e.rate,children:[null==e?void 0:e.toll_type," (Rs.",null==e?void 0:e.rate,")"]})}))]})),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.rate&&J.errors.rate?J.errors.rate:null})]})]}),u.jsx("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:u.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/3 mb-4",children:[u.jsx("label",{className:"".concat(w," inline-block mb-2 "),children:"Image"}),u.jsx("input",{accept:"image/*",type:"file",name:"photo1Path",className:"".concat(t," inline-block w-full relative"),onChange:function(e){return te(e)}}),u.jsx("img",{src:"".concat(C),alt:"Upload img",className:"h-20"}),u.jsx("p",{className:"text-red-500 text-xs absolute",children:J.touched.photo1Path&&J.errors.photo1Path?J.errors.photo1Path:null})]})})]}),u.jsx("div",{className:"pb-8",children:u.jsx("button",{type:"submit",className:"bg-[#5846BE] px-7 py-2 text-white font-semibold rounded leading-5 shadow-lg w-full",children:"Save"})})]})})]})})]})}))}}}))}();
