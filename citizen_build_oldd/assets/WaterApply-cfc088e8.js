import{aJ as v,j as e,a as W,r as d,M as oe,bO as Fe,bP as Ae,g as ie,aK as re,c as Ce,d as A,b as $e,A as _,o as ke,bQ as ae,m as te,av as ne,E as Le,H as _e,l as Ie}from"./index-be22bbd2.js";import{S as Pe}from"./react-select.esm-a670936c.js";const We=()=>e.jsxs(Ve,{children:[e.jsx(I,{toggle:"panel-1",className:"bg-indigo-500 text-white",children:"How to Apply ?"}),e.jsx(P,{id:"panel-1",children:e.jsxs("p",{className:"mb-4 space-y-3",children:[e.jsx("li",{children:"You can apply water connection against your property using Holding or SAF."}),e.jsx("li",{children:"Select Connection Through by which do you want to apply water connection. eg- Holding No, SAF No"})]})}),e.jsx(I,{toggle:"panel-2",className:"bg-indigo-500 text-white",children:"Which documents need to submit ?"}),e.jsx(P,{id:"panel-2",children:e.jsxs("p",{className:"mb-4",children:[e.jsx("li",{children:"Address Proof"}),e.jsx("li",{children:"Holding/ SAF Proof"}),e.jsx("li",{children:"Consumer Documents"}),e.jsx("li",{children:"Meter Bill"})]})}),e.jsx(I,{toggle:"panel-3",className:"bg-indigo-500 text-white",children:"Process of Application"}),e.jsxs(P,{id:"panel-3",children:[e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold",children:"Step 1."})," Fill the Application Form."]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold",children:"Step 2."})," Upload the require documents."]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold",children:"Step 3."})," Make payment against application form."]})]})]}),de=v.createContext({});function Ve({children:t}){const[n,u]=v.useState(),h=v.useCallback(o=>()=>{u(i=>i!==o?o:"")},[]);return e.jsx(de.Provider,{value:{selected:n,toggleItem:h},children:t})}const ce=()=>v.useContext(de),xe={item:"block focus:outline-none border-b my-2 p-3",panel:"overflow-hidden md:overflow-x-hidden transition-height ease duration-300 text-gray-600"};function I({toggle:t,children:n,className:u}){const{selected:h,toggleItem:o}=ce();return e.jsxs("div",{role:"button",onClick:o(t),className:`${xe.item} ${u}`,children:[n,e.jsx("span",{className:"float-right",children:h===t?e.jsx(Me,{}):e.jsx(Oe,{})})]})}function P({children:t,id:n}){var i;const{selected:u}=ce(),h=v.useRef(),o=u===n?{height:(i=h.current)==null?void 0:i.scrollHeight}:{height:0};return e.jsx("div",{ref:h,id:n,className:xe.panel,style:o,children:t})}const Me=()=>e.jsx("svg",{fill:"white",strokeWidth:"0",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",className:"mt-1 h-4",children:e.jsx("path",{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"})}),Oe=()=>e.jsx("svg",{stroke:"currentColor",fill:"white",strokeWidth:"0",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",className:"mt-1 h-4",children:e.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"})});function qe(t){var u;const n=W();return console.log("props in waterAfterSubmit",t),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mt-8 mb-2 font-serif font-semibold text-gray-600"}),e.jsx("div",{className:"block p-4 md:py-6 shadow-lg bg-indigo-100 border border-indigo-300 rounded  mx-auto ",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"font-semibold",children:"Your Application has been Submitted Successfully."}),e.jsxs("p",{children:[e.jsx("span",{className:"text-sm",children:" Application No "}),e.jsx("span",{className:"text-indigo-600 font-semibold",children:(u=t==null?void 0:t.data)==null?void 0:u.applicationNo})]}),e.jsx("button",{onClick:()=>n("/water-dashboard"),className:"bg-white hover:bg-indigo-600 hover:text-white text-indigo-700  border border-indigo-600 mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:"Dashboard"}),e.jsx("button",{onClick:()=>{var h;return n(`/water-doc-upload/${(h=t==null?void 0:t.data)==null?void 0:h.applicationId}`)},className:"bg-indigo-600 hover:bg-indigo-700 text-white mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:"Upload Document"})]})})]})}const He={content:{top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Re(t){const[n,u]=v.useState(!1);function h(){}function o(){u(!1)}return d.useEffect(()=>{t!=null&&t.message&&u(!0)},[t==null?void 0:t.message]),e.jsx("div",{className:"",children:e.jsx(oe,{isOpen:n,onAfterOpen:h,onRequestClose:o,style:He,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!1,children:e.jsxs("div",{className:"p-10 py-8 border border-indigo-300 bg-white rounded-lg shadow-lg",children:[e.jsx("p",{onClick:o,className:"absolute right-8 top-8 cursor-pointer capitalize text-black hover:bg-red-300 font-light hover:underline",children:e.jsx(Fe,{})}),e.jsx("h1",{className:"text-5xl flex justify-center text-red-500 mx-auto",children:e.jsx(Ae,{})}),e.jsx("div",{className:"font-normal text-gray-500",children:t==null?void 0:t.message}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white rounded-md px-4 py-2 mt-6 flex justify-center",onClick:o,children:"Close"})})]})})})}function De(t){var q,H,R;const[n,u]=d.useState(!1),[h,o]=d.useState(!1),[i,c]=d.useState(),[b,S]=d.useState([]),[C,y]=d.useState(),[x,w]=d.useState(),[T,F]=d.useState(!1),[j,he]=d.useState(),[V,$]=d.useState(!1),[ue,M]=d.useState(!1),[me,k]=d.useState(!1),{notify:f}=d.useContext(ie),m="form-group col-span-4 md:col-span-1 mb-6 md:px-4",p="form-label inline-block mb-1 text-gray-600 text-sm font-semibold",g="form-control block w-full px-3 py-2 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-sm",{api_NewWaterConnection:ge,header:L,api_getHoldingSafOfLogin:pe,api_getSafHoldingDetails:be,api_userProfileDetails:Be}=re(),je=s=>{k(!0);const a={ulbId:t==null?void 0:t.selectedUlbId,connectionTypeId:s==null?void 0:s.typeofConnection,propertyTypeId:s==null?void 0:s.propertyType,ownerType:s==null?void 0:s.ownerType,category:s==null?void 0:s.categoryType,pipelineTypeId:s==null?void 0:s.pipelineType,connection_through:s==null?void 0:s.connectionThrough,landmark:"Landmark",safNo:s==null?void 0:s.selectedSafHol,holdingNo:s==null?void 0:s.selectedSafHol,wardId:s==null?void 0:s.new_ward_mstr_id,areaSqft:s==null?void 0:s.totalArea,address:s==null?void 0:s.address,pin:s==null?void 0:s.pincode,tenant:b,owners:i==null?void 0:i.owners};console.log("Payload Data",s),console.log("Final Payload",a),_.post(ge,a,L).then(r=>{var N;r.data.status==!0?(k(!1),console.log("Data Really Saved",r),t.screen1Data(r.data.data),f("Application Applied Successfully","success")):(k(!1),console.log("False While Water Apply",r),y("Error While Apply : "+((N=r==null?void 0:r.data)==null?void 0:N.message)),f("Error While Apply Form","error"))}).catch(r=>{k(!1),console.log("Error while Water Apply",r),y("Exception While Apply"),f("Something Went Wrong","error")}),console.log("Final Payload",a)},fe=Ce({typeofConnection:A().required("Require"),connectionThrough:A().required("Require"),ownerType:A().required("Require"),propertyType:A().required("Require"),selectedSafHol:A().required("Require")}),Ne=W(),l=$e({initialValues:{typeofConnection:"",connectionThrough:"",ownerType:"",propertyType:"",categoryType:"",pipelineType:"",wardNo:"",totalArea:"",pincode:"",address:"",safNo:"",holdingNo:"",selectedSafHol:""},enableReinitialize:!0,onSubmit:(s,a)=>{console.log("Value.....",s),je(s)},validationSchema:fe}),ye=s=>{let a=s.target.name,r=s.target.value;y(""),a==="propertyType"&&(r=="1"?u(!0):u(!1)),a==="ownerType"&&(r=="2"?F(!0):F(!1)),a=="pincode"&&l.setFieldValue("pincode",te(r,l.values.pincode,6)),a=="ownerName"&&l.setFieldValue("ownerName",ne(r,l.values.ownerName,60)),a=="guardianName"&&l.setFieldValue("guardianName",ne(r,l.values.guardianName,60)),a=="mobileNo"&&l.setFieldValue("mobileNo",te(r,l.values.mobileNo,10))},ve=()=>{if(l.setFieldValue("selectedSafHol",""),console.log("formik.values.connectionThrough",l.values.connectionThrough),l.values.connectionThrough==1)var s="holding";else if(l.values.connectionThrough==2)var s="saf";else return $(!1);o(!0),_.post(pe,{type:s,ulbId:t==null?void 0:t.selectedUlbId},L).then(a=>{var r;a.data.status?($(!0),console.log("List of Holding SAF",a),he((r=a==null?void 0:a.data)==null?void 0:r.data),f(a.data.data.length+" "+s+" Found","success"),o(!1)):($(!1),f("No "+s+" found against this account","error"),console.log("Error/No "+s+" Found",a),M("No "+s+" found against this account"),o(!1),y("No "+s+" found against this account"))}).catch(a=>{f("Something Went Wrong","error"),$(!1),console.log("Error while getting holding saf",a),o(!1)})};d.useEffect(()=>{ve()},[l.values.connectionThrough]),d.useEffect(()=>{we()},[l.values.selectedSafHol]);const we=()=>{S([]),O(),o(!0);const s={connectionThrough:l.values.connectionThrough,id:l.values.selectedSafHol,ulbId:t==null?void 0:t.selectedUlbId};_.post(be,s,L).then(a=>{var r,N,D,U,E,B,z,G,Y,Q,J,K,X,Z,ee,se,le;console.log("Response of holding/saf",a),a.data.status==!0&&(o(!1),c((r=a==null?void 0:a.data)==null?void 0:r.data),l.setFieldValue("totalArea",(D=(N=a==null?void 0:a.data)==null?void 0:N.data)==null?void 0:D.areaInSqFt),l.setFieldValue("address",(E=(U=a==null?void 0:a.data)==null?void 0:U.data)==null?void 0:E.prop_address),l.setFieldValue("pincode",(z=(B=a==null?void 0:a.data)==null?void 0:B.data)==null?void 0:z.prop_pin_code),l.setFieldValue("new_ward_mstr_id",(Y=(G=a==null?void 0:a.data)==null?void 0:G.data)==null?void 0:Y.new_ward_mstr_id),l.setFieldValue("new_ward_no",(J=(Q=a==null?void 0:a.data)==null?void 0:Q.data)==null?void 0:J.new_ward_no),l.setFieldValue("ownerName",(X=(K=a==null?void 0:a.data)==null?void 0:K.data)==null?void 0:X.owner_name),l.setFieldValue("guardianName",(ee=(Z=a==null?void 0:a.data)==null?void 0:Z.data)==null?void 0:ee.guardian_name),l.setFieldValue("mobileNo",(le=(se=a==null?void 0:a.data)==null?void 0:se.data)==null?void 0:le.mobile_no),l.setFieldValue("ownerType",1)),a.data.status==!1&&(console.log("NO data......"+l.values.connectionThrough),y("No Data found against : "+l.values.selectedSafHol,"error"),f("No Data found against : "+l.values.selectedSafHol,"error"),M("No Data found against : "+l.values.selectedSafHol),c({message:"Please enter valid no."}),o(!1))}).catch(a=>{console.log("Failed to Saf Holding ",a),c({message:"Error While Fetching Data"}),o(!1)})};d.useEffect(()=>{O()},[l.values.connectionThrough]);const O=()=>{c(""),F(""),l.setFieldValue("totalArea",""),l.setFieldValue("address",""),l.setFieldValue("pincode",""),l.setFieldValue("new_ward_no",""),l.setFieldValue("new_ward_mstr_id",""),l.setFieldValue("ownerName",""),l.setFieldValue("guardianName",""),l.setFieldValue("mobileNo","")},Se=s=>{const a=window.confirm("Are you sure you want to delete this tenant?");console.log("key ",s),a&&(S(r=>r.filter(N=>{if(r.indexOf(N)==s)console.log("value matched at ",s);else return N})),f("Tenant deleted","info"))},Te=()=>{if(console.log("formik.values.ownerName ",l.values.ownerName,", Type",typeof l.values.ownerName),l.values.ownerName==""||l.values.ownerName==null)return w({ownerName:"Require"});if(l.values.guardianName==""||l.values.guardianName==null)return w({guardianName:"Require"});if(l.values.mobileNo==""||l.values.mobileNo==null)return w({mobileNo:"Require"});const s={ownerName:l.values.ownerName,guardianName:l.values.guardianName,email:l.values.email,mobileNo:l.values.mobileNo};S([...b,s]),f("Tenant Added","info"),w(),l.setFieldValue("ownerName",""),l.setFieldValue("guardianName",""),l.setFieldValue("email",""),l.setFieldValue("mobileNo","")};return e.jsxs(e.Fragment,{children:[h&&e.jsx(ke,{}),e.jsx(Re,{message:ue}),e.jsx("p",{className:"mt-6"}),e.jsx("div",{className:"block p-4 md:py-6 shadow-lg bg-white border border-gray-200 rounded-md mx-auto",children:e.jsx("form",{onSubmit:l.handleSubmit,onChange:ye,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Connection Through"]}),e.jsxs("select",{...l.getFieldProps("connectionThrough"),className:`${g} cursor-pointer `,children:[e.jsx("option",{value:"",children:" Select "}),e.jsx("option",{value:"1",children:"Holding No."}),e.jsx("option",{value:"2",children:"SAF No."})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.connectionThrough&&l.errors.connectionThrough?l.errors.connectionThrough:null})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Select Holding/SAF"]}),e.jsxs("select",{disabled:!V,...l.getFieldProps("selectedSafHol"),className:`${g} ${V?"cursor-pointer":"cursor-not-allowed"}  `,children:[e.jsx("option",{value:"",children:" Select "}),j&&(j==null?void 0:j.map((s,a)=>e.jsx("option",{value:(s==null?void 0:s.new_holding_no)||(s==null?void 0:s.saf_no),children:(s==null?void 0:s.new_holding_no)||(s==null?void 0:s.saf_no)},a)))]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.selectedSafHol&&l.errors.selectedSafHol?l.errors.selectedSafHol:null})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Type of Request"]}),e.jsxs("select",{...l.getFieldProps("typeofConnection"),className:`${g} cursor-pointer `,children:[e.jsx("option",{value:"",children:"select"}),e.jsx("option",{value:"1",children:"New Connection"}),e.jsx("option",{value:"2",children:"Regularization"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.typeofConnection&&l.errors.typeofConnection?l.errors.typeofConnection:null})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Owner Type"]}),i!=null&&i.tenanted?e.jsxs("select",{...l.getFieldProps("ownerType"),className:`${g} `,children:[e.jsx("option",{value:"",children:"select"}),e.jsx("option",{value:"1",children:"Owner"}),e.jsx("option",{value:"2",children:"Tenant"})]}):e.jsx("div",{children:e.jsx("input",{type:"text",disabled:!0,value:"Owner",className:`${g} bg-gray-100`})}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.ownerType&&l.errors.ownerType?l.errors.ownerType:null})]})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-3",children:[e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Property Type"]}),e.jsxs("select",{...l.getFieldProps("propertyType"),className:`${g} cursor-pointer `,children:[e.jsx("option",{value:"",children:"Select"}),((q=i==null?void 0:i.usageType)==null?void 0:q.length)>0&&((H=i==null?void 0:i.usageType)==null?void 0:H.map(s=>e.jsx("option",{value:s.id,children:s.usageType})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.propertyType&&l.errors.propertyType?l.errors.propertyType:null})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Category Type"]}),e.jsxs("select",{disabled:!n,...l.getFieldProps("categoryType"),type:"text",className:`${g} ${!n&&"bg-gray-300 opacity-30"}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"APL",children:"APL"}),e.jsx("option",{value:"BPL",children:"BPL"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.categoryType&&l.errors.categoryType?l.errors.categoryType:null})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pipeline Type"]}),e.jsxs("select",{disabled:!n,...l.getFieldProps("pipelineType"),type:"date",className:`${g} ${!n&&"bg-gray-300 opacity-30"}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"2",children:"New Pipeline"}),e.jsx("option",{value:"1",children:"Old Pipeline"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.pipelineType&&l.errors.pipelineType?l.errors.pipelineType:null})]})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-3",children:[e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Ward No."]}),e.jsxs("div",{children:[e.jsx("input",{disabled:!0,type:"text",...l.getFieldProps("new_ward_no"),className:`${g} bg-gray-100 `}),e.jsx("input",{type:"hidden",...l.getFieldProps("wardNo"),className:`${g} bg-gray-100 `})]})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Total Area(Sq.Ft.)"]}),e.jsx("input",{disabled:!0,type:"text",...l.getFieldProps("totalArea"),className:`${g} bg-gray-100 `}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.totalArea&&l.errors.totalArea?l.errors.totalArea:null})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Pincode"]}),e.jsx("input",{type:"text",disabled:!0,...l.getFieldProps("pincode"),className:`${g} bg-gray-100`}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.pincode&&l.errors.pincode?l.errors.pincode:null})]})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Address"]}),e.jsx("textarea",{type:"text",disabled:!0,...l.getFieldProps("address"),className:`${g} bg-gray-100`}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.address&&l.errors.address?l.errors.address:null})]})}),(i==null?void 0:i.owners)&&e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:e.jsxs("div",{className:`${m}`,children:[e.jsx("div",{className:"p-2 bg-indigo-500 rounded text-white",children:e.jsxs("p",{className:"font-semibold text-gray-200 flex text-xs",children:[" ",e.jsx("span",{className:"mt-0.5 mr-1",children:e.jsx(ae,{})})," List of Owner(s) from Property"]})}),e.jsxs("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e.jsx("thead",{class:"text-xs text-left text-gray-900 bg-indigo-300",children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Sl"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Applicant Name"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Guardian Name"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Phone No"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Email"})})]})}),e.jsx("tbody",{class:"text-sm divide-y divide-gray-100",children:e.jsx(e.Fragment,{children:(R=i==null?void 0:i.owners)==null?void 0:R.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[a+1,"."]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:s!=null&&s.ownerName?s==null?void 0:s.ownerName:"N/A"})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left",children:s!=null&&s.guardianName?s==null?void 0:s.guardianName:"N/A"})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left font-medium text-gray-800  text-xs",children:s!=null&&s.mobileNo?s==null?void 0:s.mobileNo:"N/A"})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:s!=null&&s.email?s==null?void 0:s.email:"N/A"})})]}))})})]})]})}),e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:b.length==0?e.jsx("p",{className:"text-center font-semibold text-sm  text-red-500"}):e.jsxs("div",{className:`${m}`,children:[e.jsxs("div",{className:"p-2 bg-yellow-200 rounded",children:[e.jsxs("p",{className:"font-semibold text-gray-800 flex",children:[" ",e.jsx("span",{className:"mt-0.5 mr-1",children:e.jsx(ae,{})})," List of Tenant"]}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"You can add or remove water Tenant from below actions."})]}),e.jsxs("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e.jsx("thead",{class:"text-xs text-left text-gray-900 bg-sky-300",children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Sl"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Applicant Name"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Guardian Father"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Phone No"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:"Email"})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:" text-center",children:"Delete"})})]})}),e.jsx("tbody",{class:"text-sm divide-y divide-gray-100",children:e.jsx(e.Fragment,{children:b==null?void 0:b.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[a+1,"."]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:s==null?void 0:s.ownerName})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left",children:s==null?void 0:s.guardianName})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left font-medium text-gray-800  text-xs",children:s==null?void 0:s.mobileNo})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:s==null?void 0:s.email})}),e.jsx("td",{class:"",children:e.jsx("div",{class:"flex justify-center",children:e.jsx("button",{type:"button",onClick:()=>Se(a),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 text-red-500 hover:text-red-700",children:e.jsx("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})})})})})]}))})})]})]})}),T&&e.jsxs("div",{className:"col-span-4 grid grid-cols-4",children:[e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:["Applicant Name ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",...l.getFieldProps("ownerName"),className:`${g} `,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:(x==null?void 0:x.ownerName)&&(x==null?void 0:x.ownerName)})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:["Guardian Name ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",...l.getFieldProps("guardianName"),className:`${g}`,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:(x==null?void 0:x.guardianName)&&(x==null?void 0:x.guardianName)})]}),e.jsxs("div",{className:`${m}`,children:[e.jsxs("label",{className:`${p}`,children:["Mobile No ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",...l.getFieldProps("mobileNo"),className:`${g}`,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:(x==null?void 0:x.mobileNo)&&(x==null?void 0:x.mobileNo)})]}),e.jsxs("div",{className:`${m}`,children:[e.jsx("label",{className:`${p}`,children:"Email Id "}),e.jsx("input",{...l.getFieldProps("email"),className:`${g}`,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.email&&l.errors.email?l.errors.email:null})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:e.jsx("div",{className:"col-span-4",children:e.jsx("div",{className:"float-right mr-4 -mt-4 mb-5",children:e.jsx("button",{type:"button",onClick:Te,className:"bg-cyan-500 hover:bg-cyan-400 text-sm text-white px-3 py-1 rounded",children:"Add"})})})})]}),e.jsx("div",{className:"col-span-4 mb-3",children:e.jsx("div",{className:"text-center text-red-600 font-semibold",children:C&&"Error : "+C})}),e.jsx("div",{className:"col-span-4",children:e.jsx("div",{className:"flex justify-center",children:me?e.jsx("p",{className:"font-medium",children:"Form Submitting.."}):e.jsxs("div",{className:"space-x-8",children:[e.jsx("button",{type:"button",onClick:()=>Ne(-1),className:" px-12 py-2.5 bg-red-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",children:"Cancel"}),e.jsx("button",{type:"submit",className:" px-12 py-2.5 bg-indigo-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit Form"})]})})})]})})})]})}const Ue={overlay:{background:"#e6e6fc"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"transparent",border:"none",height:"600px"}};function Ee(t){const{t:n}=Le(),[u,h]=v.useState(!1),[o,i]=d.useState(),[c,b]=d.useState(null),{api_ulbList:S}=re(),{notify:C}=d.useContext(ie),y=W(),x=_e().brand_tag;console.log("ULB Brand Tag",x),d.useEffect(()=>{t.openUlbModal==0&&h(!0)},[t.openUlbModal]),d.useEffect(()=>{Ie.get(S).then(j=>{console.log("ULB LIsts...",j.data.data),i([{id:2,ulb_name:"Akola Municipal Corporation"}])}).catch(j=>console.log("Error while fetching ulblist",j))},[]);function w(){}function T(){h(!1),y(-1)}const F=()=>{if(c.id)C("ULB Selected","success"),console.log("Start Button Clicked.."),t.nextScreen(),t.setSelectedUlb(c),h(!1);else return b(null)};return console.log("selectedOption",c),e.jsx("div",{className:"",children:e.jsx(oe,{isOpen:u,onAfterOpen:w,onRequestClose:T,style:Ue,contentLabel:"Example Modal",children:e.jsx("div",{className:"container",children:e.jsx("div",{class:"relative w-full h-full max-w-3xl md:h-auto border-indigo-600 shadow-indigo-200 shadow-sm rounded",children:e.jsxs("div",{class:"relative bg-white rounded-lg shadow ",children:[e.jsxs("div",{class:"flex items-start justify-between p-4 border-b rounded-t darks:border-gray-600",children:[e.jsxs("h3",{class:"text-base md:text-xl font-semibold text-gray-900 darks:text-white",children:[" ",n("tranWaterDashboardIndex.applyingForWaterConnectionLabel.label")]}),e.jsxs("button",{onClick:T,class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-600 darks:hover:text-white","data-modal-hide":"defaultModal",children:[e.jsx("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),e.jsx("span",{class:"sr-only",children:n("tranWaterDashboardIndex.closeModalLabel.label")})]})]}),e.jsxs("div",{class:"p-6 space-y-5",children:[e.jsx("p",{class:"md:text-sm leading-relaxed text-gray-500 text-xs",children:n("tranWaterDashboardIndex.welcomeMessageLabel.label")}),e.jsx("p",{class:"md:text-sm leading-relaxed text-gray-500 text-xs",children:n("tranWaterDashboardIndex.processApplicationLabel.label")}),e.jsx("p",{class:"md:text-sm leading-relaxed text-gray-500 text-xs",children:n("tranWaterDashboardIndex.readInstructionsLabel.label")})]}),e.jsxs("div",{className:"block md:flex justify-center space-x-4",children:[e.jsx("div",{className:"font-semibold text-center",children:n("tranWaterDashboardIndex.selectUlbtLabel.label")}),e.jsx("div",{className:"md:w-1/2 w-auto mr-5",children:e.jsx(Pe,{defaultValue:c,onChange:b,getOptionLabel:j=>j.ulb_name,getOptionValue:j=>j.id,options:o,isClearable:!0,isLoading:!o})})]}),e.jsx("div",{className:"text-center",children:c&&(c==null?void 0:c.id)!=""?e.jsxs("p",{children:[n("tranWaterDashboardIndex.applyingForLabel.label"),e.jsx("span",{className:"text-indigo-500 mx-2",children:c==null?void 0:c.ulb_name})]}):e.jsxs("p",{className:"text-red-500 py-2 mx-2",children:[" ",n("tranWaterDashboardIndex.selectUlbtLabel.label")]})}),e.jsxs("div",{class:"flex flex-row-reverse items-center p-6 border-t border-gray-200 rounded-b",children:[e.jsx("button",{onClick:F,disabled:!(c!=null&&c.id),class:"mx-2 text-white disabled:bg-gray-500 disabled:scale-100 bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center darks:bg-indigo-600 darks:hover:bg-indigo-700 darks:focus:ring-indigo-800",children:n("tranWaterDashboardIndex.startLabel.label")}),e.jsx("button",{onClick:T,class:"mx-2 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg border border-red-200 text-sm font-medium px-5 py-2.5 focus:z-10 ",children:n("tranWaterDashboardIndex.cancelLabel.label")})]})]})})})})})}function Qe(){const[t,n]=d.useState(0),[u,h]=d.useState(),[o,i]=d.useState(),c=b=>{console.log("Screen 1 Data After Apply Water",b),h(b),n(2)};return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{openUlbModal:t,nextScreen:()=>n(1),setSelectedUlb:b=>i(b)}),e.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[e.jsxs("div",{className:"md:col-span-9 col-span-12",children:[e.jsxs("p",{className:"border p-2 bg-indigo-500 text-gray-200 rounded shadow-md",children:["You are applying ",e.jsx("span",{className:"font-semibold",children:" Water Connection "})," for ",e.jsx("span",{className:"font-semibold text-gray-100",children:o==null?void 0:o.ulb_name})]}),e.jsxs("div",{className:`${t==1?"block":"hidden"} `,children:["   ",e.jsx(De,{screen1Data:c,selectedUlbId:o==null?void 0:o.id})]}),e.jsxs("div",{className:`${t==2?"block":"hidden"} `,children:["   ",e.jsx(qe,{data:u})]})]}),e.jsxs("div",{className:"md:col-span-3 col-span-12",children:[e.jsx("p",{className:"border-2 border-indigo-400 p-2 text-center bg-white text-xl shadow-md",children:" Frequently Asked Questions "}),e.jsx(We,{})]})]})]})}export{Qe as default};
