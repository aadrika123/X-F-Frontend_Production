import{v as I,r as l,u as A,a as L,b2 as C,j as e,p as R,cn as g,A as N}from"./index-56c458d6.js";import{W as z}from"./WaterTopButtons-b6457673.js";const S=()=>{var i,m;const{t:r}=I(),[t,f]=l.useState(),[x,j]=l.useState(""),[v,n]=l.useState(!1);l.useState();const{id:o}=A(),c=L(),{api_waterConsumerPaymentHistory:u,api_waterApprovedApplicationDetails:w,header:a}=C(),_=()=>{n(!0),N.post(w,{id:o},a).then(function(s){console.log("water Approved Application Details",s.data.data),f(s.data.data),n(!1)}).catch(function(s){console.log("Error : water Approved Application Details",s),n(!1)})},W=()=>{n(!0),N.post(u,{consumerId:o},a).then(function(s){console.log("water payment history",s.data.data),j(s.data.data),n(!1)}).catch(function(s){console.log("Error : water payment history",s),n(!1)})};return l.useEffect(()=>{_(),W()},[o]),e.jsxs(e.Fragment,{children:[e.jsx(z,{active:"payment",consumerNo:t==null?void 0:t.consumer_no}),e.jsx("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:e.jsxs("div",{className:"col-span-12 rounded-lg",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-1 md:p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-5 pl-4 ",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:t!=null&&t.ward_name?t==null?void 0:t.ward_name:"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.wardNoLabel.label")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-md",children:t!=null&&t.tab_size?t==null?void 0:t.tab_size:"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Tab Size"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:t!=null&&t.property_type?t==null?void 0:t.property_type:"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.propertyTypeLabel.label")})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-md",children:t!=null&&t.property_no?t==null?void 0:t.property_no:"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.holdingNoLabel.label")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-md",children:t!=null&&t.zone?t==null?void 0:t.zone:"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Zone"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:t!=null&&t.category?t==null?void 0:t.category:"N/A"}),e.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.categoryLabel.label")})]})]})]})}),v?e.jsx(R,{}):x&&(x==null?void 0:x.length)!=0?e.jsx("div",{className:"mt-10 bg-white shadow-xl  rounded-lg overflow-auto",children:e.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.transactionNoLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.paymentModeLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.dateLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.typeLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.paidForLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.amountLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.actionLabel.label")})]})}),e.jsxs("tbody",{className:"text-sm",children:[(i=x==null?void 0:x.Consumer)==null?void 0:i.map((s,d)=>{var h,b,p,y;return e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_no}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_date}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_type}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[(b=g((h=s==null?void 0:s.demand)==null?void 0:h.demand_from))==null?void 0:b.format("MMM/yy")," - ",(y=g((p=s==null?void 0:s.demand)==null?void 0:p.demand_upto))==null?void 0:y.format("MMM/yy")]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.amount}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("button",{onClick:()=>c(`/waterUserReceipt/${s==null?void 0:s.tran_no}`),type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:r("tranWaterDashboardIndex.viewReceiptLabel.label")})})]})}),(m=x==null?void 0:x.connection)==null?void 0:m.map((s,d)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:d+1}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[s==null?void 0:s.tran_no,e.jsx("span",{className:"bg-indigo-500 text-white text-xs px-2 rounded-sm ml-2",children:r("tranWaterDashboardIndex.applicationLabel.label")})]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_date}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.tran_type}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r("tranWaterDashboardIndex.applicationLabel.label")}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s==null?void 0:s.amount}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("button",{onClick:()=>c(`/waterConnReceipt/${s==null?void 0:s.tran_no}`),type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:r("tranWaterDashboardIndex.viewReceiptLabel.label")})})]}))]})]})}):e.jsx("div",{className:"text-center mt-10",children:e.jsxs("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl ",children:[" ",r("tranWaterDashboardIndex.noPaymentsFoundLabel.label")]})}),e.jsx("div",{className:"w-full h-40"})]})})]})};export{S as default};
