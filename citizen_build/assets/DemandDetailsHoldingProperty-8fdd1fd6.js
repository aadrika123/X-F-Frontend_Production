import{r as i,u as b,a as P,j as t,ag as w,S as A,Z as N,bg as H,A as D,w as n,f as I,b4 as L}from"./index-2efb59cc.js";import{T as E}from"./TopTabs-0a50fd88.js";function k(F){i.useState(!1);const[T,f]=i.useState(),[B,r]=i.useState(),[x,l]=i.useState(!1),[y,e]=i.useState(!1),{id:d}=b(),{api_getHoldingDemandById:h}=I(),{api_getPropHoldingDetailsById:j}=L(),[C,m]=i.useState();P();const v=()=>{e(!1),l(!0),D.post(`${h}`,{propId:d},n()).then(function(a){var c,u,o;console.log("view deamnd details at property in egov...",a==null?void 0:a.data),(c=a==null?void 0:a.data)!=null&&c.status?(f((u=a==null?void 0:a.data)==null?void 0:u.data),r(a==null?void 0:a.data)):(f((o=a==null?void 0:a.data)==null?void 0:o.data),r(a==null?void 0:a.data)),l(!1)}).catch(function(a){console.log("==2 details by id error...",a),e(!0),l(!1)})},S=()=>{e(!1),l(!0),D.post(`${j}`,{propertyId:d},n()).then(function(a){var c,u,o,g,s;console.log("view prop prop full details...",(c=a==null?void 0:a.data)==null?void 0:c.data),(o=(u=a==null?void 0:a.data)==null?void 0:u.data)!=null&&o.status?m((g=a==null?void 0:a.data)==null?void 0:g.data):m((s=a==null?void 0:a.data)==null?void 0:s.data),l(!1)}).catch(function(a){console.log("==2 details by id error...",a),e(!0),l(!1)})};return i.useEffect(()=>{S(),v()},[]),x?t.jsxs(t.Fragment,{children:[t.jsx(w,{}),t.jsx("div",{className:"min-h-screen"})]}):y?t.jsx(A,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):t.jsxs(t.Fragment,{children:[t.jsx(N,{position:"top-right",autoClose:2e3}),t.jsxs("div",{className:"w-full  mx-auto",children:[t.jsx("div",{className:"",children:t.jsx(E,{title:"Demand-Details",type:"holding",id:d,safNo:"",active:"demand"})}),t.jsx(H,{id:d}),console.log("first",d)]}),t.jsx("div",{className:"w-full mt-20 h-60"})]})}export{k as default};
