import{v as u,r as x,u as w,a as v,b2 as _,j as s,p as W,A as m}from"./index-1c257416.js";import{W as I}from"./WaterTopButtons-444c4387.js";const L=()=>{var a,h;const{t:r}=u(),[t,p]=x.useState(),[n,b]=x.useState(""),[g,o]=x.useState(!1);x.useState();const{id:i}=w(),l=v(),{api_waterConsumerPaymentHistory:y,api_waterApprovedApplicationDetails:N,header:d}=_(),j=()=>{o(!0),m.post(N,{id:i},d).then(function(e){console.log("water Approved Application Details",e.data.data),p(e.data.data),o(!1)}).catch(function(e){console.log("Error : water Approved Application Details",e),o(!1)})},f=()=>{o(!0),m.post(y,{consumerId:i},d).then(function(e){console.log("water payment history",e.data.data),b(e.data.data),o(!1)}).catch(function(e){console.log("Error : water payment history",e),o(!1)})};return x.useEffect(()=>{j(),f()},[i]),s.jsxs(s.Fragment,{children:[s.jsx(I,{active:"payment",consumerNo:t==null?void 0:t.consumer_no}),s.jsx("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:s.jsxs("div",{className:"col-span-12 rounded-lg",children:[s.jsx("div",{className:"",children:s.jsxs("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-1 md:p-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-5 pl-4 ",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:t!=null&&t.holding_no?t==null?void 0:t.holding_no:"N/A"}),s.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.holdingNoLabel.label")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:t!=null&&t.ward_name?t==null?void 0:t.ward_name:"N/A"}),s.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.wardNoLabel.label")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:t!=null&&t.tab_size?t==null?void 0:t.tab_size:"N/A"}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Tab Size"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-10  pl-4 mt-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:t!=null&&t.property_type?t==null?void 0:t.property_type:"N/A"}),s.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.propertyTypeLabel.label")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:t!=null&&t.category?t==null?void 0:t.category:"N/A"}),s.jsx("div",{className:"text-gray-500 text-xs",children:r("tranWaterDashboardIndex.categoryLabel.label")})]})]})]})}),g?s.jsx(W,{}):n&&(n==null?void 0:n.length)!=0?s.jsx("div",{className:"mt-10 bg-white shadow-xl  rounded-lg overflow-auto",children:s.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[s.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.transactionNoLabel.label")}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.paymentModeLabel.label")}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.dateLabel.label")}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.typeLabel.label")}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.paidForLabel.label")}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:r("tranWaterDashboardIndex.actionLabel.label")})]})}),s.jsxs("tbody",{className:"text-sm",children:[(a=n==null?void 0:n.Consumer)==null?void 0:a.map((e,c)=>s.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:c+1}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.tran_no}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.payment_mode}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.tran_date}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.tran_type}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.amount}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(e==null?void 0:e.tran_type)==="Demand Collection"?s.jsx("button",{onClick:()=>l(`/waterUserReceipt/${e==null?void 0:e.tran_no}`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"}):(e==null?void 0:e.tran_type)==="NEW_CONNECTION"?s.jsx("button",{onClick:()=>l(`/waterConnReceipt/${e==null?void 0:e.tran_no}`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"}):(e==null?void 0:e.tran_type)==="WATER RECONNENCTION"?s.jsx("button",{onClick:()=>l(`/waterreonntionReceipt/${e==null?void 0:e.tran_no}`),type:"button",className:"px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"}):null})]})),(h=n==null?void 0:n.connection)==null?void 0:h.map((e,c)=>s.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:c+1}),s.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[e==null?void 0:e.tran_no,s.jsx("span",{className:"bg-indigo-500 text-white text-xs px-2 rounded-sm ml-2",children:r("tranWaterDashboardIndex.applicationLabel.label")})]}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.payment_mode}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.tran_date}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.tran_type}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r("tranWaterDashboardIndex.applicationLabel.label")}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e==null?void 0:e.amount}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s.jsx("button",{onClick:()=>l(`/waterConnReceipt/${e==null?void 0:e.tran_no}`),type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:r("tranWaterDashboardIndex.viewReceiptLabel.label")})})]}))]})]})}):s.jsx("div",{className:"text-center mt-10",children:s.jsxs("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl ",children:[" ",r("tranWaterDashboardIndex.noPaymentsFoundLabel.label")]})}),s.jsx("div",{className:"w-full h-40"})]})})]})};export{L as default};
