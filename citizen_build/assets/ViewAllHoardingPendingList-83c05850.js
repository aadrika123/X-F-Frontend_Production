import{M as c,r as t,A as te,v as se,j as e,ae,h as oe,S as ne,c9 as le}from"./index-a511550f.js";import"./setBatchUpdatesFn-548cc402.js";import{H as re}from"./HoardingApplicationFullDetail-cf268530.js";import"./AgencyNotification-661e3717.js";import{R as ie}from"./ReuploadHoardingDocModal-5ae22c85.js";import{A as de}from"./AdvtListTablePagination-d12139ed.js";const C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};c.setAppElement("#root");function we(ce){t.useState(!1),t.useState(!1);const{api_getHoardingPendingApplicationList:O}=le();t.useState();const[I,H]=t.useState(),[p,u]=t.useState(),[pe,P]=t.useState(!1);t.useState(!1);const[D,ue]=t.useState(!1),[E,h]=t.useState(!1),[R,g]=t.useState(!1),F=()=>h(!0),x=()=>h(!1),_=()=>{},T=()=>g(!0),m=()=>g(!1),V=()=>{};t.useState();const[a,k]=t.useState(!1),[f,v]=t.useState(!1),[U,l]=t.useState(!1),[q,G]=t.useState(0),[r,B]=t.useState(1),[z,w]=t.useState(0),[i,J]=t.useState(10),[d,K]=t.useState(""),[Q,S]=t.useState(!1),W=s=>{P(s)},X=[{Header:"#",Cell:({row:s})=>e.jsx("div",{className:"pr-2",children:s.index+1})},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:({cell:s})=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Y(s.row.values.id,"Active"),className:`bg-indigo-500 text-xs px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r
                hover:text-white text-white`,children:"View"}),s.row.original.doc_upload_status==0&&e.jsx("button",{onClick:()=>Z(s.row.values.id),className:`bg-indigo-500 text-xs ml-4 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700\r
                        hover:text-white text-white`,children:"upload Document"})]})}],Y=(s,n)=>{console.log("..............application id..............",s),console.log("..............application type..............",n),u(s),H(n),F()},Z=s=>{console.log("..............application id..............",s),u(s),T()};t.useEffect(()=>{j(r,i,d)},[r,d,i]);const j=(s,n,ee="")=>{S(!0),l(!0),te.post(O,{page:s,perPage:n,key:ee},se()).then(o=>{var b,N,A,y,L,M;k((N=(b=o.data)==null?void 0:b.data)==null?void 0:N.data),v(!0),l(!1),G((y=(A=o.data)==null?void 0:A.data)==null?void 0:y.total),w((M=(L=o.data)==null?void 0:L.data)==null?void 0:M.last_page)}).catch(o=>{console.log("Error while fetching Filter Data",o),v(!1),l(!1)}),setTimeout(()=>{S(!1)},[500])},$={totalDataCount:q,currentPageIndex:r,setcurrentPageIndex:B,pageLength:i,setpageLength:J,lastPageIndex:z,setlastPageIndex:w,fetchInboxList:j,searchValue:d,setsearchValue:K,refreshStatus:Q};return U?e.jsx(e.Fragment,{children:e.jsx(ae,{})}):D?e.jsx(oe,{children:e.jsx(ne,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-16",children:e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:e.jsx("div",{className:"col-span-12 p-2",children:e.jsxs("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),e.jsx("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"HOARDING PENDING APPLICATIONS"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 p-2",children:[f&&(a==null?void 0:a.length)!=0&&e.jsx(de,{columns:X,dataList:a,values:$}),f&&(a==null?void 0:a.length)==0&&e.jsx("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"})]}),e.jsxs("div",{className:"grid grid-cols-1",children:[e.jsx(c,{isOpen:E,onAfterOpen:_,onRequestClose:x,style:C,contentLabel:"Example Modal",children:e.jsx("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:e.jsx("div",{className:"h-[44rem] bg-white overflow-y-auto",children:e.jsx(re,{data:p,applicationType:I,showLoader:W,closeModal:x})})})}),e.jsx(c,{isOpen:R,onAfterOpen:V,onRequestClose:m,style:C,contentLabel:"Example Modal",children:e.jsx("div",{class:"mx-auto px-0 overflow-y-auto",style:{width:"70vw",height:"100%"},children:e.jsx("div",{className:"h-[44rem] bg-violet-50 overflow-y-auto ",children:e.jsx(ie,{data:p,closeModal:m})})})})]})]})})})}export{we as default};
