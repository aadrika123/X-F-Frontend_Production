import{v as S,r as l,h as C,a as $,u as A,c as F,d as i,o as M,b as k,j as e,q,R as V,A as D,w as I,Q as O,n as R,f as T}from"./index-1c257416.js";import{l as z}from"./login-341c8dbe.js";/* empty css              */const G=B=>{const{t:o}=S(),[m,n]=l.useState(!1),{api_changePassword:u,api_forgotPassword:b}=T();l.useContext(C);const x=$(),[f,_]=l.useState(),[P,N]=l.useState(!1),[y,j]=l.useState(null),{type:d,mobileNo:p}=A(),v=F().shape({oldPassword:i().when([],{is:()=>d=="change",then:()=>i().required(`${o("tranEditProfilePage.enterOldPasswordLabel2.label")}`)}),newPassword:i().min(6,"Minimum six character !").max(50,"Too Long!").required(`${o("tranEditProfilePage.enterNewPasswordLabel2.label")}`).matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#."),matchNewPassword:i().required(`${o("tranEditProfilePage.confirmNewPasswordLabel2.label")}`).oneOf([M("newPassword"),null],`${o("tranEditProfilePage.passwordNotMatchLabel.label")}`)}),a=k({initialValues:{oldPassword:"",newPassword:"",matchNewPassword:""},onSubmit:(t,r)=>{console.log("post data",t),E(t)},validationSchema:v}),E=t=>{let r={password:t==null?void 0:t.oldPassword,newPassword:t==null?void 0:t.newPassword};p!=="null"&&(r.mobileNo=p),console.log("request body before hit api => ",r),n(!0),D.post(d=="change"?u:b,r,I()).then(s=>{var w,h,g;((w=s==null?void 0:s.data)==null?void 0:w.status)==!0&&(console.log("successfully changed => ",s),O.success("Password changed successfully !!!"),d=="change"?x("/landingDashboard"):x("/login")),((h=s==null?void 0:s.data)==null?void 0:h.status)==!1&&c(!0,(g=s==null?void 0:s.data)==null?void 0:g.message),n(!1)}).catch(s=>{c(!0,(s==null?void 0:s.message)||"Something went wrong..."),n(!1)})},L=t=>{let r=t.target.name,s=t.target.value;r=="mobile"&&a.setFieldValue("mobile",R(s,a.values.mobile,10))},c=(t,r)=>{j(r),N(t)};return e.jsxs(e.Fragment,{children:[P&&e.jsx(q,{activateBottomErrorCard:c,errorTitle:y}),e.jsx("div",{className:"w-full text-center mx-auto h-max relative",children:e.jsx("div",{className:"w-full h-max mx-auto rounded-lg ",children:e.jsx("form",{onChange:L,children:e.jsxs("div",{className:"grid grid-cols-12 px-4 md:px-0 shadow-none md:shadow-lg ",children:[e.jsx("div",{className:"col-span-6 hidden md:block bg-white py-10",children:e.jsx("img",{className:"w-3/4",src:z})}),e.jsx("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 shadow-lg md:shadow-none bg-white py-10",children:e.jsxs("div",{className:"px-6 py-6 mt-10 text-gray-700 md:px-14",children:[e.jsx("h1",{className:"text-center font-semibold my-1 flex justify-center",children:e.jsx("span",{className:"px-1 text-indigo-500 text-semibold text-2xl poppins uppercase",children:o("tranEditProfilePage.changePasswordLabel.label")})}),d=="change"&&e.jsxs("div",{className:"my-3 relative text-sm",children:[e.jsx("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:o("tranEditProfilePage.oldPasswordLabel.label")}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[e.jsx("input",{type:"password",...a.getFieldProps("oldPassword"),className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:o("tranEditProfilePage.enterOldPasswordLabel.label")}),e.jsx("div",{className:"w-full text-start",children:e.jsx("span",{className:"text-red-600 text-xs poppins text-start",children:a.touched.oldPassword&&a.errors.oldPassword?a.errors.oldPassword:null})})," "]})]}),e.jsxs("div",{className:"my-3 relative text-sm",children:[e.jsx("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:o("tranEditProfilePage.newPasswordLabel.label")}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[e.jsx("input",{type:"password",...a.getFieldProps("newPassword"),className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:o("tranEditProfilePage.enterNewPasswordLabel.label")}),e.jsx("div",{className:"w-full text-start",children:e.jsx("span",{className:"text-red-600 text-xs poppins text-start",children:a.touched.newPassword&&a.errors.newPassword?a.errors.newPassword:null})})," "]})]}),e.jsxs("div",{className:"my-3 relative text-sm",children:[e.jsx("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:o("tranEditProfilePage.confirmNewPasswordLabel.label")}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[e.jsx("input",{type:"password",...a.getFieldProps("matchNewPassword"),className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:o("tranEditProfilePage.confirmNewPasswordDescriptionLabel.label")}),e.jsx("div",{className:"w-full text-start",children:e.jsx("span",{className:"text-red-600 text-xs poppins text-start",children:a.touched.matchNewPassword&&a.errors.matchNewPassword?a.errors.matchNewPassword:null})})," "]})]}),e.jsx("div",{className:" my-10"}),e.jsx("div",{className:"text-center mt-3 text-xs"}),e.jsxs("div",{className:"my-5   relative",children:[e.jsxs("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",e.jsxs("span",{className:"",children:[" ",f]})]}),m?e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(V,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",onClick:a.handleSubmit,disabled:m,className:" bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-[16rem]  rounded-md text-white text-md font-semibold",children:o("tranEditProfilePage.submitLabel.label")})]})]})})]})})})})]})};export{G as default};
