import{a as y,u as S,b as u,w as g,p as C,j as e,r as n}from"./index-26-p7w-4.js";import{F as w}from"./FormProvider-GwJgoio4.js";import{T as W}from"./TextField-zZnWSXtK.js";import{L as B}from"./LoaderButton-2dw08xaf.js";import{S as o}from"./SelectField-wGEaMXgP.js";import{u as P}from"./formik.esm-gFKTrVOh.js";import"./index-Z8Y5rR5v.js";import{c as I,a as v}from"./index.esm-n36fjmXy.js";import{P as F}from"./index-rgo8Sp6i.js";import{S as A}from"./index-Xrkb3AVU.js";import"./ArrowRightIcon-I1KpqDhn.js";const _=[{id:1,label:"Consumer No",value:"consumerNo"},{id:2,label:"Property No",value:"propertyNo"},{id:3,label:"Applicant Name",value:"applicantName"},{id:4,label:"Mobile",value:"mobileNo"}],z=[{id:1,label:"Zone A-East",value:"1"},{id:2,label:"Zone B-West",value:"2"},{id:3,label:"Zone C-North",value:"3"},{id:4,label:"Zone D-South",value:"4"}];function Y(){var m,c,x,h,b,j,p,f,N;const l=y(),s=S(),t=u({api:g.searchWaterConsumer,config:s==null?void 0:s.searchWaterConsumerState,value:[s==null?void 0:s.searchWaterConsumerState.filterBy,s==null?void 0:s.searchWaterConsumerState.parameter,s==null?void 0:s.searchWaterConsumerState.wardId,s==null?void 0:s.searchWaterConsumerState.zoneId,s==null?void 0:s.searchWaterConsumerState.page,s==null?void 0:s.searchWaterConsumerState.perPage],options:{enabled:!!(s!=null&&s.searchWaterConsumerState.filterBy)}}),r=P({initialValues:s==null?void 0:s.searchWaterConsumerState,validationSchema:I({filterBy:v().required("Search String is required"),parameter:v().required("Search String is required")}),onSubmit:async a=>{s==null||s.setSearchWaterConsumerState({...s==null?void 0:s.searchWaterConsumerState,filterBy:a.filterBy,parameter:a.parameter,wardId:a.wardId,zoneId:a.zoneId})}}),{values:d}=r,i=u({api:C.getWardByZone,config:{zoneId:d.zoneId},value:[d.zoneId],options:{enabled:!!d.zoneId}});return e.jsx(F,{title:"Search Water Consumer",children:e.jsx("div",{className:"px-4 py-4 flex-1",children:e.jsxs(w,{formik:r,children:[e.jsx(n.Card,{className:"w-full",children:e.jsxs(n.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Search Consumer"})}),e.jsx("div",{className:"my-4 border-b-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(o,{label:"Filter By",name:"filterBy",formik:r,children:[e.jsx("option",{value:"",children:"select"}),_.map(a=>e.jsx("option",{value:a.value,children:a.label},a.id))]}),e.jsxs(o,{label:"Zone",name:"zoneId",formik:r,children:[e.jsx("option",{value:"",children:"select"}),z.map(a=>e.jsx("option",{value:a.value,children:a.label},a.id))]}),e.jsxs(o,{label:"select",formik:r,name:"wardId",children:[e.jsx("option",{value:"1",children:"select"}),(c=(m=i==null?void 0:i.data)==null?void 0:m.data)==null?void 0:c.map(a=>e.jsx("option",{value:a.id,children:a.ward_name},a.id))]}),e.jsx(W,{label:"Parameter",name:"parameter",type:"text",formik:r})]}),e.jsx("div",{className:"flex justify-center mt-2",children:e.jsx(B,{type:"submit",disabled:t==null?void 0:t.isFetching,children:"Search"})})]})}),t!=null&&t.isLoading?e.jsx("div",{className:"text-center py-52",children:"Loading..."}):e.jsx(e.Fragment,{children:((h=(x=t==null?void 0:t.data)==null?void 0:x.data.data)==null?void 0:h.length)>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-4 border-b-2"}),(p=(j=(b=t==null?void 0:t.data)==null?void 0:b.data)==null?void 0:j.data)==null?void 0:p.map(a=>e.jsx(n.Card,{className:"w-full mb-5",children:e.jsxs(n.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-sm",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Owner's Name:"}),e.jsx("p",{className:"text-sm text-end",children:a.owner_name})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Consumer No:"}),e.jsx("p",{className:"text-sm text-end",children:a.consumer_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Property No:"}),e.jsx("p",{className:"text-sm text-end",children:(a==null?void 0:a.folio_no)||"--"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Mobile:"}),e.jsx("p",{className:"text-sm text-end truncate w-60",children:a.mobile_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Address:"}),e.jsx("div",{className:"w-44",children:e.jsx("p",{className:"text-sm text-end truncate",children:a.address})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Bill Amount:"}),e.jsx("p",{className:"text-sm text-end truncate w-60",children:(a==null?void 0:a.balance_amount)||0})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Payment Status:"}),e.jsx("p",{className:"text-sm font-semibold ".concat(a.paid_status?"text-green-500":"text-red-500"),children:a.paid_status?"Paid":"Pending"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-around mt-4 -mb-1 gap-6",children:[e.jsx("div",{onClick:()=>l("/amc-app/water/consumer-details/".concat(a.id)),className:"text-xs font-bold text-blue-600",children:"Basic Details"}),e.jsx("div",{onClick:()=>l("/amc-app/water/demand-details/".concat(a.id)),className:"text-xs font-bold text-blue-600",children:"Demand Details"}),e.jsx("div",{onClick:()=>l("/amc-app/water/water-payment-history/".concat(a.id)),className:"text-xs font-bold text-blue-600",children:"Payment History"})]})]})},a.id)),e.jsx("div",{className:"my-4 border-b-2"}),e.jsx(A,{active:s==null?void 0:s.searchWaterConsumerState,noOfPage:(N=(f=t==null?void 0:t.data)==null?void 0:f.data)==null?void 0:N.total,setActive:s==null?void 0:s.setSearchWaterConsumerState})]}):e.jsx("div",{className:"text-center py-52",children:"No Record Found!"})}),e.jsx("div",{className:"my-4 border-b-2"})]})})})}export{Y as default};
