import{j as e,r as v,u as aa,a as la,R as ze,e as ra,i as da,b as Js,S as oa,Q as je,p as He,c as Zs,k as ta}from"./index-26-p7w-4.js";import{u as ea,F as ca}from"./formik.esm-gFKTrVOh.js";import{c as Ee,a as g,d as na,e as Ds}from"./index.esm-n36fjmXy.js";import{F as sa}from"./FormProvider-GwJgoio4.js";import{T as V}from"./TextField-zZnWSXtK.js";import{S as C}from"./SelectField-wGEaMXgP.js";import{R as m}from"./RadioButton-aW5q0zW8.js";import"./index-Z8Y5rR5v.js";import{P as ia}from"./index-rgo8Sp6i.js";import{u as ua}from"./useErrorFocusFields-q-HWbRGN.js";import{O as pa}from"./OverLayLoader-59B1eoh1.js";import"./module-_r_IM6SB.js";const ha=Ee().shape({floorNo:g().required("Floor No is required"),usagesTypeId:g().required("Usages Type is required"),occupancyTypeId:g().required("Occupancy Type is required"),constructionTypeId:g().required("Construction Type is required"),builtUpArea:g().required("Built Up Area is required"),dateFrom:g().required("Date From is required")});function xa({open:p,setOpen:be,addFloorData:he,masterData:w,safData:B}){var ye,S,a,y,f,ge,s,ke,_e,Ne,ve,Oe,T,Ue,Fe,fe,Te,we,me,Ce;const xe=()=>be(!p),A=ea({enableReinitialize:!0,initialValues:{floorNo:"",floorName:"",usagesTypeId:"",usagesTypeName:"",occupancyTypeId:"",occupancyTypeName:"",constructionTypeId:"",constructionTypeName:"",builtUpArea:"",dateFrom:"",dateTo:""},validationSchema:ha,onSubmit:(h,{resetForm:Le})=>{var Ve;he.setFieldValue("addFloor",[...(Ve=he==null?void 0:he.values)==null?void 0:Ve.addFloor,h]),Le(),xe()}});return e.jsxs(sa,{formik:A,children:[p&&e.jsx("div",{onClick:xe,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(p?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Floor"}),e.jsxs("button",{onClick:xe,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"p-4 md:p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsxs(C,{name:"floorNo",selectedText:"floorName",label:"Floor No",formik:A,children:[e.jsx("option",{value:"",children:"Select Floor No"}),(a=(S=(ye=w==null?void 0:w.data)==null?void 0:ye.data)==null?void 0:S.floor_type)==null?void 0:a.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.floor_name},h.id))]})}),e.jsx("div",{children:e.jsxs(C,{name:"usagesTypeId",selectedText:"usagesTypeName",label:"Usages Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Usages Type"}),(ge=(f=(y=w==null?void 0:w.data)==null?void 0:y.data)==null?void 0:f.usage_type)==null?void 0:ge.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.usage_type},h.id))]})}),e.jsx("div",{children:e.jsxs(C,{name:"occupancyTypeId",selectedText:"occupancyTypeName",label:"Occupancy Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Occupancy Type"}),(_e=(ke=(s=w==null?void 0:w.data)==null?void 0:s.data)==null?void 0:ke.occupancy_type)==null?void 0:_e.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.occupancy_type},h.id))]})}),e.jsx("div",{children:e.jsxs(C,{name:"constructionTypeId",selectedText:"constructionTypeName",label:"Construction Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Construction Type"}),(Oe=(ve=(Ne=w==null?void 0:w.data)==null?void 0:Ne.data)==null?void 0:ve.construction_type)==null?void 0:Oe.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.construction_type},h.id))]})}),e.jsx("div",{children:e.jsx(V,{name:"builtUpArea",label:"Built Up Area",formik:A})}),e.jsx("div",{children:e.jsx(V,{name:"dateFrom",label:"Date From",formik:A,type:"date",max:(Ue=(T=B==null?void 0:B.data)==null?void 0:T.data)!=null&&Ue.application_date?(fe=(Fe=B==null?void 0:B.data)==null?void 0:Fe.data)==null?void 0:fe.application_date:""})}),e.jsx("div",{children:e.jsx(V,{name:"dateTo",label:"Date To",formik:A,type:"date",max:(we=(Te=B==null?void 0:B.data)==null?void 0:Te.data)!=null&&we.application_date?(Ce=(me=B==null?void 0:B.data)==null?void 0:me.data)==null?void 0:Ce.application_date:""})})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[e.jsx(v.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:xe,className:"mr-1 bg-gray-300",children:e.jsx("span",{children:"Cancel"})}),e.jsx(v.Button,{type:"submit",size:"sm",children:e.jsx("span",{children:"Add"})})]})]})]})})})]})}const ya=Ee().shape({zoneId:g().required("Required"),wardNo:g().required("Required"),propertyType:g().required("Required"),areaOfPlot:g().required("Required"),category:g().required("Required"),isHoardingBoard:g().required("Required").oneOf(["yes","no"]),hoardingArea:g().when("isHoardingBoard",{is:"yes",then:()=>g().required("Required")}),hoardingInstallationDate:g().when("isHoardingBoard",{is:"yes",then:()=>g().required("Required")}),isMobileTower:g().required("Required").oneOf(["yes","no"]),mobileTowerArea:g().when("isMobileTower",{is:"yes",then:()=>g().required("Required")}),mobileTowerInstallationDate:g().when("isMobileTower",{is:"yes",then:()=>g().required("Required")}),isPetrolPump:g().required("Required").oneOf(["yes","no"]),petrolPumpArea:g().when("isPetrolPump",{is:"yes",then:()=>g().required("Required")}),petrolPumpInstallationDate:g().when("isPetrolPump",{is:"yes",then:()=>g().required("Required")}),isRainWaterHarvesting:g().required("Required").oneOf(["yes","no"]),isFloorFromDB:na().required(),floorFromDB:Ds().when(["isFloorFromDB"],{is:p=>p==!0,then:()=>Ds().of(Ee().shape({floorNo:g().required("Required"),usageTypeId:g().required("Required"),constructionTypeId:g().required("Required"),occupancyTypeId:g().required("Required"),builtUpArea:g().required("Required"),dateFrom:g().required("Required")}))})});function Va(){var Fe,fe,Te,we,me,Ce,h,Le,Ve,Me,We,Ye,Ke,Xe,Qe,Ge,Je,Ze,De,es,ss,as,ls,rs,ds,os,ts,cs,ns,is,us,ps,hs,xs,ys,js,bs,gs,_s,Ns,vs,Fs,fs,Ts,ws,ms,Cs,Vs,Bs,Is,As,Ss,qs;const p=aa(),be=la(),{AutoFocusErrorField:he}=ua(),[w,B]=ze.useState([]),[xe,A]=ze.useState(!1),ye=ra({}),{id:S}=da(),a=Js({api:He.staticSafDetailForVerification,config:{applicationId:S},value:[S],options:{enabled:!!S}}),y=Js({api:He.masterSaf,config:{},options:{enabled:!!S}});ze.useEffect(()=>{var l,_,N,F,d,t,I,x,q,P,R,$,k,o,O,U,L,z,H,E,M,W,Y,K,X,Q,G,J,Z,D,ee,se,ae,le,re,de,oe,te,ce,ne,ie,ue,pe,r,n,i,u,Be,Ie,Ae,Se,qe,Pe,Re,$e,c,j,b,Ps,Rs,$s,ks,Os,Us,Ls,zs,Hs,Es,Ms,Ws,Ys,Ks,Xs,Qs,Gs;(l=a==null?void 0:a.data)!=null&&l.data&&B([{id:1,title:"Zone",assessedLabel:"Self Assessed",selfAssessedValue:(F=f("zone",(N=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:N.zone_mstr_id))==null?void 0:F.zone_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((x=f("zone",(I=(t=(d=a==null?void 0:a.data)==null?void 0:d.data)==null?void 0:t.lastTcVerificationData)==null?void 0:I.zone_mstr_id))==null?void 0:x.zone_name)||"--",headerName:"basicDetail"},{id:2,title:"Ward No",assessedLabel:"Self Assessed",selfAssessedValue:(R=f("ward_master",(P=(q=a==null?void 0:a.data)==null?void 0:q.data)==null?void 0:P.ward_mstr_id))==null?void 0:R.ward_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((O=f("ward_master",(o=(k=($=a==null?void 0:a.data)==null?void 0:$.data)==null?void 0:k.lastTcVerificationData)==null?void 0:o.ward_id))==null?void 0:O.ward_name)||"--",headerName:"basicDetail"},{id:3,title:"Property Type",assessedLabel:"Self Assessed",selfAssessedValue:(z=f("property_type",(L=(U=a==null?void 0:a.data)==null?void 0:U.data)==null?void 0:L.prop_type_mstr_id))==null?void 0:z.property_type,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((W=f("property_type",(M=(E=(H=a==null?void 0:a.data)==null?void 0:H.data)==null?void 0:E.lastTcVerificationData)==null?void 0:M.prop_type_id))==null?void 0:W.property_type)||"--",headerName:"basicDetail"},{id:4,title:"Area of plot(In decimal)",assessedLabel:"Self Assessed",selfAssessedValue:(K=(Y=a==null?void 0:a.data)==null?void 0:Y.data)==null?void 0:K.area_of_plot,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((G=(Q=(X=a==null?void 0:a.data)==null?void 0:X.data)==null?void 0:Q.lastTcVerificationData)==null?void 0:G.area_of_plot)||"--",headerName:"basicDetail"},{id:5,title:"Category",assessedLabel:"Self Assessed",selfAssessedValue:(D=f("categories",(Z=(J=a==null?void 0:a.data)==null?void 0:J.data)==null?void 0:Z.category_id))==null?void 0:D.category,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((le=f("categories",(ae=(se=(ee=a==null?void 0:a.data)==null?void 0:ee.data)==null?void 0:se.lastTcVerificationData)==null?void 0:ae.category_id))==null?void 0:le.category)||"--",headerName:"basicDetail"},{id:6,title:"Hoarding Board(s)?",assessedLabel:"Self Assessed",selfAssessedValue:(de=(re=a==null?void 0:a.data)==null?void 0:re.data)!=null&&de.is_hoarding_board?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(ce=(te=(oe=a==null?void 0:a.data)==null?void 0:oe.data)==null?void 0:te.lastTcVerificationData)!=null&&ce.has_hoarding?"Yes":"No",area:((ue=(ie=(ne=a==null?void 0:a.data)==null?void 0:ne.data)==null?void 0:ie.lastTcVerificationData)==null?void 0:ue.hoarding_area)||"--",installationDate:(n=(r=(pe=a==null?void 0:a.data)==null?void 0:pe.data)==null?void 0:r.lastTcVerificationData)==null?void 0:n.hoarding_installation_date},{id:7,title:"Mobile Tower?",assessedLabel:"Self Assessed",selfAssessedValue:(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ae=(Ie=(Be=a==null?void 0:a.data)==null?void 0:Be.data)==null?void 0:Ie.lastTcVerificationData)!=null&&Ae.has_mobile_tower?"Yes":"No",area:((Pe=(qe=(Se=a==null?void 0:a.data)==null?void 0:Se.data)==null?void 0:qe.lastTcVerificationData)==null?void 0:Pe.tower_area)||"--",installationDate:(c=($e=(Re=a==null?void 0:a.data)==null?void 0:Re.data)==null?void 0:$e.lastTcVerificationData)==null?void 0:c.tower_installation_date},{id:8,title:"Petrol Pump?",assessedLabel:"Self Assessed",selfAssessedValue:(b=(j=a==null?void 0:a.data)==null?void 0:j.data)!=null&&b.is_petrol_pump?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:($s=(Rs=(Ps=a==null?void 0:a.data)==null?void 0:Ps.data)==null?void 0:Rs.lastTcVerificationData)!=null&&$s.has_petrol_pump?"Yes":"No",area:((Us=(Os=(ks=a==null?void 0:a.data)==null?void 0:ks.data)==null?void 0:Os.lastTcVerificationData)==null?void 0:Us.underground_area)||"--",installationDate:(Hs=(zs=(Ls=a==null?void 0:a.data)==null?void 0:Ls.data)==null?void 0:zs.lastTcVerificationData)==null?void 0:Hs.petrol_pump_completion_date},{id:9,title:"Rain Water Harvesting?",assessedLabel:"Self Assessed",selfAssessedValue:(Ms=(Es=a==null?void 0:a.data)==null?void 0:Es.data)!=null&&Ms.is_water_harvesting?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ks=(Ys=(Ws=a==null?void 0:a.data)==null?void 0:Ws.data)==null?void 0:Ys.lastTcVerificationData)!=null&&Ks.has_water_harvesting?"Yes":"No",installationDate:((Gs=(Qs=(Xs=a==null?void 0:a.data)==null?void 0:Xs.data)==null?void 0:Qs.lastTcVerificationData)==null?void 0:Gs.rwh_date)||""}])},[(Fe=a==null?void 0:a.data)==null?void 0:Fe.data,(fe=y==null?void 0:y.data)==null?void 0:fe.data]);const f=(l,_)=>{var N,F,d;return(d=(F=(N=y==null?void 0:y.data)==null?void 0:N.data)==null?void 0:F[l])==null?void 0:d.filter(t=>t.id==_)[0]},ge=()=>{var _,N,F,d,t,I;return[...((F=(N=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:N.floors)==null?void 0:F.length)>0?(I=(t=(d=a==null?void 0:a.data)==null?void 0:d.data)==null?void 0:t.floors)==null?void 0:I.map(x=>({floorId:(x==null?void 0:x.id)||"",checkFloorNo:"1",floorNo:(x==null?void 0:x.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(x==null?void 0:x.usage_type_mstr_id)||"",checkConstructionTypeId:"1",constructionTypeId:(x==null?void 0:x.const_type_mstr_id)||"",checkOccupancyType:"1",occupancyTypeId:(x==null?void 0:x.occupancy_type_mstr_id)||"",checkBuiltUpArea:"1",builtUpArea:(x==null?void 0:x.builtup_area)||"",checkDateFrom:"1",dateFrom:(x==null?void 0:x.date_from)||"",checkDateTo:"1",dateTo:(x==null?void 0:x.date_upto)||""})):[]]},s=ea({enableReinitialize:!0,initialValues:{isFloorFromDB:!1,zoneCheck:"1",zoneId:((we=(Te=a==null?void 0:a.data)==null?void 0:Te.data)==null?void 0:we.zone_mstr_id)||"",wardNoCheck:"1",wardNo:((Ce=(me=a==null?void 0:a.data)==null?void 0:me.data)==null?void 0:Ce.ward_mstr_id)||"",propertyTypeCheck:"1",propertyType:((Le=(h=a==null?void 0:a.data)==null?void 0:h.data)==null?void 0:Le.prop_type_mstr_id)||"",areaOfPlotCheck:"1",areaOfPlot:((Me=(Ve=a==null?void 0:a.data)==null?void 0:Ve.data)==null?void 0:Me.area_of_plot)||"",categoryCheck:"1",category:((Ye=(We=a==null?void 0:a.data)==null?void 0:We.data)==null?void 0:Ye.category_id)||"",isHoardingBoardCheck:"1",isHoardingBoard:(Xe=(Ke=a==null?void 0:a.data)==null?void 0:Ke.data)!=null&&Xe.is_hoarding_board?"yes":"no",hoardingArea:((Ge=(Qe=a==null?void 0:a.data)==null?void 0:Qe.data)==null?void 0:Ge.hoarding_area)||"",hoardingInstallationDate:((Ze=(Je=a==null?void 0:a.data)==null?void 0:Je.data)==null?void 0:Ze.hoarding_installation_date)||"",isMobileTowerCheck:"1",isMobileTower:(es=(De=a==null?void 0:a.data)==null?void 0:De.data)!=null&&es.is_mobile_tower?"yes":"no",mobileTowerArea:((as=(ss=a==null?void 0:a.data)==null?void 0:ss.data)==null?void 0:as.tower_area)||"",mobileTowerInstallationDate:((rs=(ls=a==null?void 0:a.data)==null?void 0:ls.data)==null?void 0:rs.tower_installation_date)||"",isPetrolPumpCheck:"1",isPetrolPump:(os=(ds=a==null?void 0:a.data)==null?void 0:ds.data)!=null&&os.is_petrol_pump?"yes":"no",petrolPumpArea:((cs=(ts=a==null?void 0:a.data)==null?void 0:ts.data)==null?void 0:cs.under_ground_area)||"",petrolPumpInstallationDate:((is=(ns=a==null?void 0:a.data)==null?void 0:ns.data)==null?void 0:is.petrol_pump_completion_date)||"",isRainWaterHarvestingCheck:"1",isRainWaterHarvesting:(ps=(us=a==null?void 0:a.data)==null?void 0:us.data)!=null&&ps.is_water_harvesting?"yes":"no",rainWaterHarvestingInstallationDate:((xs=(hs=a==null?void 0:a.data)==null?void 0:hs.data)==null?void 0:xs.rwh_date_from)||"",addFloor:[],floorFromDB:ge(),remark:""},validationSchema:ya,onSubmit:async l=>{oa.fire({title:"Are you sure?",text:"You are going to verify of this property ",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(_=>{_.isConfirmed&&ke(l)}).catch(_=>{var N,F;console.log(_),je.error((F=(N=_==null?void 0:_.response)==null?void 0:N.data)==null?void 0:F.message)})}}),ke=async l=>{var d,t,I,x,q,P,R,$,k;console.log(l);const _=(d=l==null?void 0:l.floorFromDB)==null?void 0:d.map(o=>({floorId:(o==null?void 0:o.floorId)||0,floorNo:o==null?void 0:o.floorNo,useType:o==null?void 0:o.usageTypeId,constructionType:o==null?void 0:o.constructionTypeId,occupancyType:o==null?void 0:o.occupancyTypeId,buildupArea:o==null?void 0:o.builtUpArea,dateFrom:o==null?void 0:o.dateFrom,dateUpto:o==null?void 0:o.dateTo})),N=(t=l==null?void 0:l.addFloor)==null?void 0:t.map(o=>({floorId:0,floorNo:o==null?void 0:o.floorNo,useType:o==null?void 0:o.usagesTypeId,constructionType:o==null?void 0:o.constructionTypeId,occupancyType:o==null?void 0:o.occupancyTypeId,buildupArea:o==null?void 0:o.builtUpArea,dateFrom:o==null?void 0:o.dateFrom,dateUpto:o==null?void 0:o.dateTo})),F={safId:parseInt(S),propertyType:parseInt(l==null?void 0:l.propertyType),category:parseInt(l==null?void 0:l.category),areaOfPlot:parseInt(l==null?void 0:l.areaOfPlot),wardId:parseInt(l==null?void 0:l.wardNo),isMobileTower:(l==null?void 0:l.isMobileTower)=="yes"?1:0,mobileTower:{area:parseInt(l==null?void 0:l.mobileTowerArea),dateFrom:l==null?void 0:l.mobileTowerInstallationDate},isPetrolPump:(l==null?void 0:l.isPetrolPump)=="yes"?1:0,petrolPump:{area:parseInt(l==null?void 0:l.petrolPumpArea),dateFrom:l==null?void 0:l.petrolPumpInstallationDate},isHoardingBoard:(l==null?void 0:l.isHoardingBoard)=="yes"?1:0,hoardingBoard:{area:parseInt(l==null?void 0:l.hoardingArea),dateFrom:l==null?void 0:l.hoardingInstallationDate},isWaterHarvesting:(l==null?void 0:l.isRainWaterHarvesting)=="yes"?1:0,rainWaterHarvestingInstallationDate:l==null?void 0:l.rainWaterHarvestingInstallationDate,zone:l==null?void 0:l.zoneId,floor:[..._,...N]};if(((I=p==null?void 0:p.user)==null?void 0:I.role[0])=="TAX COLLECTOR")try{const o=await ye.mutateAsync({api:He.safSiteVerification,data:F});(x=o==null?void 0:o.data)!=null&&x.status?(be("/amc-app/property/geo-tagging/".concat(S),{replace:!0}),je.success((q=o==null?void 0:o.data)==null?void 0:q.message)):je.error(((P=o==null?void 0:o.data)==null?void 0:P.message[0])||"Something went wrong, Please try again")}catch(o){je.error(o==null?void 0:o.message),console.log(o)}if(((R=p==null?void 0:p.user)==null?void 0:R.role[0])=="SENIOUR LIPIK")try{const o=await ye.mutateAsync({api:He.safSiteVerification,data:F});($=o==null?void 0:o.data)!=null&&$.status?be("/amc-app/property/naksha-verification/".concat(S),{replace:!0}):je.error(((k=o==null?void 0:o.data)==null?void 0:k.message[0])||"Something went wrong, Please try again")}catch(o){je.error(o==null?void 0:o.message),console.log(o)}},{submitCount:_e,isSubmitting:Ne,errors:ve,isValid:Oe}=s,T=[{id:1,title:"Correct",value:"1"},{id:2,title:"Incorrect",value:"0"}],Ue=l=>{var _,N,F,d,t,I,x,q,P,R,$,k,o,O,U,L,z,H,E,M,W,Y,K,X,Q,G,J,Z,D,ee,se,ae,le,re,de,oe,te,ce,ne,ie,ue,pe;if((l==null?void 0:l.id)===1)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"zoneCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.zoneCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("zoneId",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.zone_mstr_id),s.setFieldValue("zoneCheck",r.value)}:()=>{s.setFieldValue("zoneId",""),s.setFieldValue("zoneCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"zoneId",disabled:((_=s==null?void 0:s.values)==null?void 0:_.zoneCheck)=="1",formik:s,children:[e.jsx("option",{value:"",children:"Select"}),(d=(F=(N=y==null?void 0:y.data)==null?void 0:N.data)==null?void 0:F.zone)==null?void 0:d.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.zoneCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.zone_mstr_id),children:r.zone_name},r.id)})]})]});if((l==null?void 0:l.id)===2)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"wardNoCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.wardNoCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("wardNo",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.ward_mstr_id),s.setFieldValue("wardNoCheck",r.value)}:()=>{s.setFieldValue("wardNo",""),s.setFieldValue("wardNoCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"wardNo",disabled:((t=s==null?void 0:s.values)==null?void 0:t.wardNoCheck)=="1",formik:s,children:[e.jsx("option",{value:"",children:"Select"}),(P=(q=(x=(I=y==null?void 0:y.data)==null?void 0:I.data)==null?void 0:x.ward_master)==null?void 0:q.filter(r=>{var n;return r.zone==((n=s==null?void 0:s.values)==null?void 0:n.zoneId)}))==null?void 0:P.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.wardNoCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.ward_mstr_id),children:r.ward_name},r.id)})]})]});if((l==null?void 0:l.id)===3)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"propertyTypeCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.propertyTypeCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("propertyType",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.prop_type_mstr_id),s.setFieldValue("propertyTypeCheck",r.value)}:()=>{s.setFieldValue("propertyType",""),s.setFieldValue("propertyTypeCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"propertyType",formik:s,disabled:((R=s==null?void 0:s.values)==null?void 0:R.propertyTypeCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(o=(k=($=y==null?void 0:y.data)==null?void 0:$.data)==null?void 0:k.property_type)==null?void 0:o.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.propertyTypeCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.prop_type_mstr_id),children:r.property_type},r.id)})]})]});if((l==null?void 0:l.id)===4)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"areaOfPlotCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.areaOfPlotCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("areaOfPlot",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.area_of_plot),s.setFieldValue("areaOfPlotCheck",r.value)}:()=>{s.setFieldValue("areaOfPlot",""),s.setFieldValue("areaOfPlotCheck",r.value)}},r.id)})}),e.jsx(V,{name:"areaOfPlot",formik:s,disabled:((O=s==null?void 0:s.values)==null?void 0:O.areaOfPlotCheck)=="1"})]});if((l==null?void 0:l.id)===5)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"categoryCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.categoryCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("category",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.category_id),s.setFieldValue("categoryCheck",r.value)}:()=>{s.setFieldValue("category",""),s.setFieldValue("categoryCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"category",formik:s,disabled:((U=s==null?void 0:s.values)==null?void 0:U.categoryCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(H=(z=(L=y==null?void 0:y.data)==null?void 0:L.data)==null?void 0:z.categories)==null?void 0:H.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.categoryCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.category_id),children:r.category},r.id)})]})]});if((l==null?void 0:l.id)===6)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isHoardingBoardCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isHoardingBoardCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isHoardingBoard",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_hoarding_board?"yes":"no"),s.setFieldValue("isHoardingBoardCheck",r.value)}:()=>{s.setFieldValue("isHoardingBoard",""),s.setFieldValue("isHoardingBoardCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"isHoardingBoard",formik:s,disabled:((E=s==null?void 0:s.values)==null?void 0:E.isHoardingBoardCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isHoardingBoardCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_hoarding_board?"yes":r.value=="no"),children:r.title},r.value)})]}),((M=s==null?void 0:s.values)==null?void 0:M.isHoardingBoard)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(V,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"hoardingArea",formik:s}),e.jsx(V,{type:"date",max:(Y=(W=a==null?void 0:a.data)==null?void 0:W.data)!=null&&Y.application_date?(X=(K=a==null?void 0:a.data)==null?void 0:K.data)==null?void 0:X.application_date:"",label:"Hoarding Installation Date",name:"hoardingInstallationDate",formik:s})]})]});if((l==null?void 0:l.id)===7)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isMobileTowerCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isMobileTowerCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isMobileTower",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"yes":"no"),s.setFieldValue("isMobileTowerCheck",r.value)}:()=>{s.setFieldValue("isMobileTower",""),s.setFieldValue("isMobileTowerCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"isMobileTower",formik:s,disabled:((Q=s==null?void 0:s.values)==null?void 0:Q.isMobileTowerCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isMobileTowerCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"yes":r.value=="no"),children:r.title},r.value)})]}),((G=s==null?void 0:s.values)==null?void 0:G.isMobileTower)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(V,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"mobileTowerArea",formik:s}),e.jsx(V,{type:"date",label:"Installation Date",name:"mobileTowerInstallationDate",formik:s,max:(Z=(J=a==null?void 0:a.data)==null?void 0:J.data)!=null&&Z.application_date?(ee=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:ee.application_date:""})]})]});if((l==null?void 0:l.id)===8)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isPetrolPumpCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isPetrolPumpCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isPetrolPump",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_petrol_pump?"yes":"no"),s.setFieldValue("isPetrolPumpCheck",r.value)}:()=>{s.setFieldValue("isPetrolPump",""),s.setFieldValue("isPetrolPumpCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"isPetrolPump",formik:s,disabled:((se=s==null?void 0:s.values)==null?void 0:se.isPetrolPumpCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isPetrolPumpCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_petrol_pump?"yes":r.value=="no"),children:r.title},r.value)})]}),((ae=s==null?void 0:s.values)==null?void 0:ae.isPetrolPump)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(V,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"petrolPumpArea",formik:s}),e.jsx(V,{type:"date",label:"Installation Date",name:"petrolPumpInstallationDate",formik:s,max:(re=(le=a==null?void 0:a.data)==null?void 0:le.data)!=null&&re.application_date?(oe=(de=a==null?void 0:a.data)==null?void 0:de.data)==null?void 0:oe.application_date:""})]})]});if((l==null?void 0:l.id)===9)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isRainWaterHarvestingCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isRainWaterHarvestingCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isRainWaterHarvesting",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_water_harvesting?"yes":"no"),s.setFieldValue("isRainWaterHarvestingCheck",r.value)}:()=>{s.setFieldValue("isRainWaterHarvesting",""),s.setFieldValue("isRainWaterHarvestingCheck",r.value)}},r.id)})}),e.jsxs(C,{name:"isRainWaterHarvesting",formik:s,disabled:((te=s==null?void 0:s.values)==null?void 0:te.isRainWaterHarvestingCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isRainWaterHarvestingCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_water_harvesting?"yes":r.value=="no"),children:r.title},r.value)})]}),((ce=s==null?void 0:s.values)==null?void 0:ce.isRainWaterHarvesting)=="yes"&&e.jsx("div",{className:"mt-5",children:e.jsx(V,{type:"date",label:"Installation Date",name:"rainWaterHarvestingInstallationDate",formik:s,max:(ie=(ne=a==null?void 0:a.data)==null?void 0:ne.data)!=null&&ie.application_date?(pe=(ue=a==null?void 0:a.data)==null?void 0:ue.data)==null?void 0:pe.application_date:""})})]})};return Zs.useEffect(()=>{var l,_,N;(_=(l=a==null?void 0:a.data)==null?void 0:l.data)!=null&&_.is_agency_verified&&((N=p==null?void 0:p.user)==null?void 0:N.role[0])=="TAX COLLECTOR"&&be("/amc-app/property/geo-tagging/".concat(S),{replace:!0})},[(js=(ys=a==null?void 0:a.data)==null?void 0:ys.data)==null?void 0:js.is_agency_verified]),Zs.useEffect(()=>{var l;((l=s.values)==null?void 0:l.propertyType)==4?(s.setFieldValue("floorFromDB",[]),s.setFieldValue("isFloorFromDB",!1)):(s.setFieldValue("floorFromDB",ge()),s.setFieldValue("isFloorFromDB",!0))},[(bs=s.values)==null?void 0:bs.propertyType,(_s=(gs=a==null?void 0:a.data)==null?void 0:gs.data)==null?void 0:_s.floors]),ze.useEffect(()=>{he({submitCount:_e,isSubmitting:Ne,errors:ve,isValid:Oe})},[ve,_e,Ne]),a.isLoading||y.isLoading?e.jsx(ta,{}):e.jsxs(ia,{title:"Saf Site Verification",children:[ye.isLoading&&e.jsx(pa,{}),e.jsx(xa,{open:xe,setOpen:A,addFloorData:s,safData:a,masterData:y}),e.jsxs("div",{className:"p-4 ",children:[e.jsx(v.Card,{className:"w-full",children:e.jsxs(v.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-base font-semibold",children:"Details"})}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),e.jsx("h1",{className:"text-sm",children:(vs=(Ns=a==null?void 0:a.data)==null?void 0:Ns.data)==null?void 0:vs.saf_no}),e.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),e.jsx("h1",{className:"text-sm",children:(fs=(Fs=a==null?void 0:a.data)==null?void 0:Fs.data)==null?void 0:fs.assessment_type}),e.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),e.jsx("h1",{className:"text-sm",children:(ws=(Ts=a==null?void 0:a.data)==null?void 0:Ts.data)==null?void 0:ws.application_date}),e.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),e.jsx("h1",{className:"text-sm",children:(Cs=(ms=a==null?void 0:a.data)==null?void 0:ms.data)==null?void 0:Cs.applicant_name}),e.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),e.jsx("div",{className:"w-20 truncate",children:e.jsx("h1",{className:"text-sm",children:(Is=(Bs=(Vs=a==null?void 0:a.data)==null?void 0:Vs.data)==null?void 0:Bs.owners)==null?void 0:Is.map(l=>l==null?void 0:l.mobile_no).join(", ")})})]})]})}),e.jsxs(sa,{formik:s,children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:w==null?void 0:w.map((l,_)=>{var N;return e.jsxs(v.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:l==null?void 0:l.title})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.selfAssessedValue})]}),((N=p==null?void 0:p.user)==null?void 0:N.role[0])=="SENIOUR LIPIK"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Tc Verified :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.tcVerifiedValue})]}),l!=null&&l.has_hoarding||l!=null&&l.has_mobile_tower||l!=null&&l.has_petrol_pump||l!=null&&l.has_water_harvesting?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Area-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.area})]}),e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Date-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.installationDate})]})]}):null]}),Ue(l)]})]},_)})}),e.jsx("div",{className:"border border-gray-300 w-full my-5"}),((As=s==null?void 0:s.values)==null?void 0:As.propertyType)!=4?e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("h1",{className:"text-sm font-semibold text-center",children:"Floor Details"}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx(ca,{name:"floorFromDB",children:l=>{var _,N,F;return e.jsx(e.Fragment,{children:(F=(N=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:N.floors)==null?void 0:F.map((d,t)=>{var I,x,q,P,R,$,k,o,O,U,L,z,H,E,M,W,Y,K,X,Q,G,J,Z,D,ee,se,ae,le,re,de,oe,te,ce,ne,ie,ue,pe,r,n,i,u,Be,Ie,Ae,Se,qe,Pe,Re,$e;return e.jsx("div",{className:"py-3",children:e.jsxs(v.Card,{className:"w-full ",children:[e.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:(I=f("floor_type",d==null?void 0:d.floor_mstr_id))==null?void 0:I.floor_name}),(d==null?void 0:d.id)==0&&e.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-gray-200  rounded-md select-none whitespace-nowrap bg-blue-900/50",children:[e.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:e.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-blue-900 content-['']"})}),e.jsx("span",{className:"ml-4",children:"Add new floor by TC"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Floor"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(x=f("floor_type",d==null?void 0:d.floor_mstr_id))==null?void 0:x.floor_name})]}),((q=p==null?void 0:p.user)==null?void 0:q.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-3 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-xs",children:(P=f("floor_type",d==null?void 0:d.tc_verified_floor_mstr_id))==null?void 0:P.floor_name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkFloorNo"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkFloorNo)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkFloorNo"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].floorNo"),d==null?void 0:d.floor_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkFloorNo"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].floorNo"),"")}},c.id)})}),e.jsxs(C,{isDynamic:!0,name:"floorFromDB.".concat(t,".floorNo"),formik:s,disabled:(($=(R=s==null?void 0:s.values)==null?void 0:R.floorFromDB[t])==null?void 0:$.checkFloorNo)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(O=(o=(k=y==null?void 0:y.data)==null?void 0:k.data)==null?void 0:o.floor_type)==null?void 0:O.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkFloorNo)=="1"&&c.id==(d==null?void 0:d.floor_mstr_id),children:c.floor_name},c.id)})]})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Usages Type"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(U=f("usage_type",d==null?void 0:d.usage_type_mstr_id))==null?void 0:U.usage_type})]}),((L=p==null?void 0:p.user)==null?void 0:L.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(z=f("usage_type",d==null?void 0:d.tc_verified_usage_type_mstr_id))==null?void 0:z.usage_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkUsagesType"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkUsagesType)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkUsagesType"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].usageTypeId"),d==null?void 0:d.usage_type_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkUsagesType"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].usageTypeId"),"")}},c.id)})}),e.jsxs(C,{isDynamic:!0,name:"floorFromDB.".concat(t,".usageTypeId"),formik:s,disabled:((E=(H=s==null?void 0:s.values)==null?void 0:H.floorFromDB[t])==null?void 0:E.checkUsagesType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(Y=(W=(M=y==null?void 0:y.data)==null?void 0:M.data)==null?void 0:W.usage_type)==null?void 0:Y.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkUsagesType)=="1"&&c.id==(d==null?void 0:d.usage_type_mstr_id),children:c.usage_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Occupancy Type"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(K=f("occupancy_type",d==null?void 0:d.occupancy_type_mstr_id))==null?void 0:K.occupancy_type})]}),((X=p==null?void 0:p.user)==null?void 0:X.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(Q=f("occupancy_type",d==null?void 0:d.tc_verified_occupancy_type_mstr_id))==null?void 0:Q.occupancy_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkOccupancyType"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkOccupancyType)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkOccupancyType"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].occupancyTypeId"),d==null?void 0:d.occupancy_type_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkOccupancyType"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].occupancyTypeId"),"")}},c.id)})}),e.jsxs(C,{isDynamic:!0,name:"floorFromDB.".concat(t,".occupancyTypeId"),formik:s,disabled:((J=(G=s==null?void 0:s.values)==null?void 0:G.floorFromDB[t])==null?void 0:J.checkOccupancyType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(ee=(D=(Z=y==null?void 0:y.data)==null?void 0:Z.data)==null?void 0:D.occupancy_type)==null?void 0:ee.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkOccupancyType)=="1"&&c.id==(d==null?void 0:d.occupancy_type_mstr_id),children:c.occupancy_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Construction Type"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(se=f("construction_type",d==null?void 0:d.const_type_mstr_id))==null?void 0:se.construction_type})]}),((ae=p==null?void 0:p.user)==null?void 0:ae.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(le=f("construction_type",d==null?void 0:d.tc_verified_const_type_mstr_id))==null?void 0:le.construction_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkConstructionTypeId"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkConstructionTypeId)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkConstructionTypeId"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].constructionTypeId"),d==null?void 0:d.const_type_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkConstructionTypeId"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].constructionTypeId"),"")}},c.id)})}),e.jsxs(C,{isDynamic:!0,name:"floorFromDB.".concat(t,".constructionTypeId"),formik:s,disabled:((de=(re=s==null?void 0:s.values)==null?void 0:re.floorFromDB[t])==null?void 0:de.checkConstructionTypeId)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(ce=(te=(oe=y==null?void 0:y.data)==null?void 0:oe.data)==null?void 0:te.construction_type)==null?void 0:ce.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkConstructionTypeId)=="1"&&c.id==(d==null?void 0:d.const_type_mstr_id),children:c.construction_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Build Up Area (in Sq.Ft)"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.builtup_area})]}),((ne=p==null?void 0:p.user)==null?void 0:ne.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_builtup_area})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkBuiltUpArea"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkBuiltUpArea)==c.value,onChange:c.value=="0"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkBuiltUpArea"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].builtUpArea"),"")}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkBuiltUpArea"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].builtUpArea"),d==null?void 0:d.builtup_area)}},c.id)})}),e.jsx(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".builtUpArea"),formik:s,disabled:((ue=(ie=s==null?void 0:s.values)==null?void 0:ie.floorFromDB[t])==null?void 0:ue.checkBuiltUpArea)=="1"})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date From"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.date_from})]}),((pe=p==null?void 0:p.user)==null?void 0:pe.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_date_from})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkDateFrom"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkDateFrom)==c.value,onChange:c.value=="0"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateFrom"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].dateFrom"),"")}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateFrom"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].dateFrom"),d==null?void 0:d.date_from)}},c.id)})}),e.jsx(V,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(t,".dateFrom"),formik:s,disabled:((n=(r=s==null?void 0:s.values)==null?void 0:r.floorFromDB[t])==null?void 0:n.checkDateFrom)=="1",max:(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.application_date?(Ie=(Be=a==null?void 0:a.data)==null?void 0:Be.data)==null?void 0:Ie.application_date:""})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date Upto"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.date_upto})]}),e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_date_upto})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkDateTo"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkDateTo)==c.value,onChange:c.value=="0"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateTo"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].dateTo"),"")}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateTo"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].dateTo"),d==null?void 0:d.date_upto)}},c.id)})}),e.jsx(V,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(t,".dateTo"),formik:s,disabled:((Se=(Ae=s==null?void 0:s.values)==null?void 0:Ae.floorFromDB[t])==null?void 0:Se.checkDateTo)=="1",max:(Pe=(qe=a==null?void 0:a.data)==null?void 0:qe.data)!=null&&Pe.application_date?($e=(Re=a==null?void 0:a.data)==null?void 0:Re.data)==null?void 0:$e.application_date:""})]})]})]})]})},t)})})}}),e.jsx(v.Card,{className:"w-full",children:e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Add Floor"}),e.jsx(v.Button,{size:"sm",onClick:()=>A(!0),children:"Add Floor"})]}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx("div",{className:"relative overflow-x-auto  sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left  border-slate-400 border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm",children:[e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Floor No"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Usage Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Occupancy Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Construction Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Build Up Area"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date From"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date Upto"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Action"})]})}),e.jsx("tbody",{children:(qs=(Ss=s==null?void 0:s.values)==null?void 0:Ss.addFloor)==null?void 0:qs.map((l,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.floorName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.usagesTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.occupancyTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.constructionTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.builtUpArea}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateFrom}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateTo}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:e.jsx("button",{onClick:()=>{var N,F;s.setFieldValue("addFloor",(F=(N=s==null?void 0:s.values)==null?void 0:N.addFloor)==null?void 0:F.filter((d,t)=>t!==_))},type:"button",className:"text-xs font-semibold p-1 border border-slate-300 rounded-md bg-red-600 text-white",children:"Remove"})})]},_))})]})})]})})]}):null,e.jsx("div",{className:"border border-gray-300 w-full my-5"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:e.jsx(v.Card,{className:"w-full",children:e.jsxs(v.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsx("div",{className:"flex justify-start items-center gap-2 mb-1",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Remark"})})})}),e.jsx(V,{name:"remark",formik:s,placeholder:"Remark"})]})})}),e.jsx("div",{className:"border border-gray-300 w-full mt-5"}),e.jsx("div",{className:"flex justify-center items-center py-5",children:e.jsx(v.Button,{size:"sm",type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md mt-4 ",children:"SAVE & NEXT"})})]})]})]})}export{Va as default};
