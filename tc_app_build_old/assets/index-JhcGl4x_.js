import{j as e,r as N,u as ss,a as ls,R as Pe,h as rs,n as ds,m as Ja,S as os,Q as je,p as $e,f as Za,o as ts}from"./index-hiQLm8TA.js";import{u as es,F as cs}from"./formik.esm-e4egwEos.js";import{c as ke,a as g,d as ns,e as Da}from"./index.esm-eo5j1FLJ.js";import{F as as}from"./FormProvider-l751_MOh.js";import{T as C}from"./TextField-TuCHzpng.js";import{S as V}from"./SelectField-oYPPwjxC.js";import{R as m}from"./RadioButton-lirSV-aX.js";import"./index-AiuV23kC.js";import{P as is}from"./index-kqmfRL9d.js";import{u as us}from"./useErrorFocusFields--88Ucvn_.js";import{O as ps}from"./OverLayLoader-hqqu-PlB.js";import"./module-FHwLwGc8.js";const hs=ke().shape({floorNo:g().required("Floor No is required"),usagesTypeId:g().required("Usages Type is required"),occupancyTypeId:g().required("Occupancy Type is required"),constructionTypeId:g().required("Construction Type is required"),builtUpArea:g().required("Built Up Area is required"),dateFrom:g().required("Date From is required")});function xs({open:p,setOpen:be,addFloorData:he,masterData:w,safData:B}){var ye,S,s,y,f,ge,a,Ae,_e,Ne,ve,Se,T,qe,Fe,fe,Te,we,me,Ve;const xe=()=>be(!p),A=es({enableReinitialize:!0,initialValues:{floorNo:"",floorName:"",usagesTypeId:"",usagesTypeName:"",occupancyTypeId:"",occupancyTypeName:"",constructionTypeId:"",constructionTypeName:"",builtUpArea:"",dateFrom:"",dateTo:""},validationSchema:hs,onSubmit:(h,{resetForm:Re})=>{var Ce;he.setFieldValue("addFloor",[...(Ce=he==null?void 0:he.values)==null?void 0:Ce.addFloor,h]),Re(),xe()}});return e.jsxs(as,{formik:A,children:[p&&e.jsx("div",{onClick:xe,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(p?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Floor"}),e.jsxs("button",{onClick:xe,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"p-4 md:p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsxs(V,{name:"floorNo",selectedText:"floorName",label:"Floor No",formik:A,children:[e.jsx("option",{value:"",children:"Select Floor No"}),(s=(S=(ye=w==null?void 0:w.data)==null?void 0:ye.data)==null?void 0:S.floor_type)==null?void 0:s.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.floor_name},h.id))]})}),e.jsx("div",{children:e.jsxs(V,{name:"usagesTypeId",selectedText:"usagesTypeName",label:"Usages Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Usages Type"}),(ge=(f=(y=w==null?void 0:w.data)==null?void 0:y.data)==null?void 0:f.usage_type)==null?void 0:ge.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.usage_type},h.id))]})}),e.jsx("div",{children:e.jsxs(V,{name:"occupancyTypeId",selectedText:"occupancyTypeName",label:"Occupancy Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Occupancy Type"}),(_e=(Ae=(a=w==null?void 0:w.data)==null?void 0:a.data)==null?void 0:Ae.occupancy_type)==null?void 0:_e.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.occupancy_type},h.id))]})}),e.jsx("div",{children:e.jsxs(V,{name:"constructionTypeId",selectedText:"constructionTypeName",label:"Construction Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Construction Type"}),(Se=(ve=(Ne=w==null?void 0:w.data)==null?void 0:Ne.data)==null?void 0:ve.construction_type)==null?void 0:Se.map(h=>e.jsx("option",{value:h==null?void 0:h.id,children:h==null?void 0:h.construction_type},h.id))]})}),e.jsx("div",{children:e.jsx(C,{name:"builtUpArea",label:"Built Up Area",formik:A})}),e.jsx("div",{children:e.jsx(C,{name:"dateFrom",label:"Date From",formik:A,type:"date",max:(qe=(T=B==null?void 0:B.data)==null?void 0:T.data)!=null&&qe.application_date?(fe=(Fe=B==null?void 0:B.data)==null?void 0:Fe.data)==null?void 0:fe.application_date:""})}),e.jsx("div",{children:e.jsx(C,{name:"dateTo",label:"Date To",formik:A,type:"date",max:(we=(Te=B==null?void 0:B.data)==null?void 0:Te.data)!=null&&we.application_date?(Ve=(me=B==null?void 0:B.data)==null?void 0:me.data)==null?void 0:Ve.application_date:""})})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[e.jsx(N.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:xe,className:"mr-1 bg-gray-300",children:e.jsx("span",{children:"Cancel"})}),e.jsx(N.Button,{type:"submit",size:"sm",children:e.jsx("span",{children:"Add"})})]})]})]})})})]})}const ys=ke().shape({zoneId:g().required("Required"),wardNo:g().required("Required"),propertyType:g().required("Required"),areaOfPlot:g().required("Required"),category:g().required("Required"),isHoardingBoard:g().required("Required").oneOf(["yes","no"]),hoardingArea:g().when("isHoardingBoard",{is:"yes",then:()=>g().required("Required")}),hoardingInstallationDate:g().when("isHoardingBoard",{is:"yes",then:()=>g().required("Required")}),isMobileTower:g().required("Required").oneOf(["yes","no"]),mobileTowerArea:g().when("isMobileTower",{is:"yes",then:()=>g().required("Required")}),mobileTowerInstallationDate:g().when("isMobileTower",{is:"yes",then:()=>g().required("Required")}),isPetrolPump:g().required("Required").oneOf(["yes","no"]),petrolPumpArea:g().when("isPetrolPump",{is:"yes",then:()=>g().required("Required")}),petrolPumpInstallationDate:g().when("isPetrolPump",{is:"yes",then:()=>g().required("Required")}),isRainWaterHarvesting:g().required("Required").oneOf(["yes","no"]),rainWaterHarvestingInstallationDate:g().when("isRainWaterHarvesting",{is:"yes",then:()=>g().required("Required")}),isFloorFromDB:ns().required(),floorFromDB:Da().when(["isFloorFromDB"],{is:p=>p==!0,then:()=>Da().of(ke().shape({floorNo:g().required("Required"),usageTypeId:g().required("Required"),constructionTypeId:g().required("Required"),occupancyTypeId:g().required("Required"),builtUpArea:g().required("Required"),dateFrom:g().required("Required")}))})});function Cs(){var Fe,fe,Te,we,me,Ve,h,Re,Ce,Oe,Ue,Le,ze,He,Ee,We,Me,Ye,Ke,Xe,Qe,Ge,Je,Ze,De,ea,aa,sa,la,ra,da,oa,ta,ca,na,ia,ua,pa,ha,xa,ya,ja,ba,ga,_a,Na,va,Fa,fa,Ta,wa,ma,Va;const{user:p}=ss(),be=ls(),{AutoFocusErrorField:he}=us(),[w,B]=Pe.useState([]),[xe,A]=Pe.useState(!1),ye=rs({}),{id:S}=ds(),s=Ja({api:$e.staticSafDetailForVerification,config:{applicationId:S},value:[S],options:{enabled:!!S}}),y=Ja({api:$e.masterSaf,config:{},options:{enabled:!!S}});Pe.useEffect(()=>{var l,_,F,v,d,t,I,x,q,R,P,o,$,k,O,U,L,z,H,E,W,M,Y,K,X,Q,G,J,Z,D,ee,ae,se,le,re,de,oe,te,ce,ne,ie,ue,pe,r,n,i,u,Be,Ie,c,j,b,Ca,Ba,Ia,Aa,Sa,qa,Ra,Pa,$a,ka,Oa,Ua,La,za,Ha,Ea,Wa,Ma,Ya,Ka,Xa,Qa,Ga;(l=s==null?void 0:s.data)!=null&&l.data&&B([{id:1,title:"Zone",assessedLabel:"Self Assessed",selfAssessedValue:(v=f("zone",(F=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:F.zone_mstr_id))==null?void 0:v.zone_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((x=f("zone",(I=(t=(d=s==null?void 0:s.data)==null?void 0:d.data)==null?void 0:t.lastTcVerificationData)==null?void 0:I.zone_mstr_id))==null?void 0:x.zone_name)||"--",headerName:"basicDetail"},{id:2,title:"Ward No",assessedLabel:"Self Assessed",selfAssessedValue:(P=f("ward_master",(R=(q=s==null?void 0:s.data)==null?void 0:q.data)==null?void 0:R.ward_mstr_id))==null?void 0:P.ward_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((O=f("ward_master",(k=($=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:$.lastTcVerificationData)==null?void 0:k.ward_id))==null?void 0:O.ward_name)||"--",headerName:"basicDetail"},{id:3,title:"Property Type",assessedLabel:"Self Assessed",selfAssessedValue:(z=f("property_type",(L=(U=s==null?void 0:s.data)==null?void 0:U.data)==null?void 0:L.prop_type_mstr_id))==null?void 0:z.property_type,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((M=f("property_type",(W=(E=(H=s==null?void 0:s.data)==null?void 0:H.data)==null?void 0:E.lastTcVerificationData)==null?void 0:W.prop_type_id))==null?void 0:M.property_type)||"--",headerName:"basicDetail"},{id:4,title:"Area of plot(In decimal)",assessedLabel:"Self Assessed",selfAssessedValue:(K=(Y=s==null?void 0:s.data)==null?void 0:Y.data)==null?void 0:K.area_of_plot,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((G=(Q=(X=s==null?void 0:s.data)==null?void 0:X.data)==null?void 0:Q.lastTcVerificationData)==null?void 0:G.area_of_plot)||"--",headerName:"basicDetail"},{id:5,title:"Category",assessedLabel:"Self Assessed",selfAssessedValue:(D=f("categories",(Z=(J=s==null?void 0:s.data)==null?void 0:J.data)==null?void 0:Z.category_id))==null?void 0:D.category,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((le=f("categories",(se=(ae=(ee=s==null?void 0:s.data)==null?void 0:ee.data)==null?void 0:ae.lastTcVerificationData)==null?void 0:se.category_id))==null?void 0:le.category)||"--",headerName:"basicDetail"},{id:6,title:"Hoarding Board(s)?",assessedLabel:"Self Assessed",selfAssessedValue:(de=(re=s==null?void 0:s.data)==null?void 0:re.data)!=null&&de.is_hoarding_board?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(ce=(te=(oe=s==null?void 0:s.data)==null?void 0:oe.data)==null?void 0:te.lastTcVerificationData)!=null&&ce.has_hoarding?"Yes":"No",area:((ue=(ie=(ne=s==null?void 0:s.data)==null?void 0:ne.data)==null?void 0:ie.lastTcVerificationData)==null?void 0:ue.hoarding_area)||"--",installationDate:(n=(r=(pe=s==null?void 0:s.data)==null?void 0:pe.data)==null?void 0:r.lastTcVerificationData)==null?void 0:n.hoarding_installation_date},{id:7,title:"Mobile Tower?",assessedLabel:"Self Assessed",selfAssessedValue:(u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(c=(Ie=(Be=s==null?void 0:s.data)==null?void 0:Be.data)==null?void 0:Ie.lastTcVerificationData)!=null&&c.has_mobile_tower?"Yes":"No",area:((Ca=(b=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:b.lastTcVerificationData)==null?void 0:Ca.tower_area)||"--",installationDate:(Aa=(Ia=(Ba=s==null?void 0:s.data)==null?void 0:Ba.data)==null?void 0:Ia.lastTcVerificationData)==null?void 0:Aa.tower_installation_date},{id:8,title:"Petrol Pump?",assessedLabel:"Self Assessed",selfAssessedValue:(qa=(Sa=s==null?void 0:s.data)==null?void 0:Sa.data)!=null&&qa.is_petrol_pump?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:($a=(Pa=(Ra=s==null?void 0:s.data)==null?void 0:Ra.data)==null?void 0:Pa.lastTcVerificationData)!=null&&$a.has_petrol_pump?"Yes":"No",area:((Ua=(Oa=(ka=s==null?void 0:s.data)==null?void 0:ka.data)==null?void 0:Oa.lastTcVerificationData)==null?void 0:Ua.underground_area)||"--",installationDate:(Ha=(za=(La=s==null?void 0:s.data)==null?void 0:La.data)==null?void 0:za.lastTcVerificationData)==null?void 0:Ha.petrol_pump_completion_date},{id:9,title:"Rain Water Harvesting?",assessedLabel:"Self Assessed",selfAssessedValue:(Wa=(Ea=s==null?void 0:s.data)==null?void 0:Ea.data)!=null&&Wa.is_water_harvesting?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ka=(Ya=(Ma=s==null?void 0:s.data)==null?void 0:Ma.data)==null?void 0:Ya.lastTcVerificationData)!=null&&Ka.has_water_harvesting?"Yes":"No",installationDate:((Ga=(Qa=(Xa=s==null?void 0:s.data)==null?void 0:Xa.data)==null?void 0:Qa.lastTcVerificationData)==null?void 0:Ga.rwh_date)||""}])},[(Fe=s==null?void 0:s.data)==null?void 0:Fe.data,(fe=y==null?void 0:y.data)==null?void 0:fe.data]);const f=(l,_)=>{var F,v,d;return(d=(v=(F=y==null?void 0:y.data)==null?void 0:F.data)==null?void 0:v[l])==null?void 0:d.filter(t=>t.id==_)[0]},ge=()=>{var _,F,v,d,t,I;return[...((v=(F=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:F.floors)==null?void 0:v.length)>0?(I=(t=(d=s==null?void 0:s.data)==null?void 0:d.data)==null?void 0:t.floors)==null?void 0:I.map(x=>({floorId:(x==null?void 0:x.id)||"",checkFloorNo:"1",floorNo:(x==null?void 0:x.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(x==null?void 0:x.usage_type_mstr_id)||"",checkConstructionTypeId:"1",constructionTypeId:(x==null?void 0:x.const_type_mstr_id)||"",checkOccupancyType:"1",occupancyTypeId:(x==null?void 0:x.occupancy_type_mstr_id)||"",checkBuiltUpArea:"1",builtUpArea:(x==null?void 0:x.builtup_area)||"",checkDateFrom:"1",dateFrom:(x==null?void 0:x.date_from)||"",checkDateTo:"1",dateTo:(x==null?void 0:x.date_upto)||""})):[]]},a=es({enableReinitialize:!0,initialValues:{isFloorFromDB:!1,zoneCheck:"1",zoneId:((we=(Te=s==null?void 0:s.data)==null?void 0:Te.data)==null?void 0:we.zone_mstr_id)||"",wardNoCheck:"1",wardNo:((Ve=(me=s==null?void 0:s.data)==null?void 0:me.data)==null?void 0:Ve.ward_mstr_id)||"",propertyTypeCheck:"1",propertyType:((Re=(h=s==null?void 0:s.data)==null?void 0:h.data)==null?void 0:Re.prop_type_mstr_id)||"",areaOfPlotCheck:"1",areaOfPlot:((Oe=(Ce=s==null?void 0:s.data)==null?void 0:Ce.data)==null?void 0:Oe.area_of_plot)||"",categoryCheck:"1",category:((Le=(Ue=s==null?void 0:s.data)==null?void 0:Ue.data)==null?void 0:Le.category_id)||"",isHoardingBoardCheck:"1",isHoardingBoard:(He=(ze=s==null?void 0:s.data)==null?void 0:ze.data)!=null&&He.is_hoarding_board?"yes":"no",hoardingArea:((We=(Ee=s==null?void 0:s.data)==null?void 0:Ee.data)==null?void 0:We.hoarding_area)||"",hoardingInstallationDate:((Ye=(Me=s==null?void 0:s.data)==null?void 0:Me.data)==null?void 0:Ye.hoarding_installation_date)||"",isMobileTowerCheck:"1",isMobileTower:(Xe=(Ke=s==null?void 0:s.data)==null?void 0:Ke.data)!=null&&Xe.is_mobile_tower?"yes":"no",mobileTowerArea:((Ge=(Qe=s==null?void 0:s.data)==null?void 0:Qe.data)==null?void 0:Ge.tower_area)||"",mobileTowerInstallationDate:((Ze=(Je=s==null?void 0:s.data)==null?void 0:Je.data)==null?void 0:Ze.tower_installation_date)||"",isPetrolPumpCheck:"1",isPetrolPump:(ea=(De=s==null?void 0:s.data)==null?void 0:De.data)!=null&&ea.is_petrol_pump?"yes":"no",petrolPumpArea:((sa=(aa=s==null?void 0:s.data)==null?void 0:aa.data)==null?void 0:sa.under_ground_area)||"",petrolPumpInstallationDate:((ra=(la=s==null?void 0:s.data)==null?void 0:la.data)==null?void 0:ra.petrol_pump_completion_date)||"",isRainWaterHarvestingCheck:"1",isRainWaterHarvesting:(oa=(da=s==null?void 0:s.data)==null?void 0:da.data)!=null&&oa.is_water_harvesting?"yes":"no",rainWaterHarvestingInstallationDate:((ca=(ta=s==null?void 0:s.data)==null?void 0:ta.data)==null?void 0:ca.rwh_date_from)||"",addFloor:[],floorFromDB:ge(),remark:""},validationSchema:ys,onSubmit:async l=>{os.fire({title:"Are you sure?",text:"You are going to verify naksha of this property ",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(_=>{_.isConfirmed&&Ae(l)}).catch(_=>{var F,v;console.log(_),je.error((v=(F=_==null?void 0:_.response)==null?void 0:F.data)==null?void 0:v.message)})}}),Ae=async l=>{var d,t,I,x,q,R,P;console.log(l);const _=(d=l==null?void 0:l.floorFromDB)==null?void 0:d.map(o=>({floorId:(o==null?void 0:o.floorId)||0,floorNo:o==null?void 0:o.floorNo,useType:o==null?void 0:o.usageTypeId,constructionType:o==null?void 0:o.constructionTypeId,occupancyType:o==null?void 0:o.occupancyTypeId,buildupArea:o==null?void 0:o.builtUpArea,dateFrom:o==null?void 0:o.dateFrom,dateUpto:o==null?void 0:o.dateTo})),F=(t=l==null?void 0:l.addFloor)==null?void 0:t.map(o=>({floorId:0,floorNo:o==null?void 0:o.floorNo,useType:o==null?void 0:o.usagesTypeId,constructionType:o==null?void 0:o.constructionTypeId,occupancyType:o==null?void 0:o.occupancyTypeId,buildupArea:o==null?void 0:o.builtUpArea,dateFrom:o==null?void 0:o.dateFrom,dateUpto:o==null?void 0:o.dateTo})),v={safId:parseInt(S),propertyType:parseInt(l==null?void 0:l.propertyType),category:parseInt(l==null?void 0:l.category),areaOfPlot:parseInt(l==null?void 0:l.areaOfPlot),wardId:parseInt(l==null?void 0:l.wardNo),isMobileTower:(l==null?void 0:l.isMobileTower)=="yes"?1:0,mobileTower:{area:parseInt(l==null?void 0:l.mobileTowerArea),dateFrom:l==null?void 0:l.mobileTowerInstallationDate},isPetrolPump:(l==null?void 0:l.isPetrolPump)=="yes"?1:0,petrolPump:{area:parseInt(l==null?void 0:l.petrolPumpArea),dateFrom:l==null?void 0:l.petrolPumpInstallationDate},isHoardingBoard:(l==null?void 0:l.isHoardingBoard)=="yes"?1:0,hoardingBoard:{area:parseInt(l==null?void 0:l.hoardingArea),dateFrom:l==null?void 0:l.hoardingInstallationDate},isWaterHarvesting:(l==null?void 0:l.isRainWaterHarvesting)=="yes"?1:0,rainWaterHarvestingInstallationDate:l==null?void 0:l.rainWaterHarvestingInstallationDate,zone:l==null?void 0:l.zoneId,floor:[..._,...F]};if((p==null?void 0:p.role[0])=="TAX COLLECTOR")try{const o=await ye.mutateAsync({api:$e.safSiteVerification,data:v});(I=o==null?void 0:o.data)!=null&&I.status?(be("/amc-app/property/geo-tagging/".concat(S),{replace:!0}),je.success((x=o==null?void 0:o.data)==null?void 0:x.message)):je.error(((q=o==null?void 0:o.data)==null?void 0:q.message[0])||"Something went wrong, Please try again")}catch(o){je.error(o==null?void 0:o.message),console.log(o)}if((p==null?void 0:p.role[0])=="SENIOUR LIPIK")try{const o=await ye.mutateAsync({api:$e.safSiteVerification,data:v});(R=o==null?void 0:o.data)!=null&&R.status?be("/amc-app/property/naksha-verification/".concat(S),{replace:!0}):je.error(((P=o==null?void 0:o.data)==null?void 0:P.message[0])||"Something went wrong, Please try again")}catch(o){je.error(o==null?void 0:o.message),console.log(o)}},{submitCount:_e,isSubmitting:Ne,errors:ve,isValid:Se}=a,T=[{id:1,title:"Correct",value:"1"},{id:2,title:"Incorrect",value:"0"}],qe=l=>{var _,F,v,d,t,I,x,q,R,P,o,$,k,O,U,L,z,H,E,W,M,Y,K,X,Q,G,J,Z,D,ee,ae,se,le,re,de,oe,te,ce,ne,ie,ue,pe;if((l==null?void 0:l.id)===1)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"zoneCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.zoneCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("zoneId",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.zone_mstr_id),a.setFieldValue("zoneCheck",r.value)}:()=>{a.setFieldValue("zoneId",""),a.setFieldValue("zoneCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"zoneId",disabled:((_=a==null?void 0:a.values)==null?void 0:_.zoneCheck)=="1",formik:a,children:[e.jsx("option",{value:"",children:"Select"}),(d=(v=(F=y==null?void 0:y.data)==null?void 0:F.data)==null?void 0:v.zone)==null?void 0:d.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=a==null?void 0:a.values)==null?void 0:n.zoneCheck)=="1"&&r.id==((u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.zone_mstr_id),children:r.zone_name},r.id)})]})]});if((l==null?void 0:l.id)===2)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"wardNoCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.wardNoCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("wardNo",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.ward_mstr_id),a.setFieldValue("wardNoCheck",r.value)}:()=>{a.setFieldValue("wardNo",""),a.setFieldValue("wardNoCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"wardNo",disabled:((t=a==null?void 0:a.values)==null?void 0:t.wardNoCheck)=="1",formik:a,children:[e.jsx("option",{value:"",children:"Select"}),(R=(q=(x=(I=y==null?void 0:y.data)==null?void 0:I.data)==null?void 0:x.ward_master)==null?void 0:q.filter(r=>{var n;return r.zone==((n=a==null?void 0:a.values)==null?void 0:n.zoneId)}))==null?void 0:R.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=a==null?void 0:a.values)==null?void 0:n.wardNoCheck)=="1"&&r.id==((u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.ward_mstr_id),children:r.ward_name},r.id)})]})]});if((l==null?void 0:l.id)===3)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"propertyTypeCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.propertyTypeCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("propertyType",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.prop_type_mstr_id),a.setFieldValue("propertyTypeCheck",r.value)}:()=>{a.setFieldValue("propertyType",""),a.setFieldValue("propertyTypeCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"propertyType",formik:a,disabled:((P=a==null?void 0:a.values)==null?void 0:P.propertyTypeCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(k=($=(o=y==null?void 0:y.data)==null?void 0:o.data)==null?void 0:$.property_type)==null?void 0:k.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=a==null?void 0:a.values)==null?void 0:n.propertyTypeCheck)=="1"&&r.id==((u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.prop_type_mstr_id),children:r.property_type},r.id)})]})]});if((l==null?void 0:l.id)===4)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"areaOfPlotCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.areaOfPlotCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("areaOfPlot",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.area_of_plot),a.setFieldValue("areaOfPlotCheck",r.value)}:()=>{a.setFieldValue("areaOfPlot",""),a.setFieldValue("areaOfPlotCheck",r.value)}},r.id)})}),e.jsx(C,{name:"areaOfPlot",formik:a,disabled:((O=a==null?void 0:a.values)==null?void 0:O.areaOfPlotCheck)=="1"})]});if((l==null?void 0:l.id)===5)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"categoryCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.categoryCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("category",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.category_id),a.setFieldValue("categoryCheck",r.value)}:()=>{a.setFieldValue("category",""),a.setFieldValue("categoryCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"category",formik:a,disabled:((U=a==null?void 0:a.values)==null?void 0:U.categoryCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(H=(z=(L=y==null?void 0:y.data)==null?void 0:L.data)==null?void 0:z.categories)==null?void 0:H.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=a==null?void 0:a.values)==null?void 0:n.categoryCheck)=="1"&&r.id==((u=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:u.category_id),children:r.category},r.id)})]})]});if((l==null?void 0:l.id)===6)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"isHoardingBoardCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.isHoardingBoardCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("isHoardingBoard",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_hoarding_board?"yes":"no"),a.setFieldValue("isHoardingBoardCheck",r.value)}:()=>{a.setFieldValue("isHoardingBoard",""),a.setFieldValue("isHoardingBoardCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isHoardingBoard",formik:a,disabled:((E=a==null?void 0:a.values)==null?void 0:E.isHoardingBoardCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=a==null?void 0:a.values)==null?void 0:n.isHoardingBoardCheck)=="1"&&((u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_hoarding_board?"yes":r.value=="no"),children:r.title},r.value)})]}),((W=a==null?void 0:a.values)==null?void 0:W.isHoardingBoard)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"hoardingArea",formik:a}),e.jsx(C,{type:"date",max:(Y=(M=s==null?void 0:s.data)==null?void 0:M.data)!=null&&Y.application_date?(X=(K=s==null?void 0:s.data)==null?void 0:K.data)==null?void 0:X.application_date:"",label:"Hoarding Installation Date",name:"hoardingInstallationDate",formik:a})]})]});if((l==null?void 0:l.id)===7)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"isMobileTowerCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.isMobileTowerCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("isMobileTower",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"yes":"no"),a.setFieldValue("isMobileTowerCheck",r.value)}:()=>{a.setFieldValue("isMobileTower",""),a.setFieldValue("isMobileTowerCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isMobileTower",formik:a,disabled:((Q=a==null?void 0:a.values)==null?void 0:Q.isMobileTowerCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=a==null?void 0:a.values)==null?void 0:n.isMobileTowerCheck)=="1"&&((u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"yes":r.value=="no"),children:r.title},r.value)})]}),((G=a==null?void 0:a.values)==null?void 0:G.isMobileTower)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"mobileTowerArea",formik:a}),e.jsx(C,{type:"date",label:"Installation Date",name:"mobileTowerInstallationDate",formik:a,max:(Z=(J=s==null?void 0:s.data)==null?void 0:J.data)!=null&&Z.application_date?(ee=(D=s==null?void 0:s.data)==null?void 0:D.data)==null?void 0:ee.application_date:""})]})]});if((l==null?void 0:l.id)===8)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"isPetrolPumpCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.isPetrolPumpCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("isPetrolPump",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_petrol_pump?"yes":"no"),a.setFieldValue("isPetrolPumpCheck",r.value)}:()=>{a.setFieldValue("isPetrolPump",""),a.setFieldValue("isPetrolPumpCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isPetrolPump",formik:a,disabled:((ae=a==null?void 0:a.values)==null?void 0:ae.isPetrolPumpCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=a==null?void 0:a.values)==null?void 0:n.isPetrolPumpCheck)=="1"&&((u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_petrol_pump?"yes":r.value=="no"),children:r.title},r.value)})]}),((se=a==null?void 0:a.values)==null?void 0:se.isPetrolPump)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"petrolPumpArea",formik:a}),e.jsx(C,{type:"date",label:"Installation Date",name:"petrolPumpInstallationDate",formik:a,max:(re=(le=s==null?void 0:s.data)==null?void 0:le.data)!=null&&re.application_date?(oe=(de=s==null?void 0:s.data)==null?void 0:de.data)==null?void 0:oe.application_date:""})]})]});if((l==null?void 0:l.id)===9)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:a,name:"isRainWaterHarvestingCheck",label:r.title,value:r.value,checked:((n=a==null?void 0:a.values)==null?void 0:n.isRainWaterHarvestingCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;a.setFieldValue("isRainWaterHarvesting",(u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_water_harvesting?"yes":"no"),a.setFieldValue("isRainWaterHarvestingCheck",r.value)}:()=>{a.setFieldValue("isRainWaterHarvesting",""),a.setFieldValue("isRainWaterHarvestingCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isRainWaterHarvesting",formik:a,disabled:((te=a==null?void 0:a.values)==null?void 0:te.isRainWaterHarvestingCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=a==null?void 0:a.values)==null?void 0:n.isRainWaterHarvestingCheck)=="1"&&((u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.is_water_harvesting?"yes":r.value=="no"),children:r.title},r.value)})]}),((ce=a==null?void 0:a.values)==null?void 0:ce.isRainWaterHarvesting)=="yes"&&e.jsx("div",{className:"mt-5",children:e.jsx(C,{type:"date",label:"Installation Date",name:"rainWaterHarvestingInstallationDate",formik:a,max:(ie=(ne=s==null?void 0:s.data)==null?void 0:ne.data)!=null&&ie.application_date?(pe=(ue=s==null?void 0:s.data)==null?void 0:ue.data)==null?void 0:pe.application_date:""})})]})};return Za.useEffect(()=>{var l,_;(_=(l=s==null?void 0:s.data)==null?void 0:l.data)!=null&&_.is_agency_verified&&(p==null?void 0:p.role[0])=="TAX COLLECTOR"&&be("/amc-app/property/geo-tagging/".concat(S),{replace:!0})},[(ia=(na=s==null?void 0:s.data)==null?void 0:na.data)==null?void 0:ia.is_agency_verified]),Za.useEffect(()=>{var l;((l=a.values)==null?void 0:l.propertyType)==4?(a.setFieldValue("floorFromDB",[]),a.setFieldValue("isFloorFromDB",!1)):(a.setFieldValue("floorFromDB",ge()),a.setFieldValue("isFloorFromDB",!0))},[(ua=a.values)==null?void 0:ua.propertyType,(ha=(pa=s==null?void 0:s.data)==null?void 0:pa.data)==null?void 0:ha.floors]),Pe.useEffect(()=>{he({submitCount:_e,isSubmitting:Ne,errors:ve,isValid:Se})},[ve,_e,Ne]),s.isLoading||y.isLoading?e.jsx(ts,{}):e.jsxs(is,{title:"Saf Site Verification",children:[ye.isLoading&&e.jsx(ps,{}),e.jsx(xs,{open:xe,setOpen:A,addFloorData:a,safData:s,masterData:y}),e.jsxs("div",{className:"p-4 ",children:[e.jsx(N.Card,{className:"w-full",children:e.jsxs(N.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-base font-semibold",children:"Details"})}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),e.jsx("h1",{className:"text-sm",children:(ya=(xa=s==null?void 0:s.data)==null?void 0:xa.data)==null?void 0:ya.saf_no}),e.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),e.jsx("h1",{className:"text-sm",children:(ba=(ja=s==null?void 0:s.data)==null?void 0:ja.data)==null?void 0:ba.assessment_type}),e.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),e.jsx("h1",{className:"text-sm",children:(_a=(ga=s==null?void 0:s.data)==null?void 0:ga.data)==null?void 0:_a.application_date}),e.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),e.jsx("h1",{className:"text-sm",children:(va=(Na=s==null?void 0:s.data)==null?void 0:Na.data)==null?void 0:va.applicant_name}),e.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),e.jsx("div",{className:"w-20 truncate",children:e.jsx("h1",{className:"text-sm",children:(Ta=(fa=(Fa=s==null?void 0:s.data)==null?void 0:Fa.data)==null?void 0:fa.owners)==null?void 0:Ta.map(l=>l==null?void 0:l.mobile_no).join(", ")})})]})]})}),e.jsxs(as,{formik:a,children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:w==null?void 0:w.map((l,_)=>e.jsxs(N.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:l==null?void 0:l.title})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.selfAssessedValue})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Tc Verified :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.tcVerifiedValue})]}),l!=null&&l.has_hoarding||l!=null&&l.has_mobile_tower||l!=null&&l.has_petrol_pump||l!=null&&l.has_water_harvesting?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Area-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.area})]}),e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Date-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.installationDate})]})]}):null]}),qe(l)]})]},_))}),e.jsx("div",{className:"border border-gray-300 w-full my-5"}),((wa=a==null?void 0:a.values)==null?void 0:wa.propertyType)!=4?e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("h1",{className:"text-sm font-semibold text-center",children:"Floor Details"}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx(cs,{name:"floorFromDB",children:l=>{var _,F,v;return e.jsx(e.Fragment,{children:(v=(F=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:F.floors)==null?void 0:v.map((d,t)=>{var I,x,q,R,P,o,$,k,O,U,L,z,H,E,W,M,Y,K,X,Q,G,J,Z,D,ee,ae,se,le,re,de,oe,te,ce,ne,ie,ue,pe,r,n,i,u,Be,Ie;return e.jsx("div",{className:"py-3",children:e.jsxs(N.Card,{className:"w-full ",children:[e.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:(I=f("floor_type",d==null?void 0:d.floor_mstr_id))==null?void 0:I.floor_name}),(d==null?void 0:d.id)==0&&e.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-gray-200  rounded-md select-none whitespace-nowrap bg-blue-900/50",children:[e.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:e.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-blue-900 content-['']"})}),e.jsx("span",{className:"ml-4",children:"Add new floor by TC"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Floor"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(x=f("floor_type",d==null?void 0:d.floor_mstr_id))==null?void 0:x.floor_name})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-3 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-xs",children:(q=f("floor_type",d==null?void 0:d.tc_verified_floor_mstr_id))==null?void 0:q.floor_name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkFloorNo"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkFloorNo)==c.value,onChange:c.value=="1"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkFloorNo"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].floorNo"),d==null?void 0:d.floor_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkFloorNo"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].floorNo"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".floorNo"),formik:a,disabled:((P=(R=a==null?void 0:a.values)==null?void 0:R.floorFromDB[t])==null?void 0:P.checkFloorNo)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(k=($=(o=y==null?void 0:y.data)==null?void 0:o.data)==null?void 0:$.floor_type)==null?void 0:k.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkFloorNo)=="1"&&c.id==(d==null?void 0:d.floor_mstr_id),children:c.floor_name},c.id)})]})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Usages Type"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(O=f("usage_type",d==null?void 0:d.usage_type_mstr_id))==null?void 0:O.usage_type})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(U=f("usage_type",d==null?void 0:d.tc_verified_usage_type_mstr_id))==null?void 0:U.usage_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkUsagesType"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkUsagesType)==c.value,onChange:c.value=="1"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkUsagesType"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].usageTypeId"),d==null?void 0:d.usage_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkUsagesType"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].usageTypeId"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".usageTypeId"),formik:a,disabled:((z=(L=a==null?void 0:a.values)==null?void 0:L.floorFromDB[t])==null?void 0:z.checkUsagesType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(W=(E=(H=y==null?void 0:y.data)==null?void 0:H.data)==null?void 0:E.usage_type)==null?void 0:W.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkUsagesType)=="1"&&c.id==(d==null?void 0:d.usage_type_mstr_id),children:c.usage_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Occupancy Type"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(M=f("occupancy_type",d==null?void 0:d.occupancy_type_mstr_id))==null?void 0:M.occupancy_type})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(Y=f("occupancy_type",d==null?void 0:d.tc_verified_occupancy_type_mstr_id))==null?void 0:Y.occupancy_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkOccupancyType"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkOccupancyType)==c.value,onChange:c.value=="1"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkOccupancyType"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].occupancyTypeId"),d==null?void 0:d.occupancy_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkOccupancyType"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].occupancyTypeId"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".occupancyTypeId"),formik:a,disabled:((X=(K=a==null?void 0:a.values)==null?void 0:K.floorFromDB[t])==null?void 0:X.checkOccupancyType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(J=(G=(Q=y==null?void 0:y.data)==null?void 0:Q.data)==null?void 0:G.occupancy_type)==null?void 0:J.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkOccupancyType)=="1"&&c.id==(d==null?void 0:d.occupancy_type_mstr_id),children:c.occupancy_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Construction Type"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(Z=f("construction_type",d==null?void 0:d.const_type_mstr_id))==null?void 0:Z.construction_type})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(D=f("construction_type",d==null?void 0:d.tc_verified_const_type_mstr_id))==null?void 0:D.construction_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkConstructionTypeId"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkConstructionTypeId)==c.value,onChange:c.value=="1"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkConstructionTypeId"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].constructionTypeId"),d==null?void 0:d.const_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkConstructionTypeId"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].constructionTypeId"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".constructionTypeId"),formik:a,disabled:((ae=(ee=a==null?void 0:a.values)==null?void 0:ee.floorFromDB[t])==null?void 0:ae.checkConstructionTypeId)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(re=(le=(se=y==null?void 0:y.data)==null?void 0:se.data)==null?void 0:le.construction_type)==null?void 0:re.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkConstructionTypeId)=="1"&&c.id==(d==null?void 0:d.const_type_mstr_id),children:c.construction_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Build Up Area (in Sq.Ft)"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.builtup_area})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_builtup_area})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkBuiltUpArea"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkBuiltUpArea)==c.value,onChange:c.value=="0"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkBuiltUpArea"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].builtUpArea"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkBuiltUpArea"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].builtUpArea"),d==null?void 0:d.builtup_area)}},c.id)})}),e.jsx(C,{isDynamic:!0,name:"floorFromDB.".concat(t,".builtUpArea"),formik:a,disabled:((oe=(de=a==null?void 0:a.values)==null?void 0:de.floorFromDB[t])==null?void 0:oe.checkBuiltUpArea)=="1"})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date From"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.date_from})]}),(p==null?void 0:p.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_date_from})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkDateFrom"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkDateFrom)==c.value,onChange:c.value=="0"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkDateFrom"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].dateFrom"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkDateFrom"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].dateFrom"),d==null?void 0:d.date_from)}},c.id)})}),e.jsx(C,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(t,".dateFrom"),formik:a,disabled:((ce=(te=a==null?void 0:a.values)==null?void 0:te.floorFromDB[t])==null?void 0:ce.checkDateFrom)=="1",max:(ie=(ne=s==null?void 0:s.data)==null?void 0:ne.data)!=null&&ie.application_date?(pe=(ue=s==null?void 0:s.data)==null?void 0:ue.data)==null?void 0:pe.application_date:""})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(N.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date Upto"})}),e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.date_upto})]}),e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_date_upto})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:a,name:"floorFromDB[".concat(t,"].checkDateTo"),label:c.title,value:c.value,checked:((b=(j=a==null?void 0:a.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkDateTo)==c.value,onChange:c.value=="0"?()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkDateTo"),"0"),a.setFieldValue("floorFromDB[".concat(t,"].dateTo"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(t,"].checkDateTo"),"1"),a.setFieldValue("floorFromDB[".concat(t,"].dateTo"),d==null?void 0:d.date_upto)}},c.id)})}),e.jsx(C,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(t,".dateTo"),formik:a,disabled:((n=(r=a==null?void 0:a.values)==null?void 0:r.floorFromDB[t])==null?void 0:n.checkDateTo)=="1",max:(u=(i=s==null?void 0:s.data)==null?void 0:i.data)!=null&&u.application_date?(Ie=(Be=s==null?void 0:s.data)==null?void 0:Be.data)==null?void 0:Ie.application_date:""})]})]})]})]})},t)})})}}),e.jsx(N.Card,{className:"w-full",children:e.jsxs(N.CardBody,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Add Floor"}),e.jsx(N.Button,{size:"sm",onClick:()=>A(!0),children:"Add Floor"})]}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx("div",{className:"relative overflow-x-auto  sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left  border-slate-400 border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm",children:[e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Floor No"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Usage Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Occupancy Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Construction Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Build Up Area"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date From"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date Upto"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Action"})]})}),e.jsx("tbody",{children:(Va=(ma=a==null?void 0:a.values)==null?void 0:ma.addFloor)==null?void 0:Va.map((l,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.floorName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.usagesTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.occupancyTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.constructionTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.builtUpArea}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateFrom}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateTo}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:e.jsx("button",{onClick:()=>{var F,v;a.setFieldValue("addFloor",(v=(F=a==null?void 0:a.values)==null?void 0:F.addFloor)==null?void 0:v.filter((d,t)=>t!==_))},type:"button",className:"text-xs font-semibold p-1 border border-slate-300 rounded-md bg-red-600 text-white",children:"Remove"})})]},_))})]})})]})})]}):null,e.jsx("div",{className:"border border-gray-300 w-full my-5"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:e.jsx(N.Card,{className:"w-full",children:e.jsxs(N.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsx("div",{className:"flex justify-start items-center gap-2 mb-1",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Remark"})})})}),e.jsx(C,{name:"remark",formik:a,placeholder:"Remark"})]})})}),e.jsx("div",{className:"border border-gray-300 w-full mt-5"}),e.jsx("div",{className:"flex justify-center items-center py-5",children:e.jsx(N.Button,{size:"sm",type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md mt-4 ",children:"SAVE & NEXT"})})]})]})]})}export{Cs as default};
