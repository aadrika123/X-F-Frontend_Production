import{b as pe,d as k,e as Ne,c as Y,p as C,w as fe,S as me,Q as T,j as e,I as we}from"./index-f3FnD_pr.js";import{d as w,u as he,e as De,f as Te,r as Pe}from"./router-5yjtezO8.js";import{c as ae,b as Ie,a as m,d as Le}from"./index.esm-uHa2PMRf.js";import{r as j}from"./tailwind-6U-kYQAu.js";import{u as ue,F as Se}from"./formik.esm-BnzrXcQN.js";import{F as ye}from"./FormProvider-m3oXncXM.js";import{T as L}from"./TextField-F7FR4uFb.js";import{T as Fe}from"./TextAreaField-PcKLsZGE.js";import"./index-iFVn5AxS.js";import{P as qe}from"./index-VLUfqzc-.js";import{r as Ae}from"./resizeImage-uHOpwjT7.js";import{u as je}from"./useErrorFocusFields-mwtEYYKc.js";import{O as Ce}from"./OverLayLoader-zc9jLvm_.js";import{u as ve}from"./usePathWisePermission-hl1csb9I.js";import"./reactQuery-QTVGT_ni.js";import{S as R}from"./SelectField-lb8idSD0.js";import"./module-yWkWGvkH.js";/* empty css              */import"./reactPdfViewerCore-_DhfwgKt.js";import"./reactPdfViewerDefaultLayout-2IVdmRVg.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./customInputValidation-jhKsg103.js";function Re(r){var M,O,_,H,V,a,p,D,d,$,Z,X;pe();const[x,g]=w.useState(""),{AutoFocusErrorField:c}=je(),[P,t]=w.useState([]),h=he(),f=k({}),[B,S]=w.useState(null),{id:F}=De(),{pathname:y}=Te();ve((O=(M=y==null?void 0:y.split("/"))==null?void 0:M.slice(0,-1))==null?void 0:O.join("/"));const{coords:I,isGeolocationEnabled:se}=Ne(),b=Y({api:C.staticSafDetail,config:{applicationId:F},value:[F],options:{enabled:!!F}});Y({api:(_=fe)==null?void 0:_.workFlowInfo,config:{workflowId:(V=(H=b==null?void 0:b.data)==null?void 0:H.data)==null?void 0:V.workflow_id},value:[(p=(a=b==null?void 0:b.data)==null?void 0:a.data)==null?void 0:p.workflow_id],options:{enabled:!!((d=(D=b==null?void 0:b.data)==null?void 0:D.data)!=null&&d.workflow_id)}});const i=ue({enableReinitialize:!0,initialValues:{...r==null?void 0:r.data,geoTagged:(Z=($=r==null?void 0:r.data)==null?void 0:$.geoTagged)==null?void 0:Z.map(s=>({...s})),comment:((X=r==null?void 0:r.data)==null?void 0:X.comment)||""},validationSchema:ae().shape({geoTagged:Ie().of(ae().shape({latitude:m().required("Latitude is required"),longitude:m().required("Longitude is required"),directionType:m().required("Direction is required"),imagePath:Le().required("Image is required")}))}),onSubmit:async s=>{me.fire({title:"Are you sure?",text:"\n          You are going to submit the application for the survey. Please make sure all the details are correct.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(l=>{l.isConfirmed&&E(s)}).catch(l=>{var o,N;console.log(l),T.error((N=(o=l==null?void 0:l.response)==null?void 0:o.data)==null?void 0:N.message)})}}),E=async s=>{var l,o,N;try{const u=await(f==null?void 0:f.mutateAsync({api:C.surveyNewApplyByTc,data:{propertyType:s==null?void 0:s.propertyType,apartmentId:s==null?void 0:s.apartmentId,plotArea:s==null?void 0:s.plotArea,propAddress:s==null?void 0:s.address,mobileNo:s==null?void 0:s.mobile,ownerName:s==null?void 0:s.name,ward:s==null?void 0:s.wardId,zone:s==null?void 0:s.zoneId,consumerNo:s==null?void 0:s.consumerNo,licenseNo:s==null?void 0:s.licenseNo,isWaterHarvesting:(s==null?void 0:s.isWaterHarvesting)=="yes",harvestingDate:s==null?void 0:s.waterHarvestingDate,isApplicationFormDoc:(s==null?void 0:s.isApplicationFormDoc)=="yes",isSaleDeedDoc:(s==null?void 0:s.isSaleDeedDoc)=="yes",isLayoutSactionMapDoc:(s==null?void 0:s.isLayoutSactionMapDoc)=="yes",isNaOrderDoc:(s==null?void 0:s.isNaOrderDoc)=="yes",isNamunaDDoc:(s==null?void 0:s.isNamunaDDoc)=="yes",isOthersDoc:(s==null?void 0:s.isOthersDoc)=="yes",isMeasurementDoc:(s==null?void 0:s.isMeasurementDoc)=="yes",isPhotoDoc:(s==null?void 0:s.isPhotoDoc)=="yes",isIdProofDoc:(s==null?void 0:s.isIdProofDoc)=="yes"}}));(l=u==null?void 0:u.data)!=null&&l.status&&await W(s,(N=(o=u==null?void 0:u.data)==null?void 0:o.data)==null?void 0:N.safId)}catch(u){console.log(u)}},W=async(s,l)=>{var N,u,q,A,G;const o=new FormData;o.append("safId",l),s==null||s.geoTagged.forEach((n,v)=>{o.append("latitude[".concat(v,"]"),n==null?void 0:n.latitude),o.append("longitude[".concat(v,"]"),n==null?void 0:n.longitude),o.append("directionType[".concat(v,"]"),n==null?void 0:n.directionType),o.append("imagePath[".concat(v,"]"),n==null?void 0:n.imagePath)});try{const n=await f.mutateAsync({api:C.geoTagging,data:o});(N=n==null?void 0:n.data)!=null&&N.status?(T.success((u=n==null?void 0:n.data)==null?void 0:u.message),h("/amc-app/property/saf-generated-new/".concat(l),{replace:!0})):T.error((q=n==null?void 0:n.data)==null?void 0:q.message)}catch(n){T.error((G=(A=n==null?void 0:n.response)==null?void 0:A.data)==null?void 0:G.message)}},{submitCount:U,isSubmitting:J,errors:z,isValid:K}=i,Q=async(s,l,o)=>{var q,A;await((q=window==null?void 0:window.ReactNativeWebView)==null?void 0:q.postMessage(JSON.stringify({Key:"OPEN_CAMERA"})));const N=await Ae(s.target.files[0]),u=new File([N],(A=s.target.files[0])==null?void 0:A.name,{type:"image/*"});i.setFieldValue("geoTagged.".concat(l,".latitude"),I==null?void 0:I.latitude),i.setFieldValue("geoTagged.".concat(l,".longitude"),I==null?void 0:I.longitude),i.setFieldValue("geoTagged.".concat(l,".directionType"),o==null?void 0:o.directionType),i.setFieldValue("geoTagged.".concat(l,".imagePath"),u),S(u)};return Pe.useEffect(()=>{var s;t(((s=r==null?void 0:r.data)==null?void 0:s.isWaterHarvesting)=="yes"?[{id:1,title:"Front Image",directionType:"Front"},{id:2,title:"Left Image",directionType:"Left"},{id:3,title:"Right Image",directionType:"Right"},{id:4,title:"Rain Water Harvesting Image",directionType:"waterHarvesting",isRainWaterHarvesting:!0}]:[{id:1,title:"Front Image",directionType:"Front"},{id:2,title:"Left Image",directionType:"Left"},{id:3,title:"Right Image",directionType:"Right"}])},[r==null?void 0:r.data]),w.useEffect(()=>{c({submitCount:U,isSubmitting:J,errors:z,isValid:K})},[z,U,J]),se||me.fire({text:"Geolocation is not enabled! Please enable to use this app",icon:"error",confirmButtonText:"Ok"}),x?e.jsx("div",{className:"p-16 flex text-center text-red-500 font-semibold h-screen justify-center items-center",children:"Network Error"}):b!=null&&b.isLoading?e.jsx(we,{}):e.jsxs(e.Fragment,{children:[f.isLoading&&e.jsx(Ce,{}),e.jsx("div",{children:e.jsxs(ye,{formik:i,children:[e.jsx(Se,{name:"geoTagged",children:s=>P.map((l,o)=>{var N,u,q,A,G,n,v,te,re,ie,ne,oe,de,ce,le,xe,ge;return e.jsxs(w.Fragment,{children:[e.jsxs(j.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:l==null?void 0:l.title})}),e.jsxs(j.CardBody,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Latitude : "}),e.jsx(L,{disabled:!0,type:"text",isDynamic:!0,name:"geoTagged.".concat(o,".latitude"),formik:i}),e.jsxs("h1",{className:"font-semibold text-sm",children:["Longitude :"," "]}),e.jsx(L,{disabled:!0,type:"text",isDynamic:!0,name:"geoTagged.".concat(o,".longitude"),formik:i})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("div",{children:((u=(N=i==null?void 0:i.values)==null?void 0:N.geoTagged[o])==null?void 0:u.imagePath)&&e.jsx("img",{className:"w-full h-64",loading:"lazy",src:(A=(q=i==null?void 0:i.values)==null?void 0:q.geoTagged[o])!=null&&A.imagePath?URL.createObjectURL((n=(G=i==null?void 0:i.values)==null?void 0:G.geoTagged[o])==null?void 0:n.imagePath):null,alt:(re=(te=(v=i==null?void 0:i.values)==null?void 0:v.geoTagged[o])==null?void 0:te.imagePath)==null?void 0:re.name})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",name:"imagePath",accept:"image/*",onChange:be=>Q(be,o,l)}),e.jsx("span",{className:"text-sm text-red-500",children:(oe=(ne=(ie=i==null?void 0:i.errors)==null?void 0:ie.geoTagged)==null?void 0:ne[o])==null?void 0:oe.imagePath})]}),e.jsx("div",{children:e.jsx("h1",{className:"text-sm text-red-900",children:((ce=(de=i==null?void 0:i.values)==null?void 0:de.geoTagged[o])==null?void 0:ce.imagePath)&&Math.round(((ge=(xe=(le=i==null?void 0:i.values)==null?void 0:le.geoTagged[o])==null?void 0:xe.imagePath)==null?void 0:ge.size)/1024/1024*100)/100+"MB"})})]})]})]}),e.jsx("div",{className:"my-4 border-b-2"})]},o)})}),e.jsx(Fe,{name:"comment",label:"Comment",formik:i}),e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[e.jsx(j.Button,{type:"button",onClick:()=>{var s;r==null||r.prev({...r==null?void 0:r.data,geoTagged:(s=i==null?void 0:i.values)==null?void 0:s.geoTagged})},size:"sm",className:"bg-blue-500 text-white",children:e.jsx("small",{children:"Back"})}),e.jsx(j.Button,{type:"submit",size:"sm",className:"bg-blue-500 text-white",children:e.jsx("small",{children:"Final Submit"})})]})]})})]})}function Be(r){const{data:x,consumerDetails:g,licenseDetails:c}=r,P=()=>{r.next({...x,...x},!1)},t=()=>{r.prev({...x,...x})};return e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-row justify-between mb-3",children:e.jsx("h1",{className:"text-sm font-semibold",children:"View Details"})}),e.jsx(j.Card,{children:e.jsxs(j.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"Basic Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:x==null?void 0:x.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile"}),e.jsxs("p",{className:"text-xs text-gray-800",children:["+91 ",x==null?void 0:x.mobile]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address"}),e.jsx("p",{className:"text-xs text-gray-800",children:x==null?void 0:x.address})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),(g==null?void 0:g.consumer_no)&&e.jsx(j.Card,{children:e.jsxs(j.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"Consumer Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer No"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.consumer_no})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.applicant_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Building Type"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.building_type})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),(c==null?void 0:c.application_no)&&e.jsx(j.Card,{children:e.jsxs(j.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"License Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"License No"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.license_no})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.premises_owner_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Firm Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.firm_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.entity_address})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("div",{className:"flex flex-row gap-8 justify-center",children:[e.jsx(j.Button,{size:"sm",className:"px-8",onClick:t,color:"blue-gray",children:"Back"}),e.jsx(j.Button,{size:"sm",className:"px-8",onClick:P,variant:"gradient",color:"blue",children:"Next"})]})]})}const ee=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],Ee=[{id:1,label:"Zone A-East",value:"1"},{id:2,label:"Zone B-West",value:"2"},{id:3,label:"Zone C-North",value:"3"},{id:4,label:"Zone D-South",value:"4"}],We=[{docname:"isPhotoDoc",label:"Photograph"},{docname:"isIdProofDoc",label:"Id Proof"},{docname:"isApplicationFormDoc",label:"Application Form"},{docname:"isSaleDeedDoc",label:"Sale Deed"},{docname:"isMeasurementDoc",label:"Measurement"},{docname:"isLayoutSactionMapDoc",label:"Layout Saction Map"},{docname:"isNaOrderDoc",label:"NA Order"},{docname:"isNamunaDDoc",label:"7/12/Namuna D"},{docname:"isOthersDoc",label:"Others"}];function ze(r){var z,K,Q,M,O,_,H,V;const{AutoFocusErrorField:x}=je();he();const{mutateAsync:g,isLoading:c}=k({}),P=k({});k({});const t=ue({validationSchema:ae().shape({name:m().required("Name is required"),mobile:m().required("Mobile is required"),zoneId:m().required("Zone is required"),wardId:m().required().label("Ward"),address:m().required("Address is required"),propertyType:m().required("Property Type is required"),plotArea:m().required("Plot Area is required"),consumerNo:m().when("isConsumer",{is:a=>a==="yes",then:()=>m().required("Consumer No is required")}),licenseNo:m().when("isLicense",{is:a=>a==="yes",then:()=>m().required("License No is required")}),waterHarvestingDate:m().when("isWaterHarvesting",{is:a=>a==="yes",then:()=>m().required("Date is required")}),isPhotoDoc:m().matches(/yes/,"Required"),isIdProofDoc:m().matches(/yes/,"Required"),isApplicationFormDoc:m().matches(/yes/,"Required"),isSaleDeedDoc:m().matches(/yes/,"Required")}),initialValues:r==null?void 0:r.data,onSubmit:async(a,{})=>{console.log(a),r==null||r.next({...r==null?void 0:r.data,...a},!1)}}),{values:h,submitCount:f,isSubmitting:B,errors:S,isValid:F}=t,{data:y,isPending:I,isError:se,error:b,isLoading:i}=Y({api:C.getWardByZone,config:{zoneId:h==null?void 0:h.zoneId},value:[h==null?void 0:h.zoneId],options:{enabled:!!(h!=null&&h.zoneId)}}),E=Y({api:C.masterSaf,config:{},options:{enabled:!0}}),W=Y({api:C.getAptByWard,config:{wardMstrId:h==null?void 0:h.wardId},value:[h==null?void 0:h.wardId],options:{enabled:((z=t.values)==null?void 0:z.propertyType)==3}}),U=async()=>{var a,p,D;try{const d=await P.mutateAsync({api:C.consumerVerify,data:{consumerNo:(a=t==null?void 0:t.values)==null?void 0:a.consumerNo}});(p=d==null?void 0:d.data)!=null&&p.status?(r==null||r.setConsumerDetails((D=d==null?void 0:d.data)==null?void 0:D.data),T.success("Consumer Verified")):T.error("Consumer not found")}catch(d){T.error(d.message)}},J=async()=>{var a,p,D;try{const d=await P.mutateAsync({api:C.tradeVerify,data:{licenseNo:(a=t==null?void 0:t.values)==null?void 0:a.licenseNo}});(p=d==null?void 0:d.data)!=null&&p.status?(r==null||r.setLicenseDetails((D=d==null?void 0:d.data)==null?void 0:D.data),T.success("License Verified")):(console.log(d==null?void 0:d.data),T.error("License not found"))}catch(d){T.error(d.message)}};return w.useEffect(()=>{x({submitCount:f,isSubmitting:B,errors:S,isValid:F})},[S,f,B]),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-row justify-between mb-3",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Basic Details"})}),e.jsx(j.Card,{children:e.jsx("div",{className:"p-4",children:e.jsx(ye,{formik:t,children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{children:e.jsx(L,{isRequiredLabel:!0,label:"Property Owner Name",name:"name",type:"text",formik:t,placeholder:"Enter property owner name"})}),e.jsx(L,{isRequiredLabel:!0,label:"Mobile",name:"mobile",type:"text",formik:t,placeholder:"Enter your mobile number",onInput:a=>{a.target.value.length>10?a.target.value=a.target.value.slice(0,10):a.target.value=a.target.value.replace(/[^0-9]/g,"")}}),e.jsxs(R,{label:"Zone",name:"zoneId",formik:t,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"select"}),Ee.map(a=>e.jsx("option",{value:a==null?void 0:a.value,children:a==null?void 0:a.label},a==null?void 0:a.id))]}),e.jsxs("div",{children:[e.jsxs(R,{isRequiredLabel:!0,label:"Ward",formik:t,name:"wardId",disabled:i,children:[e.jsx("option",{value:"",children:"select"}),(K=y==null?void 0:y.data)==null?void 0:K.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.ward_name},a==null?void 0:a.id))]}),e.jsx("small",{className:"text-blue-500",children:i?"Please wait...":""})]}),e.jsxs(R,{isRequiredLabel:!0,label:"Property Type",name:"propertyType",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),(O=(M=(Q=E==null?void 0:E.data)==null?void 0:Q.data)==null?void 0:M.property_type)==null?void 0:O.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.property_type},a==null?void 0:a.id))]}),((_=t==null?void 0:t.values)==null?void 0:_.propertyType)==3&&e.jsxs(R,{label:"Apartment",name:"apartmentId",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),(V=(H=W==null?void 0:W.data)==null?void 0:H.data)==null?void 0:V.map((a,p)=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.apartment_name},p+1))]}),e.jsx(L,{label:"Area of Plot",name:"plotArea",type:"number",onInput:a=>{a.target.value.length>10?a.target.value=a.target.value.slice(0,10):a.target.value=a.target.value.replace(/[^0-9]/g,"")},formik:t,placeholder:"Enter area of plot"}),e.jsx(L,{isRequiredLabel:!0,label:"Address",name:"address",type:"text",formik:t,placeholder:"Enter your address"}),e.jsx(R,{label:"Is Water Connection?",name:"isConsumer",formik:t,children:ee.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isConsumer==="yes"&&e.jsx(L,{isRequiredLabel:!0,onBlur:U,label:"Consumer No",name:"consumerNo",type:"text",formik:t,placeholder:"Enter your consumer number"}),e.jsx(R,{label:"Is Trade License?",name:"isLicense",formik:t,children:ee.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isLicense==="yes"&&e.jsx(L,{isRequiredLabel:!0,label:"License No",onBlur:J,name:"licenseNo",type:"text",formik:t,placeholder:"Enter your license number"}),e.jsx(R,{label:"Is Water Harvesting?",name:"isWaterHarvesting",formik:t,children:ee.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isWaterHarvesting==="yes"&&e.jsx(L,{isRequiredLabel:!0,label:"Water Harvesting Date",name:"waterHarvestingDate",type:"date",formik:t}),e.jsx("h1",{className:"text-xs font-semibold",children:"Please select the document you have"}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:We.map(a=>{var p,D,d,$,Z;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"checkbox",name:a.docname,value:(p=t==null?void 0:t.values)==null?void 0:p[a.docname],checked:((D=t==null?void 0:t.values)==null?void 0:D[a.docname])==="yes",onChange:X=>{t.setFieldValue(a.docname,X.target.checked?"yes":"no")}}),e.jsxs("h1",{className:"text-xs font-semibold",children:[a.label,(a.docname==="isPhotoDoc"||(a==null?void 0:a.docname)=="isIdProofDoc"||(a==null?void 0:a.docname)=="isApplicationFormDoc"||(a==null?void 0:a.docname)=="isSaleDeedDoc")&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-red-500",children:" *"}),e.jsx("div",{className:"text-red-500 text-[10px]",children:((d=t==null?void 0:t.errors)==null?void 0:d[a.docname])&&(($=t==null?void 0:t.touched)==null?void 0:$[a.docname])&&((Z=t==null?void 0:t.errors)==null?void 0:Z[a.docname])})]})]})]},a.docname)})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(j.Button,{size:"sm",type:"submit",color:"blue",loading:c,formik:t,fullWidth:!0,label:"Submit",children:"Next"})})]})})})})]})}function ca(){const[r,x]=w.useState(0),[g,c]=w.useState({name:"",mobile:"",zoneId:"",wardId:"",address:"",isConsumer:"no",isLicense:"no",consumerNo:"",licenseNo:"",propertyType:"",apartmentId:"",plotArea:"",isWaterHarvesting:"no",waterHarvestingDate:"",comment:"",isApplicationFormDoc:"no",isSaleDeedDoc:"no",isLayoutSactionMapDoc:"no",isNaOrderDoc:"no",isNamunaDDoc:"no",isOthersDoc:"no",isMeasurementDoc:"no",isPhotoDoc:"no",isIdProofDoc:"no",geoTagged:[{latitude:"",longitude:"",altitude:"",accuracy:"",imagePath:"",directionType:"",rainWaterHarvesting:""}]}),[P,t]=w.useState({}),[h,f]=w.useState({});w.useState(""),w.useState("");const B=y=>{console.log(y)},S=(y,I=!1)=>{if(c({...g,...y}),I){B(y);return}x(r+1)},F=y=>{c({...g,...y}),x(r-1)};return e.jsx(qe,{title:"New Survey Form",children:e.jsx("div",{className:"px-4 py-6 flex-1",children:e.jsx("div",{children:{0:e.jsx(ze,{next:S,data:g,setData:c,setConsumerDetails:t,setLicenseDetails:f}),1:e.jsx(Be,{next:S,prev:F,data:g,setData:c,setConsumerDetails:t,consumerDetails:P,licenseDetails:h,setLicenseDetails:f}),2:e.jsx(Re,{next:S,prev:F,data:g,setData:c,setConsumerDetails:t,consumerDetails:P,setLicenseDetails:f})}[r]})})})}export{ca as default};
