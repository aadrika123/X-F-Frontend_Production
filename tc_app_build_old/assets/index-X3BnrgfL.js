var Ha=Object.defineProperty;var Ua=(A,$,V)=>$ in A?Ha(A,$,{enumerable:!0,configurable:!0,writable:!0,value:V}):A[$]=V;var Cn=(A,$,V)=>(Ua(A,typeof $!="symbol"?$+"":$,V),V),Vr=(A,$,V)=>{if(!$.has(A))throw TypeError("Cannot "+V)};var ve=(A,$,V)=>(Vr(A,$,"read from private field"),V?V.call(A):$.get(A)),st=(A,$,V)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,V)},At=(A,$,V,B)=>(Vr(A,$,"write to private field"),B?B.call(A,V):$.set(A,V),V);var Hr=(A,$,V,B)=>({set _(O){At(A,$,O,V)},get _(){return ve(A,$,B)}}),ht=(A,$,V)=>(Vr(A,$,"access private method"),V);import{j as jsxRuntimeExports,b as usePostMutation,a as useApiPost,p as propertyApi,S as Swal,Q,f as InitialLoader}from"./index-TVKchaO_.js";import{m as getAugmentedNamespace,r as reactExports,a as reactDomExports,u as useNavigate,R as React,h as useParams,e as react}from"./react-HXRlOr-l.js";import{u as useFormik}from"./formik.esm-BYe_KACy.js";import{c as create$3,f as create$8,a as create$6}from"./index.esm-yBrOrWJe.js";import{F as FormProvider}from"./FormProvider-VQsTVwN5.js";import{T as TextAreaField}from"./TextAreaField-siWBL9gt.js";import"./index-mWJwE1Yp.js";import{P as Page}from"./index-NthHsoqN.js";import{r as resizeFile}from"./resizeImage-8bp6sw-e.js";import{O as OverLayLoader}from"./OverLayLoader-QvWTNKX1.js";import"./module-_E3xZESp.js";var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,V){module.exports=V()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Ae,$.bytesToString=Ye,$.createPromiseCapability=jt,$.createValidAbsoluteUrl=ie,$.getModificationDate=Vt,$.getVerbosityLevel=Oe,$.info=Le,$.isArrayBuffer=St,$.isArrayEqual=It,$.objectFromMap=ke,$.objectSize=ye,$.setVerbosityLevel=je,$.shadow=me,$.string32=he,$.stringToBytes=se,$.stringToPDFString=ft,$.stringToUTF8String=dt,$.unreachable=tt,$.utf8StringToString=_t,$.warn=Je;const V=[1,0,0,1,0,0];$.IDENTITY_MATRIX=V;const B=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=B;const O=1.35;$.LINE_FACTOR=O;const R=.35;$.LINE_DESCENT_FACTOR=R;const re=R/O;$.BASELINE_FACTOR=re;const de={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=de;const pe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=pe;const oe="pdfjs_internal_editor_";$.AnnotationEditorPrefix=oe;const ne={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=ne;const be={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=be;const ae={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=ae;const ee={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=ee;const te={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=te;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=G;const U={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=U;const J={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=J;const K={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=K;const W={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=W;const q={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=q;const H={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=H;const X={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=X;const ue={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ue;const ge={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=ge;const Ee={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Ee;const Se={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Se;const ce={NONE:0,BINARY:1};$.CMapCompressionType=ce;const xe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=xe;const et={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=et;const ze={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=ze;let He=Se.WARNINGS;function je(Me){Number.isInteger(Me)&&(He=Me)}function Oe(){return He}function Le(Me){He>=Se.INFOS&&console.log("Info: ".concat(Me))}function Je(Me){He>=Se.WARNINGS&&console.log("Warning: ".concat(Me))}function tt(Me){throw new Error(Me)}function Ae(Me,Fe){Me||tt(Fe)}function le(Me){if(!Me)return!1;switch(Me.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ie(Me,Fe=null,Be=null){if(!Me)return null;try{if(Be&&typeof Me=="string"){if(Be.addDefaultProtocol&&Me.startsWith("www.")){const Dt=Me.match(/\./g);Dt&&Dt.length>=2&&(Me="http://".concat(Me))}if(Be.tryConvertEncoding)try{Me=dt(Me)}catch(Dt){}}const pt=Fe?new URL(Me,Fe):new URL(Me);if(le(pt))return pt}catch(pt){}return null}function me(Me,Fe,Be,pt=!1){return Object.defineProperty(Me,Fe,{value:Be,enumerable:!pt,configurable:!0,writable:!1}),Be}const Ce=function(){function Fe(Be,pt){this.constructor===Fe&&tt("Cannot initialize BaseException."),this.message=Be,this.name=pt}return Fe.prototype=new Error,Fe.constructor=Fe,Fe}();$.BaseException=Ce;class we extends Ce{constructor(Fe,Be){super(Fe,"PasswordException"),this.code=Be}}$.PasswordException=we;class Te extends Ce{constructor(Fe,Be){super(Fe,"UnknownErrorException"),this.details=Be}}$.UnknownErrorException=Te;class De extends Ce{constructor(Fe){super(Fe,"InvalidPDFException")}}$.InvalidPDFException=De;class Ge extends Ce{constructor(Fe){super(Fe,"MissingPDFException")}}$.MissingPDFException=Ge;class it extends Ce{constructor(Fe,Be){super(Fe,"UnexpectedResponseException"),this.status=Be}}$.UnexpectedResponseException=it;class Qe extends Ce{constructor(Fe){super(Fe,"FormatError")}}$.FormatError=Qe;class nt extends Ce{constructor(Fe){super(Fe,"AbortException")}}$.AbortException=nt;function Ye(Me){(typeof Me!="object"||Me===null||Me.length===void 0)&&tt("Invalid argument for bytesToString");const Fe=Me.length,Be=8192;if(Fe<Be)return String.fromCharCode.apply(null,Me);const pt=[];for(let Dt=0;Dt<Fe;Dt+=Be){const Zt=Math.min(Dt+Be,Fe),Ke=Me.subarray(Dt,Zt);pt.push(String.fromCharCode.apply(null,Ke))}return pt.join("")}function se(Me){typeof Me!="string"&&tt("Invalid argument for stringToBytes");const Fe=Me.length,Be=new Uint8Array(Fe);for(let pt=0;pt<Fe;++pt)Be[pt]=Me.charCodeAt(pt)&255;return Be}function he(Me){return String.fromCharCode(Me>>24&255,Me>>16&255,Me>>8&255,Me&255)}function ye(Me){return Object.keys(Me).length}function ke(Me){const Fe=Object.create(null);for(const[Be,pt]of Me)Fe[Be]=pt;return Fe}function _e(){const Me=new Uint8Array(4);return Me[0]=1,new Uint32Array(Me.buffer,0,1)[0]===1}function $e(){try{return new Function(""),!0}catch(Me){return!1}}class rt{static get isLittleEndian(){return me(this,"isLittleEndian",_e())}static get isEvalSupported(){return me(this,"isEvalSupported",$e())}static get isOffscreenCanvasSupported(){return me(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?me(this,"platform",{isWin:!1,isMac:!1}):me(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}$.FeatureTest=rt;const ot=[...Array(256).keys()].map(Me=>Me.toString(16).padStart(2,"0"));class at{static makeHexColor(Fe,Be,pt){return"#".concat(ot[Fe]).concat(ot[Be]).concat(ot[pt])}static scaleMinMax(Fe,Be){let pt;Fe[0]?(Fe[0]<0&&(pt=Be[0],Be[0]=Be[1],Be[1]=pt),Be[0]*=Fe[0],Be[1]*=Fe[0],Fe[3]<0&&(pt=Be[2],Be[2]=Be[3],Be[3]=pt),Be[2]*=Fe[3],Be[3]*=Fe[3]):(pt=Be[0],Be[0]=Be[2],Be[2]=pt,pt=Be[1],Be[1]=Be[3],Be[3]=pt,Fe[1]<0&&(pt=Be[2],Be[2]=Be[3],Be[3]=pt),Be[2]*=Fe[1],Be[3]*=Fe[1],Fe[2]<0&&(pt=Be[0],Be[0]=Be[1],Be[1]=pt),Be[0]*=Fe[2],Be[1]*=Fe[2]),Be[0]+=Fe[4],Be[1]+=Fe[4],Be[2]+=Fe[5],Be[3]+=Fe[5]}static transform(Fe,Be){return[Fe[0]*Be[0]+Fe[2]*Be[1],Fe[1]*Be[0]+Fe[3]*Be[1],Fe[0]*Be[2]+Fe[2]*Be[3],Fe[1]*Be[2]+Fe[3]*Be[3],Fe[0]*Be[4]+Fe[2]*Be[5]+Fe[4],Fe[1]*Be[4]+Fe[3]*Be[5]+Fe[5]]}static applyTransform(Fe,Be){const pt=Fe[0]*Be[0]+Fe[1]*Be[2]+Be[4],Dt=Fe[0]*Be[1]+Fe[1]*Be[3]+Be[5];return[pt,Dt]}static applyInverseTransform(Fe,Be){const pt=Be[0]*Be[3]-Be[1]*Be[2],Dt=(Fe[0]*Be[3]-Fe[1]*Be[2]+Be[2]*Be[5]-Be[4]*Be[3])/pt,Zt=(-Fe[0]*Be[1]+Fe[1]*Be[0]+Be[4]*Be[1]-Be[5]*Be[0])/pt;return[Dt,Zt]}static getAxialAlignedBoundingBox(Fe,Be){const pt=at.applyTransform(Fe,Be),Dt=at.applyTransform(Fe.slice(2,4),Be),Zt=at.applyTransform([Fe[0],Fe[3]],Be),Ke=at.applyTransform([Fe[2],Fe[1]],Be);return[Math.min(pt[0],Dt[0],Zt[0],Ke[0]),Math.min(pt[1],Dt[1],Zt[1],Ke[1]),Math.max(pt[0],Dt[0],Zt[0],Ke[0]),Math.max(pt[1],Dt[1],Zt[1],Ke[1])]}static inverseTransform(Fe){const Be=Fe[0]*Fe[3]-Fe[1]*Fe[2];return[Fe[3]/Be,-Fe[1]/Be,-Fe[2]/Be,Fe[0]/Be,(Fe[2]*Fe[5]-Fe[4]*Fe[3])/Be,(Fe[4]*Fe[1]-Fe[5]*Fe[0])/Be]}static singularValueDecompose2dScale(Fe){const Be=[Fe[0],Fe[2],Fe[1],Fe[3]],pt=Fe[0]*Be[0]+Fe[1]*Be[2],Dt=Fe[0]*Be[1]+Fe[1]*Be[3],Zt=Fe[2]*Be[0]+Fe[3]*Be[2],Ke=Fe[2]*Be[1]+Fe[3]*Be[3],mt=(pt+Ke)/2,Et=Math.sqrt((pt+Ke)**2-4*(pt*Ke-Zt*Dt))/2,Ct=mt+Et||1,Gt=mt-Et||1;return[Math.sqrt(Ct),Math.sqrt(Gt)]}static normalizeRect(Fe){const Be=Fe.slice(0);return Fe[0]>Fe[2]&&(Be[0]=Fe[2],Be[2]=Fe[0]),Fe[1]>Fe[3]&&(Be[1]=Fe[3],Be[3]=Fe[1]),Be}static intersect(Fe,Be){const pt=Math.max(Math.min(Fe[0],Fe[2]),Math.min(Be[0],Be[2])),Dt=Math.min(Math.max(Fe[0],Fe[2]),Math.max(Be[0],Be[2]));if(pt>Dt)return null;const Zt=Math.max(Math.min(Fe[1],Fe[3]),Math.min(Be[1],Be[3])),Ke=Math.min(Math.max(Fe[1],Fe[3]),Math.max(Be[1],Be[3]));return Zt>Ke?null:[pt,Zt,Dt,Ke]}static bezierBoundingBox(Fe,Be,pt,Dt,Zt,Ke,mt,Et){const Ct=[],Gt=[[],[]];let sn,Yt,Jt,Xt,nn,xn,En,yn;for(let Dn=0;Dn<2;++Dn){if(Dn===0?(Yt=6*Fe-12*pt+6*Zt,sn=-3*Fe+9*pt-9*Zt+3*mt,Jt=3*pt-3*Fe):(Yt=6*Be-12*Dt+6*Ke,sn=-3*Be+9*Dt-9*Ke+3*Et,Jt=3*Dt-3*Be),Math.abs(sn)<1e-12){if(Math.abs(Yt)<1e-12)continue;Xt=-Jt/Yt,0<Xt&&Xt<1&&Ct.push(Xt);continue}En=Yt*Yt-4*Jt*sn,yn=Math.sqrt(En),!(En<0)&&(nn=(-Yt+yn)/(2*sn),0<nn&&nn<1&&Ct.push(nn),xn=(-Yt-yn)/(2*sn),0<xn&&xn<1&&Ct.push(xn))}let Sn=Ct.length,mn;const In=Sn;for(;Sn--;)Xt=Ct[Sn],mn=1-Xt,Gt[0][Sn]=mn*mn*mn*Fe+3*mn*mn*Xt*pt+3*mn*Xt*Xt*Zt+Xt*Xt*Xt*mt,Gt[1][Sn]=mn*mn*mn*Be+3*mn*mn*Xt*Dt+3*mn*Xt*Xt*Ke+Xt*Xt*Xt*Et;return Gt[0][In]=Fe,Gt[1][In]=Be,Gt[0][In+1]=mt,Gt[1][In+1]=Et,Gt[0].length=Gt[1].length=In+2,[Math.min(...Gt[0]),Math.min(...Gt[1]),Math.max(...Gt[0]),Math.max(...Gt[1])]}}$.Util=at;const Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ft(Me){if(Me[0]>="ï"){let Be;if(Me[0]==="þ"&&Me[1]==="ÿ"?Be="utf-16be":Me[0]==="ÿ"&&Me[1]==="þ"?Be="utf-16le":Me[0]==="ï"&&Me[1]==="»"&&Me[2]==="¿"&&(Be="utf-8"),Be)try{const pt=new TextDecoder(Be,{fatal:!0}),Dt=se(Me);return pt.decode(Dt)}catch(pt){Je('stringToPDFString: "'.concat(pt,'".'))}}const Fe=[];for(let Be=0,pt=Me.length;Be<pt;Be++){const Dt=Ze[Me.charCodeAt(Be)];Fe.push(Dt?String.fromCharCode(Dt):Me.charAt(Be))}return Fe.join("")}function dt(Me){return decodeURIComponent(escape(Me))}function _t(Me){return unescape(encodeURIComponent(Me))}function St(Me){return typeof Me=="object"&&Me!==null&&Me.byteLength!==void 0}function It(Me,Fe){if(Me.length!==Fe.length)return!1;for(let Be=0,pt=Me.length;Be<pt;Be++)if(Me[Be]!==Fe[Be])return!1;return!0}function Vt(Me=new Date){return[Me.getUTCFullYear().toString(),(Me.getUTCMonth()+1).toString().padStart(2,"0"),Me.getUTCDate().toString().padStart(2,"0"),Me.getUTCHours().toString().padStart(2,"0"),Me.getUTCMinutes().toString().padStart(2,"0"),Me.getUTCSeconds().toString().padStart(2,"0")].join("")}function jt(){const Me=Object.create(null);let Fe=!1;return Object.defineProperty(Me,"settled",{get(){return Fe}}),Me.promise=new Promise(function(Be,pt){Me.resolve=function(Dt){Fe=!0,Be(Dt)},Me.reject=function(Dt){Fe=!0,pt(Dt)}}),Me}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,$,B,O,R,re,de,pe,oe,ne,Ur,ae,ee,Wr,G,U;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:K,NodeCMapReaderFactory:W,NodeStandardFontDataFactory:q}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=K,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=W,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=q}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:K}=__w_pdfjs_require__(21);createPDFNetworkStream=W=>new K(W)}else{const{PDFNetworkStream:K}=__w_pdfjs_require__(24),{PDFFetchStream:W}=__w_pdfjs_require__(25);createPDFNetworkStream=q=>(0,_display_utils.isValidFetchUrl)(q.url)?new W(q):new K(q)}function getDocument(K){var $e,rt;if(typeof K=="string"||K instanceof URL)K={url:K};else if((0,_util.isArrayBuffer)(K))K={data:K};else if(K instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),K={range:K};else if(typeof K!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!K.url&&!K.data&&!K.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const W=new PDFDocumentLoadingTask,q=K.url?getUrlProp(K.url):null,H=K.data?getDataProp(K.data):null,X=K.httpHeaders||null,ue=K.withCredentials===!0,ge=($e=K.password)!=null?$e:null,Ee=K.range instanceof PDFDataRangeTransport?K.range:null,Se=Number.isInteger(K.rangeChunkSize)&&K.rangeChunkSize>0?K.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ce=K.worker instanceof PDFWorker?K.worker:null;const xe=K.verbosity,et=typeof K.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(K.docBaseUrl)?K.docBaseUrl:null,ze=typeof K.cMapUrl=="string"?K.cMapUrl:null,He=K.cMapPacked!==!1,je=K.CMapReaderFactory||DefaultCMapReaderFactory,Oe=typeof K.standardFontDataUrl=="string"?K.standardFontDataUrl:null,Le=K.StandardFontDataFactory||DefaultStandardFontDataFactory,Je=K.stopAtErrors!==!0,tt=Number.isInteger(K.maxImageSize)&&K.maxImageSize>-1?K.maxImageSize:-1,Ae=K.isEvalSupported!==!1,le=typeof K.isOffscreenCanvasSupported=="boolean"?K.isOffscreenCanvasSupported:!_is_node.isNodeJS,ie=typeof K.disableFontFace=="boolean"?K.disableFontFace:_is_node.isNodeJS,me=K.fontExtraProperties===!0,Ce=K.enableXfa===!0,we=K.ownerDocument||globalThis.document,Te=K.disableRange===!0,De=K.disableStream===!0,Ge=K.disableAutoFetch===!0,it=K.pdfBug===!0,Qe=Ee?Ee.length:(rt=K.length)!=null?rt:NaN,nt=typeof K.useSystemFonts=="boolean"?K.useSystemFonts:!_is_node.isNodeJS&&!ie,Ye=typeof K.useWorkerFetch=="boolean"?K.useWorkerFetch:je===_display_utils.DOMCMapReaderFactory&&Le===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(ze,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Oe,document.baseURI),se=null;(0,_util.setVerbosityLevel)(xe);const he=Ye?null:{cMapReaderFactory:new je({baseUrl:ze,isCompressed:He}),standardFontDataFactory:new Le({baseUrl:Oe})};if(!ce){const ot={verbosity:xe,port:_worker_options.GlobalWorkerOptions.workerPort};ce=ot.port?PDFWorker.fromPort(ot):new PDFWorker(ot),W._worker=ce}const ye=W.docId,ke={docId:ye,apiVersion:"3.4.120",data:H,password:ge,disableAutoFetch:Ge,rangeChunkSize:Se,length:Qe,docBaseUrl:et,enableXfa:Ce,evaluatorOptions:{maxImageSize:tt,disableFontFace:ie,ignoreErrors:Je,isEvalSupported:Ae,isOffscreenCanvasSupported:le,fontExtraProperties:me,useSystemFonts:nt,cMapUrl:Ye?ze:null,standardFontDataUrl:Ye?Oe:null}},_e={ignoreErrors:Je,isEvalSupported:Ae,disableFontFace:ie,fontExtraProperties:me,enableXfa:Ce,ownerDocument:we,disableAutoFetch:Ge,pdfBug:it,styleElement:se};return ce.promise.then(function(){if(W.destroyed)throw new Error("Loading aborted");const ot=_fetchDocument(ce,ke),at=new Promise(function(Ze){let ft;Ee?ft=new _transport_stream.PDFDataTransportStream({length:Qe,initialData:Ee.initialData,progressiveDone:Ee.progressiveDone,contentDispositionFilename:Ee.contentDispositionFilename,disableRange:Te,disableStream:De},Ee):H||(ft=createPDFNetworkStream({url:q,length:Qe,httpHeaders:X,withCredentials:ue,rangeChunkSize:Se,disableRange:Te,disableStream:De})),Ze(ft)});return Promise.all([ot,at]).then(function([Ze,ft]){if(W.destroyed)throw new Error("Loading aborted");const dt=new _message_handler.MessageHandler(ye,Ze,ce.port),_t=new WorkerTransport(dt,W,ft,_e,he);W._transport=_t,dt.send("Ready",null)})}).catch(W._capability.reject),W}async function _fetchDocument(K,W){if(K.destroyed)throw new Error("Worker was destroyed");const q=await K.messageHandler.sendWithPromise("GetDocRequest",W,W.data?[W.data.buffer]:null);if(K.destroyed)throw new Error("Worker was destroyed");return q}function getUrlProp(K){if(K instanceof URL)return K.href;try{return new URL(K,window.location).href}catch(W){if(_is_node.isNodeJS&&typeof K=="string")return K}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(K){if(_is_node.isNodeJS&&typeof Buffer<"u"&&K instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(K);if(K instanceof Uint8Array&&K.byteLength===K.buffer.byteLength)return K;if(typeof K=="string")return(0,_util.stringToBytes)(K);if(typeof K=="object"&&!isNaN(K==null?void 0:K.length)||(0,_util.isArrayBuffer)(K))return new Uint8Array(K);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const V=class V{constructor(){st(this,$,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(Hr(V,A)._++),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return ve(this,$)}set onUnsupportedFeature(W){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),At(this,$,W)}get promise(){return this._capability.promise}async destroy(){var W;this.destroyed=!0,await((W=this._transport)==null?void 0:W.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,$=new WeakMap,st(V,A,0);let PDFDocumentLoadingTask=V;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(W,q,H=!1,X=null){this.length=W,this.initialData=q,this.progressiveDone=H,this.contentDispositionFilename=X,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(W){this._rangeListeners.push(W)}addProgressListener(W){this._progressListeners.push(W)}addProgressiveReadListener(W){this._progressiveReadListeners.push(W)}addProgressiveDoneListener(W){this._progressiveDoneListeners.push(W)}onDataRange(W,q){for(const H of this._rangeListeners)H(W,q)}onDataProgress(W,q){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(W,q)})}onDataProgressiveRead(W){this._readyCapability.promise.then(()=>{for(const q of this._progressiveReadListeners)q(W)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const W of this._progressiveDoneListeners)W()})}transportReady(){this._readyCapability.resolve()}requestDataRange(W,q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(W,q){this._pdfInfo=W,this._transport=q}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(W){return this._transport.getPage(W)}getPageIndex(W){return this._transport.getPageIndex(W)}getDestinations(){return this._transport.getDestinations()}getDestination(W){return this._transport.getDestination(W)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(W=!1){return this._transport.startCleanup(W||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(W,q,H,X,ue=!1){this._pageIndex=W,this._pageInfo=q,this._ownerDocument=X,this._transport=H,this._stats=ue?new _display_utils.StatTimer:null,this._pdfBug=ue,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:W,rotation:q=this.rotate,offsetX:H=0,offsetY:X=0,dontFlip:ue=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:W,rotation:q,offsetX:H,offsetY:X,dontFlip:ue})}getAnnotations({intent:W="display"}={}){const q=this._transport.getRenderingIntent(W);return this._transport.getAnnotations(this._pageIndex,q.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var W;return((W=this._transport._htmlForXfa)==null?void 0:W.children[this._pageIndex])||null}render({canvasContext:W,viewport:q,intent:H="display",annotationMode:X=_util.AnnotationMode.ENABLE,transform:ue=null,canvasFactory:ge=null,background:Ee=null,optionalContentConfigPromise:Se=null,annotationCanvasMap:ce=null,pageColors:xe=null,printAnnotationStorage:et=null}){var Ae,le;(Ae=this._stats)==null||Ae.time("Overall");const ze=this._transport.getRenderingIntent(H,X,et);this.pendingCleanup=!1,Se||(Se=this._transport.getOptionalContentConfig());let He=this._intentStates.get(ze.cacheKey);He||(He=Object.create(null),this._intentStates.set(ze.cacheKey,He)),He.streamReaderCancelTimeout&&(clearTimeout(He.streamReaderCancelTimeout),He.streamReaderCancelTimeout=null);const je=ge||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Oe=!!(ze.renderingIntent&_util.RenderingIntentFlag.PRINT);He.displayReadyCapability||(He.displayReadyCapability=(0,_util.createPromiseCapability)(),He.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(le=this._stats)==null||le.time("Page Request"),this._pumpOperatorList(ze));const Le=ie=>{var me,Ce;He.renderTasks.delete(Je),(this.cleanupAfterRender||Oe)&&(this.pendingCleanup=!0),this._tryCleanup(),ie?(Je.capability.reject(ie),this._abortOperatorList({intentState:He,reason:ie instanceof Error?ie:new Error(ie)})):Je.capability.resolve(),(me=this._stats)==null||me.timeEnd("Rendering"),(Ce=this._stats)==null||Ce.timeEnd("Overall")},Je=new InternalRenderTask({callback:Le,params:{canvasContext:W,viewport:q,transform:ue,background:Ee},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ce,operatorList:He.operatorList,pageIndex:this._pageIndex,canvasFactory:je,useRequestAnimationFrame:!Oe,pdfBug:this._pdfBug,pageColors:xe});(He.renderTasks||(He.renderTasks=new Set)).add(Je);const tt=Je.task;return Promise.all([He.displayReadyCapability.promise,Se]).then(([ie,me])=>{var Ce;if(this.pendingCleanup){Le();return}(Ce=this._stats)==null||Ce.time("Rendering"),Je.initializeGraphics({transparency:ie,optionalContentConfig:me}),Je.operatorListChanged()}).catch(Le),tt}getOperatorList({intent:W="display",annotationMode:q=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var Se;function X(){ge.operatorList.lastChunk&&(ge.opListReadCapability.resolve(ge.operatorList),ge.renderTasks.delete(Ee))}const ue=this._transport.getRenderingIntent(W,q,H,!0);let ge=this._intentStates.get(ue.cacheKey);ge||(ge=Object.create(null),this._intentStates.set(ue.cacheKey,ge));let Ee;return ge.opListReadCapability||(Ee=Object.create(null),Ee.operatorListChanged=X,ge.opListReadCapability=(0,_util.createPromiseCapability)(),(ge.renderTasks||(ge.renderTasks=new Set)).add(Ee),ge.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Se=this._stats)==null||Se.time("Page Request"),this._pumpOperatorList(ue)),ge.opListReadCapability.promise}streamTextContent({disableCombineTextItems:W=!1,includeMarkedContent:q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:W!==!0,includeMarkedContent:q===!0},{highWaterMark:100,size(X){return X.items.length}})}getTextContent(W={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const q=this.streamTextContent(W);return new Promise(function(H,X){function ue(){ge.read().then(function({value:Se,done:ce}){if(ce){H(Ee);return}Object.assign(Ee.styles,Se.styles),Ee.items.push(...Se.items),ue()},X)}const ge=q.getReader(),Ee={items:[],styles:Object.create(null)};ue()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const W=[];for(const q of this._intentStates.values())if(this._abortOperatorList({intentState:q,reason:new Error("Page was destroyed."),force:!0}),!q.opListReadCapability)for(const H of q.renderTasks)W.push(H.completed),H.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(W)}cleanup(W=!1){return this.pendingCleanup=!0,this._tryCleanup(W)}_tryCleanup(W=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:q,operatorList:H}of this._intentStates.values())if(q.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),W&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(W,q){var X,ue;const H=this._intentStates.get(q);H&&((X=this._stats)==null||X.timeEnd("Page Request"),(ue=H.displayReadyCapability)==null||ue.resolve(W))}_renderPageChunk(W,q){for(let H=0,X=W.length;H<X;H++)q.operatorList.fnArray.push(W.fnArray[H]),q.operatorList.argsArray.push(W.argsArray[H]);q.operatorList.lastChunk=W.lastChunk,q.operatorList.separateAnnots=W.separateAnnots;for(const H of q.renderTasks)H.operatorListChanged();W.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:W,cacheKey:q,annotationStorageMap:H}){const ue=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:W,cacheKey:q,annotationStorage:H}).getReader(),ge=this._intentStates.get(q);ge.streamReader=ue;const Ee=()=>{ue.read().then(({value:Se,done:ce})=>{if(ce){ge.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Se,ge),Ee())},Se=>{if(ge.streamReader=null,!this._transport.destroyed){if(ge.operatorList){ge.operatorList.lastChunk=!0;for(const ce of ge.renderTasks)ce.operatorListChanged();this._tryCleanup()}if(ge.displayReadyCapability)ge.displayReadyCapability.reject(Se);else if(ge.opListReadCapability)ge.opListReadCapability.reject(Se);else throw Se}})};Ee()}_abortOperatorList({intentState:W,reason:q,force:H=!1}){if(W.streamReader){if(W.streamReaderCancelTimeout&&(clearTimeout(W.streamReaderCancelTimeout),W.streamReaderCancelTimeout=null),!H){if(W.renderTasks.size>0)return;if(q instanceof _display_utils.RenderingCancelledException){let X=RENDERING_CANCELLED_TIMEOUT;q.extraDelay>0&&q.extraDelay<1e3&&(X+=q.extraDelay),W.streamReaderCancelTimeout=setTimeout(()=>{W.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:W,reason:q,force:!0})},X);return}}if(W.streamReader.cancel(new _util.AbortException(q.message)).catch(()=>{}),W.streamReader=null,!this._transport.destroyed){for(const[X,ue]of this._intentStates)if(ue===W){this._intentStates.delete(X);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){st(this,B,new Set);st(this,O,Promise.resolve())}postMessage(W,q){const H={data:structuredClone(W,q)};ve(this,O).then(()=>{for(const X of ve(this,B))X.call(this,H)})}addEventListener(W,q){ve(this,B).add(q)}removeEventListener(W,q){ve(this,B).delete(q)}terminate(){ve(this,B).clear()}}B=new WeakMap,O=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const K=(R=document==null?void 0:document.currentScript)==null?void 0:R.src;K&&(PDFWorkerUtil.fallbackWorkerSrc=K.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(K,W){let q;try{if(q=new URL(K),!q.origin||q.origin==="null")return!1}catch(X){return!1}const H=new URL(W,q);return q.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(K){const W='importScripts("'.concat(K,'");');return URL.createObjectURL(new Blob([W]))}}const _PDFWorker=class _PDFWorker{constructor({name:K=null,port:W=null,verbosity:q=(0,_util.getVerbosityLevel)()}={}){if(W&&ve(_PDFWorker,re).has(W))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=K,this.destroyed=!1,this.verbosity=q,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,W){ve(_PDFWorker,re).set(W,this),this._initializeFromPort(W);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(K){this._port=K,this._messageHandler=new _message_handler.MessageHandler("main","worker",K),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:K}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,K)||(K=PDFWorkerUtil.createCDNWrapper(new URL(K,window.location).href));const W=new Worker(K),q=new _message_handler.MessageHandler("main","worker",W),H=()=>{W.removeEventListener("error",X),q.destroy(),W.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},X=()=>{this._webWorker||H()};W.addEventListener("error",X),q.on("test",ge=>{if(W.removeEventListener("error",X),this.destroyed){H();return}ge?(this._messageHandler=q,this._port=W,this._webWorker=W,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),q.destroy(),W.terminate())}),q.on("ready",ge=>{if(W.removeEventListener("error",X),this.destroyed){H();return}try{ue()}catch(Ee){this._setupFakeWorker()}});const ue=()=>{const ge=new Uint8Array;q.send("test",ge,[ge.buffer])};ue();return}catch(W){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(K=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const W=new LoopbackPort;this._port=W;const q="fake".concat(PDFWorkerUtil.fakeWorkerId++),H=new _message_handler.MessageHandler(q+"_worker",q,W);K.setup(H,W);const X=new _message_handler.MessageHandler(q,q+"_worker",W);this._messageHandler=X,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})}).catch(K=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(K.message,'".')))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ve(_PDFWorker,re).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(K){if(!(K!=null&&K.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ve(this,re).has(K.port)?ve(this,re).get(K.port):new _PDFWorker(K)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var K;try{return((K=globalThis.pdfjsWorker)==null?void 0:K.WorkerMessageHandler)||null}catch(W){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};re=new WeakMap,st(_PDFWorker,re,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(W,q,H,X,ue){st(this,ne);st(this,de,new Map);st(this,pe,new Map);st(this,oe,new Map);this.messageHandler=W,this.loadingTask=q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:X.ownerDocument,styleElement:X.styleElement}),this._params=X,this.cMapReaderFactory=ue==null?void 0:ue.cMapReaderFactory,this.standardFontDataFactory=ue==null?void 0:ue.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(W,q=_util.AnnotationMode.ENABLE,H=null,X=!1){let ue=_util.RenderingIntentFlag.DISPLAY,ge=null;switch(W){case"any":ue=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ue=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(W))}switch(q){case _util.AnnotationMode.DISABLE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ue+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ge=(ue&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(q))}return X&&(ue+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ue,cacheKey:"".concat(ue,"_").concat(_annotation_storage.AnnotationStorage.getHash(ge)),annotationStorageMap:ge}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const W=[];for(const H of ve(this,pe).values())W.push(H._destroy());ve(this,pe).clear(),ve(this,oe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return W.push(q),Promise.all(W).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ve(this,de).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:W,loadingTask:q}=this;W.on("GetReader",(H,X)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ue=>{this._lastProgress={loaded:ue.loaded,total:ue.total}},X.onPull=()=>{this._fullReader.read().then(function({value:ue,done:ge}){if(ge){X.close();return}(0,_util.assert)(ue instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(ue),1,[ue])}).catch(ue=>{X.error(ue)})},X.onCancel=ue=>{this._fullReader.cancel(ue),X.ready.catch(ge=>{if(!this.destroyed)throw ge})}}),W.on("ReaderHeadersReady",H=>{const X=(0,_util.createPromiseCapability)(),ue=this._fullReader;return ue.headersReady.then(()=>{var ge;(!ue.isStreamingSupported||!ue.isRangeSupported)&&(this._lastProgress&&((ge=q.onProgress)==null||ge.call(q,this._lastProgress)),ue.onProgress=Ee=>{var Se;(Se=q.onProgress)==null||Se.call(q,{loaded:Ee.loaded,total:Ee.total})}),X.resolve({isStreamingSupported:ue.isStreamingSupported,isRangeSupported:ue.isRangeSupported,contentLength:ue.contentLength})},X.reject),X.promise}),W.on("GetRangeReader",(H,X)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ue=this._networkStream.getRangeReader(H.begin,H.end);if(!ue){X.close();return}X.onPull=()=>{ue.read().then(function({value:ge,done:Ee}){if(Ee){X.close();return}(0,_util.assert)(ge instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(ge),1,[ge])}).catch(ge=>{X.error(ge)})},X.onCancel=ge=>{ue.cancel(ge),X.ready.catch(Ee=>{if(!this.destroyed)throw Ee})}}),W.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,q._capability.resolve(new PDFDocumentProxy(H,this))}),W.on("DocException",function(H){let X;switch(H.name){case"PasswordException":X=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":X=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":X=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":X=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":X=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}q._capability.reject(X)}),W.on("PasswordRequest",H=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),q.onPassword){const X=ue=>{ue instanceof Error?this._passwordCapability.reject(ue):this._passwordCapability.resolve({password:ue})};try{q.onPassword(X,H.code)}catch(ue){this._passwordCapability.reject(ue)}}else this._passwordCapability.reject(new _util.PasswordException(H.message,H.code));return this._passwordCapability.promise}),W.on("DataLoaded",H=>{var X;(X=q.onProgress)==null||X.call(q,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),W.on("StartRenderPage",H=>{if(this.destroyed)return;ve(this,pe).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),W.on("commonobj",([H,X,ue])=>{var ge;if(!this.destroyed&&!this.commonObjs.has(H))switch(X){case"Font":const Ee=this._params;if("error"in ue){const xe=ue.error;(0,_util.warn)("Error during font loading: ".concat(xe)),this.commonObjs.resolve(H,xe);break}let Se=null;Ee.pdfBug&&((ge=globalThis.FontInspector)!=null&&ge.enabled)&&(Se={registerFont(xe,et){globalThis.FontInspector.fontAdded(xe,et)}});const ce=new _font_loader.FontFaceObject(ue,{isEvalSupported:Ee.isEvalSupported,disableFontFace:Ee.disableFontFace,ignoreErrors:Ee.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Se});this.fontLoader.bind(ce).catch(xe=>W.sendWithPromise("FontFallback",{id:H})).finally(()=>{!Ee.fontExtraProperties&&ce.data&&(ce.data=null),this.commonObjs.resolve(H,ce)});break;case"FontPath":case"Image":this.commonObjs.resolve(H,ue);break;default:throw new Error("Got unknown common object type ".concat(X))}}),W.on("obj",([H,X,ue,ge])=>{var Se;if(this.destroyed)return;const Ee=ve(this,pe).get(X);if(!Ee.objs.has(H))switch(ue){case"Image":Ee.objs.resolve(H,ge);const ce=8e6;if(ge){let xe;if(ge.bitmap){const{width:et,height:ze}=ge;xe=et*ze*4}else xe=((Se=ge.data)==null?void 0:Se.length)||0;xe>ce&&(Ee.cleanupAfterRender=!0)}break;case"Pattern":Ee.objs.resolve(H,ge);break;default:throw new Error("Got unknown object type ".concat(ue))}}),W.on("DocProgress",H=>{var X;this.destroyed||(X=q.onProgress)==null||X.call(q,{loaded:H.loaded,total:H.total})}),W.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),W.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),W.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:W}){var q,H;this.destroyed||(H=(q=this.loadingTask).onUnsupportedFeature)==null||H.call(q,W)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var W,q;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(q=(W=this._fullReader)==null?void 0:W.filename)!=null?q:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(W){if(!Number.isInteger(W)||W<=0||W>this._numPages)return Promise.reject(new Error("Invalid page request."));const q=W-1,H=ve(this,oe).get(q);if(H)return H;const X=this.messageHandler.sendWithPromise("GetPage",{pageIndex:q}).then(ue=>{if(this.destroyed)throw new Error("Transport destroyed");const ge=new PDFPageProxy(q,ue,this,this._params.ownerDocument,this._params.pdfBug);return ve(this,pe).set(q,ge),ge});return ve(this,oe).set(q,X),X}getPageIndex(W){return typeof W!="object"||W===null||!Number.isInteger(W.num)||W.num<0||!Number.isInteger(W.gen)||W.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:W.num,gen:W.gen})}getAnnotations(W,q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:W,intent:q})}getFieldObjects(){return ht(this,ne,Ur).call(this,"GetFieldObjects")}hasJSActions(){return ht(this,ne,Ur).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(W){return typeof W!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:W})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(W){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:W})}getStructTree(W){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:W})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(W=>new _optional_content_config.OptionalContentConfig(W))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const W="GetMetadata",q=ve(this,de).get(W);if(q)return q;const H=this.messageHandler.sendWithPromise(W,null).then(X=>{var ue,ge,Ee,Se;return{info:X[0],metadata:X[1]?new _metadata.Metadata(X[1]):null,contentDispositionFilename:(ge=(ue=this._fullReader)==null?void 0:ue.filename)!=null?ge:null,contentLength:(Se=(Ee=this._fullReader)==null?void 0:Ee.contentLength)!=null?Se:null}});return ve(this,de).set(W,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(W=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const q of ve(this,pe).values())if(!q.cleanup())throw new Error("startCleanup: Page ".concat(q.pageNumber," is currently rendering."));this.commonObjs.clear(),W||this.fontLoader.clear(),ve(this,de).clear()}}get loadingParams(){const{disableAutoFetch:W,enableXfa:q}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:W,enableXfa:q})}}de=new WeakMap,pe=new WeakMap,oe=new WeakMap,ne=new WeakSet,Ur=function(W,q=null){const H=ve(this,de).get(W);if(H)return H;const X=this.messageHandler.sendWithPromise(W,q);return ve(this,de).set(W,X),X};class PDFObjects{constructor(){st(this,ee);st(this,ae,Object.create(null))}get(W,q=null){if(q){const X=ht(this,ee,Wr).call(this,W);return X.capability.promise.then(()=>q(X.data)),null}const H=ve(this,ae)[W];if(!(H!=null&&H.capability.settled))throw new Error("Requesting object that isn't resolved yet ".concat(W,"."));return H.data}has(W){const q=ve(this,ae)[W];return(q==null?void 0:q.capability.settled)||!1}resolve(W,q=null){const H=ht(this,ee,Wr).call(this,W);H.data=q,H.capability.resolve()}clear(){var W;for(const q in ve(this,ae)){const{data:H}=ve(this,ae)[q];(W=H==null?void 0:H.bitmap)==null||W.close()}At(this,ae,Object.create(null))}}ae=new WeakMap,ee=new WeakSet,Wr=function(W){const q=ve(this,ae)[W];return q||(ve(this,ae)[W]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(W){st(this,G,null);At(this,G,W),this.onContinue=null}get promise(){return ve(this,G).capability.promise}cancel(W=0){ve(this,G).cancel(null,W)}get separateAnnots(){const{separateAnnots:W}=ve(this,G).operatorList;if(!W)return!1;const{annotationCanvasMap:q}=ve(this,G);return W.form||W.canvas&&(q==null?void 0:q.size)>0}}G=new WeakMap,exports.RenderTask=RenderTask;const J=class J{constructor({callback:W,params:q,objs:H,commonObjs:X,annotationCanvasMap:ue,operatorList:ge,pageIndex:Ee,canvasFactory:Se,useRequestAnimationFrame:ce=!1,pdfBug:xe=!1,pageColors:et=null}){this.callback=W,this.params=q,this.objs=H,this.commonObjs=X,this.annotationCanvasMap=ue,this.operatorListIdx=null,this.operatorList=ge,this._pageIndex=Ee,this.canvasFactory=Se,this._pdfBug=xe,this.pageColors=et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ce===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:W=!1,optionalContentConfig:q}){var Ee,Se;if(this.cancelled)return;if(this._canvas){if(ve(J,U).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ve(J,U).add(this._canvas)}this._pdfBug&&((Ee=globalThis.StepperManager)!=null&&Ee.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:X,transform:ue,background:ge}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:q},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ue,viewport:X,transparency:W,background:ge}),this.operatorListIdx=0,this.graphicsReady=!0,(Se=this.graphicsReadyCallback)==null||Se.call(this)}cancel(W=null,q=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),this._canvas&&ve(J,U).delete(this._canvas),this.callback(W||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas",q))}operatorListChanged(){var W;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(W=this.stepper)==null||W.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ve(J,U).delete(this._canvas),this.callback())))}};U=new WeakMap,st(J,U,new WeakSet);let InternalRenderTask=J;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(A,$,V)=>{var pe,oe,ne,ki,ae;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var B=V(1),O=V(4),R=V(8);class re{constructor(){st(this,ne);st(this,pe,!1);st(this,oe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(te,G){const U=ve(this,oe).get(te);return U===void 0?G:Object.assign(G,U)}getRawValue(te){return ve(this,oe).get(te)}remove(te){if(ve(this,oe).delete(te),ve(this,oe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of ve(this,oe).values())if(G instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(te,G){const U=ve(this,oe).get(te);let J=!1;if(U!==void 0)for(const[K,W]of Object.entries(G))U[K]!==W&&(J=!0,U[K]=W);else J=!0,ve(this,oe).set(te,G);J&&ht(this,ne,ki).call(this),G instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(te){return ve(this,oe).has(te)}getAll(){return ve(this,oe).size>0?(0,B.objectFromMap)(ve(this,oe)):null}setAll(te){for(const[G,U]of Object.entries(te))this.setValue(G,U)}get size(){return ve(this,oe).size}resetModified(){ve(this,pe)&&(At(this,pe,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new de(this)}get serializable(){if(ve(this,oe).size===0)return null;const te=new Map;for(const[G,U]of ve(this,oe)){const J=U instanceof O.AnnotationEditor?U.serialize():U;J&&te.set(G,J)}return te}static getHash(te){if(!te)return"";const G=new R.MurmurHash3_64;for(const[U,J]of te)G.update("".concat(U,":").concat(JSON.stringify(J)));return G.hexdigest()}}pe=new WeakMap,oe=new WeakMap,ne=new WeakSet,ki=function(){ve(this,pe)||(At(this,pe,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=re;class de extends re{constructor(G){super();st(this,ae,null);At(this,ae,structuredClone(G.serializable))}get print(){(0,B.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ve(this,ae)}}ae=new WeakMap,$.PrintAnnotationStorage=de},(A,$,V)=>{var re,de,pe,oe,ne,be;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var B=V(5),O=V(1);const ae=class ae{constructor(te){st(this,re,this.focusin.bind(this));st(this,de,this.focusout.bind(this));st(this,pe,!1);st(this,oe,!1);st(this,ne,!1);Cn(this,"_uiManager",null);st(this,be,ae._zIndex++);this.constructor===ae&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=te.parent,this.id=te.id,this.width=this.height=null,this.pageIndex=te.parent.pageIndex,this.name=te.name,this.div=null,this._uiManager=te.uiManager;const{rotation:G,rawDims:{pageWidth:U,pageHeight:J,pageX:K,pageY:W}}=this.parent.viewport;this.rotation=G,this.pageDimensions=[U,J],this.pageTranslation=[K,W];const[q,H]=this.parentDimensions;this.x=te.x/q,this.y=te.y/H,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(te){this._uiManager.addCommands(te)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ve(this,be)}setParent(te){te!==null&&(this.pageIndex=te.pageIndex,this.pageDimensions=te.pageDimensions),this.parent=te}focusin(te){ve(this,pe)?At(this,pe,!1):this.parent.setSelected(this)}focusout(te){var U;if(!this.isAttachedToDOM)return;const G=te.relatedTarget;G!=null&&G.closest("#".concat(this.id))||(te.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(te){const G=this.parent.div.getBoundingClientRect();this.startX=te.clientX-G.x,this.startY=te.clientY-G.y,te.dataTransfer.setData("text/plain",this.id),te.dataTransfer.effectAllowed="move"}setAt(te,G,U,J){const[K,W]=this.parentDimensions;[U,J]=this.screenToPageTranslation(U,J),this.x=(te+U)/K,this.y=(G+J)/W,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}translate(te,G){const[U,J]=this.parentDimensions;[te,G]=this.screenToPageTranslation(te,G),this.x+=te/U,this.y+=G/J,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}screenToPageTranslation(te,G){switch(this.parentRotation){case 90:return[G,-te];case 180:return[-te,-G];case 270:return[-G,te];default:return[te,G]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:te}=this._uiManager.viewParameters,[G,U]=this.pageDimensions;return[G*te,U*te]}setDims(te,G){const[U,J]=this.parentDimensions;this.div.style.width="".concat(100*te/U,"%"),this.div.style.height="".concat(100*G/J,"%")}fixDims(){const{style:te}=this.div,{height:G,width:U}=te,J=U.endsWith("%"),K=G.endsWith("%");if(J&&K)return;const[W,q]=this.parentDimensions;J||(te.width="".concat(100*parseFloat(U)/W,"%")),K||(te.height="".concat(100*parseFloat(G)/q,"%"))}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ve(this,re)),this.div.addEventListener("focusout",ve(this,de));const[te,G]=this.getInitialTranslation();return this.translate(te,G),(0,B.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(te){const{isMac:G}=O.FeatureTest.platform;if(te.button!==0||te.ctrlKey&&G){te.preventDefault();return}te.ctrlKey&&!G||te.shiftKey||te.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this),At(this,pe,!0)}getRect(te,G){const U=this.parentScale,[J,K]=this.pageDimensions,[W,q]=this.pageTranslation,H=te/U,X=G/U,ue=this.x*J,ge=this.y*K,Ee=this.width*J,Se=this.height*K;switch(this.rotation){case 0:return[ue+H+W,K-ge-X-Se+q,ue+H+Ee+W,K-ge-X+q];case 90:return[ue+X+W,K-ge+H+q,ue+X+Se+W,K-ge+H+Ee+q];case 180:return[ue-H-Ee+W,K-ge+X+q,ue-H+W,K-ge+X+Se+q];case 270:return[ue-X-Se+W,K-ge-H-Ee+q,ue-X+W,K-ge-H+q];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(te,G){const[U,J,K,W]=te,q=K-U,H=W-J;switch(this.rotation){case 0:return[U,G-W,q,H];case 90:return[U,G-J,H,q];case 180:return[K,G-J,q,H];case 270:return[K,G-W,H,q];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){At(this,ne,!0)}disableEditMode(){At(this,ne,!1)}isInEditMode(){return ve(this,ne)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var te;(te=this.div)==null||te.addEventListener("focusin",ve(this,re))}serialize(){(0,O.unreachable)("An editor must be serializable")}static deserialize(te,G,U){const J=new this.prototype.constructor({parent:G,id:G.getNextId(),uiManager:U});J.rotation=te.rotation;const[K,W]=J.pageDimensions,[q,H,X,ue]=J.getRectInCurrentCoords(te.rect,W);return J.x=q/K,J.y=H/W,J.width=X/K,J.height=ue/W,J}remove(){this.div.removeEventListener("focusin",ve(this,re)),this.div.removeEventListener("focusout",ve(this,de)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var te;(te=this.div)==null||te.classList.add("selectedEditor")}unselect(){var te;(te=this.div)==null||te.classList.remove("selectedEditor")}updateParams(te,G){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ve(this,oe)}set isEditing(te){At(this,oe,te),te?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};re=new WeakMap,de=new WeakMap,pe=new WeakMap,oe=new WeakMap,ne=new WeakMap,be=new WeakMap,Cn(ae,"_colorManager",new B.ColorManager),Cn(ae,"_zIndex",1);let R=ae;$.AnnotationEditor=R},(A,$,V)=>{var ae,ee,te,G,U,J,xi,q,H,X,ue,ge,Ee,Se,ce,xe,et,ze,He,je,Oe,Le,Je,tt,Ae,le,ie,me,Ce,we,Te,$i,Ge,qr,Qe,Mi,Ye,Ti,he,Hn,ke,mr,$e,Ri,ot,Fi,Ze,Gr,dt,gr,St,Xr;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=R,$.opacityToHex=re;var B=V(1),O=V(6);function R(jt,Me,Fe){for(const Be of Fe)Me.addEventListener(Be,jt[Be].bind(jt))}function re(jt){return Math.round(Math.min(255,Math.max(1,255*jt))).toString(16).padStart(2,"0")}class de{constructor(){st(this,ae,0)}getId(){return"".concat(B.AnnotationEditorPrefix).concat(Hr(this,ae)._++)}}ae=new WeakMap;class pe{constructor(Me=128){st(this,ee,[]);st(this,te,!1);st(this,G,void 0);st(this,U,-1);At(this,G,Me)}add({cmd:Me,undo:Fe,mustExec:Be,type:pt=NaN,overwriteIfSameType:Dt=!1,keepUndo:Zt=!1}){if(Be&&Me(),ve(this,te))return;const Ke={cmd:Me,undo:Fe,type:pt};if(ve(this,U)===-1){ve(this,ee).length>0&&(ve(this,ee).length=0),At(this,U,0),ve(this,ee).push(Ke);return}if(Dt&&ve(this,ee)[ve(this,U)].type===pt){Zt&&(Ke.undo=ve(this,ee)[ve(this,U)].undo),ve(this,ee)[ve(this,U)]=Ke;return}const mt=ve(this,U)+1;mt===ve(this,G)?ve(this,ee).splice(0,1):(At(this,U,mt),mt<ve(this,ee).length&&ve(this,ee).splice(mt)),ve(this,ee).push(Ke)}undo(){ve(this,U)!==-1&&(At(this,te,!0),ve(this,ee)[ve(this,U)].undo(),At(this,te,!1),At(this,U,ve(this,U)-1))}redo(){ve(this,U)<ve(this,ee).length-1&&(At(this,U,ve(this,U)+1),At(this,te,!0),ve(this,ee)[ve(this,U)].cmd(),At(this,te,!1))}hasSomethingToUndo(){return ve(this,U)!==-1}hasSomethingToRedo(){return ve(this,U)<ve(this,ee).length-1}destroy(){At(this,ee,null)}}ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,$.CommandManager=pe;class oe{constructor(Me){st(this,J);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Fe}=B.FeatureTest.platform;for(const[Be,pt]of Me)for(const Dt of Be){const Zt=Dt.startsWith("mac+");Fe&&Zt?(this.callbacks.set(Dt.slice(4),pt),this.allKeys.add(Dt.split("+").at(-1))):!Fe&&!Zt&&(this.callbacks.set(Dt,pt),this.allKeys.add(Dt.split("+").at(-1)))}}exec(Me,Fe){if(!this.allKeys.has(Fe.key))return;const Be=this.callbacks.get(ht(this,J,xi).call(this,Fe));Be&&(Be.bind(Me)(),Fe.stopPropagation(),Fe.preventDefault())}}J=new WeakSet,xi=function(Me){Me.altKey&&this.buffer.push("alt"),Me.ctrlKey&&this.buffer.push("ctrl"),Me.metaKey&&this.buffer.push("meta"),Me.shiftKey&&this.buffer.push("shift"),this.buffer.push(Me.key);const Fe=this.buffer.join("+");return this.buffer.length=0,Fe},$.KeyboardManager=oe;const W=class W{get _colors(){const Me=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)(Me),(0,B.shadow)(this,"_colors",Me)}convert(Me){const Fe=(0,O.getRGB)(Me);if(!window.matchMedia("(forced-colors: active)").matches)return Fe;for(const[Be,pt]of this._colors)if(pt.every((Dt,Zt)=>Dt===Fe[Zt]))return W._colorsMapping.get(Be);return Fe}getHexCode(Me){const Fe=this._colors.get(Me);return Fe?B.Util.makeHexColor(...Fe):Me}};Cn(W,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ne=W;$.ColorManager=ne;const Vt=class Vt{constructor(Me,Fe,Be){st(this,Te);st(this,Ge);st(this,Qe);st(this,Ye);st(this,he);st(this,ke);st(this,$e);st(this,ot);st(this,Ze);st(this,dt);st(this,St);st(this,q,null);st(this,H,new Map);st(this,X,new Map);st(this,ue,null);st(this,ge,new pe);st(this,Ee,0);st(this,Se,null);st(this,ce,new Set);st(this,xe,null);st(this,et,new de);st(this,ze,!1);st(this,He,B.AnnotationEditorType.NONE);st(this,je,new Set);st(this,Oe,this.copy.bind(this));st(this,Le,this.cut.bind(this));st(this,Je,this.paste.bind(this));st(this,tt,this.keydown.bind(this));st(this,Ae,this.onEditingAction.bind(this));st(this,le,this.onPageChanging.bind(this));st(this,ie,this.onScaleChanging.bind(this));st(this,me,this.onRotationChanging.bind(this));st(this,Ce,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});st(this,we,null);At(this,we,Me),At(this,xe,Fe),ve(this,xe)._on("editingaction",ve(this,Ae)),ve(this,xe)._on("pagechanging",ve(this,le)),ve(this,xe)._on("scalechanging",ve(this,ie)),ve(this,xe)._on("rotationchanging",ve(this,me)),At(this,ue,Be),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ht(this,Ge,qr).call(this),ve(this,xe)._off("editingaction",ve(this,Ae)),ve(this,xe)._off("pagechanging",ve(this,le)),ve(this,xe)._off("scalechanging",ve(this,ie)),ve(this,xe)._off("rotationchanging",ve(this,me));for(const Me of ve(this,X).values())Me.destroy();ve(this,X).clear(),ve(this,H).clear(),ve(this,ce).clear(),At(this,q,null),ve(this,je).clear(),ve(this,ge).destroy()}onPageChanging({pageNumber:Me}){At(this,Ee,Me-1)}focusMainContainer(){ve(this,we).focus()}addShouldRescale(Me){ve(this,ce).add(Me)}removeShouldRescale(Me){ve(this,ce).delete(Me)}onScaleChanging({scale:Me}){this.commitOrRemove(),this.viewParameters.realScale=Me*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Fe of ve(this,ce))Fe.onScaleChanging()}onRotationChanging({pagesRotation:Me}){this.commitOrRemove(),this.viewParameters.rotation=Me}addToAnnotationStorage(Me){!Me.isEmpty()&&ve(this,ue)&&!ve(this,ue).has(Me.id)&&ve(this,ue).setValue(Me.id,Me)}copy(Me){if(Me.preventDefault(),ve(this,q)&&ve(this,q).commitOrRemove(),!this.hasSelection)return;const Fe=[];for(const Be of ve(this,je))Be.isEmpty()||Fe.push(Be.serialize());Fe.length!==0&&Me.clipboardData.setData("application/pdfjs",JSON.stringify(Fe))}cut(Me){this.copy(Me),this.delete()}paste(Me){Me.preventDefault();let Fe=Me.clipboardData.getData("application/pdfjs");if(!Fe)return;try{Fe=JSON.parse(Fe)}catch(pt){(0,B.warn)('paste: "'.concat(pt.message,'".'));return}if(!Array.isArray(Fe))return;this.unselectAll();const Be=ve(this,X).get(ve(this,Ee));try{const pt=[];for(const Ke of Fe){const mt=Be.deserialize(Ke);if(!mt)return;pt.push(mt)}const Dt=()=>{for(const Ke of pt)ht(this,Ze,Gr).call(this,Ke);ht(this,St,Xr).call(this,pt)},Zt=()=>{for(const Ke of pt)Ke.remove()};this.addCommands({cmd:Dt,undo:Zt,mustExec:!0})}catch(pt){(0,B.warn)('paste: "'.concat(pt.message,'".'))}}keydown(Me){var Fe;(Fe=this.getActive())!=null&&Fe.shouldGetKeyboardEvents()||Vt._keyboardManager.exec(this,Me)}onEditingAction(Me){["undo","redo","delete","selectAll"].includes(Me.name)&&this[Me.name]()}setEditingState(Me){Me?(ht(this,Te,$i).call(this),ht(this,Qe,Mi).call(this),ht(this,he,Hn).call(this,{isEditing:ve(this,He)!==B.AnnotationEditorType.NONE,isEmpty:ht(this,dt,gr).call(this),hasSomethingToUndo:ve(this,ge).hasSomethingToUndo(),hasSomethingToRedo:ve(this,ge).hasSomethingToRedo(),hasSelectedEditor:!1})):(ht(this,Ge,qr).call(this),ht(this,Ye,Ti).call(this),ht(this,he,Hn).call(this,{isEditing:!1}))}registerEditorTypes(Me){if(!ve(this,Se)){At(this,Se,Me);for(const Fe of ve(this,Se))ht(this,ke,mr).call(this,Fe.defaultPropertiesToUpdate)}}getId(){return ve(this,et).getId()}get currentLayer(){return ve(this,X).get(ve(this,Ee))}get currentPageIndex(){return ve(this,Ee)}addLayer(Me){ve(this,X).set(Me.pageIndex,Me),ve(this,ze)?Me.enable():Me.disable()}removeLayer(Me){ve(this,X).delete(Me.pageIndex)}updateMode(Me){if(At(this,He,Me),Me===B.AnnotationEditorType.NONE)this.setEditingState(!1),ht(this,ot,Fi).call(this);else{this.setEditingState(!0),ht(this,$e,Ri).call(this);for(const Fe of ve(this,X).values())Fe.updateMode(Me)}}updateToolbar(Me){Me!==ve(this,He)&&ve(this,xe).dispatch("switchannotationeditormode",{source:this,mode:Me})}updateParams(Me,Fe){if(ve(this,Se)){for(const Be of ve(this,je))Be.updateParams(Me,Fe);for(const Be of ve(this,Se))Be.updateDefaultParams(Me,Fe)}}getEditors(Me){const Fe=[];for(const Be of ve(this,H).values())Be.pageIndex===Me&&Fe.push(Be);return Fe}getEditor(Me){return ve(this,H).get(Me)}addEditor(Me){ve(this,H).set(Me.id,Me)}removeEditor(Me){var Fe;ve(this,H).delete(Me.id),this.unselect(Me),(Fe=ve(this,ue))==null||Fe.remove(Me.id)}setActiveEditor(Me){ve(this,q)!==Me&&(At(this,q,Me),Me&&ht(this,ke,mr).call(this,Me.propertiesToUpdate))}toggleSelected(Me){if(ve(this,je).has(Me)){ve(this,je).delete(Me),Me.unselect(),ht(this,he,Hn).call(this,{hasSelectedEditor:this.hasSelection});return}ve(this,je).add(Me),Me.select(),ht(this,ke,mr).call(this,Me.propertiesToUpdate),ht(this,he,Hn).call(this,{hasSelectedEditor:!0})}setSelected(Me){for(const Fe of ve(this,je))Fe!==Me&&Fe.unselect();ve(this,je).clear(),ve(this,je).add(Me),Me.select(),ht(this,ke,mr).call(this,Me.propertiesToUpdate),ht(this,he,Hn).call(this,{hasSelectedEditor:!0})}isSelected(Me){return ve(this,je).has(Me)}unselect(Me){Me.unselect(),ve(this,je).delete(Me),ht(this,he,Hn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ve(this,je).size!==0}undo(){ve(this,ge).undo(),ht(this,he,Hn).call(this,{hasSomethingToUndo:ve(this,ge).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ht(this,dt,gr).call(this)})}redo(){ve(this,ge).redo(),ht(this,he,Hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ve(this,ge).hasSomethingToRedo(),isEmpty:ht(this,dt,gr).call(this)})}addCommands(Me){ve(this,ge).add(Me),ht(this,he,Hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ht(this,dt,gr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Me=[...ve(this,je)],Fe=()=>{for(const pt of Me)pt.remove()},Be=()=>{for(const pt of Me)ht(this,Ze,Gr).call(this,pt)};this.addCommands({cmd:Fe,undo:Be,mustExec:!0})}commitOrRemove(){var Me;(Me=ve(this,q))==null||Me.commitOrRemove()}selectAll(){for(const Me of ve(this,je))Me.commit();ht(this,St,Xr).call(this,ve(this,H).values())}unselectAll(){if(ve(this,q)){ve(this,q).commitOrRemove();return}if(ve(this,je).size!==0){for(const Me of ve(this,je))Me.unselect();ve(this,je).clear(),ht(this,he,Hn).call(this,{hasSelectedEditor:!1})}}isActive(Me){return ve(this,q)===Me}getActive(){return ve(this,q)}getMode(){return ve(this,He)}};q=new WeakMap,H=new WeakMap,X=new WeakMap,ue=new WeakMap,ge=new WeakMap,Ee=new WeakMap,Se=new WeakMap,ce=new WeakMap,xe=new WeakMap,et=new WeakMap,ze=new WeakMap,He=new WeakMap,je=new WeakMap,Oe=new WeakMap,Le=new WeakMap,Je=new WeakMap,tt=new WeakMap,Ae=new WeakMap,le=new WeakMap,ie=new WeakMap,me=new WeakMap,Ce=new WeakMap,we=new WeakMap,Te=new WeakSet,$i=function(){ve(this,we).addEventListener("keydown",ve(this,tt))},Ge=new WeakSet,qr=function(){ve(this,we).removeEventListener("keydown",ve(this,tt))},Qe=new WeakSet,Mi=function(){document.addEventListener("copy",ve(this,Oe)),document.addEventListener("cut",ve(this,Le)),document.addEventListener("paste",ve(this,Je))},Ye=new WeakSet,Ti=function(){document.removeEventListener("copy",ve(this,Oe)),document.removeEventListener("cut",ve(this,Le)),document.removeEventListener("paste",ve(this,Je))},he=new WeakSet,Hn=function(Me){Object.entries(Me).some(([Be,pt])=>ve(this,Ce)[Be]!==pt)&&ve(this,xe).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ve(this,Ce),Me)})},ke=new WeakSet,mr=function(Me){ve(this,xe).dispatch("annotationeditorparamschanged",{source:this,details:Me})},$e=new WeakSet,Ri=function(){if(!ve(this,ze)){At(this,ze,!0);for(const Me of ve(this,X).values())Me.enable()}},ot=new WeakSet,Fi=function(){if(this.unselectAll(),ve(this,ze)){At(this,ze,!1);for(const Me of ve(this,X).values())Me.disable()}},Ze=new WeakSet,Gr=function(Me){const Fe=ve(this,X).get(Me.pageIndex);Fe?Fe.addOrRebuild(Me):this.addEditor(Me)},dt=new WeakSet,gr=function(){if(ve(this,H).size===0)return!0;if(ve(this,H).size===1)for(const Me of ve(this,H).values())return Me.isEmpty();return!1},St=new WeakSet,Xr=function(Me){ve(this,je).clear();for(const Fe of Me)Fe.isEmpty()||(ve(this,je).add(Fe),Fe.select());ht(this,he,Hn).call(this,{hasSelectedEditor:!0})},Cn(Vt,"_keyboardManager",new oe([[["ctrl+a","mac+meta+a"],Vt.prototype.selectAll],[["ctrl+z","mac+meta+z"],Vt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Vt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Vt.prototype.delete],[["Escape","mac+Escape"],Vt.prototype.unselectAll]]));let be=Vt;$.AnnotationEditorUIManager=be},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=X,$.getColorValues=ce,$.getCurrentTransform=xe,$.getCurrentTransformInverse=et,$.getFilenameFromUrl=J,$.getPdfFilenameFromUrl=K,$.getRGB=Se,$.getXfaPageViewport=Ee,$.isDataScheme=G,$.isPdfFile=U,$.isValidFetchUrl=q,$.loadScript=H,$.setLayerDimensions=ze;var B=V(7),O=V(1);const R="http://www.w3.org/2000/svg",re="pdfjs_internal_id_";$.AnnotationPrefix=re;const He=class He{};Cn(He,"CSS",96),Cn(He,"PDF",72),Cn(He,"PDF_TO_CSS_UNITS",He.CSS/He.PDF);let de=He;$.PixelsPerInch=de;class pe extends B.BaseCanvasFactory{constructor({ownerDocument:Oe=globalThis.document}={}){super(),this._document=Oe}_createCanvas(Oe,Le){const Je=this._document.createElement("canvas");return Je.width=Oe,Je.height=Le,Je}}$.DOMCanvasFactory=pe;async function oe(je,Oe=!1){if(q(je,document.baseURI)){const Le=await fetch(je);if(!Le.ok)throw new Error(Le.statusText);return Oe?new Uint8Array(await Le.arrayBuffer()):(0,O.stringToBytes)(await Le.text())}return new Promise((Le,Je)=>{const tt=new XMLHttpRequest;tt.open("GET",je,!0),Oe&&(tt.responseType="arraybuffer"),tt.onreadystatechange=()=>{if(tt.readyState===XMLHttpRequest.DONE){if(tt.status===200||tt.status===0){let Ae;if(Oe&&tt.response?Ae=new Uint8Array(tt.response):!Oe&&tt.responseText&&(Ae=(0,O.stringToBytes)(tt.responseText)),Ae){Le(Ae);return}}Je(new Error(tt.statusText))}},tt.send(null)})}class ne extends B.BaseCMapReaderFactory{_fetchData(Oe,Le){return oe(Oe,this.isCompressed).then(Je=>({cMapData:Je,compressionType:Le}))}}$.DOMCMapReaderFactory=ne;class be extends B.BaseStandardFontDataFactory{_fetchData(Oe){return oe(Oe,!0)}}$.DOMStandardFontDataFactory=be;class ae extends B.BaseSVGFactory{_createSVG(Oe){return document.createElementNS(R,Oe)}}$.DOMSVGFactory=ae;class ee{constructor({viewBox:Oe,scale:Le,rotation:Je,offsetX:tt=0,offsetY:Ae=0,dontFlip:le=!1}){this.viewBox=Oe,this.scale=Le,this.rotation=Je,this.offsetX=tt,this.offsetY=Ae;const ie=(Oe[2]+Oe[0])/2,me=(Oe[3]+Oe[1])/2;let Ce,we,Te,De;switch(Je%=360,Je<0&&(Je+=360),Je){case 180:Ce=-1,we=0,Te=0,De=1;break;case 90:Ce=0,we=1,Te=1,De=0;break;case 270:Ce=0,we=-1,Te=-1,De=0;break;case 0:Ce=1,we=0,Te=0,De=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}le&&(Te=-Te,De=-De);let Ge,it,Qe,nt;Ce===0?(Ge=Math.abs(me-Oe[1])*Le+tt,it=Math.abs(ie-Oe[0])*Le+Ae,Qe=(Oe[3]-Oe[1])*Le,nt=(Oe[2]-Oe[0])*Le):(Ge=Math.abs(ie-Oe[0])*Le+tt,it=Math.abs(me-Oe[1])*Le+Ae,Qe=(Oe[2]-Oe[0])*Le,nt=(Oe[3]-Oe[1])*Le),this.transform=[Ce*Le,we*Le,Te*Le,De*Le,Ge-Ce*Le*ie-Te*Le*me,it-we*Le*ie-De*Le*me],this.width=Qe,this.height=nt}get rawDims(){const{viewBox:Oe}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Oe[2]-Oe[0],pageHeight:Oe[3]-Oe[1],pageX:Oe[0],pageY:Oe[1]})}clone({scale:Oe=this.scale,rotation:Le=this.rotation,offsetX:Je=this.offsetX,offsetY:tt=this.offsetY,dontFlip:Ae=!1}={}){return new ee({viewBox:this.viewBox.slice(),scale:Oe,rotation:Le,offsetX:Je,offsetY:tt,dontFlip:Ae})}convertToViewportPoint(Oe,Le){return O.Util.applyTransform([Oe,Le],this.transform)}convertToViewportRectangle(Oe){const Le=O.Util.applyTransform([Oe[0],Oe[1]],this.transform),Je=O.Util.applyTransform([Oe[2],Oe[3]],this.transform);return[Le[0],Le[1],Je[0],Je[1]]}convertToPdfPoint(Oe,Le){return O.Util.applyInverseTransform([Oe,Le],this.transform)}}$.PageViewport=ee;class te extends O.BaseException{constructor(Oe,Le,Je=0){super(Oe,"RenderingCancelledException"),this.type=Le,this.extraDelay=Je}}$.RenderingCancelledException=te;function G(je){const Oe=je.length;let Le=0;for(;Le<Oe&&je[Le].trim()==="";)Le++;return je.substring(Le,Le+5).toLowerCase()==="data:"}function U(je){return typeof je=="string"&&/\.pdf$/i.test(je)}function J(je,Oe=!1){return Oe||([je]=je.split(/[#?]/,1)),je.substring(je.lastIndexOf("/")+1)}function K(je,Oe="document.pdf"){if(typeof je!="string")return Oe;if(G(je))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Oe;const Le=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Je=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tt=Le.exec(je);let Ae=Je.exec(tt[1])||Je.exec(tt[2])||Je.exec(tt[3]);if(Ae&&(Ae=Ae[0],Ae.includes("%")))try{Ae=Je.exec(decodeURIComponent(Ae))[0]}catch(le){}return Ae||Oe}class W{constructor(){Cn(this,"started",Object.create(null));Cn(this,"times",[])}time(Oe){Oe in this.started&&(0,O.warn)("Timer is already running for ".concat(Oe)),this.started[Oe]=Date.now()}timeEnd(Oe){Oe in this.started||(0,O.warn)("Timer has not been started for ".concat(Oe)),this.times.push({name:Oe,start:this.started[Oe],end:Date.now()}),delete this.started[Oe]}toString(){const Oe=[];let Le=0;for(const{name:Je}of this.times)Le=Math.max(Je.length,Le);for(const{name:Je,start:tt,end:Ae}of this.times)Oe.push("".concat(Je.padEnd(Le)," ").concat(Ae-tt,"ms\n"));return Oe.join("")}}$.StatTimer=W;function q(je,Oe){try{const{protocol:Le}=Oe?new URL(je,Oe):new URL(je);return Le==="http:"||Le==="https:"}catch(Le){return!1}}function H(je,Oe=!1){return new Promise((Le,Je)=>{const tt=document.createElement("script");tt.src=je,tt.onload=function(Ae){Oe&&tt.remove(),Le(Ae)},tt.onerror=function(){Je(new Error("Cannot load script at: ".concat(tt.src)))},(document.head||document.documentElement).append(tt)})}function X(je){console.log("Deprecated API usage: "+je)}let ue;class ge{static toDateObject(Oe){if(!Oe||typeof Oe!="string")return null;ue||(ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Le=ue.exec(Oe);if(!Le)return null;const Je=parseInt(Le[1],10);let tt=parseInt(Le[2],10);tt=tt>=1&&tt<=12?tt-1:0;let Ae=parseInt(Le[3],10);Ae=Ae>=1&&Ae<=31?Ae:1;let le=parseInt(Le[4],10);le=le>=0&&le<=23?le:0;let ie=parseInt(Le[5],10);ie=ie>=0&&ie<=59?ie:0;let me=parseInt(Le[6],10);me=me>=0&&me<=59?me:0;const Ce=Le[7]||"Z";let we=parseInt(Le[8],10);we=we>=0&&we<=23?we:0;let Te=parseInt(Le[9],10)||0;return Te=Te>=0&&Te<=59?Te:0,Ce==="-"?(le+=we,ie+=Te):Ce==="+"&&(le-=we,ie-=Te),new Date(Date.UTC(Je,tt,Ae,le,ie,me))}}$.PDFDateString=ge;function Ee(je,{scale:Oe=1,rotation:Le=0}){const{width:Je,height:tt}=je.attributes.style,Ae=[0,0,parseInt(Je),parseInt(tt)];return new ee({viewBox:Ae,scale:Oe,rotation:Le})}function Se(je){if(je.startsWith("#")){const Oe=parseInt(je.slice(1),16);return[(Oe&16711680)>>16,(Oe&65280)>>8,Oe&255]}return je.startsWith("rgb(")?je.slice(4,-1).split(",").map(Oe=>parseInt(Oe)):je.startsWith("rgba(")?je.slice(5,-1).split(",").map(Oe=>parseInt(Oe)).slice(0,3):((0,O.warn)('Not a valid color format: "'.concat(je,'"')),[0,0,0])}function ce(je){const Oe=document.createElement("span");Oe.style.visibility="hidden",document.body.append(Oe);for(const Le of je.keys()){Oe.style.color=Le;const Je=window.getComputedStyle(Oe).color;je.set(Le,Se(Je))}Oe.remove()}function xe(je){const{a:Oe,b:Le,c:Je,d:tt,e:Ae,f:le}=je.getTransform();return[Oe,Le,Je,tt,Ae,le]}function et(je){const{a:Oe,b:Le,c:Je,d:tt,e:Ae,f:le}=je.getTransform().invertSelf();return[Oe,Le,Je,tt,Ae,le]}function ze(je,Oe,Le=!1,Je=!0){if(Oe instanceof ee){const{pageWidth:tt,pageHeight:Ae}=Oe.rawDims,{style:le}=je,ie="calc(var(--scale-factor) * ".concat(tt,"px)"),me="calc(var(--scale-factor) * ".concat(Ae,"px)");!Le||Oe.rotation%180===0?(le.width=ie,le.height=me):(le.width=me,le.height=ie)}Je&&je.setAttribute("data-main-rotation",Oe.rotation)}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var B=V(1);class O{constructor(){this.constructor===O&&(0,B.unreachable)("Cannot initialize BaseCanvasFactory.")}create(oe,ne){if(oe<=0||ne<=0)throw new Error("Invalid canvas size");const be=this._createCanvas(oe,ne);return{canvas:be,context:be.getContext("2d")}}reset(oe,ne,be){if(!oe.canvas)throw new Error("Canvas is not specified");if(ne<=0||be<=0)throw new Error("Invalid canvas size");oe.canvas.width=ne,oe.canvas.height=be}destroy(oe){if(!oe.canvas)throw new Error("Canvas is not specified");oe.canvas.width=0,oe.canvas.height=0,oe.canvas=null,oe.context=null}_createCanvas(oe,ne){(0,B.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=O;class R{constructor({baseUrl:oe=null,isCompressed:ne=!0}){this.constructor===R&&(0,B.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=oe,this.isCompressed=ne}async fetch({name:oe}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!oe)throw new Error("CMap name must be specified.");const ne=this.baseUrl+oe+(this.isCompressed?".bcmap":""),be=this.isCompressed?B.CMapCompressionType.BINARY:B.CMapCompressionType.NONE;return this._fetchData(ne,be).catch(ae=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(ne))})}_fetchData(oe,ne){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=R;class re{constructor({baseUrl:oe=null}){this.constructor===re&&(0,B.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=oe}async fetch({filename:oe}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!oe)throw new Error("Font filename must be specified.");const ne="".concat(this.baseUrl).concat(oe);return this._fetchData(ne).catch(be=>{throw new Error("Unable to load font data at: ".concat(ne))})}_fetchData(oe){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=re;class de{constructor(){this.constructor===de&&(0,B.unreachable)("Cannot initialize BaseSVGFactory.")}create(oe,ne,be=!1){if(oe<=0||ne<=0)throw new Error("Invalid SVG dimensions");const ae=this._createSVG("svg:svg");return ae.setAttribute("version","1.1"),be||(ae.setAttribute("width","".concat(oe,"px")),ae.setAttribute("height","".concat(ne,"px"))),ae.setAttribute("preserveAspectRatio","none"),ae.setAttribute("viewBox","0 0 ".concat(oe," ").concat(ne)),ae}createElement(oe){if(typeof oe!="string")throw new Error("Invalid SVG element type");return this._createSVG(oe)}_createSVG(oe){(0,B.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=de},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var B=V(1);const O=3285377520,R=4294901760,re=65535;class de{constructor(oe){this.h1=oe?oe&4294967295:O,this.h2=oe?oe&4294967295:O}update(oe){let ne,be;if(typeof oe=="string"){ne=new Uint8Array(oe.length*2),be=0;for(let ue=0,ge=oe.length;ue<ge;ue++){const Ee=oe.charCodeAt(ue);Ee<=255?ne[be++]=Ee:(ne[be++]=Ee>>>8,ne[be++]=Ee&255)}}else if((0,B.isArrayBuffer)(oe))ne=oe.slice(),be=ne.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ae=be>>2,ee=be-ae*4,te=new Uint32Array(ne.buffer,0,ae);let G=0,U=0,J=this.h1,K=this.h2;const W=3432918353,q=461845907,H=W&re,X=q&re;for(let ue=0;ue<ae;ue++)ue&1?(G=te[ue],G=G*W&R|G*H&re,G=G<<15|G>>>17,G=G*q&R|G*X&re,J^=G,J=J<<13|J>>>19,J=J*5+3864292196):(U=te[ue],U=U*W&R|U*H&re,U=U<<15|U>>>17,U=U*q&R|U*X&re,K^=U,K=K<<13|K>>>19,K=K*5+3864292196);switch(G=0,ee){case 3:G^=ne[ae*4+2]<<16;case 2:G^=ne[ae*4+1]<<8;case 1:G^=ne[ae*4],G=G*W&R|G*H&re,G=G<<15|G>>>17,G=G*q&R|G*X&re,ae&1?J^=G:K^=G}this.h1=J,this.h2=K}hexdigest(){let oe=this.h1,ne=this.h2;return oe^=ne>>>1,oe=oe*3981806797&R|oe*36045&re,ne=ne*4283543511&R|((ne<<16|oe>>>16)*2950163797&R)>>>16,oe^=ne>>>1,oe=oe*444984403&R|oe*60499&re,ne=ne*3301882366&R|((ne<<16|oe>>>16)*3120437893&R)>>>16,oe^=ne>>>1,(oe>>>0).toString(16).padStart(8,"0")+(ne>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=de},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var B=V(1),O=V(10);class R{constructor({onUnsupportedFeature:pe,ownerDocument:oe=globalThis.document,styleElement:ne=null}){this._onUnsupportedFeature=pe,this._document=oe,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(pe){this.nativeFontFaces.push(pe),this._document.fonts.add(pe)}insertRule(pe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const oe=this.styleElement.sheet;oe.insertRule(pe,oe.cssRules.length)}clear(){for(const pe of this.nativeFontFaces)this._document.fonts.delete(pe);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(pe){if(pe.attached||pe.missingFile)return;if(pe.attached=!0,this.isFontLoadingAPISupported){const ne=pe.createNativeFontFace();if(ne){this.addNativeFontFace(ne);try{await ne.loaded}catch(be){throw this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,B.warn)("Failed to load font '".concat(ne.family,"': '").concat(be,"'.")),pe.disableFontFace=!0,be}}return}const oe=pe.createFontFaceRule();if(oe){if(this.insertRule(oe),this.isSyncFontLoadingSupported)return;await new Promise(ne=>{const be=this._queueLoadingCallback(ne);this._prepareFontLoadEvent(pe,be)})}}get isFontLoadingAPISupported(){var oe;const pe=!!((oe=this._document)!=null&&oe.fonts);return(0,B.shadow)(this,"isFontLoadingAPISupported",pe)}get isSyncFontLoadingSupported(){let pe=!1;return(O.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(pe=!0),(0,B.shadow)(this,"isSyncFontLoadingSupported",pe)}_queueLoadingCallback(pe){function oe(){for((0,B.assert)(!be.done,"completeRequest() cannot be called twice."),be.done=!0;ne.length>0&&ne[0].done;){const ae=ne.shift();setTimeout(ae.callback,0)}}const{loadingRequests:ne}=this,be={done:!1,complete:oe,callback:pe};return ne.push(be),be}get _loadTestFont(){const pe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,B.shadow)(this,"_loadTestFont",pe)}_prepareFontLoadEvent(pe,oe){function ne(ce,xe){return ce.charCodeAt(xe)<<24|ce.charCodeAt(xe+1)<<16|ce.charCodeAt(xe+2)<<8|ce.charCodeAt(xe+3)&255}function be(ce,xe,et,ze){const He=ce.substring(0,xe),je=ce.substring(xe+et);return He+ze+je}let ae,ee;const te=this._document.createElement("canvas");te.width=1,te.height=1;const G=te.getContext("2d");let U=0;function J(ce,xe){if(++U>30){(0,B.warn)("Load test font never loaded."),xe();return}if(G.font="30px "+ce,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){xe();return}setTimeout(J.bind(null,ce,xe))}const K="lt".concat(Date.now()).concat(this.loadTestFontId++);let W=this._loadTestFont;W=be(W,976,K.length,K);const H=16,X=1482184792;let ue=ne(W,H);for(ae=0,ee=K.length-3;ae<ee;ae+=4)ue=ue-X+ne(K,ae)|0;ae<K.length&&(ue=ue-X+ne(K+"XXX",ae)|0),W=be(W,H,4,(0,B.string32)(ue));const ge="url(data:font/opentype;base64,".concat(btoa(W),");"),Ee='@font-face {font-family:"'.concat(K,'";src:').concat(ge,"}");this.insertRule(Ee);const Se=this._document.createElement("div");Se.style.visibility="hidden",Se.style.width=Se.style.height="10px",Se.style.position="absolute",Se.style.top=Se.style.left="0px";for(const ce of[pe.loadedName,K]){const xe=this._document.createElement("span");xe.textContent="Hi",xe.style.fontFamily=ce,Se.append(xe)}this._document.body.append(Se),J(K,()=>{Se.remove(),oe.complete()})}}$.FontLoader=R;class re{constructor(pe,{isEvalSupported:oe=!0,disableFontFace:ne=!1,ignoreErrors:be=!1,onUnsupportedFeature:ae,fontRegistry:ee=null}){this.compiledGlyphs=Object.create(null);for(const te in pe)this[te]=pe[te];this.isEvalSupported=oe!==!1,this.disableFontFace=ne===!0,this.ignoreErrors=be===!0,this._onUnsupportedFeature=ae,this.fontRegistry=ee}createNativeFontFace(){var oe;if(!this.data||this.disableFontFace)return null;let pe;if(!this.cssFontInfo)pe=new FontFace(this.loadedName,this.data,{});else{const ne={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ne.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),pe=new FontFace(this.cssFontInfo.fontFamily,this.data,ne)}return(oe=this.fontRegistry)==null||oe.registerFont(this),pe}createFontFaceRule(){var be;if(!this.data||this.disableFontFace)return null;const pe=(0,B.bytesToString)(this.data),oe="url(data:".concat(this.mimetype,";base64,").concat(btoa(pe),");");let ne;if(!this.cssFontInfo)ne='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(oe,"}");else{let ae="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(ae+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),ne='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(ae,"src:").concat(oe,"}")}return(be=this.fontRegistry)==null||be.registerFont(this,oe),ne}getPathGenerator(pe,oe){if(this.compiledGlyphs[oe]!==void 0)return this.compiledGlyphs[oe];let ne;try{ne=pe.get(this.loadedName+"_path_"+oe)}catch(be){if(!this.ignoreErrors)throw be;return this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,B.warn)('getPathGenerator - ignoring character: "'.concat(be,'".')),this.compiledGlyphs[oe]=function(ae,ee){}}if(this.isEvalSupported&&B.FeatureTest.isEvalSupported){const be=[];for(const ae of ne){const ee=ae.args!==void 0?ae.args.join(","):"";be.push("c.",ae.cmd,"(",ee,");\n")}return this.compiledGlyphs[oe]=new Function("c","size",be.join(""))}return this.compiledGlyphs[oe]=function(be,ae){for(const ee of ne)ee.cmd==="scale"&&(ee.args=[ae,-ae]),be[ee.cmd].apply(be,ee.args)}}}$.FontFaceObject=re},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const V=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=V},(A,$,V)=>{var Le,Kr;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var B=V(1),O=V(6),R=V(12),re=V(13);const de=16,pe=100,oe=4096,ne=15,be=10,ae=1e3,ee=16;function te(Ae,le){if(Ae._removeMirroring)throw new Error("Context is already forwarding operations.");Ae.__originalSave=Ae.save,Ae.__originalRestore=Ae.restore,Ae.__originalRotate=Ae.rotate,Ae.__originalScale=Ae.scale,Ae.__originalTranslate=Ae.translate,Ae.__originalTransform=Ae.transform,Ae.__originalSetTransform=Ae.setTransform,Ae.__originalResetTransform=Ae.resetTransform,Ae.__originalClip=Ae.clip,Ae.__originalMoveTo=Ae.moveTo,Ae.__originalLineTo=Ae.lineTo,Ae.__originalBezierCurveTo=Ae.bezierCurveTo,Ae.__originalRect=Ae.rect,Ae.__originalClosePath=Ae.closePath,Ae.__originalBeginPath=Ae.beginPath,Ae._removeMirroring=()=>{Ae.save=Ae.__originalSave,Ae.restore=Ae.__originalRestore,Ae.rotate=Ae.__originalRotate,Ae.scale=Ae.__originalScale,Ae.translate=Ae.__originalTranslate,Ae.transform=Ae.__originalTransform,Ae.setTransform=Ae.__originalSetTransform,Ae.resetTransform=Ae.__originalResetTransform,Ae.clip=Ae.__originalClip,Ae.moveTo=Ae.__originalMoveTo,Ae.lineTo=Ae.__originalLineTo,Ae.bezierCurveTo=Ae.__originalBezierCurveTo,Ae.rect=Ae.__originalRect,Ae.closePath=Ae.__originalClosePath,Ae.beginPath=Ae.__originalBeginPath,delete Ae._removeMirroring},Ae.save=function(){le.save(),this.__originalSave()},Ae.restore=function(){le.restore(),this.__originalRestore()},Ae.translate=function(me,Ce){le.translate(me,Ce),this.__originalTranslate(me,Ce)},Ae.scale=function(me,Ce){le.scale(me,Ce),this.__originalScale(me,Ce)},Ae.transform=function(me,Ce,we,Te,De,Ge){le.transform(me,Ce,we,Te,De,Ge),this.__originalTransform(me,Ce,we,Te,De,Ge)},Ae.setTransform=function(me,Ce,we,Te,De,Ge){le.setTransform(me,Ce,we,Te,De,Ge),this.__originalSetTransform(me,Ce,we,Te,De,Ge)},Ae.resetTransform=function(){le.resetTransform(),this.__originalResetTransform()},Ae.rotate=function(me){le.rotate(me),this.__originalRotate(me)},Ae.clip=function(me){le.clip(me),this.__originalClip(me)},Ae.moveTo=function(ie,me){le.moveTo(ie,me),this.__originalMoveTo(ie,me)},Ae.lineTo=function(ie,me){le.lineTo(ie,me),this.__originalLineTo(ie,me)},Ae.bezierCurveTo=function(ie,me,Ce,we,Te,De){le.bezierCurveTo(ie,me,Ce,we,Te,De),this.__originalBezierCurveTo(ie,me,Ce,we,Te,De)},Ae.rect=function(ie,me,Ce,we){le.rect(ie,me,Ce,we),this.__originalRect(ie,me,Ce,we)},Ae.closePath=function(){le.closePath(),this.__originalClosePath()},Ae.beginPath=function(){le.beginPath(),this.__originalBeginPath()}}class G{constructor(le){this.canvasFactory=le,this.cache=Object.create(null)}getCanvas(le,ie,me){let Ce;return this.cache[le]!==void 0?(Ce=this.cache[le],this.canvasFactory.reset(Ce,ie,me)):(Ce=this.canvasFactory.create(ie,me),this.cache[le]=Ce),Ce}delete(le){delete this.cache[le]}clear(){for(const le in this.cache){const ie=this.cache[le];this.canvasFactory.destroy(ie),delete this.cache[le]}}}function U(Ae,le,ie,me,Ce,we,Te,De,Ge,it){const[Qe,nt,Ye,se,he,ye]=(0,O.getCurrentTransform)(Ae);if(nt===0&&Ye===0){const $e=Te*Qe+he,rt=Math.round($e),ot=De*se+ye,at=Math.round(ot),Ze=(Te+Ge)*Qe+he,ft=Math.abs(Math.round(Ze)-rt)||1,dt=(De+it)*se+ye,_t=Math.abs(Math.round(dt)-at)||1;return Ae.setTransform(Math.sign(Qe),0,0,Math.sign(se),rt,at),Ae.drawImage(le,ie,me,Ce,we,0,0,ft,_t),Ae.setTransform(Qe,nt,Ye,se,he,ye),[ft,_t]}if(Qe===0&&se===0){const $e=De*Ye+he,rt=Math.round($e),ot=Te*nt+ye,at=Math.round(ot),Ze=(De+it)*Ye+he,ft=Math.abs(Math.round(Ze)-rt)||1,dt=(Te+Ge)*nt+ye,_t=Math.abs(Math.round(dt)-at)||1;return Ae.setTransform(0,Math.sign(nt),Math.sign(Ye),0,rt,at),Ae.drawImage(le,ie,me,Ce,we,0,0,_t,ft),Ae.setTransform(Qe,nt,Ye,se,he,ye),[_t,ft]}Ae.drawImage(le,ie,me,Ce,we,Te,De,Ge,it);const ke=Math.hypot(Qe,nt),_e=Math.hypot(Ye,se);return[ke*Ge,_e*it]}function J(Ae){const{width:le,height:ie}=Ae;if(le>ae||ie>ae)return null;const me=1e3,Ce=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),we=le+1;let Te=new Uint8Array(we*(ie+1)),De,Ge,it;const Qe=le+7&-8;let nt=new Uint8Array(Qe*ie),Ye=0;for(const _e of Ae.data){let $e=128;for(;$e>0;)nt[Ye++]=_e&$e?0:255,$e>>=1}let se=0;for(Ye=0,nt[Ye]!==0&&(Te[0]=1,++se),Ge=1;Ge<le;Ge++)nt[Ye]!==nt[Ye+1]&&(Te[Ge]=nt[Ye]?2:1,++se),Ye++;for(nt[Ye]!==0&&(Te[Ge]=2,++se),De=1;De<ie;De++){Ye=De*Qe,it=De*we,nt[Ye-Qe]!==nt[Ye]&&(Te[it]=nt[Ye]?1:8,++se);let _e=(nt[Ye]?4:0)+(nt[Ye-Qe]?8:0);for(Ge=1;Ge<le;Ge++)_e=(_e>>2)+(nt[Ye+1]?4:0)+(nt[Ye-Qe+1]?8:0),Ce[_e]&&(Te[it+Ge]=Ce[_e],++se),Ye++;if(nt[Ye-Qe]!==nt[Ye]&&(Te[it+Ge]=nt[Ye]?2:4,++se),se>me)return null}for(Ye=Qe*(ie-1),it=De*we,nt[Ye]!==0&&(Te[it]=8,++se),Ge=1;Ge<le;Ge++)nt[Ye]!==nt[Ye+1]&&(Te[it+Ge]=nt[Ye]?4:8,++se),Ye++;if(nt[Ye]!==0&&(Te[it+Ge]=4,++se),se>me)return null;const he=new Int32Array([0,we,-1,0,-we,0,0,0,1]),ye=new Path2D;for(De=0;se&&De<=ie;De++){let _e=De*we;const $e=_e+le;for(;_e<$e&&!Te[_e];)_e++;if(_e===$e)continue;ye.moveTo(_e%we,De);const rt=_e;let ot=Te[_e];do{const at=he[ot];do _e+=at;while(!Te[_e]);const Ze=Te[_e];Ze!==5&&Ze!==10?(ot=Ze,Te[_e]=0):(ot=Ze&51*ot>>4,Te[_e]&=ot>>2|ot<<2),ye.lineTo(_e%we,_e/we|0),Te[_e]||--se}while(rt!==_e);--De}return nt=null,Te=null,function(_e){_e.save(),_e.scale(1/le,-1/ie),_e.translate(0,-ie),_e.fill(ye),_e.beginPath(),_e.restore()}}class K{constructor(le,ie){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=B.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=B.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,le,ie])}clone(){const le=Object.create(this);return le.clipBox=this.clipBox.slice(),le}setCurrentPoint(le,ie){this.x=le,this.y=ie}updatePathMinMax(le,ie,me){[ie,me]=B.Util.applyTransform([ie,me],le),this.minX=Math.min(this.minX,ie),this.minY=Math.min(this.minY,me),this.maxX=Math.max(this.maxX,ie),this.maxY=Math.max(this.maxY,me)}updateRectMinMax(le,ie){const me=B.Util.applyTransform(ie,le),Ce=B.Util.applyTransform(ie.slice(2),le);this.minX=Math.min(this.minX,me[0],Ce[0]),this.minY=Math.min(this.minY,me[1],Ce[1]),this.maxX=Math.max(this.maxX,me[0],Ce[0]),this.maxY=Math.max(this.maxY,me[1],Ce[1])}updateScalingPathMinMax(le,ie){B.Util.scaleMinMax(le,ie),this.minX=Math.min(this.minX,ie[0]),this.maxX=Math.max(this.maxX,ie[1]),this.minY=Math.min(this.minY,ie[2]),this.maxY=Math.max(this.maxY,ie[3])}updateCurvePathMinMax(le,ie,me,Ce,we,Te,De,Ge,it,Qe){const nt=B.Util.bezierBoundingBox(ie,me,Ce,we,Te,De,Ge,it);if(Qe){Qe[0]=Math.min(Qe[0],nt[0],nt[2]),Qe[1]=Math.max(Qe[1],nt[0],nt[2]),Qe[2]=Math.min(Qe[2],nt[1],nt[3]),Qe[3]=Math.max(Qe[3],nt[1],nt[3]);return}this.updateRectMinMax(le,nt)}getPathBoundingBox(le=R.PathType.FILL,ie=null){const me=[this.minX,this.minY,this.maxX,this.maxY];if(le===R.PathType.STROKE){ie||(0,B.unreachable)("Stroke bounding box must include transform.");const Ce=B.Util.singularValueDecompose2dScale(ie),we=Ce[0]*this.lineWidth/2,Te=Ce[1]*this.lineWidth/2;me[0]-=we,me[1]-=Te,me[2]+=we,me[3]+=Te}return me}updateClipFromPath(){const le=B.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(le||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(le){this.clipBox=le,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(le=R.PathType.FILL,ie=null){return B.Util.intersect(this.clipBox,this.getPathBoundingBox(le,ie))}}function W(Ae,le,ie=null){if(typeof ImageData<"u"&&le instanceof ImageData){Ae.putImageData(le,0,0);return}const me=le.height,Ce=le.width,we=me%ee,Te=(me-we)/ee,De=we===0?Te:Te+1,Ge=Ae.createImageData(Ce,ee);let it=0,Qe;const nt=le.data,Ye=Ge.data;let se,he,ye,ke,_e,$e,rt,ot;if(ie)switch(ie.length){case 1:_e=ie[0],$e=ie[0],rt=ie[0],ot=ie[0];break;case 4:_e=ie[0],$e=ie[1],rt=ie[2],ot=ie[3];break}if(le.kind===B.ImageKind.GRAYSCALE_1BPP){const at=nt.byteLength,Ze=new Uint32Array(Ye.buffer,0,Ye.byteLength>>2),ft=Ze.length,dt=Ce+7>>3;let _t=4294967295,St=B.FeatureTest.isLittleEndian?4278190080:255;for(ot&&ot[0]===255&&ot[255]===0&&([_t,St]=[St,_t]),se=0;se<De;se++){for(ye=se<Te?ee:we,Qe=0,he=0;he<ye;he++){const It=at-it;let Vt=0;const jt=It>dt?Ce:It*8-7,Me=jt&-8;let Fe=0,Be=0;for(;Vt<Me;Vt+=8)Be=nt[it++],Ze[Qe++]=Be&128?_t:St,Ze[Qe++]=Be&64?_t:St,Ze[Qe++]=Be&32?_t:St,Ze[Qe++]=Be&16?_t:St,Ze[Qe++]=Be&8?_t:St,Ze[Qe++]=Be&4?_t:St,Ze[Qe++]=Be&2?_t:St,Ze[Qe++]=Be&1?_t:St;for(;Vt<jt;Vt++)Fe===0&&(Be=nt[it++],Fe=128),Ze[Qe++]=Be&Fe?_t:St,Fe>>=1}for(;Qe<ft;)Ze[Qe++]=0;Ae.putImageData(Ge,0,se*ee)}}else if(le.kind===B.ImageKind.RGBA_32BPP){const at=!!(_e||$e||rt);for(he=0,ke=Ce*ee*4,se=0;se<Te;se++){if(Ye.set(nt.subarray(it,it+ke)),it+=ke,at)for(let Ze=0;Ze<ke;Ze+=4)_e&&(Ye[Ze+0]=_e[Ye[Ze+0]]),$e&&(Ye[Ze+1]=$e[Ye[Ze+1]]),rt&&(Ye[Ze+2]=rt[Ye[Ze+2]]);Ae.putImageData(Ge,0,he),he+=ee}if(se<De){if(ke=Ce*we*4,Ye.set(nt.subarray(it,it+ke)),at)for(let Ze=0;Ze<ke;Ze+=4)_e&&(Ye[Ze+0]=_e[Ye[Ze+0]]),$e&&(Ye[Ze+1]=$e[Ye[Ze+1]]),rt&&(Ye[Ze+2]=rt[Ye[Ze+2]]);Ae.putImageData(Ge,0,he)}}else if(le.kind===B.ImageKind.RGB_24BPP){const at=!!(_e||$e||rt);for(ye=ee,ke=Ce*ye,se=0;se<De;se++){for(se>=Te&&(ye=we,ke=Ce*ye),Qe=0,he=ke;he--;)Ye[Qe++]=nt[it++],Ye[Qe++]=nt[it++],Ye[Qe++]=nt[it++],Ye[Qe++]=255;if(at)for(let Ze=0;Ze<Qe;Ze+=4)_e&&(Ye[Ze+0]=_e[Ye[Ze+0]]),$e&&(Ye[Ze+1]=$e[Ye[Ze+1]]),rt&&(Ye[Ze+2]=rt[Ye[Ze+2]]);Ae.putImageData(Ge,0,se*ee)}}else throw new Error("bad image kind: ".concat(le.kind))}function q(Ae,le){if(le.bitmap){Ae.drawImage(le.bitmap,0,0);return}const ie=le.height,me=le.width,Ce=ie%ee,we=(ie-Ce)/ee,Te=Ce===0?we:we+1,De=Ae.createImageData(me,ee);let Ge=0;const it=le.data,Qe=De.data;for(let nt=0;nt<Te;nt++){const Ye=nt<we?ee:Ce;({srcPos:Ge}=(0,re.applyMaskImageData)({src:it,srcPos:Ge,dest:Qe,width:me,height:Ye})),Ae.putImageData(De,0,nt*ee)}}function H(Ae,le){const ie=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const me of ie)Ae[me]!==void 0&&(le[me]=Ae[me]);Ae.setLineDash!==void 0&&(le.setLineDash(Ae.getLineDash()),le.lineDashOffset=Ae.lineDashOffset)}function X(Ae,le){Ae.strokeStyle=Ae.fillStyle=le||"#000000",Ae.fillRule="nonzero",Ae.globalAlpha=1,Ae.lineWidth=1,Ae.lineCap="butt",Ae.lineJoin="miter",Ae.miterLimit=10,Ae.globalCompositeOperation="source-over",Ae.font="10px sans-serif",Ae.setLineDash!==void 0&&(Ae.setLineDash([]),Ae.lineDashOffset=0)}function ue(Ae,le,ie,me){const Ce=Ae.length;for(let we=3;we<Ce;we+=4){const Te=Ae[we];if(Te===0)Ae[we-3]=le,Ae[we-2]=ie,Ae[we-1]=me;else if(Te<255){const De=255-Te;Ae[we-3]=Ae[we-3]*Te+le*De>>8,Ae[we-2]=Ae[we-2]*Te+ie*De>>8,Ae[we-1]=Ae[we-1]*Te+me*De>>8}}}function ge(Ae,le,ie){const me=Ae.length,Ce=1/255;for(let we=3;we<me;we+=4){const Te=ie?ie[Ae[we]]:Ae[we];le[we]=le[we]*Te*Ce|0}}function Ee(Ae,le,ie){const me=Ae.length;for(let Ce=3;Ce<me;Ce+=4){const we=Ae[Ce-3]*77+Ae[Ce-2]*152+Ae[Ce-1]*28;le[Ce]=ie?le[Ce]*ie[we>>8]>>8:le[Ce]*we>>16}}function Se(Ae,le,ie,me,Ce,we,Te,De,Ge,it,Qe){const nt=!!we,Ye=nt?we[0]:0,se=nt?we[1]:0,he=nt?we[2]:0;let ye;Ce==="Luminosity"?ye=Ee:ye=ge;const _e=Math.min(me,Math.ceil(1048576/ie));for(let $e=0;$e<me;$e+=_e){const rt=Math.min(_e,me-$e),ot=Ae.getImageData(De-it,$e+(Ge-Qe),ie,rt),at=le.getImageData(De,$e+Ge,ie,rt);nt&&ue(ot.data,Ye,se,he),ye(ot.data,at.data,Te),le.putImageData(at,De,$e+Ge)}}function ce(Ae,le,ie,me){const Ce=me[0],we=me[1],Te=me[2]-Ce,De=me[3]-we;Te===0||De===0||(Se(le.context,ie,Te,De,le.subtype,le.backdrop,le.transferMap,Ce,we,le.offsetX,le.offsetY),Ae.save(),Ae.globalAlpha=1,Ae.globalCompositeOperation="source-over",Ae.setTransform(1,0,0,1,0,0),Ae.drawImage(ie.canvas,0,0),Ae.restore())}function xe(Ae,le){const ie=B.Util.singularValueDecompose2dScale(Ae);ie[0]=Math.fround(ie[0]),ie[1]=Math.fround(ie[1]);const me=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return le!==void 0?le:ie[0]<=me||ie[1]<=me}const et=["butt","round","square"],ze=["miter","round","bevel"],He={},je={},tt=class tt{constructor(le,ie,me,Ce,{optionalContentConfig:we,markedContentStack:Te=null},De,Ge){st(this,Le);this.ctx=le,this.current=new K(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ie,this.objs=me,this.canvasFactory=Ce,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Te||[],this.optionalContentConfig=we,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=De,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ge==null?void 0:Ge.background)||null,this.foregroundColor=(Ge==null?void 0:Ge.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(le,ie=null){return typeof le=="string"?le.startsWith("g_")?this.commonObjs.get(le):this.objs.get(le):ie}beginDrawing({transform:le,viewport:ie,transparency:me=!1,background:Ce=null}){const we=this.ctx.canvas.width,Te=this.ctx.canvas.height,De=Ce||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ge=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const it=this.backgroundColor=this.ctx.fillStyle;let Qe=!0,nt=De;if(this.ctx.fillStyle=De,nt=this.ctx.fillStyle,Qe=typeof nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(nt),Ge==="#000000"&&it==="#ffffff"||Ge===it||!Qe)this.foregroundColor=this.backgroundColor=null;else{const[Ye,se,he]=(0,O.getRGB)(nt),ye=_e=>(_e/=255,_e<=.03928?_e/12.92:((_e+.055)/1.055)**2.4),ke=Math.round(.2126*ye(Ye)+.7152*ye(se)+.0722*ye(he));this.selectColor=(_e,$e,rt)=>{const ot=.2126*ye(_e)+.7152*ye($e)+.0722*ye(rt);return Math.round(ot)===ke?it:Ge}}}if(this.ctx.fillStyle=this.backgroundColor||De,this.ctx.fillRect(0,0,we,Te),this.ctx.restore(),me){const Ge=this.cachedCanvases.getCanvas("transparent",we,Te);this.compositeCtx=this.ctx,this.transparentCanvas=Ge.canvas,this.ctx=Ge.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),X(this.ctx,this.foregroundColor),le&&(this.ctx.transform(...le),this.outputScaleX=le[0],this.outputScaleY=le[0]),this.ctx.transform(...ie.transform),this.viewportScale=ie.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(le,ie,me,Ce){const we=le.argsArray,Te=le.fnArray;let De=ie||0;const Ge=we.length;if(Ge===De)return De;const it=Ge-De>be&&typeof me=="function",Qe=it?Date.now()+ne:0;let nt=0;const Ye=this.commonObjs,se=this.objs;let he;for(;;){if(Ce!==void 0&&De===Ce.nextBreakPoint)return Ce.breakIt(De,me),De;if(he=Te[De],he!==B.OPS.dependency)this[he].apply(this,we[De]);else for(const ye of we[De]){const ke=ye.startsWith("g_")?Ye:se;if(!ke.has(ye))return ke.get(ye,me),De}if(De++,De===Ge)return De;if(it&&++nt>be){if(Date.now()>Qe)return me(),De;nt=0}}}endDrawing(){ht(this,Le,Kr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const le of this._cachedBitmapsMap.values()){for(const ie of le.values())typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement&&(ie.width=ie.height=0);le.clear()}this._cachedBitmapsMap.clear()}_scaleImage(le,ie){const me=le.width,Ce=le.height;let we=Math.max(Math.hypot(ie[0],ie[1]),1),Te=Math.max(Math.hypot(ie[2],ie[3]),1),De=me,Ge=Ce,it="prescale1",Qe,nt;for(;we>2&&De>1||Te>2&&Ge>1;){let Ye=De,se=Ge;we>2&&De>1&&(Ye=Math.ceil(De/2),we/=De/Ye),Te>2&&Ge>1&&(se=Math.ceil(Ge/2),Te/=Ge/se),Qe=this.cachedCanvases.getCanvas(it,Ye,se),nt=Qe.context,nt.clearRect(0,0,Ye,se),nt.drawImage(le,0,0,De,Ge,0,0,Ye,se),le=Qe.canvas,De=Ye,Ge=se,it=it==="prescale1"?"prescale2":"prescale1"}return{img:le,paintWidth:De,paintHeight:Ge}}_createMaskCanvas(le){const ie=this.ctx,{width:me,height:Ce}=le,we=this.current.fillColor,Te=this.current.patternFill,De=(0,O.getCurrentTransform)(ie);let Ge,it,Qe,nt;if((le.bitmap||le.data)&&le.count>1){const ft=le.bitmap||le.data.buffer;it=JSON.stringify(Te?De:[De.slice(0,4),we]),Ge=this._cachedBitmapsMap.get(ft),Ge||(Ge=new Map,this._cachedBitmapsMap.set(ft,Ge));const dt=Ge.get(it);if(dt&&!Te){const _t=Math.round(Math.min(De[0],De[2])+De[4]),St=Math.round(Math.min(De[1],De[3])+De[5]);return{canvas:dt,offsetX:_t,offsetY:St}}Qe=dt}Qe||(nt=this.cachedCanvases.getCanvas("maskCanvas",me,Ce),q(nt.context,le));let Ye=B.Util.transform(De,[1/me,0,0,-1/Ce,0,0]);Ye=B.Util.transform(Ye,[1,0,0,1,0,-Ce]);const se=B.Util.applyTransform([0,0],Ye),he=B.Util.applyTransform([me,Ce],Ye),ye=B.Util.normalizeRect([se[0],se[1],he[0],he[1]]),ke=Math.round(ye[2]-ye[0])||1,_e=Math.round(ye[3]-ye[1])||1,$e=this.cachedCanvases.getCanvas("fillCanvas",ke,_e),rt=$e.context,ot=Math.min(se[0],he[0]),at=Math.min(se[1],he[1]);rt.translate(-ot,-at),rt.transform(...Ye),Qe||(Qe=this._scaleImage(nt.canvas,(0,O.getCurrentTransformInverse)(rt)),Qe=Qe.img,Ge&&Te&&Ge.set(it,Qe)),rt.imageSmoothingEnabled=xe((0,O.getCurrentTransform)(rt),le.interpolate),U(rt,Qe,0,0,Qe.width,Qe.height,0,0,me,Ce),rt.globalCompositeOperation="source-in";const Ze=B.Util.transform((0,O.getCurrentTransformInverse)(rt),[1,0,0,1,-ot,-at]);return rt.fillStyle=Te?we.getPattern(ie,this,Ze,R.PathType.FILL):we,rt.fillRect(0,0,me,Ce),Ge&&!Te&&(this.cachedCanvases.delete("fillCanvas"),Ge.set(it,$e.canvas)),{canvas:$e.canvas,offsetX:Math.round(ot),offsetY:Math.round(at)}}setLineWidth(le){le!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=le,this.ctx.lineWidth=le}setLineCap(le){this.ctx.lineCap=et[le]}setLineJoin(le){this.ctx.lineJoin=ze[le]}setMiterLimit(le){this.ctx.miterLimit=le}setDash(le,ie){const me=this.ctx;me.setLineDash!==void 0&&(me.setLineDash(le),me.lineDashOffset=ie)}setRenderingIntent(le){}setFlatness(le){}setGState(le){for(const[ie,me]of le)switch(ie){case"LW":this.setLineWidth(me);break;case"LC":this.setLineCap(me);break;case"LJ":this.setLineJoin(me);break;case"ML":this.setMiterLimit(me);break;case"D":this.setDash(me[0],me[1]);break;case"RI":this.setRenderingIntent(me);break;case"FL":this.setFlatness(me);break;case"Font":this.setFont(me[0],me[1]);break;case"CA":this.current.strokeAlpha=me;break;case"ca":this.current.fillAlpha=me,this.ctx.globalAlpha=me;break;case"BM":this.ctx.globalCompositeOperation=me;break;case"SMask":this.current.activeSMask=me?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=me}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const le=this.inSMaskMode;this.current.activeSMask&&!le?this.beginSMaskMode():!this.current.activeSMask&&le&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const le=this.ctx.canvas.width,ie=this.ctx.canvas.height,me="smaskGroupAt"+this.groupLevel,Ce=this.cachedCanvases.getCanvas(me,le,ie);this.suspendedCtx=this.ctx,this.ctx=Ce.context;const we=this.ctx;we.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),H(this.suspendedCtx,we),te(we,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),H(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(le){if(!this.current.activeSMask)return;le?(le[0]=Math.floor(le[0]),le[1]=Math.floor(le[1]),le[2]=Math.ceil(le[2]),le[3]=Math.ceil(le[3])):le=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ie=this.current.activeSMask,me=this.suspendedCtx;ce(me,ie,this.ctx,le),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(H(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const le=this.current;this.stateStack.push(le),this.current=le.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),H(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(le,ie,me,Ce,we,Te){this.ctx.transform(le,ie,me,Ce,we,Te),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(le,ie,me){const Ce=this.ctx,we=this.current;let Te=we.x,De=we.y,Ge,it;const Qe=(0,O.getCurrentTransform)(Ce),nt=Qe[0]===0&&Qe[3]===0||Qe[1]===0&&Qe[2]===0,Ye=nt?me.slice(0):null;for(let se=0,he=0,ye=le.length;se<ye;se++)switch(le[se]|0){case B.OPS.rectangle:Te=ie[he++],De=ie[he++];const ke=ie[he++],_e=ie[he++],$e=Te+ke,rt=De+_e;Ce.moveTo(Te,De),ke===0||_e===0?Ce.lineTo($e,rt):(Ce.lineTo($e,De),Ce.lineTo($e,rt),Ce.lineTo(Te,rt)),nt||we.updateRectMinMax(Qe,[Te,De,$e,rt]),Ce.closePath();break;case B.OPS.moveTo:Te=ie[he++],De=ie[he++],Ce.moveTo(Te,De),nt||we.updatePathMinMax(Qe,Te,De);break;case B.OPS.lineTo:Te=ie[he++],De=ie[he++],Ce.lineTo(Te,De),nt||we.updatePathMinMax(Qe,Te,De);break;case B.OPS.curveTo:Ge=Te,it=De,Te=ie[he+4],De=ie[he+5],Ce.bezierCurveTo(ie[he],ie[he+1],ie[he+2],ie[he+3],Te,De),we.updateCurvePathMinMax(Qe,Ge,it,ie[he],ie[he+1],ie[he+2],ie[he+3],Te,De,Ye),he+=6;break;case B.OPS.curveTo2:Ge=Te,it=De,Ce.bezierCurveTo(Te,De,ie[he],ie[he+1],ie[he+2],ie[he+3]),we.updateCurvePathMinMax(Qe,Ge,it,Te,De,ie[he],ie[he+1],ie[he+2],ie[he+3],Ye),Te=ie[he+2],De=ie[he+3],he+=4;break;case B.OPS.curveTo3:Ge=Te,it=De,Te=ie[he+2],De=ie[he+3],Ce.bezierCurveTo(ie[he],ie[he+1],Te,De,Te,De),we.updateCurvePathMinMax(Qe,Ge,it,ie[he],ie[he+1],Te,De,Te,De,Ye),he+=4;break;case B.OPS.closePath:Ce.closePath();break}nt&&we.updateScalingPathMinMax(Qe,Ye),we.setCurrentPoint(Te,De)}closePath(){this.ctx.closePath()}stroke(le=!0){const ie=this.ctx,me=this.current.strokeColor;ie.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof me=="object"&&(me!=null&&me.getPattern)?(ie.save(),ie.strokeStyle=me.getPattern(ie,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.STROKE),this.rescaleAndStroke(!1),ie.restore()):this.rescaleAndStroke(!0)),le&&this.consumePath(this.current.getClippedPathBoundingBox()),ie.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(le=!0){const ie=this.ctx,me=this.current.fillColor,Ce=this.current.patternFill;let we=!1;Ce&&(ie.save(),ie.fillStyle=me.getPattern(ie,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.FILL),we=!0);const Te=this.current.getClippedPathBoundingBox();this.contentVisible&&Te!==null&&(this.pendingEOFill?(ie.fill("evenodd"),this.pendingEOFill=!1):ie.fill()),we&&ie.restore(),le&&this.consumePath(Te)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=He}eoClip(){this.pendingClip=je}beginText(){this.current.textMatrix=B.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const le=this.pendingTextPaths,ie=this.ctx;if(le===void 0){ie.beginPath();return}ie.save(),ie.beginPath();for(const me of le)ie.setTransform(...me.transform),ie.translate(me.x,me.y),me.addToPath(ie,me.fontSize);ie.restore(),ie.clip(),ie.beginPath(),delete this.pendingTextPaths}setCharSpacing(le){this.current.charSpacing=le}setWordSpacing(le){this.current.wordSpacing=le}setHScale(le){this.current.textHScale=le/100}setLeading(le){this.current.leading=-le}setFont(le,ie){const me=this.commonObjs.get(le),Ce=this.current;if(!me)throw new Error("Can't find font for ".concat(le));if(Ce.fontMatrix=me.fontMatrix||B.FONT_IDENTITY_MATRIX,(Ce.fontMatrix[0]===0||Ce.fontMatrix[3]===0)&&(0,B.warn)("Invalid font matrix for font "+le),ie<0?(ie=-ie,Ce.fontDirection=-1):Ce.fontDirection=1,this.current.font=me,this.current.fontSize=ie,me.isType3Font)return;const we=me.loadedName||"sans-serif";let Te="normal";me.black?Te="900":me.bold&&(Te="bold");const De=me.italic?"italic":"normal",Ge='"'.concat(we,'", ').concat(me.fallbackName);let it=ie;ie<de?it=de:ie>pe&&(it=pe),this.current.fontSizeScale=ie/it,this.ctx.font="".concat(De," ").concat(Te," ").concat(it,"px ").concat(Ge)}setTextRenderingMode(le){this.current.textRenderingMode=le}setTextRise(le){this.current.textRise=le}moveText(le,ie){this.current.x=this.current.lineX+=le,this.current.y=this.current.lineY+=ie}setLeadingMoveText(le,ie){this.setLeading(-ie),this.moveText(le,ie)}setTextMatrix(le,ie,me,Ce,we,Te){this.current.textMatrix=[le,ie,me,Ce,we,Te],this.current.textMatrixScale=Math.hypot(le,ie),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(le,ie,me,Ce){const we=this.ctx,Te=this.current,De=Te.font,Ge=Te.textRenderingMode,it=Te.fontSize/Te.fontSizeScale,Qe=Ge&B.TextRenderingMode.FILL_STROKE_MASK,nt=!!(Ge&B.TextRenderingMode.ADD_TO_PATH_FLAG),Ye=Te.patternFill&&!De.missingFile;let se;(De.disableFontFace||nt||Ye)&&(se=De.getPathGenerator(this.commonObjs,le)),De.disableFontFace||Ye?(we.save(),we.translate(ie,me),we.beginPath(),se(we,it),Ce&&we.setTransform(...Ce),(Qe===B.TextRenderingMode.FILL||Qe===B.TextRenderingMode.FILL_STROKE)&&we.fill(),(Qe===B.TextRenderingMode.STROKE||Qe===B.TextRenderingMode.FILL_STROKE)&&we.stroke(),we.restore()):((Qe===B.TextRenderingMode.FILL||Qe===B.TextRenderingMode.FILL_STROKE)&&we.fillText(le,ie,me),(Qe===B.TextRenderingMode.STROKE||Qe===B.TextRenderingMode.FILL_STROKE)&&we.strokeText(le,ie,me)),nt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(we),x:ie,y:me,fontSize:it,addToPath:se})}get isFontSubpixelAAEnabled(){const{context:le}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);le.scale(1.5,1),le.fillText("I",0,10);const ie=le.getImageData(0,0,10,10).data;let me=!1;for(let Ce=3;Ce<ie.length;Ce+=4)if(ie[Ce]>0&&ie[Ce]<255){me=!0;break}return(0,B.shadow)(this,"isFontSubpixelAAEnabled",me)}showText(le){const ie=this.current,me=ie.font;if(me.isType3Font)return this.showType3Text(le);const Ce=ie.fontSize;if(Ce===0)return;const we=this.ctx,Te=ie.fontSizeScale,De=ie.charSpacing,Ge=ie.wordSpacing,it=ie.fontDirection,Qe=ie.textHScale*it,nt=le.length,Ye=me.vertical,se=Ye?1:-1,he=me.defaultVMetrics,ye=Ce*ie.fontMatrix[0],ke=ie.textRenderingMode===B.TextRenderingMode.FILL&&!me.disableFontFace&&!ie.patternFill;we.save(),we.transform(...ie.textMatrix),we.translate(ie.x,ie.y+ie.textRise),it>0?we.scale(Qe,-1):we.scale(Qe,1);let _e;if(ie.patternFill){we.save();const Ze=ie.fillColor.getPattern(we,this,(0,O.getCurrentTransformInverse)(we),R.PathType.FILL);_e=(0,O.getCurrentTransform)(we),we.restore(),we.fillStyle=Ze}let $e=ie.lineWidth;const rt=ie.textMatrixScale;if(rt===0||$e===0){const Ze=ie.textRenderingMode&B.TextRenderingMode.FILL_STROKE_MASK;(Ze===B.TextRenderingMode.STROKE||Ze===B.TextRenderingMode.FILL_STROKE)&&($e=this.getSinglePixelWidth())}else $e/=rt;if(Te!==1&&(we.scale(Te,Te),$e/=Te),we.lineWidth=$e,me.isInvalidPDFjsFont){const Ze=[];let ft=0;for(const dt of le)Ze.push(dt.unicode),ft+=dt.width;we.fillText(Ze.join(""),0,0),ie.x+=ft*ye*Qe,we.restore(),this.compose();return}let ot=0,at;for(at=0;at<nt;++at){const Ze=le[at];if(typeof Ze=="number"){ot+=se*Ze*Ce/1e3;continue}let ft=!1;const dt=(Ze.isSpace?Ge:0)+De,_t=Ze.fontChar,St=Ze.accent;let It,Vt,jt=Ze.width;if(Ye){const Fe=Ze.vmetric||he,Be=-(Ze.vmetric?Fe[1]:jt*.5)*ye,pt=Fe[2]*ye;jt=Fe?-Fe[0]:jt,It=Be/Te,Vt=(ot+pt)/Te}else It=ot/Te,Vt=0;if(me.remeasure&&jt>0){const Fe=we.measureText(_t).width*1e3/Ce*Te;if(jt<Fe&&this.isFontSubpixelAAEnabled){const Be=jt/Fe;ft=!0,we.save(),we.scale(Be,1),It/=Be}else jt!==Fe&&(It+=(jt-Fe)/2e3*Ce/Te)}if(this.contentVisible&&(Ze.isInFont||me.missingFile)){if(ke&&!St)we.fillText(_t,It,Vt);else if(this.paintChar(_t,It,Vt,_e),St){const Fe=It+Ce*St.offset.x/Te,Be=Vt-Ce*St.offset.y/Te;this.paintChar(St.fontChar,Fe,Be,_e)}}let Me;Ye?Me=jt*ye-dt*it:Me=jt*ye+dt*it,ot+=Me,ft&&we.restore()}Ye?ie.y-=ot:ie.x+=ot*Qe,we.restore(),this.compose()}showType3Text(le){const ie=this.ctx,me=this.current,Ce=me.font,we=me.fontSize,Te=me.fontDirection,De=Ce.vertical?1:-1,Ge=me.charSpacing,it=me.wordSpacing,Qe=me.textHScale*Te,nt=me.fontMatrix||B.FONT_IDENTITY_MATRIX,Ye=le.length,se=me.textRenderingMode===B.TextRenderingMode.INVISIBLE;let he,ye,ke,_e;if(!(se||we===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ie.save(),ie.transform(...me.textMatrix),ie.translate(me.x,me.y),ie.scale(Qe,Te),he=0;he<Ye;++he){if(ye=le[he],typeof ye=="number"){_e=De*ye*we/1e3,this.ctx.translate(_e,0),me.x+=_e*Qe;continue}const $e=(ye.isSpace?it:0)+Ge,rt=Ce.charProcOperatorList[ye.operatorListId];if(!rt){(0,B.warn)('Type3 character "'.concat(ye.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=ye,this.save(),ie.scale(we,we),ie.transform(...nt),this.executeOperatorList(rt),this.restore()),ke=B.Util.applyTransform([ye.width,0],nt)[0]*we+$e,ie.translate(ke,0),me.x+=ke*Qe}ie.restore(),this.processingType3=null}}setCharWidth(le,ie){}setCharWidthAndBounds(le,ie,me,Ce,we,Te){this.ctx.rect(me,Ce,we-me,Te-Ce),this.ctx.clip(),this.endPath()}getColorN_Pattern(le){let ie;if(le[0]==="TilingPattern"){const me=le[1],Ce=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),we={createCanvasGraphics:Te=>new tt(Te,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ie=new R.TilingPattern(le,me,this.ctx,we,Ce)}else ie=this._getPattern(le[1],le[2]);return ie}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(le,ie,me){var we;const Ce=((we=this.selectColor)==null?void 0:we.call(this,le,ie,me))||B.Util.makeHexColor(le,ie,me);this.ctx.strokeStyle=Ce,this.current.strokeColor=Ce}setFillRGBColor(le,ie,me){var we;const Ce=((we=this.selectColor)==null?void 0:we.call(this,le,ie,me))||B.Util.makeHexColor(le,ie,me);this.ctx.fillStyle=Ce,this.current.fillColor=Ce,this.current.patternFill=!1}_getPattern(le,ie=null){let me;return this.cachedPatterns.has(le)?me=this.cachedPatterns.get(le):(me=(0,R.getShadingPattern)(this.objs.get(le)),this.cachedPatterns.set(le,me)),ie&&(me.matrix=ie),me}shadingFill(le){if(!this.contentVisible)return;const ie=this.ctx;this.save();const me=this._getPattern(le);ie.fillStyle=me.getPattern(ie,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.SHADING);const Ce=(0,O.getCurrentTransformInverse)(ie);if(Ce){const we=ie.canvas,Te=we.width,De=we.height,Ge=B.Util.applyTransform([0,0],Ce),it=B.Util.applyTransform([0,De],Ce),Qe=B.Util.applyTransform([Te,0],Ce),nt=B.Util.applyTransform([Te,De],Ce),Ye=Math.min(Ge[0],it[0],Qe[0],nt[0]),se=Math.min(Ge[1],it[1],Qe[1],nt[1]),he=Math.max(Ge[0],it[0],Qe[0],nt[0]),ye=Math.max(Ge[1],it[1],Qe[1],nt[1]);this.ctx.fillRect(Ye,se,he-Ye,ye-se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,B.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,B.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(le,ie){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(le)&&le.length===6&&this.transform(...le),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),ie)){const me=ie[2]-ie[0],Ce=ie[3]-ie[1];this.ctx.rect(ie[0],ie[1],me,Ce),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),ie),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(le){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ie=this.ctx;le.isolated||(0,B.info)("TODO: Support non-isolated groups."),le.knockout&&(0,B.warn)("Knockout groups not supported.");const me=(0,O.getCurrentTransform)(ie);if(le.matrix&&ie.transform(...le.matrix),!le.bbox)throw new Error("Bounding box is required.");let Ce=B.Util.getAxialAlignedBoundingBox(le.bbox,(0,O.getCurrentTransform)(ie));const we=[0,0,ie.canvas.width,ie.canvas.height];Ce=B.Util.intersect(Ce,we)||[0,0,0,0];const Te=Math.floor(Ce[0]),De=Math.floor(Ce[1]);let Ge=Math.max(Math.ceil(Ce[2])-Te,1),it=Math.max(Math.ceil(Ce[3])-De,1),Qe=1,nt=1;Ge>oe&&(Qe=Ge/oe,Ge=oe),it>oe&&(nt=it/oe,it=oe),this.current.startNewPathAndClipBox([0,0,Ge,it]);let Ye="groupAt"+this.groupLevel;le.smask&&(Ye+="_smask_"+this.smaskCounter++%2);const se=this.cachedCanvases.getCanvas(Ye,Ge,it),he=se.context;he.scale(1/Qe,1/nt),he.translate(-Te,-De),he.transform(...me),le.smask?this.smaskStack.push({canvas:se.canvas,context:he,offsetX:Te,offsetY:De,scaleX:Qe,scaleY:nt,subtype:le.smask.subtype,backdrop:le.smask.backdrop,transferMap:le.smask.transferMap||null,startTransformInverse:null}):(ie.setTransform(1,0,0,1,0,0),ie.translate(Te,De),ie.scale(Qe,nt),ie.save()),H(ie,he),this.ctx=he,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ie),this.groupLevel++}endGroup(le){if(!this.contentVisible)return;this.groupLevel--;const ie=this.ctx,me=this.groupStack.pop();if(this.ctx=me,this.ctx.imageSmoothingEnabled=!1,le.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ce=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ce);const we=B.Util.getAxialAlignedBoundingBox([0,0,ie.canvas.width,ie.canvas.height],Ce);this.ctx.drawImage(ie.canvas,0,0),this.ctx.restore(),this.compose(we)}}beginAnnotation(le,ie,me,Ce,we){if(ht(this,Le,Kr).call(this),X(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ie)&&ie.length===4){const Te=ie[2]-ie[0],De=ie[3]-ie[1];if(we&&this.annotationCanvasMap){me=me.slice(),me[4]-=ie[0],me[5]-=ie[1],ie=ie.slice(),ie[0]=ie[1]=0,ie[2]=Te,ie[3]=De;const[Ge,it]=B.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:Qe}=this,nt=Math.ceil(Te*this.outputScaleX*Qe),Ye=Math.ceil(De*this.outputScaleY*Qe);this.annotationCanvas=this.canvasFactory.create(nt,Ye);const{canvas:se,context:he}=this.annotationCanvas;this.annotationCanvasMap.set(le,se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=he,this.ctx.setTransform(Ge,0,0,-it,0,De*it),X(this.ctx,this.foregroundColor)}else X(this.ctx,this.foregroundColor),this.ctx.rect(ie[0],ie[1],Te,De),this.ctx.clip(),this.endPath()}this.current=new K(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...me),this.transform(...Ce)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(le){if(!this.contentVisible)return;const ie=le.count;le=this.getObject(le.data,le),le.count=ie;const me=this.ctx,Ce=this.processingType3;if(Ce&&(Ce.compiled===void 0&&(Ce.compiled=J(le)),Ce.compiled)){Ce.compiled(me);return}const we=this._createMaskCanvas(le),Te=we.canvas;me.save(),me.setTransform(1,0,0,1,0,0),me.drawImage(Te,we.offsetX,we.offsetY),me.restore(),this.compose()}paintImageMaskXObjectRepeat(le,ie,me=0,Ce=0,we,Te){if(!this.contentVisible)return;le=this.getObject(le.data,le);const De=this.ctx;De.save();const Ge=(0,O.getCurrentTransform)(De);De.transform(ie,me,Ce,we,0,0);const it=this._createMaskCanvas(le);De.setTransform(1,0,0,1,it.offsetX-Ge[4],it.offsetY-Ge[5]);for(let Qe=0,nt=Te.length;Qe<nt;Qe+=2){const Ye=B.Util.transform(Ge,[ie,me,Ce,we,Te[Qe],Te[Qe+1]]),[se,he]=B.Util.applyTransform([0,0],Ye);De.drawImage(it.canvas,se,he)}De.restore(),this.compose()}paintImageMaskXObjectGroup(le){if(!this.contentVisible)return;const ie=this.ctx,me=this.current.fillColor,Ce=this.current.patternFill;for(const we of le){const{data:Te,width:De,height:Ge,transform:it}=we,Qe=this.cachedCanvases.getCanvas("maskCanvas",De,Ge),nt=Qe.context;nt.save();const Ye=this.getObject(Te,we);q(nt,Ye),nt.globalCompositeOperation="source-in",nt.fillStyle=Ce?me.getPattern(nt,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.FILL):me,nt.fillRect(0,0,De,Ge),nt.restore(),ie.save(),ie.transform(...it),ie.scale(1,-1),U(ie,Qe.canvas,0,0,De,Ge,0,-1,1,1),ie.restore()}this.compose()}paintImageXObject(le){if(!this.contentVisible)return;const ie=this.getObject(le);if(!ie){(0,B.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ie)}paintImageXObjectRepeat(le,ie,me,Ce){if(!this.contentVisible)return;const we=this.getObject(le);if(!we){(0,B.warn)("Dependent image isn't ready yet");return}const Te=we.width,De=we.height,Ge=[];for(let it=0,Qe=Ce.length;it<Qe;it+=2)Ge.push({transform:[ie,0,0,me,Ce[it],Ce[it+1]],x:0,y:0,w:Te,h:De});this.paintInlineImageXObjectGroup(we,Ge)}paintInlineImageXObject(le){if(!this.contentVisible)return;const ie=le.width,me=le.height,Ce=this.ctx;this.save(),Ce.scale(1/ie,-1/me);let we;if(typeof HTMLElement=="function"&&le instanceof HTMLElement||!le.data)we=le;else{const De=this.cachedCanvases.getCanvas("inlineImage",ie,me),Ge=De.context;W(Ge,le,this.current.transferMaps),we=De.canvas}const Te=this._scaleImage(we,(0,O.getCurrentTransformInverse)(Ce));Ce.imageSmoothingEnabled=xe((0,O.getCurrentTransform)(Ce),le.interpolate),U(Ce,Te.img,0,0,Te.paintWidth,Te.paintHeight,0,-me,ie,me),this.compose(),this.restore()}paintInlineImageXObjectGroup(le,ie){if(!this.contentVisible)return;const me=this.ctx,Ce=le.width,we=le.height,Te=this.cachedCanvases.getCanvas("inlineImage",Ce,we),De=Te.context;W(De,le,this.current.transferMaps);for(const Ge of ie)me.save(),me.transform(...Ge.transform),me.scale(1,-1),U(me,Te.canvas,Ge.x,Ge.y,Ge.w,Ge.h,0,-1,1,1),me.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(le){}markPointProps(le,ie){}beginMarkedContent(le){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(le,ie){le==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ie)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(le){const ie=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(le);const me=this.ctx;this.pendingClip&&(ie||(this.pendingClip===je?me.clip("evenodd"):me.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),me.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const le=(0,O.getCurrentTransform)(this.ctx);if(le[1]===0&&le[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(le[0]),Math.abs(le[3]));else{const ie=Math.abs(le[0]*le[3]-le[2]*le[1]),me=Math.hypot(le[0],le[2]),Ce=Math.hypot(le[1],le[3]);this._cachedGetSinglePixelWidth=Math.max(me,Ce)/ie}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:le}=this.current,ie=(0,O.getCurrentTransform)(this.ctx);let me,Ce;if(ie[1]===0&&ie[2]===0){const we=Math.abs(ie[0]),Te=Math.abs(ie[3]);if(le===0)me=1/we,Ce=1/Te;else{const De=we*le,Ge=Te*le;me=De<1?1/De:1,Ce=Ge<1?1/Ge:1}}else{const we=Math.abs(ie[0]*ie[3]-ie[2]*ie[1]),Te=Math.hypot(ie[0],ie[1]),De=Math.hypot(ie[2],ie[3]);if(le===0)me=De/we,Ce=Te/we;else{const Ge=le*we;me=De>Ge?De/Ge:1,Ce=Te>Ge?Te/Ge:1}}this._cachedScaleForStroking=[me,Ce]}return this._cachedScaleForStroking}rescaleAndStroke(le){const{ctx:ie}=this,{lineWidth:me}=this.current,[Ce,we]=this.getScaleForStroking();if(ie.lineWidth=me||1,Ce===1&&we===1){ie.stroke();return}let Te,De,Ge;le&&(Te=(0,O.getCurrentTransform)(ie),De=ie.getLineDash().slice(),Ge=ie.lineDashOffset),ie.scale(Ce,we);const it=Math.max(Ce,we);ie.setLineDash(ie.getLineDash().map(Qe=>Qe/it)),ie.lineDashOffset/=it,ie.stroke(),le&&(ie.setTransform(...Te),ie.setLineDash(De),ie.lineDashOffset=Ge)}isContentVisible(){for(let le=this.markedContentStack.length-1;le>=0;le--)if(!this.markedContentStack[le].visible)return!1;return!0}};Le=new WeakSet,Kr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Oe=tt;$.CanvasGraphics=Oe;for(const Ae in B.OPS)Oe.prototype[Ae]!==void 0&&(Oe.prototype[B.OPS[Ae]]=Oe.prototype[Ae])},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ee;var B=V(1),O=V(6);const R={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=R;function re(U,J){if(!J)return;const K=J[2]-J[0],W=J[3]-J[1],q=new Path2D;q.rect(J[0],J[1],K,W),U.clip(q)}class de{constructor(){this.constructor===de&&(0,B.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,B.unreachable)("Abstract method `getPattern` called.")}}class pe extends de{constructor(J){super(),this._type=J[1],this._bbox=J[2],this._colorStops=J[3],this._p0=J[4],this._p1=J[5],this._r0=J[6],this._r1=J[7],this.matrix=null}_createGradient(J){let K;this._type==="axial"?K=J.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(K=J.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const W of this._colorStops)K.addColorStop(W[0],W[1]);return K}getPattern(J,K,W,q){let H;if(q===R.STROKE||q===R.FILL){const X=K.current.getClippedPathBoundingBox(q,(0,O.getCurrentTransform)(J))||[0,0,0,0],ue=Math.ceil(X[2]-X[0])||1,ge=Math.ceil(X[3]-X[1])||1,Ee=K.cachedCanvases.getCanvas("pattern",ue,ge,!0),Se=Ee.context;Se.clearRect(0,0,Se.canvas.width,Se.canvas.height),Se.beginPath(),Se.rect(0,0,Se.canvas.width,Se.canvas.height),Se.translate(-X[0],-X[1]),W=B.Util.transform(W,[1,0,0,1,X[0],X[1]]),Se.transform(...K.baseTransform),this.matrix&&Se.transform(...this.matrix),re(Se,this._bbox),Se.fillStyle=this._createGradient(Se),Se.fill(),H=J.createPattern(Ee.canvas,"no-repeat");const ce=new DOMMatrix(W);H.setTransform(ce)}else re(J,this._bbox),H=this._createGradient(J);return H}}function oe(U,J,K,W,q,H,X,ue){const ge=J.coords,Ee=J.colors,Se=U.data,ce=U.width*4;let xe;ge[K+1]>ge[W+1]&&(xe=K,K=W,W=xe,xe=H,H=X,X=xe),ge[W+1]>ge[q+1]&&(xe=W,W=q,q=xe,xe=X,X=ue,ue=xe),ge[K+1]>ge[W+1]&&(xe=K,K=W,W=xe,xe=H,H=X,X=xe);const et=(ge[K]+J.offsetX)*J.scaleX,ze=(ge[K+1]+J.offsetY)*J.scaleY,He=(ge[W]+J.offsetX)*J.scaleX,je=(ge[W+1]+J.offsetY)*J.scaleY,Oe=(ge[q]+J.offsetX)*J.scaleX,Le=(ge[q+1]+J.offsetY)*J.scaleY;if(ze>=Le)return;const Je=Ee[H],tt=Ee[H+1],Ae=Ee[H+2],le=Ee[X],ie=Ee[X+1],me=Ee[X+2],Ce=Ee[ue],we=Ee[ue+1],Te=Ee[ue+2],De=Math.round(ze),Ge=Math.round(Le);let it,Qe,nt,Ye,se,he,ye,ke;for(let _e=De;_e<=Ge;_e++){if(_e<je){let Ze;_e<ze?Ze=0:Ze=(ze-_e)/(ze-je),it=et-(et-He)*Ze,Qe=Je-(Je-le)*Ze,nt=tt-(tt-ie)*Ze,Ye=Ae-(Ae-me)*Ze}else{let Ze;_e>Le?Ze=1:je===Le?Ze=0:Ze=(je-_e)/(je-Le),it=He-(He-Oe)*Ze,Qe=le-(le-Ce)*Ze,nt=ie-(ie-we)*Ze,Ye=me-(me-Te)*Ze}let $e;_e<ze?$e=0:_e>Le?$e=1:$e=(ze-_e)/(ze-Le),se=et-(et-Oe)*$e,he=Je-(Je-Ce)*$e,ye=tt-(tt-we)*$e,ke=Ae-(Ae-Te)*$e;const rt=Math.round(Math.min(it,se)),ot=Math.round(Math.max(it,se));let at=ce*_e+rt*4;for(let Ze=rt;Ze<=ot;Ze++)$e=(it-Ze)/(it-se),$e<0?$e=0:$e>1&&($e=1),Se[at++]=Qe-(Qe-he)*$e|0,Se[at++]=nt-(nt-ye)*$e|0,Se[at++]=Ye-(Ye-ke)*$e|0,Se[at++]=255}}function ne(U,J,K){const W=J.coords,q=J.colors;let H,X;switch(J.type){case"lattice":const ue=J.verticesPerRow,ge=Math.floor(W.length/ue)-1,Ee=ue-1;for(H=0;H<ge;H++){let Se=H*ue;for(let ce=0;ce<Ee;ce++,Se++)oe(U,K,W[Se],W[Se+1],W[Se+ue],q[Se],q[Se+1],q[Se+ue]),oe(U,K,W[Se+ue+1],W[Se+1],W[Se+ue],q[Se+ue+1],q[Se+1],q[Se+ue])}break;case"triangles":for(H=0,X=W.length;H<X;H+=3)oe(U,K,W[H],W[H+1],W[H+2],q[H],q[H+1],q[H+2]);break;default:throw new Error("illegal figure")}}class be extends de{constructor(J){super(),this._coords=J[2],this._colors=J[3],this._figures=J[4],this._bounds=J[5],this._bbox=J[7],this._background=J[8],this.matrix=null}_createMeshCanvas(J,K,W){const ue=Math.floor(this._bounds[0]),ge=Math.floor(this._bounds[1]),Ee=Math.ceil(this._bounds[2])-ue,Se=Math.ceil(this._bounds[3])-ge,ce=Math.min(Math.ceil(Math.abs(Ee*J[0]*1.1)),3e3),xe=Math.min(Math.ceil(Math.abs(Se*J[1]*1.1)),3e3),et=Ee/ce,ze=Se/xe,He={coords:this._coords,colors:this._colors,offsetX:-ue,offsetY:-ge,scaleX:1/et,scaleY:1/ze},je=ce+2*2,Oe=xe+2*2,Le=W.getCanvas("mesh",je,Oe,!1),Je=Le.context,tt=Je.createImageData(ce,xe);if(K){const le=tt.data;for(let ie=0,me=le.length;ie<me;ie+=4)le[ie]=K[0],le[ie+1]=K[1],le[ie+2]=K[2],le[ie+3]=255}for(const le of this._figures)ne(tt,le,He);return Je.putImageData(tt,2,2),{canvas:Le.canvas,offsetX:ue-2*et,offsetY:ge-2*ze,scaleX:et,scaleY:ze}}getPattern(J,K,W,q){re(J,this._bbox);let H;if(q===R.SHADING)H=B.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(J));else if(H=B.Util.singularValueDecompose2dScale(K.baseTransform),this.matrix){const ue=B.Util.singularValueDecompose2dScale(this.matrix);H=[H[0]*ue[0],H[1]*ue[1]]}const X=this._createMeshCanvas(H,q===R.SHADING?null:this._background,K.cachedCanvases);return q!==R.SHADING&&(J.setTransform(...K.baseTransform),this.matrix&&J.transform(...this.matrix)),J.translate(X.offsetX,X.offsetY),J.scale(X.scaleX,X.scaleY),J.createPattern(X.canvas,"no-repeat")}}class ae extends de{getPattern(){return"hotpink"}}function ee(U){switch(U[0]){case"RadialAxial":return new pe(U);case"Mesh":return new be(U);case"Dummy":return new ae}throw new Error("Unknown IR type: ".concat(U[0]))}const te={COLORED:1,UNCOLORED:2};class G{static get MAX_PATTERN_SIZE(){return(0,B.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(J,K,W,q,H){this.operatorList=J[2],this.matrix=J[3]||[1,0,0,1,0,0],this.bbox=J[4],this.xstep=J[5],this.ystep=J[6],this.paintType=J[7],this.tilingType=J[8],this.color=K,this.ctx=W,this.canvasGraphicsFactory=q,this.baseTransform=H}createPatternCanvas(J){const K=this.operatorList,W=this.bbox,q=this.xstep,H=this.ystep,X=this.paintType,ue=this.tilingType,ge=this.color,Ee=this.canvasGraphicsFactory;(0,B.info)("TilingType: "+ue);const Se=W[0],ce=W[1],xe=W[2],et=W[3],ze=B.Util.singularValueDecompose2dScale(this.matrix),He=B.Util.singularValueDecompose2dScale(this.baseTransform),je=[ze[0]*He[0],ze[1]*He[1]],Oe=this.getSizeAndScale(q,this.ctx.canvas.width,je[0]),Le=this.getSizeAndScale(H,this.ctx.canvas.height,je[1]),Je=J.cachedCanvases.getCanvas("pattern",Oe.size,Le.size,!0),tt=Je.context,Ae=Ee.createCanvasGraphics(tt);Ae.groupLevel=J.groupLevel,this.setFillAndStrokeStyleToContext(Ae,X,ge);let le=Se,ie=ce,me=xe,Ce=et;return Se<0&&(le=0,me+=Math.abs(Se)),ce<0&&(ie=0,Ce+=Math.abs(ce)),tt.translate(-(Oe.scale*le),-(Le.scale*ie)),Ae.transform(Oe.scale,0,0,Le.scale,0,0),tt.save(),this.clipBbox(Ae,le,ie,me,Ce),Ae.baseTransform=(0,O.getCurrentTransform)(Ae.ctx),Ae.executeOperatorList(K),Ae.endDrawing(),{canvas:Je.canvas,scaleX:Oe.scale,scaleY:Le.scale,offsetX:le,offsetY:ie}}getSizeAndScale(J,K,W){J=Math.abs(J);const q=Math.max(G.MAX_PATTERN_SIZE,K);let H=Math.ceil(J*W);return H>=q?H=q:W=H/J,{scale:W,size:H}}clipBbox(J,K,W,q,H){const X=q-K,ue=H-W;J.ctx.rect(K,W,X,ue),J.current.updateRectMinMax((0,O.getCurrentTransform)(J.ctx),[K,W,q,H]),J.clip(),J.endPath()}setFillAndStrokeStyleToContext(J,K,W){const q=J.ctx,H=J.current;switch(K){case te.COLORED:const X=this.ctx;q.fillStyle=X.fillStyle,q.strokeStyle=X.strokeStyle,H.fillColor=X.fillStyle,H.strokeColor=X.strokeStyle;break;case te.UNCOLORED:const ue=B.Util.makeHexColor(W[0],W[1],W[2]);q.fillStyle=ue,q.strokeStyle=ue,H.fillColor=ue,H.strokeColor=ue;break;default:throw new B.FormatError("Unsupported paint type: ".concat(K))}}getPattern(J,K,W,q){let H=W;q!==R.SHADING&&(H=B.Util.transform(H,K.baseTransform),this.matrix&&(H=B.Util.transform(H,this.matrix)));const X=this.createPatternCanvas(K);let ue=new DOMMatrix(H);ue=ue.translate(X.offsetX,X.offsetY),ue=ue.scale(1/X.scaleX,1/X.scaleY);const ge=J.createPattern(X.canvas,"repeat");return ge.setTransform(ue),ge}}$.TilingPattern=G},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=O;var B=V(1);function O({src:R,srcPos:re=0,dest:de,destPos:pe=0,width:oe,height:ne,inverseDecode:be=!1}){const ae=B.FeatureTest.isLittleEndian?4278190080:255,[ee,te]=be?[0,ae]:[ae,0],G=oe>>3,U=oe&7,J=R.length;de=new Uint32Array(de.buffer);for(let K=0;K<ne;K++){for(const q=re+G;re<q;re++){const H=re<J?R[re]:255;de[pe++]=H&128?te:ee,de[pe++]=H&64?te:ee,de[pe++]=H&32?te:ee,de[pe++]=H&16?te:ee,de[pe++]=H&8?te:ee,de[pe++]=H&4?te:ee,de[pe++]=H&2?te:ee,de[pe++]=H&1?te:ee}if(U===0)continue;const W=re<J?R[re++]:255;for(let q=0;q<U;q++)de[pe++]=W&1<<7-q?te:ee}return{srcPos:re,destPos:pe}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const V=Object.create(null);$.GlobalWorkerOptions=V,V.workerPort=null,V.workerSrc=""},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var B=V(1);const O={UNKNOWN:0,DATA:1,ERROR:2},R={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function re(pe){switch(pe instanceof Error||typeof pe=="object"&&pe!==null||(0,B.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),pe.name){case"AbortException":return new B.AbortException(pe.message);case"MissingPDFException":return new B.MissingPDFException(pe.message);case"PasswordException":return new B.PasswordException(pe.message,pe.code);case"UnexpectedResponseException":return new B.UnexpectedResponseException(pe.message,pe.status);case"UnknownErrorException":return new B.UnknownErrorException(pe.message,pe.details);default:return new B.UnknownErrorException(pe.message,pe.toString())}}class de{constructor(oe,ne,be){this.sourceName=oe,this.targetName=ne,this.comObj=be,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ae=>{const ee=ae.data;if(ee.targetName!==this.sourceName)return;if(ee.stream){this._processStreamMessage(ee);return}if(ee.callback){const G=ee.callbackId,U=this.callbackCapabilities[G];if(!U)throw new Error("Cannot resolve callback ".concat(G));if(delete this.callbackCapabilities[G],ee.callback===O.DATA)U.resolve(ee.data);else if(ee.callback===O.ERROR)U.reject(re(ee.reason));else throw new Error("Unexpected callback case");return}const te=this.actionHandler[ee.action];if(!te)throw new Error("Unknown action from worker: ".concat(ee.action));if(ee.callbackId){const G=this.sourceName,U=ee.sourceName;new Promise(function(J){J(te(ee.data))}).then(function(J){be.postMessage({sourceName:G,targetName:U,callback:O.DATA,callbackId:ee.callbackId,data:J})},function(J){be.postMessage({sourceName:G,targetName:U,callback:O.ERROR,callbackId:ee.callbackId,reason:re(J)})});return}if(ee.streamId){this._createStreamSink(ee);return}te(ee.data)},be.addEventListener("message",this._onComObjOnMessage)}on(oe,ne){const be=this.actionHandler;if(be[oe])throw new Error('There is already an actionName called "'.concat(oe,'"'));be[oe]=ne}send(oe,ne,be){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:oe,data:ne},be)}sendWithPromise(oe,ne,be){const ae=this.callbackId++,ee=(0,B.createPromiseCapability)();this.callbackCapabilities[ae]=ee;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:oe,callbackId:ae,data:ne},be)}catch(te){ee.reject(te)}return ee.promise}sendWithStream(oe,ne,be,ae){const ee=this.streamId++,te=this.sourceName,G=this.targetName,U=this.comObj;return new ReadableStream({start:J=>{const K=(0,B.createPromiseCapability)();return this.streamControllers[ee]={controller:J,startCall:K,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:te,targetName:G,action:oe,streamId:ee,data:ne,desiredSize:J.desiredSize},ae),K.promise},pull:J=>{const K=(0,B.createPromiseCapability)();return this.streamControllers[ee].pullCall=K,U.postMessage({sourceName:te,targetName:G,stream:R.PULL,streamId:ee,desiredSize:J.desiredSize}),K.promise},cancel:J=>{(0,B.assert)(J instanceof Error,"cancel must have a valid reason");const K=(0,B.createPromiseCapability)();return this.streamControllers[ee].cancelCall=K,this.streamControllers[ee].isClosed=!0,U.postMessage({sourceName:te,targetName:G,stream:R.CANCEL,streamId:ee,reason:re(J)}),K.promise}},be)}_createStreamSink(oe){const ne=oe.streamId,be=this.sourceName,ae=oe.sourceName,ee=this.comObj,te=this,G=this.actionHandler[oe.action],U={enqueue(J,K=1,W){if(this.isCancelled)return;const q=this.desiredSize;this.desiredSize-=K,q>0&&this.desiredSize<=0&&(this.sinkCapability=(0,B.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ee.postMessage({sourceName:be,targetName:ae,stream:R.ENQUEUE,streamId:ne,chunk:J},W)},close(){this.isCancelled||(this.isCancelled=!0,ee.postMessage({sourceName:be,targetName:ae,stream:R.CLOSE,streamId:ne}),delete te.streamSinks[ne])},error(J){(0,B.assert)(J instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ee.postMessage({sourceName:be,targetName:ae,stream:R.ERROR,streamId:ne,reason:re(J)}))},sinkCapability:(0,B.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:oe.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[ne]=U,new Promise(function(J){J(G(oe.data,U))}).then(function(){ee.postMessage({sourceName:be,targetName:ae,stream:R.START_COMPLETE,streamId:ne,success:!0})},function(J){ee.postMessage({sourceName:be,targetName:ae,stream:R.START_COMPLETE,streamId:ne,reason:re(J)})})}_processStreamMessage(oe){const ne=oe.streamId,be=this.sourceName,ae=oe.sourceName,ee=this.comObj,te=this.streamControllers[ne],G=this.streamSinks[ne];switch(oe.stream){case R.START_COMPLETE:oe.success?te.startCall.resolve():te.startCall.reject(re(oe.reason));break;case R.PULL_COMPLETE:oe.success?te.pullCall.resolve():te.pullCall.reject(re(oe.reason));break;case R.PULL:if(!G){ee.postMessage({sourceName:be,targetName:ae,stream:R.PULL_COMPLETE,streamId:ne,success:!0});break}G.desiredSize<=0&&oe.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=oe.desiredSize,new Promise(function(U){U(G.onPull&&G.onPull())}).then(function(){ee.postMessage({sourceName:be,targetName:ae,stream:R.PULL_COMPLETE,streamId:ne,success:!0})},function(U){ee.postMessage({sourceName:be,targetName:ae,stream:R.PULL_COMPLETE,streamId:ne,reason:re(U)})});break;case R.ENQUEUE:if((0,B.assert)(te,"enqueue should have stream controller"),te.isClosed)break;te.controller.enqueue(oe.chunk);break;case R.CLOSE:if((0,B.assert)(te,"close should have stream controller"),te.isClosed)break;te.isClosed=!0,te.controller.close(),this._deleteStreamController(te,ne);break;case R.ERROR:(0,B.assert)(te,"error should have stream controller"),te.controller.error(re(oe.reason)),this._deleteStreamController(te,ne);break;case R.CANCEL_COMPLETE:oe.success?te.cancelCall.resolve():te.cancelCall.reject(re(oe.reason)),this._deleteStreamController(te,ne);break;case R.CANCEL:if(!G)break;new Promise(function(U){U(G.onCancel&&G.onCancel(re(oe.reason)))}).then(function(){ee.postMessage({sourceName:be,targetName:ae,stream:R.CANCEL_COMPLETE,streamId:ne,success:!0})},function(U){ee.postMessage({sourceName:be,targetName:ae,stream:R.CANCEL_COMPLETE,streamId:ne,reason:re(U)})}),G.sinkCapability.reject(re(oe.reason)),G.isCancelled=!0,delete this.streamSinks[ne];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(oe,ne){await Promise.allSettled([oe.startCall&&oe.startCall.promise,oe.pullCall&&oe.pullCall.promise,oe.cancelCall&&oe.cancelCall.promise]),delete this.streamControllers[ne]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=de},(A,$,V)=>{var R,re;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var B=V(1);class O{constructor({parsedData:pe,rawData:oe}){st(this,R,void 0);st(this,re,void 0);At(this,R,pe),At(this,re,oe)}getRaw(){return ve(this,re)}get(pe){var oe;return(oe=ve(this,R).get(pe))!=null?oe:null}getAll(){return(0,B.objectFromMap)(ve(this,R))}has(pe){return ve(this,R).has(pe)}}R=new WeakMap,re=new WeakMap,$.Metadata=O},(A,$,V)=>{var pe,oe,ne,be,ae,ee,Yr;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var B=V(1),O=V(8);const R=Symbol("INTERNAL");class re{constructor(U,J){st(this,pe,!0);this.name=U,this.intent=J}get visible(){return ve(this,pe)}_setVisible(U,J){U!==R&&(0,B.unreachable)("Internal method `_setVisible` called."),At(this,pe,J)}}pe=new WeakMap;class de{constructor(U){st(this,ee);st(this,oe,null);st(this,ne,new Map);st(this,be,null);st(this,ae,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,At(this,ae,U.order);for(const J of U.groups)ve(this,ne).set(J.id,new re(J.name,J.intent));if(U.baseState==="OFF")for(const J of ve(this,ne).values())J._setVisible(R,!1);for(const J of U.on)ve(this,ne).get(J)._setVisible(R,!0);for(const J of U.off)ve(this,ne).get(J)._setVisible(R,!1);At(this,be,this.getHash())}}isVisible(U){if(ve(this,ne).size===0)return!0;if(!U)return(0,B.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return ve(this,ne).has(U.id)?ve(this,ne).get(U.id).visible:((0,B.warn)("Optional content group not found: ".concat(U.id)),!0);if(U.type==="OCMD"){if(U.expression)return ht(this,ee,Yr).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(ve(this,ne).get(J).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(!ve(this,ne).get(J).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(!ve(this,ne).get(J).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(ve(this,ne).get(J).visible)return!1}return!0}return(0,B.warn)("Unknown optional content policy ".concat(U.policy,".")),!0}return(0,B.warn)("Unknown group type ".concat(U.type,".")),!0}setVisibility(U,J=!0){if(!ve(this,ne).has(U)){(0,B.warn)("Optional content group not found: ".concat(U));return}ve(this,ne).get(U)._setVisible(R,!!J),At(this,oe,null)}get hasInitialVisibility(){return this.getHash()===ve(this,be)}getOrder(){return ve(this,ne).size?ve(this,ae)?ve(this,ae).slice():[...ve(this,ne).keys()]:null}getGroups(){return ve(this,ne).size>0?(0,B.objectFromMap)(ve(this,ne)):null}getGroup(U){return ve(this,ne).get(U)||null}getHash(){if(ve(this,oe)!==null)return ve(this,oe);const U=new O.MurmurHash3_64;for(const[J,K]of ve(this,ne))U.update("".concat(J,":").concat(K.visible));return At(this,oe,U.hexdigest())}}oe=new WeakMap,ne=new WeakMap,be=new WeakMap,ae=new WeakMap,ee=new WeakSet,Yr=function(U){const J=U.length;if(J<2)return!0;const K=U[0];for(let W=1;W<J;W++){const q=U[W];let H;if(Array.isArray(q))H=ht(this,ee,Yr).call(this,q);else if(ve(this,ne).has(q))H=ve(this,ne).get(q).visible;else return(0,B.warn)("Optional content group not found: ".concat(q)),!0;switch(K){case"And":if(!H)return!1;break;case"Or":if(H)return!0;break;case"Not":return!H;default:return!0}}return K==="And"},$.OptionalContentConfig=de},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var B=V(1),O=V(6);class R{constructor({length:oe,initialData:ne,progressiveDone:be=!1,contentDispositionFilename:ae=null,disableRange:ee=!1,disableStream:te=!1},G){if((0,B.assert)(G,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=be,this._contentDispositionFilename=ae,(ne==null?void 0:ne.length)>0){const U=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=G,this._isStreamingSupported=!te,this._isRangeSupported=!ee,this._contentLength=oe,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,J)=>{this._onReceiveData({begin:U,chunk:J})}),this._pdfDataRangeTransport.addProgressListener((U,J)=>{this._onProgress({loaded:U,total:J})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:oe,chunk:ne}){const be=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;if(oe===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(be):this._queuedChunks.push(be);else{const ae=this._rangeReaders.some(function(ee){return ee._begin!==oe?!1:(ee._enqueue(be),!0)});(0,B.assert)(ae,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var oe,ne;return(ne=(oe=this._fullRequestReader)==null?void 0:oe._loaded)!=null?ne:0}_onProgress(oe){var ne,be,ae,ee;oe.total===void 0?(be=(ne=this._rangeReaders[0])==null?void 0:ne.onProgress)==null||be.call(ne,{loaded:oe.loaded}):(ee=(ae=this._fullRequestReader)==null?void 0:ae.onProgress)==null||ee.call(ae,{loaded:oe.loaded,total:oe.total})}_onProgressiveDone(){var oe;(oe=this._fullRequestReader)==null||oe.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(oe){const ne=this._rangeReaders.indexOf(oe);ne>=0&&this._rangeReaders.splice(ne,1)}getFullReader(){(0,B.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const oe=this._queuedChunks;return this._queuedChunks=null,new re(this,oe,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(oe,ne){if(ne<=this._progressiveDataLength)return null;const be=new de(this,oe,ne);return this._pdfDataRangeTransport.requestDataRange(oe,ne),this._rangeReaders.push(be),be}cancelAllRequests(oe){var ne;(ne=this._fullRequestReader)==null||ne.cancel(oe);for(const be of this._rangeReaders.slice(0))be.cancel(oe);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=R;class re{constructor(oe,ne,be=!1,ae=null){this._stream=oe,this._done=be||!1,this._filename=(0,O.isPdfFile)(ae)?ae:null,this._queuedChunks=ne||[],this._loaded=0;for(const ee of this._queuedChunks)this._loaded+=ee.byteLength;this._requests=[],this._headersReady=Promise.resolve(),oe._fullRequestReader=this,this.onProgress=null}_enqueue(oe){this._done||(this._requests.length>0?this._requests.shift().resolve({value:oe,done:!1}):this._queuedChunks.push(oe),this._loaded+=oe.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const oe=(0,B.createPromiseCapability)();return this._requests.push(oe),oe.promise}cancel(oe){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class de{constructor(oe,ne,be){this._stream=oe,this._begin=ne,this._end=be,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(oe){if(!this._done){if(this._requests.length===0)this._queuedChunk=oe;else{this._requests.shift().resolve({value:oe,done:!1});for(const be of this._requests)be.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ne=this._queuedChunk;return this._queuedChunk=null,{value:ne,done:!1}}if(this._done)return{value:void 0,done:!0};const oe=(0,B.createPromiseCapability)();return this._requests.push(oe),oe.promise}cancel(oe){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class V{static textContent(O){const R=[],re={items:R,styles:Object.create(null)};function de(pe){var be;if(!pe)return;let oe=null;const ne=pe.name;if(ne==="#text")oe=pe.value;else if(V.shouldBuildText(ne))(be=pe==null?void 0:pe.attributes)!=null&&be.textContent?oe=pe.attributes.textContent:pe.value&&(oe=pe.value);else return;if(oe!==null&&R.push({str:oe}),!!pe.children)for(const ae of pe.children)de(ae)}return de(O),re}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=V},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var B=V(7);const O=function(pe){return new Promise((oe,ne)=>{require$$5.readFile(pe,(ae,ee)=>{if(ae||!ee){ne(new Error(ae));return}oe(new Uint8Array(ee))})})};class R extends B.BaseCanvasFactory{_createCanvas(oe,ne){return require$$5.createCanvas(oe,ne)}}$.NodeCanvasFactory=R;class re extends B.BaseCMapReaderFactory{_fetchData(oe,ne){return O(oe).then(be=>({cMapData:be,compressionType:ne}))}}$.NodeCMapReaderFactory=re;class de extends B.BaseStandardFontDataFactory{_fetchData(oe){return O(oe)}}$.NodeStandardFontDataFactory=de},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var B=V(1),O=V(22);const R=require$$5,re=require$$5,de=require$$5,pe=require$$5,oe=/^file:\/\/\/[a-zA-Z]:\//;function ne(W){const q=pe.parse(W);return q.protocol==="file:"||q.host?q:/^[a-z]:[/\\]/i.test(W)?pe.parse("file:///".concat(W)):(q.host||(q.protocol="file:"),q)}class be{constructor(q){this.source=q,this.url=ne(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q,H;return(H=(q=this._fullRequestReader)==null?void 0:q._loaded)!=null?H:0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new G(this),this._fullRequestReader}getRangeReader(q,H){if(H<=this._progressiveDataLength)return null;const X=this.isFsUrl?new K(this,q,H):new U(this,q,H);return this._rangeRequestReaders.push(X),X}cancelAllRequests(q){var H;(H=this._fullRequestReader)==null||H.cancel(q);for(const X of this._rangeRequestReaders.slice(0))X.cancel(q)}}$.PDFNodeStream=be;class ae{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const H=q.source;this._contentLength=H.length,this._loaded=0,this._filename=null,this._disableRange=H.disableRange||!1,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!H.disableStream,this._isRangeSupported=!H.disableRange,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)(),this._headersCapability=(0,B.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=q.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",H=>{this._error(H)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new B.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ee{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)();const H=q.source;this._isStreamingSupported=!H.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=q.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",H=>{this._error(H)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function te(W,q){return{protocol:W.protocol,auth:W.auth,host:W.hostname,port:W.port,path:W.path,method:"GET",headers:q}}class G extends ae{constructor(q){super(q);const H=X=>{if(X.statusCode===404){const Se=new B.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=Se,this._headersCapability.reject(Se);return}this._headersCapability.resolve(),this._setReadableStream(X);const ue=Se=>this._readableStream.headers[Se.toLowerCase()],{allowRangeRequests:ge,suggestedLength:Ee}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ge,this._contentLength=Ee||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ue)};this._request=null,this._url.protocol==="http:"?this._request=re.request(te(this._url,q.httpHeaders),H):this._request=de.request(te(this._url,q.httpHeaders),H),this._request.on("error",X=>{this._storedError=X,this._headersCapability.reject(X)}),this._request.end()}}class U extends ee{constructor(q,H,X){super(q),this._httpHeaders={};for(const ge in q.httpHeaders){const Ee=q.httpHeaders[ge];Ee!==void 0&&(this._httpHeaders[ge]=Ee)}this._httpHeaders.Range="bytes=".concat(H,"-").concat(X-1);const ue=ge=>{if(ge.statusCode===404){const Ee=new B.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=Ee;return}this._setReadableStream(ge)};this._request=null,this._url.protocol==="http:"?this._request=re.request(te(this._url,this._httpHeaders),ue):this._request=de.request(te(this._url,this._httpHeaders),ue),this._request.on("error",ge=>{this._storedError=ge}),this._request.end()}}class J extends ae{constructor(q){super(q);let H=decodeURIComponent(this._url.path);oe.test(this._url.href)&&(H=H.replace(/^\//,"")),R.lstat(H,(X,ue)=>{if(X){X.code==="ENOENT"&&(X=new B.MissingPDFException('Missing PDF "'.concat(H,'".'))),this._storedError=X,this._headersCapability.reject(X);return}this._contentLength=ue.size,this._setReadableStream(R.createReadStream(H)),this._headersCapability.resolve()})}}class K extends ee{constructor(q,H,X){super(q);let ue=decodeURIComponent(this._url.path);oe.test(this._url.href)&&(ue=ue.replace(/^\//,"")),this._setReadableStream(R.createReadStream(ue,{start:H,end:X-1}))}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=pe,$.extractFilenameFromHeader=de,$.validateRangeRequestCapabilities=re,$.validateResponseStatus=oe;var B=V(1),O=V(23),R=V(6);function re({getResponseHeader:ne,isHttp:be,rangeChunkSize:ae,disableRange:ee}){const te={allowRangeRequests:!1,suggestedLength:void 0},G=parseInt(ne("Content-Length"),10);return!Number.isInteger(G)||(te.suggestedLength=G,G<=2*ae)||ee||!be||ne("Accept-Ranges")!=="bytes"||(ne("Content-Encoding")||"identity")!=="identity"||(te.allowRangeRequests=!0),te}function de(ne){const be=ne("Content-Disposition");if(be){let ae=(0,O.getFilenameFromContentDispositionHeader)(be);if(ae.includes("%"))try{ae=decodeURIComponent(ae)}catch(ee){}if((0,R.isPdfFile)(ae))return ae}return null}function pe(ne,be){return ne===404||ne===0&&be.startsWith("file:")?new B.MissingPDFException('Missing PDF "'+be+'".'):new B.UnexpectedResponseException("Unexpected server response (".concat(ne,') while retrieving PDF "').concat(be,'".'),ne)}function oe(ne){return ne===200||ne===206}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var B=V(1);function O(R){let re=!0,de=pe("filename\\*","i").exec(R);if(de){de=de[1];let G=ae(de);return G=unescape(G),G=ee(G),G=te(G),ne(G)}if(de=be(R),de){const G=te(de);return ne(G)}if(de=pe("filename","i").exec(R),de){de=de[1];let G=ae(de);return G=te(G),ne(G)}function pe(G,U){return new RegExp("(?:^|;)\\s*"+G+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function oe(G,U){if(G){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const J=new TextDecoder(G,{fatal:!0}),K=(0,B.stringToBytes)(U);U=J.decode(K),re=!1}catch(J){}}return U}function ne(G){return re&&/[\x80-\xff]/.test(G)&&(G=oe("utf-8",G),re&&(G=oe("iso-8859-1",G))),G}function be(G){const U=[];let J;const K=pe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(J=K.exec(G))!==null;){let[,q,H,X]=J;if(q=parseInt(q,10),q in U){if(q===0)break;continue}U[q]=[H,X]}const W=[];for(let q=0;q<U.length&&q in U;++q){let[H,X]=U[q];X=ae(X),H&&(X=unescape(X),q===0&&(X=ee(X))),W.push(X)}return W.join("")}function ae(G){if(G.startsWith('"')){const U=G.slice(1).split('\\"');for(let J=0;J<U.length;++J){const K=U[J].indexOf('"');K!==-1&&(U[J]=U[J].slice(0,K),U.length=J+1),U[J]=U[J].replace(/\\(.)/g,"$1")}G=U.join('"')}return G}function ee(G){const U=G.indexOf("'");if(U===-1)return G;const J=G.slice(0,U),W=G.slice(U+1).replace(/^[^']*'/,"");return oe(J,W)}function te(G){return!G.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(G)?G:G.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,J,K,W){if(K==="q"||K==="Q")return W=W.replace(/_/g," "),W=W.replace(/=([0-9a-fA-F]{2})/g,function(q,H){return String.fromCharCode(parseInt(H,16))}),oe(J,W);try{W=atob(W)}catch(q){}return oe(J,W)})}return""}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var B=V(1),O=V(22);const R=200,re=206;function de(ae){const ee=ae.response;return typeof ee!="string"?ee:(0,B.stringToBytes)(ee).buffer}class pe{constructor(ee,te={}){this.url=ee,this.isHttp=/^https?:/i.test(ee),this.httpHeaders=this.isHttp&&te.httpHeaders||Object.create(null),this.withCredentials=te.withCredentials||!1,this.getXhr=te.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ee,te,G){const U={begin:ee,end:te};for(const J in G)U[J]=G[J];return this.request(U)}requestFull(ee){return this.request(ee)}request(ee){const te=this.getXhr(),G=this.currXhrId++,U=this.pendingRequests[G]={xhr:te};te.open("GET",this.url),te.withCredentials=this.withCredentials;for(const J in this.httpHeaders){const K=this.httpHeaders[J];K!==void 0&&te.setRequestHeader(J,K)}return this.isHttp&&"begin"in ee&&"end"in ee?(te.setRequestHeader("Range","bytes=".concat(ee.begin,"-").concat(ee.end-1)),U.expectedStatus=re):U.expectedStatus=R,te.responseType="arraybuffer",ee.onError&&(te.onerror=function(J){ee.onError(te.status)}),te.onreadystatechange=this.onStateChange.bind(this,G),te.onprogress=this.onProgress.bind(this,G),U.onHeadersReceived=ee.onHeadersReceived,U.onDone=ee.onDone,U.onError=ee.onError,U.onProgress=ee.onProgress,te.send(null),G}onProgress(ee,te){var U;const G=this.pendingRequests[ee];G&&((U=G.onProgress)==null||U.call(G,te))}onStateChange(ee,te){var q,H,X;const G=this.pendingRequests[ee];if(!G)return;const U=G.xhr;if(U.readyState>=2&&G.onHeadersReceived&&(G.onHeadersReceived(),delete G.onHeadersReceived),U.readyState!==4||!(ee in this.pendingRequests))return;if(delete this.pendingRequests[ee],U.status===0&&this.isHttp){(q=G.onError)==null||q.call(G,U.status);return}const J=U.status||R;if(!(J===R&&G.expectedStatus===re)&&J!==G.expectedStatus){(H=G.onError)==null||H.call(G,U.status);return}const W=de(U);if(J===re){const ue=U.getResponseHeader("Content-Range"),ge=/bytes (\d+)-(\d+)\/(\d+)/.exec(ue);G.onDone({begin:parseInt(ge[1],10),chunk:W})}else W?G.onDone({begin:0,chunk:W}):(X=G.onError)==null||X.call(G,U.status)}getRequestXhr(ee){return this.pendingRequests[ee].xhr}isPendingRequest(ee){return ee in this.pendingRequests}abortRequest(ee){const te=this.pendingRequests[ee].xhr;delete this.pendingRequests[ee],te.abort()}}class oe{constructor(ee){this._source=ee,this._manager=new pe(ee.url,{httpHeaders:ee.httpHeaders,withCredentials:ee.withCredentials}),this._rangeChunkSize=ee.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ee){const te=this._rangeRequestReaders.indexOf(ee);te>=0&&this._rangeRequestReaders.splice(te,1)}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ne(this._manager,this._source),this._fullRequestReader}getRangeReader(ee,te){const G=new be(this._manager,ee,te);return G.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(G),G}cancelAllRequests(ee){var te;(te=this._fullRequestReader)==null||te.cancel(ee);for(const G of this._rangeRequestReaders.slice(0))G.cancel(ee)}}$.PDFNetworkStream=oe;class ne{constructor(ee,te){this._manager=ee;const G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._fullRequestId=ee.requestFull(G),this._headersReceivedCapability=(0,B.createPromiseCapability)(),this._disableRange=te.disableRange||!1,this._contentLength=te.length,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ee=this._fullRequestId,te=this._manager.getRequestXhr(ee),G=K=>te.getResponseHeader(K),{allowRangeRequests:U,suggestedLength:J}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=J||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(G),this._isRangeSupported&&this._manager.abortRequest(ee),this._headersReceivedCapability.resolve()}_onDone(ee){if(ee&&(this._requests.length>0?this._requests.shift().resolve({value:ee.chunk,done:!1}):this._cachedChunks.push(ee.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ee){this._storedError=(0,O.createResponseStatusError)(ee,this._url),this._headersReceivedCapability.reject(this._storedError);for(const te of this._requests)te.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ee){var te;(te=this.onProgress)==null||te.call(this,{loaded:ee.loaded,total:ee.lengthComputable?ee.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ee=(0,B.createPromiseCapability)();return this._requests.push(ee),ee.promise}cancel(ee){this._done=!0,this._headersReceivedCapability.reject(ee);for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class be{constructor(ee,te,G){this._manager=ee;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ee.url,this._requestId=ee.requestRange(te,G,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ee;(ee=this.onClosed)==null||ee.call(this,this)}_onDone(ee){const te=ee.chunk;this._requests.length>0?this._requests.shift().resolve({value:te,done:!1}):this._queuedChunk=te,this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ee){this._storedError=(0,O.createResponseStatusError)(ee,this._url);for(const te of this._requests)te.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ee){var te;this.isStreamingSupported||(te=this.onProgress)==null||te.call(this,{loaded:ee.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const te=this._queuedChunk;return this._queuedChunk=null,{value:te,done:!1}}if(this._done)return{value:void 0,done:!0};const ee=(0,B.createPromiseCapability)();return this._requests.push(ee),ee.promise}cancel(ee){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var B=V(1),O=V(22);function R(be,ae,ee){return{method:"GET",headers:be,signal:ee.signal,mode:"cors",credentials:ae?"include":"same-origin",redirect:"follow"}}function re(be){const ae=new Headers;for(const ee in be){const te=be[ee];te!==void 0&&ae.append(ee,te)}return ae}function de(be){return be instanceof Uint8Array?be.buffer:be instanceof ArrayBuffer?be:((0,B.warn)("getArrayBuffer - unexpected data format: ".concat(be)),new Uint8Array(be).buffer)}class pe{constructor(ae){this.source=ae,this.isHttp=/^https?:/i.test(ae.url),this.httpHeaders=this.isHttp&&ae.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ae,ee;return(ee=(ae=this._fullRequestReader)==null?void 0:ae._loaded)!=null?ee:0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oe(this),this._fullRequestReader}getRangeReader(ae,ee){if(ee<=this._progressiveDataLength)return null;const te=new ne(this,ae,ee);return this._rangeRequestReaders.push(te),te}cancelAllRequests(ae){var ee;(ee=this._fullRequestReader)==null||ee.cancel(ae);for(const te of this._rangeRequestReaders.slice(0))te.cancel(ae)}}$.PDFFetchStream=pe;class oe{constructor(ae){this._stream=ae,this._reader=null,this._loaded=0,this._filename=null;const ee=ae.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,B.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=re(this._stream.httpHeaders);const te=ee.url;fetch(te,R(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,O.validateResponseStatus)(G.status))throw(0,O.createResponseStatusError)(G.status,te);this._reader=G.body.getReader(),this._headersCapability.resolve();const U=W=>G.headers.get(W),{allowRangeRequests:J,suggestedLength:K}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=J,this._contentLength=K||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new B.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var te;await this._headersCapability.promise;const{value:ae,done:ee}=await this._reader.read();return ee?{value:ae,done:ee}:(this._loaded+=ae.byteLength,(te=this.onProgress)==null||te.call(this,{loaded:this._loaded,total:this._contentLength}),{value:de(ae),done:!1})}cancel(ae){var ee;(ee=this._reader)==null||ee.cancel(ae),this._abortController.abort()}}class ne{constructor(ae,ee,te){this._stream=ae,this._reader=null,this._loaded=0;const G=ae.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,B.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,this._abortController=new AbortController,this._headers=re(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(ee,"-").concat(te-1));const U=G.url;fetch(U,R(this._headers,this._withCredentials,this._abortController)).then(J=>{if(!(0,O.validateResponseStatus)(J.status))throw(0,O.createResponseStatusError)(J.status,U);this._readCapability.resolve(),this._reader=J.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var te;await this._readCapability.promise;const{value:ae,done:ee}=await this._reader.read();return ee?{value:ae,done:ee}:(this._loaded+=ae.byteLength,(te=this.onProgress)==null||te.call(this,{loaded:this._loaded}),{value:de(ae),done:!1})}cancel(ae){var ee;(ee=this._reader)==null||ee.cancel(ae),this._abortController.abort()}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=G,$.updateTextLayer=U;var B=V(1),O=V(6);const R=1e5,re=30,de=.8,pe=new Map;function oe(J,K){let W;if(K&&B.FeatureTest.isOffscreenCanvasSupported)W=new OffscreenCanvas(J,J).getContext("2d",{alpha:!1});else{const q=document.createElement("canvas");q.width=q.height=J,W=q.getContext("2d",{alpha:!1})}return W}function ne(J,K){const W=pe.get(J);if(W)return W;const q=oe(re,K);q.font="".concat(re,"px ").concat(J);const H=q.measureText("");let X=H.fontBoundingBoxAscent,ue=Math.abs(H.fontBoundingBoxDescent);if(X){const Ee=X/(X+ue);return pe.set(J,Ee),q.canvas.width=q.canvas.height=0,Ee}q.strokeStyle="red",q.clearRect(0,0,re,re),q.strokeText("g",0,0);let ge=q.getImageData(0,0,re,re).data;ue=0;for(let Ee=ge.length-1-3;Ee>=0;Ee-=4)if(ge[Ee]>0){ue=Math.ceil(Ee/4/re);break}q.clearRect(0,0,re,re),q.strokeText("A",0,re),ge=q.getImageData(0,0,re,re).data,X=0;for(let Ee=0,Se=ge.length;Ee<Se;Ee+=4)if(ge[Ee]>0){X=re-Math.floor(Ee/4/re);break}if(q.canvas.width=q.canvas.height=0,X){const Ee=X/(X+ue);return pe.set(J,Ee),Ee}return pe.set(J,de),de}function be(J,K,W){const q=document.createElement("span"),H={angle:0,canvasWidth:0,hasText:K.str!=="",hasEOL:K.hasEOL,fontSize:0};J._textDivs.push(q);const X=B.Util.transform(J._transform,K.transform);let ue=Math.atan2(X[1],X[0]);const ge=W[K.fontName];ge.vertical&&(ue+=Math.PI/2);const Ee=Math.hypot(X[2],X[3]),Se=Ee*ne(ge.fontFamily,J._isOffscreenCanvasSupported);let ce,xe;ue===0?(ce=X[4],xe=X[5]-Se):(ce=X[4]+Se*Math.sin(ue),xe=X[5]-Se*Math.cos(ue));const et="calc(var(--scale-factor)*",ze=q.style;J._container===J._rootContainer?(ze.left="".concat((100*ce/J._pageWidth).toFixed(2),"%"),ze.top="".concat((100*xe/J._pageHeight).toFixed(2),"%")):(ze.left="".concat(et).concat(ce.toFixed(2),"px)"),ze.top="".concat(et).concat(xe.toFixed(2),"px)")),ze.fontSize="".concat(et).concat(Ee.toFixed(2),"px)"),ze.fontFamily=ge.fontFamily,H.fontSize=Ee,q.setAttribute("role","presentation"),q.textContent=K.str,q.dir=K.dir,J._fontInspectorEnabled&&(q.dataset.fontName=K.fontName),ue!==0&&(H.angle=ue*(180/Math.PI));let He=!1;if(K.str.length>1)He=!0;else if(K.str!==" "&&K.transform[0]!==K.transform[3]){const je=Math.abs(K.transform[0]),Oe=Math.abs(K.transform[3]);je!==Oe&&Math.max(je,Oe)/Math.min(je,Oe)>1.5&&(He=!0)}He&&(H.canvasWidth=ge.vertical?K.height:K.width),J._textDivProperties.set(q,H),J._isReadableStream&&J._layoutText(q)}function ae(J){const{div:K,scale:W,properties:q,ctx:H,prevFontSize:X,prevFontFamily:ue}=J,{style:ge}=K;let Ee="";if(q.canvasWidth!==0&&q.hasText){const{fontFamily:Se}=ge,{canvasWidth:ce,fontSize:xe}=q;(X!==xe||ue!==Se)&&(H.font="".concat(xe*W,"px ").concat(Se),J.prevFontSize=xe,J.prevFontFamily=Se);const{width:et}=H.measureText(K.textContent);et>0&&(Ee="scaleX(".concat(ce*W/et,")"))}q.angle!==0&&(Ee="rotate(".concat(q.angle,"deg) ").concat(Ee)),Ee.length>0&&(ge.transform=Ee)}function ee(J){if(J._canceled)return;const K=J._textDivs,W=J._capability;if(K.length>R){W.resolve();return}if(!J._isReadableStream)for(const H of K)J._layoutText(H);W.resolve()}class te{constructor({textContentSource:K,container:W,viewport:q,textDivs:H,textDivProperties:X,textContentItemsStr:ue,isOffscreenCanvasSupported:ge}){var et;this._textContentSource=K,this._isReadableStream=K instanceof ReadableStream,this._container=this._rootContainer=W,this._textDivs=H||[],this._textContentItemsStr=ue||[],this._isOffscreenCanvasSupported=ge,this._fontInspectorEnabled=!!((et=globalThis.FontInspector)!=null&&et.enabled),this._reader=null,this._textDivProperties=X||new WeakMap,this._canceled=!1,this._capability=(0,B.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:oe(0,ge)};const{pageWidth:Ee,pageHeight:Se,pageX:ce,pageY:xe}=q.rawDims;this._transform=[1,0,0,-1,-ce,xe+Se],this._pageWidth=Ee,this._pageHeight=Se,(0,O.setLayerDimensions)(W,q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new B.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new B.AbortException("TextLayer task cancelled."))}_processItems(K,W){for(const q of K){if(q.str===void 0){if(q.type==="beginMarkedContentProps"||q.type==="beginMarkedContent"){const H=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),q.id!==null&&this._container.setAttribute("id","".concat(q.id)),H.append(this._container)}else q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(q.str),be(this,q,W)}}_layoutText(K){const W=this._layoutTextParams.properties=this._textDivProperties.get(K);if(this._layoutTextParams.div=K,ae(this._layoutTextParams),W.hasText&&this._container.append(K),W.hasEOL){const q=document.createElement("br");q.setAttribute("role","presentation"),this._container.append(q)}}_render(){const K=(0,B.createPromiseCapability)();let W=Object.create(null);if(this._isReadableStream){const q=()=>{this._reader.read().then(({value:H,done:X})=>{if(X){K.resolve();return}Object.assign(W,H.styles),this._processItems(H.items,W),q()},K.reject)};this._reader=this._textContentSource.getReader(),q()}else if(this._textContentSource){const{items:q,styles:H}=this._textContentSource;this._processItems(q,H),K.resolve()}else throw new Error('No "textContentSource" parameter specified.');K.promise.then(()=>{W=null,ee(this)},this._capability.reject)}}$.TextLayerRenderTask=te;function G(J){!J.textContentSource&&(J.textContent||J.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),J.textContentSource=J.textContent||J.textContentStream);const K=new te(J);return K._render(),K}function U({container:J,viewport:K,textDivs:W,textDivProperties:q,isOffscreenCanvasSupported:H,mustRotate:X=!0,mustRescale:ue=!0}){if(X&&(0,O.setLayerDimensions)(J,{rotation:K.rotation}),ue){const ge=oe(0,H),Se={prevFontSize:null,prevFontFamily:null,div:null,scale:K.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ge};for(const ce of W)Se.properties=q.get(ce),Se.div=ce,ae(Se)}}},(A,$,V)=>{var oe,ne,be,ae,ee,te,G,U,J,Zr,W,Ii,H,Jr,ue,Qr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var B=V(1),O=V(5),R=V(28),re=V(29),de=V(6);const Ee=class Ee{constructor(ce){st(this,J);st(this,W);st(this,H);st(this,ue);st(this,oe,void 0);st(this,ne,!1);st(this,be,this.pointerup.bind(this));st(this,ae,this.pointerdown.bind(this));st(this,ee,new Map);st(this,te,!1);st(this,G,!1);st(this,U,void 0);Ee._initialized||(Ee._initialized=!0,R.FreeTextEditor.initialize(ce.l10n),re.InkEditor.initialize(ce.l10n)),ce.uiManager.registerEditorTypes([R.FreeTextEditor,re.InkEditor]),At(this,U,ce.uiManager),this.pageIndex=ce.pageIndex,this.div=ce.div,At(this,oe,ce.accessibilityManager),ve(this,U).addLayer(this)}get isEmpty(){return ve(this,ee).size===0}updateToolbar(ce){ve(this,U).updateToolbar(ce)}updateMode(ce=ve(this,U).getMode()){ht(this,ue,Qr).call(this),ce===B.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ve(this,U).unselectAll(),ce!==B.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ce===B.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ce===B.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(ce){if(!ce&&ve(this,U).getMode()!==B.AnnotationEditorType.INK)return;if(!ce){for(const et of ve(this,ee).values())if(et.isEmpty()){et.setInBackground();return}}ht(this,H,Jr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(ce){ve(this,U).setEditingState(ce)}addCommands(ce){ve(this,U).addCommands(ce)}enable(){this.div.style.pointerEvents="auto";for(const ce of ve(this,ee).values())ce.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const ce of ve(this,ee).values())ce.disableEditing();ht(this,ue,Qr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(ce){ve(this,U).getActive()!==ce&&ve(this,U).setActiveEditor(ce)}enableClick(){this.div.addEventListener("pointerdown",ve(this,ae)),this.div.addEventListener("pointerup",ve(this,be))}disableClick(){this.div.removeEventListener("pointerdown",ve(this,ae)),this.div.removeEventListener("pointerup",ve(this,be))}attach(ce){ve(this,ee).set(ce.id,ce)}detach(ce){var xe;ve(this,ee).delete(ce.id),(xe=ve(this,oe))==null||xe.removePointerInTextLayer(ce.contentDiv)}remove(ce){ve(this,U).removeEditor(ce),this.detach(ce),ce.div.style.display="none",setTimeout(()=>{ce.div.style.display="",ce.div.remove(),ce.isAttachedToDOM=!1,document.activeElement===document.body&&ve(this,U).focusMainContainer()},0),ve(this,G)||this.addInkEditorIfNeeded(!1)}add(ce){if(ht(this,J,Zr).call(this,ce),ve(this,U).addEditor(ce),this.attach(ce),!ce.isAttachedToDOM){const xe=ce.render();this.div.append(xe),ce.isAttachedToDOM=!0}this.moveEditorInDOM(ce),ce.onceAdded(),ve(this,U).addToAnnotationStorage(ce)}moveEditorInDOM(ce){var xe;(xe=ve(this,oe))==null||xe.moveElementInDOM(this.div,ce.div,ce.contentDiv,!0)}addOrRebuild(ce){ce.needsToBeRebuilt()?ce.rebuild():this.add(ce)}addANewEditor(ce){const xe=()=>{this.addOrRebuild(ce)},et=()=>{ce.remove()};this.addCommands({cmd:xe,undo:et,mustExec:!0})}addUndoableEditor(ce){const xe=()=>{this.addOrRebuild(ce)},et=()=>{ce.remove()};this.addCommands({cmd:xe,undo:et,mustExec:!1})}getNextId(){return ve(this,U).getId()}deserialize(ce){switch(ce.annotationType){case B.AnnotationEditorType.FREETEXT:return R.FreeTextEditor.deserialize(ce,this,ve(this,U));case B.AnnotationEditorType.INK:return re.InkEditor.deserialize(ce,this,ve(this,U))}return null}setSelected(ce){ve(this,U).setSelected(ce)}toggleSelected(ce){ve(this,U).toggleSelected(ce)}isSelected(ce){return ve(this,U).isSelected(ce)}unselect(ce){ve(this,U).unselect(ce)}pointerup(ce){const{isMac:xe}=B.FeatureTest.platform;if(!(ce.button!==0||ce.ctrlKey&&xe)&&ce.target===this.div&&ve(this,te)){if(At(this,te,!1),!ve(this,ne)){At(this,ne,!0);return}ht(this,H,Jr).call(this,ce)}}pointerdown(ce){const{isMac:xe}=B.FeatureTest.platform;if(ce.button!==0||ce.ctrlKey&&xe||ce.target!==this.div)return;At(this,te,!0);const et=ve(this,U).getActive();At(this,ne,!et||et.isEmpty())}drop(ce){const xe=ce.dataTransfer.getData("text/plain"),et=ve(this,U).getEditor(xe);if(!et)return;ce.preventDefault(),ce.dataTransfer.dropEffect="move",ht(this,J,Zr).call(this,et);const ze=this.div.getBoundingClientRect(),He=ce.clientX-ze.x,je=ce.clientY-ze.y;et.translate(He-et.startX,je-et.startY),this.moveEditorInDOM(et),et.div.focus()}dragover(ce){ce.preventDefault()}destroy(){var ce,xe;((ce=ve(this,U).getActive())==null?void 0:ce.parent)===this&&ve(this,U).setActiveEditor(null);for(const et of ve(this,ee).values())(xe=ve(this,oe))==null||xe.removePointerInTextLayer(et.contentDiv),et.setParent(null),et.isAttachedToDOM=!1,et.div.remove();this.div=null,ve(this,ee).clear(),ve(this,U).removeLayer(this)}render({viewport:ce}){this.viewport=ce,(0,de.setLayerDimensions)(this.div,ce),(0,O.bindEvents)(this,this.div,["dragover","drop"]);for(const xe of ve(this,U).getEditors(this.pageIndex))this.add(xe);this.updateMode()}update({viewport:ce}){ve(this,U).commitOrRemove(),this.viewport=ce,(0,de.setLayerDimensions)(this.div,{rotation:ce.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ce,pageHeight:xe}=this.viewport.rawDims;return[ce,xe]}};oe=new WeakMap,ne=new WeakMap,be=new WeakMap,ae=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,J=new WeakSet,Zr=function(ce){var xe;ce.parent!==this&&(this.attach(ce),(xe=ce.parent)==null||xe.detach(ce),ce.setParent(this),ce.div&&ce.isAttachedToDOM&&(ce.div.remove(),this.div.append(ce.div)))},W=new WeakSet,Ii=function(ce){switch(ve(this,U).getMode()){case B.AnnotationEditorType.FREETEXT:return new R.FreeTextEditor(ce);case B.AnnotationEditorType.INK:return new re.InkEditor(ce)}return null},H=new WeakSet,Jr=function(ce){const xe=this.getNextId(),et=ht(this,W,Ii).call(this,{parent:this,id:xe,x:ce.offsetX,y:ce.offsetY,uiManager:ve(this,U)});return et&&this.add(et),et},ue=new WeakSet,Qr=function(){At(this,G,!0);for(const ce of ve(this,ee).values())ce.isEmpty()&&ce.remove();At(this,G,!1)},Cn(Ee,"_initialized",!1);let pe=Ee;$.AnnotationEditorLayer=pe},(A,$,V)=>{var de,pe,oe,ne,be,ae,ee,te,G,U,Li,K,Oi,q,Di,X,ei;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var B=V(1),O=V(5),R=V(4);const ge=class ge extends R.AnnotationEditor{constructor(ce){super({...ce,name:"freeTextEditor"});st(this,U);st(this,K);st(this,q);st(this,X);st(this,de,this.editorDivBlur.bind(this));st(this,pe,this.editorDivFocus.bind(this));st(this,oe,this.editorDivInput.bind(this));st(this,ne,this.editorDivKeydown.bind(this));st(this,be,void 0);st(this,ae,"");st(this,ee,"".concat(this.id,"-editor"));st(this,te,!1);st(this,G,void 0);At(this,be,ce.color||ge._defaultColor||R.AnnotationEditor._defaultLineColor),At(this,G,ce.fontSize||ge._defaultFontSize)}static initialize(ce){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(et=>[et,ce.get(et)]));const xe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(xe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ce,xe){switch(ce){case B.AnnotationEditorParamsType.FREETEXT_SIZE:ge._defaultFontSize=xe;break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:ge._defaultColor=xe;break}}updateParams(ce,xe){switch(ce){case B.AnnotationEditorParamsType.FREETEXT_SIZE:ht(this,U,Li).call(this,xe);break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:ht(this,K,Oi).call(this,xe);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,ge._defaultFontSize],[B.AnnotationEditorParamsType.FREETEXT_COLOR,ge._defaultColor||R.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,ve(this,G)],[B.AnnotationEditorParamsType.FREETEXT_COLOR,ve(this,be)]]}getInitialTranslation(){const ce=this.parentScale;return[-ge._internalPadding*ce,-(ge._internalPadding+ve(this,G))*ce]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(B.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ve(this,ne)),this.editorDiv.addEventListener("focus",ve(this,pe)),this.editorDiv.addEventListener("blur",ve(this,de)),this.editorDiv.addEventListener("input",ve(this,oe)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ve(this,ee)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ve(this,ne)),this.editorDiv.removeEventListener("focus",ve(this,pe)),this.editorDiv.removeEventListener("blur",ve(this,de)),this.editorDiv.removeEventListener("input",ve(this,oe)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ce){super.focusin(ce),ce.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ve(this,te)||(At(this,te,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),At(this,ae,ht(this,q,Di).call(this).trimEnd()),ht(this,X,ei).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ce){this.enableEditMode(),this.editorDiv.focus()}keydown(ce){ce.target===this.div&&ce.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ce){ge._keyboardManager.exec(this,ce)}editorDivFocus(ce){this.isEditing=!0}editorDivBlur(ce){this.isEditing=!1}editorDivInput(ce){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ce,xe;this.width&&(ce=this.x,xe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ve(this,ee)),this.enableEditing(),ge._l10nPromise.get("editor_free_text2_aria_label").then(ze=>{var He;return(He=this.editorDiv)==null?void 0:He.setAttribute("aria-label",ze)}),ge._l10nPromise.get("free_text2_default_content").then(ze=>{var He;return(He=this.editorDiv)==null?void 0:He.setAttribute("default-content",ze)}),this.editorDiv.contentEditable=!0;const{style:et}=this.editorDiv;if(et.fontSize="calc(".concat(ve(this,G),"px * var(--scale-factor))"),et.color=ve(this,be),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ze,He]=this.parentDimensions;this.setAt(ce*ze,xe*He,this.width*ze,this.height*He);for(const je of ve(this,ae).split("\n")){const Oe=document.createElement("div");Oe.append(je?document.createTextNode(je):document.createElement("br")),this.editorDiv.append(Oe)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ce,xe,et){const ze=super.deserialize(ce,xe,et);return At(ze,G,ce.fontSize),At(ze,be,B.Util.makeHexColor(...ce.color)),At(ze,ae,ce.value),ze}serialize(){if(this.isEmpty())return null;const ce=ge._internalPadding*this.parentScale,xe=this.getRect(ce,ce),et=R.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ve(this,be));return{annotationType:B.AnnotationEditorType.FREETEXT,color:et,fontSize:ve(this,G),value:ve(this,ae),pageIndex:this.pageIndex,rect:xe,rotation:this.rotation}}};de=new WeakMap,pe=new WeakMap,oe=new WeakMap,ne=new WeakMap,be=new WeakMap,ae=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakSet,Li=function(ce){const xe=ze=>{this.editorDiv.style.fontSize="calc(".concat(ze,"px * var(--scale-factor))"),this.translate(0,-(ze-ve(this,G))*this.parentScale),At(this,G,ze),ht(this,X,ei).call(this)},et=ve(this,G);this.addCommands({cmd:()=>{xe(ce)},undo:()=>{xe(et)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},K=new WeakSet,Oi=function(ce){const xe=ve(this,be);this.addCommands({cmd:()=>{At(this,be,this.editorDiv.style.color=ce)},undo:()=>{At(this,be,this.editorDiv.style.color=xe)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},q=new WeakSet,Di=function(){const ce=this.editorDiv.getElementsByTagName("div");if(ce.length===0)return this.editorDiv.innerText;const xe=[];for(const et of ce)xe.push(et.innerText.replace(/\r\n?|\n/,""));return xe.join("\n")},X=new WeakSet,ei=function(){const[ce,xe]=this.parentDimensions;let et;if(this.isAttachedToDOM)et=this.div.getBoundingClientRect();else{const{currentLayer:ze,div:He}=this,je=He.style.display;He.style.display="hidden",ze.div.append(this.div),et=He.getBoundingClientRect(),He.remove(),He.style.display=je}this.width=et.width/ce,this.height=et.height/xe},Cn(ge,"_freeTextDefaultContent",""),Cn(ge,"_l10nPromise"),Cn(ge,"_internalPadding",0),Cn(ge,"_defaultColor",null),Cn(ge,"_defaultFontSize",10),Cn(ge,"_keyboardManager",new O.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ge.prototype.commitOrRemove]])),Cn(ge,"_type","freetext");let re=ge;$.FreeTextEditor=re},(A,$,V)=>{var ne,be,ae,ee,te,G,U,J,K,W,q,H,X,ue,ge,Ni,Se,ji,xe,Bi,ze,zi,je,ti,Le,Vi,tt,Hi,le,Ui,me,qn,we,ni,De,Pr,it,kr,nt,dr,se,ri,ye,xr,_e,ii,rt,Wi,at,qi,ft,Gi,_t,ai,It,$r,jt,hr,Fe,oi;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return R.fitCurve}});var B=V(1),O=V(4),R=V(30),re=V(5);const de=16,pe=100,pt=class pt extends O.AnnotationEditor{constructor(Ke){super({...Ke,name:"inkEditor"});st(this,ge);st(this,Se);st(this,xe);st(this,ze);st(this,je);st(this,Le);st(this,tt);st(this,le);st(this,me);st(this,we);st(this,De);st(this,it);st(this,nt);st(this,se);st(this,ye);st(this,rt);st(this,at);st(this,ft);st(this,_t);st(this,It);st(this,jt);st(this,Fe);st(this,ne,0);st(this,be,0);st(this,ae,0);st(this,ee,this.canvasPointermove.bind(this));st(this,te,this.canvasPointerleave.bind(this));st(this,G,this.canvasPointerup.bind(this));st(this,U,this.canvasPointerdown.bind(this));st(this,J,!1);st(this,K,!1);st(this,W,null);st(this,q,null);st(this,H,0);st(this,X,0);st(this,ue,null);this.color=Ke.color||null,this.thickness=Ke.thickness||null,this.opacity=Ke.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ke){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(mt=>[mt,Ke.get(mt)]))}static updateDefaultParams(Ke,mt){switch(Ke){case B.AnnotationEditorParamsType.INK_THICKNESS:pt._defaultThickness=mt;break;case B.AnnotationEditorParamsType.INK_COLOR:pt._defaultColor=mt;break;case B.AnnotationEditorParamsType.INK_OPACITY:pt._defaultOpacity=mt/100;break}}updateParams(Ke,mt){switch(Ke){case B.AnnotationEditorParamsType.INK_THICKNESS:ht(this,ge,Ni).call(this,mt);break;case B.AnnotationEditorParamsType.INK_COLOR:ht(this,Se,ji).call(this,mt);break;case B.AnnotationEditorParamsType.INK_OPACITY:ht(this,xe,Bi).call(this,mt);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.INK_THICKNESS,pt._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,pt._defaultColor||O.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(pt._defaultOpacity*100)]]}get propertiesToUpdate(){var Ke;return[[B.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||pt._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,this.color||pt._defaultColor||O.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Ke=this.opacity)!=null?Ke:pt._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ht(this,De,Pr).call(this),ht(this,it,kr).call(this)),this.isAttachedToDOM||(this.parent.add(this),ht(this,nt,dr).call(this)),ht(this,jt,hr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ve(this,q).disconnect(),At(this,q,null),super.remove())}setParent(Ke){!this.parent&&Ke?this._uiManager.removeShouldRescale(this):this.parent&&Ke===null&&this._uiManager.addShouldRescale(this),super.setParent(Ke)}onScaleChanging(){const[Ke,mt]=this.parentDimensions,Et=this.width*Ke,Ct=this.height*mt;this.setDimensions(Et,Ct)}enableEditMode(){ve(this,J)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ve(this,U)),this.canvas.addEventListener("pointerup",ve(this,G)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ve(this,U)),this.canvas.removeEventListener("pointerup",ve(this,G)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ve(this,J)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),At(this,J,!0),this.div.classList.add("disabled"),ht(this,jt,hr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Ke){super.focusin(Ke),this.enableEditMode()}canvasPointerdown(Ke){Ke.button!==0||!this.isInEditMode()||ve(this,J)||(this.setInForeground(),Ke.type!=="mouse"&&this.div.focus(),Ke.stopPropagation(),this.canvas.addEventListener("pointerleave",ve(this,te)),this.canvas.addEventListener("pointermove",ve(this,ee)),ht(this,Le,Vi).call(this,Ke.offsetX,Ke.offsetY))}canvasPointermove(Ke){Ke.stopPropagation(),ht(this,tt,Hi).call(this,Ke.offsetX,Ke.offsetY)}canvasPointerup(Ke){Ke.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ke.stopPropagation(),ht(this,we,ni).call(this,Ke),this.setInBackground())}canvasPointerleave(Ke){ht(this,we,ni).call(this,Ke),this.setInBackground()}render(){if(this.div)return this.div;let Ke,mt;this.width&&(Ke=this.x,mt=this.y),super.render(),pt._l10nPromise.get("editor_ink2_aria_label").then(Yt=>{var Jt;return(Jt=this.div)==null?void 0:Jt.setAttribute("aria-label",Yt)});const[Et,Ct,Gt,sn]=ht(this,ze,zi).call(this);if(this.setAt(Et,Ct,0,0),this.setDims(Gt,sn),ht(this,De,Pr).call(this),this.width){const[Yt,Jt]=this.parentDimensions;this.setAt(Ke*Yt,mt*Jt,this.width*Yt,this.height*Jt),At(this,K,!0),ht(this,nt,dr).call(this),this.setDims(this.width*Yt,this.height*Jt),ht(this,me,qn).call(this),ht(this,Fe,oi).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ht(this,it,kr).call(this),this.div}setDimensions(Ke,mt){const Et=Math.round(Ke),Ct=Math.round(mt);if(ve(this,H)===Et&&ve(this,X)===Ct)return;At(this,H,Et),At(this,X,Ct),this.canvas.style.visibility="hidden",ve(this,ne)&&Math.abs(ve(this,ne)-Ke/mt)>.01&&(mt=Math.ceil(Ke/ve(this,ne)),this.setDims(Ke,mt));const[Gt,sn]=this.parentDimensions;this.width=Ke/Gt,this.height=mt/sn,ve(this,J)&&ht(this,se,ri).call(this,Ke,mt),ht(this,nt,dr).call(this),ht(this,me,qn).call(this),this.canvas.style.visibility="visible"}static deserialize(Ke,mt,Et){var En,yn;const Ct=super.deserialize(Ke,mt,Et);Ct.thickness=Ke.thickness,Ct.color=B.Util.makeHexColor(...Ke.color),Ct.opacity=Ke.opacity;const[Gt,sn]=Ct.pageDimensions,Yt=Ct.width*Gt,Jt=Ct.height*sn,Xt=Ct.parentScale,nn=Ke.thickness/2;At(Ct,ne,Yt/Jt),At(Ct,J,!0),At(Ct,H,Math.round(Yt)),At(Ct,X,Math.round(Jt));for(const{bezier:Sn}of Ke.paths){const mn=[];Ct.paths.push(mn);let In=Xt*(Sn[0]-nn),Dn=Xt*(Jt-Sn[1]-nn);for(let jn=2,rr=Sn.length;jn<rr;jn+=6){const ir=Xt*(Sn[jn]-nn),ar=Xt*(Jt-Sn[jn+1]-nn),or=Xt*(Sn[jn+2]-nn),sr=Xt*(Jt-Sn[jn+3]-nn),vr=Xt*(Sn[jn+4]-nn),br=Xt*(Jt-Sn[jn+5]-nn);mn.push([[In,Dn],[ir,ar],[or,sr],[vr,br]]),In=vr,Dn=br}const Gn=ht(this,_e,ii).call(this,mn);Ct.bezierPath2D.push(Gn)}const xn=ht(En=Ct,_t,ai).call(En);return At(Ct,ae,Math.max(de,xn[2]-xn[0])),At(Ct,be,Math.max(de,xn[3]-xn[1])),ht(yn=Ct,se,ri).call(yn,Yt,Jt),Ct}serialize(){if(this.isEmpty())return null;const Ke=this.getRect(0,0),mt=this.rotation%180===0?Ke[3]-Ke[1]:Ke[2]-Ke[0],Et=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:B.AnnotationEditorType.INK,color:Et,thickness:this.thickness,opacity:this.opacity,paths:ht(this,rt,Wi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,mt),pageIndex:this.pageIndex,rect:Ke,rotation:this.rotation}}};ne=new WeakMap,be=new WeakMap,ae=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,J=new WeakMap,K=new WeakMap,W=new WeakMap,q=new WeakMap,H=new WeakMap,X=new WeakMap,ue=new WeakMap,ge=new WeakSet,Ni=function(Ke){const mt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ke,ht(this,jt,hr).call(this)},undo:()=>{this.thickness=mt,ht(this,jt,hr).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Se=new WeakSet,ji=function(Ke){const mt=this.color;this.addCommands({cmd:()=>{this.color=Ke,ht(this,me,qn).call(this)},undo:()=>{this.color=mt,ht(this,me,qn).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xe=new WeakSet,Bi=function(Ke){Ke/=100;const mt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ke,ht(this,me,qn).call(this)},undo:()=>{this.opacity=mt,ht(this,me,qn).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ze=new WeakSet,zi=function(){const{parentRotation:Ke,parentDimensions:[mt,Et]}=this;switch(Ke){case 90:return[0,Et,Et,mt];case 180:return[mt,Et,mt,Et];case 270:return[mt,0,Et,mt];default:return[0,0,mt,Et]}},je=new WeakSet,ti=function(){const{ctx:Ke,color:mt,opacity:Et,thickness:Ct,parentScale:Gt,scaleFactor:sn}=this;Ke.lineWidth=Ct*Gt/sn,Ke.lineCap="round",Ke.lineJoin="round",Ke.miterLimit=10,Ke.strokeStyle="".concat(mt).concat((0,re.opacityToHex)(Et))},Le=new WeakSet,Vi=function(Ke,mt){var Et;this.isEditing=!0,ve(this,K)||(At(this,K,!0),ht(this,nt,dr).call(this),this.thickness||(this.thickness=pt._defaultThickness),this.color||(this.color=pt._defaultColor||O.AnnotationEditor._defaultLineColor),(Et=this.opacity)!=null||(this.opacity=pt._defaultOpacity)),this.currentPath.push([Ke,mt]),At(this,W,null),ht(this,je,ti).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ke,mt),At(this,ue,()=>{ve(this,ue)&&(ve(this,W)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ht(this,me,qn).call(this),this.ctx.lineTo(...ve(this,W)),At(this,W,null),this.ctx.stroke()),window.requestAnimationFrame(ve(this,ue)))}),window.requestAnimationFrame(ve(this,ue))},tt=new WeakSet,Hi=function(Ke,mt){const[Et,Ct]=this.currentPath.at(-1);Ke===Et&&mt===Ct||(this.currentPath.push([Ke,mt]),At(this,W,[Ke,mt]))},le=new WeakSet,Ui=function(Ke,mt){var Xt;this.ctx.closePath(),At(this,ue,null),Ke=Math.min(Math.max(Ke,0),this.canvas.width),mt=Math.min(Math.max(mt,0),this.canvas.height);const[Et,Ct]=this.currentPath.at(-1);(Ke!==Et||mt!==Ct)&&this.currentPath.push([Ke,mt]);let Gt;if(this.currentPath.length!==1)Gt=(0,R.fitCurve)(this.currentPath,30,null);else{const nn=[Ke,mt];Gt=[[nn,nn.slice(),nn.slice(),nn]]}const sn=ht(Xt=pt,_e,ii).call(Xt,Gt);this.currentPath.length=0;const Yt=()=>{this.paths.push(Gt),this.bezierPath2D.push(sn),this.rebuild()},Jt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ht(this,De,Pr).call(this),ht(this,it,kr).call(this)),ht(this,jt,hr).call(this))};this.addCommands({cmd:Yt,undo:Jt,mustExec:!0})},me=new WeakSet,qn=function(){if(this.isEmpty()){ht(this,ye,xr).call(this);return}ht(this,je,ti).call(this);const{canvas:Ke,ctx:mt}=this;mt.setTransform(1,0,0,1,0,0),mt.clearRect(0,0,Ke.width,Ke.height),ht(this,ye,xr).call(this);for(const Et of this.bezierPath2D)mt.stroke(Et)},we=new WeakSet,ni=function(Ke){ht(this,le,Ui).call(this,Ke.offsetX,Ke.offsetY),this.canvas.removeEventListener("pointerleave",ve(this,te)),this.canvas.removeEventListener("pointermove",ve(this,ee)),this.addToAnnotationStorage()},De=new WeakSet,Pr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",pt._l10nPromise.get("editor_ink_canvas_aria_label").then(Ke=>{var mt;return(mt=this.canvas)==null?void 0:mt.setAttribute("aria-label",Ke)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},it=new WeakSet,kr=function(){let Ke=null;At(this,q,new ResizeObserver(mt=>{const Et=mt[0].contentRect;Et.width&&Et.height&&(Ke!==null&&clearTimeout(Ke),Ke=setTimeout(()=>{this.fixDims(),Ke=null},pe),this.setDimensions(Et.width,Et.height))})),ve(this,q).observe(this.div)},nt=new WeakSet,dr=function(){if(!ve(this,K))return;const[Ke,mt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ke),this.canvas.height=Math.ceil(this.height*mt),ht(this,ye,xr).call(this)},se=new WeakSet,ri=function(Ke,mt){const Et=ht(this,It,$r).call(this),Ct=(Ke-Et)/ve(this,ae),Gt=(mt-Et)/ve(this,be);this.scaleFactor=Math.min(Ct,Gt)},ye=new WeakSet,xr=function(){const Ke=ht(this,It,$r).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ke,this.translationY*this.scaleFactor+Ke)},_e=new WeakSet,ii=function(Ke){const mt=new Path2D;for(let Et=0,Ct=Ke.length;Et<Ct;Et++){const[Gt,sn,Yt,Jt]=Ke[Et];Et===0&&mt.moveTo(...Gt),mt.bezierCurveTo(sn[0],sn[1],Yt[0],Yt[1],Jt[0],Jt[1])}return mt},rt=new WeakSet,Wi=function(Ke,mt,Et,Ct){const sn=[],Yt=this.thickness/2;let Jt,Xt;for(const nn of this.paths){Jt=[],Xt=[];for(let xn=0,En=nn.length;xn<En;xn++){const[yn,Sn,mn,In]=nn[xn],Dn=Ke*(yn[0]+mt)+Yt,Gn=Ct-Ke*(yn[1]+Et)-Yt,jn=Ke*(Sn[0]+mt)+Yt,rr=Ct-Ke*(Sn[1]+Et)-Yt,ir=Ke*(mn[0]+mt)+Yt,ar=Ct-Ke*(mn[1]+Et)-Yt,or=Ke*(In[0]+mt)+Yt,sr=Ct-Ke*(In[1]+Et)-Yt;xn===0&&(Jt.push(Dn,Gn),Xt.push(Dn,Gn)),Jt.push(jn,rr,ir,ar,or,sr),ht(this,at,qi).call(this,Dn,Gn,jn,rr,ir,ar,or,sr,4,Xt)}sn.push({bezier:Jt,points:Xt})}return sn},at=new WeakSet,qi=function(Ke,mt,Et,Ct,Gt,sn,Yt,Jt,Xt,nn){if(ht(this,ft,Gi).call(this,Ke,mt,Et,Ct,Gt,sn,Yt,Jt)){nn.push(Yt,Jt);return}for(let xn=1;xn<Xt-1;xn++){const En=xn/Xt,yn=1-En;let Sn=En*Ke+yn*Et,mn=En*mt+yn*Ct,In=En*Et+yn*Gt,Dn=En*Ct+yn*sn;const Gn=En*Gt+yn*Yt,jn=En*sn+yn*Jt;Sn=En*Sn+yn*In,mn=En*mn+yn*Dn,In=En*In+yn*Gn,Dn=En*Dn+yn*jn,Sn=En*Sn+yn*In,mn=En*mn+yn*Dn,nn.push(Sn,mn)}nn.push(Yt,Jt)},ft=new WeakSet,Gi=function(Ke,mt,Et,Ct,Gt,sn,Yt,Jt){const nn=(3*Et-2*Ke-Yt)**2,xn=(3*Ct-2*mt-Jt)**2,En=(3*Gt-Ke-2*Yt)**2,yn=(3*sn-mt-2*Jt)**2;return Math.max(nn,En)+Math.max(xn,yn)<=10},_t=new WeakSet,ai=function(){let Ke=1/0,mt=-1/0,Et=1/0,Ct=-1/0;for(const Gt of this.paths)for(const[sn,Yt,Jt,Xt]of Gt){const nn=B.Util.bezierBoundingBox(...sn,...Yt,...Jt,...Xt);Ke=Math.min(Ke,nn[0]),Et=Math.min(Et,nn[1]),mt=Math.max(mt,nn[2]),Ct=Math.max(Ct,nn[3])}return[Ke,Et,mt,Ct]},It=new WeakSet,$r=function(){return ve(this,J)?Math.ceil(this.thickness*this.parentScale):0},jt=new WeakSet,hr=function(Ke=!1){if(this.isEmpty())return;if(!ve(this,J)){ht(this,me,qn).call(this);return}const mt=ht(this,_t,ai).call(this),Et=ht(this,It,$r).call(this);At(this,ae,Math.max(de,mt[2]-mt[0])),At(this,be,Math.max(de,mt[3]-mt[1]));const Ct=Math.ceil(Et+ve(this,ae)*this.scaleFactor),Gt=Math.ceil(Et+ve(this,be)*this.scaleFactor),[sn,Yt]=this.parentDimensions;this.width=Ct/sn,this.height=Gt/Yt,At(this,ne,Ct/Gt),ht(this,Fe,oi).call(this);const Jt=this.translationX,Xt=this.translationY;this.translationX=-mt[0],this.translationY=-mt[1],ht(this,nt,dr).call(this),ht(this,me,qn).call(this),At(this,H,Ct),At(this,X,Gt),this.setDims(Ct,Gt);const nn=Ke?Et/this.scaleFactor/2:0;this.translate(Jt-this.translationX-nn,Xt-this.translationY-nn)},Fe=new WeakSet,oi=function(){const{style:Ke}=this.div;ve(this,ne)>=1?(Ke.minHeight="".concat(de,"px"),Ke.minWidth="".concat(Math.round(ve(this,ne)*de),"px")):(Ke.minWidth="".concat(de,"px"),Ke.minHeight="".concat(Math.round(de/ve(this,ne)),"px"))},st(pt,_e),Cn(pt,"_defaultColor",null),Cn(pt,"_defaultOpacity",1),Cn(pt,"_defaultThickness",1),Cn(pt,"_l10nPromise"),Cn(pt,"_type","ink");let oe=pt;$.InkEditor=oe},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const B=V(31);$.fitCurve=B},A=>{function $(te,G,U){if(!Array.isArray(te))throw new TypeError("First argument should be an array");if(te.forEach(q=>{if(!Array.isArray(q)||q.some(H=>typeof H!="number")||q.length!==te[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),te=te.filter((q,H)=>H===0||!q.every((X,ue)=>X===te[H-1][ue])),te.length<2)return[];const J=te.length,K=be(te[1],te[0]),W=be(te[J-2],te[J-1]);return V(te,K,W,G,U)}function V(te,G,U,J,K){var q,H,X,ue,ge,Ee,Se,ce,xe,et,ze,He,je;if(te.length===2)return He=ae.vectorLen(ae.subtract(te[0],te[1]))/3,q=[te[0],ae.addArrays(te[0],ae.mulItems(G,He)),ae.addArrays(te[1],ae.mulItems(U,He)),te[1]],[q];if(H=de(te),[q,ue,Ee]=B(te,H,H,G,U,K),ue===0||ue<J)return[q];if(ue<J*J)for(X=H,ge=ue,Se=Ee,je=0;je<20;je++){if(X=R(q,te,X),[q,ue,Ee]=B(te,H,X,G,U,K),ue<J)return[q];if(Ee===Se){let Oe=ue/ge;if(Oe>.9999&&Oe<1.0001)break}ge=ue,Se=Ee}return ze=[],ce=ae.subtract(te[Ee-1],te[Ee+1]),ce.every(Oe=>Oe===0)&&(ce=ae.subtract(te[Ee-1],te[Ee]),[ce[0],ce[1]]=[-ce[1],ce[0]]),xe=ae.normalize(ce),et=ae.mulItems(xe,-1),ze=ze.concat(V(te.slice(0,Ee+1),G,xe,J,K)),ze=ze.concat(V(te.slice(Ee),et,U,J,K)),ze}function B(te,G,U,J,K,W){var q,H,X;return q=O(te,U,J,K),[H,X]=pe(te,q,G),W&&W({bez:q,points:te,params:G,maxErr:H,maxPoint:X}),[q,H,X]}function O(te,G,U,J){var K,W,q,H,X,ue,ge,Ee,Se,ce,xe,et,ze,He,je,Oe,Le,Je=te[0],tt=te[te.length-1];for(K=[Je,null,null,tt],W=ae.zeros_Xx2x2(G.length),ze=0,He=G.length;ze<He;ze++)Oe=G[ze],Le=1-Oe,q=W[ze],q[0]=ae.mulItems(U,3*Oe*(Le*Le)),q[1]=ae.mulItems(J,3*Le*(Oe*Oe));for(H=[[0,0],[0,0]],X=[0,0],ze=0,He=te.length;ze<He;ze++)Oe=G[ze],q=W[ze],H[0][0]+=ae.dot(q[0],q[0]),H[0][1]+=ae.dot(q[0],q[1]),H[1][0]+=ae.dot(q[0],q[1]),H[1][1]+=ae.dot(q[1],q[1]),je=ae.subtract(te[ze],ee.q([Je,Je,tt,tt],Oe)),X[0]+=ae.dot(q[0],je),X[1]+=ae.dot(q[1],je);return ue=H[0][0]*H[1][1]-H[1][0]*H[0][1],ge=H[0][0]*X[1]-H[1][0]*X[0],Ee=X[0]*H[1][1]-X[1]*H[0][1],Se=ue===0?0:Ee/ue,ce=ue===0?0:ge/ue,et=ae.vectorLen(ae.subtract(Je,tt)),xe=1e-6*et,Se<xe||ce<xe?(K[1]=ae.addArrays(Je,ae.mulItems(U,et/3)),K[2]=ae.addArrays(tt,ae.mulItems(J,et/3))):(K[1]=ae.addArrays(Je,ae.mulItems(U,Se)),K[2]=ae.addArrays(tt,ae.mulItems(J,ce))),K}function R(te,G,U){return U.map((J,K)=>re(te,G[K],J))}function re(te,G,U){var J=ae.subtract(ee.q(te,U),G),K=ee.qprime(te,U),W=ae.mulMatrix(J,K),q=ae.sum(ae.squareItems(K))+2*ae.mulMatrix(J,ee.qprimeprime(te,U));return q===0?U:U-W/q}function de(te){var G=[],U,J,K;return te.forEach((W,q)=>{U=q?J+ae.vectorLen(ae.subtract(W,K)):0,G.push(U),J=U,K=W}),G=G.map(W=>W/J),G}function pe(te,G,U){var J,K,W,q,H,X,ue,ge;K=0,W=Math.floor(te.length/2);const Ee=oe(G,10);for(H=0,X=te.length;H<X;H++)ue=te[H],ge=ne(G,U[H],Ee,10),q=ae.subtract(ee.q(G,ge),ue),J=q[0]*q[0]+q[1]*q[1],J>K&&(K=J,W=H);return[K,W]}var oe=function(te,G){for(var U,J=[0],K=te[0],W=0,q=1;q<=G;q++)U=ee.q(te,q/G),W+=ae.vectorLen(ae.subtract(U,K)),J.push(W),K=U;return J=J.map(H=>H/W),J};function ne(te,G,U,J){if(G<0)return 0;if(G>1)return 1;for(var K,W,q,H,X,ue=1;ue<=J;ue++)if(G<=U[ue]){H=(ue-1)/J,q=ue/J,W=U[ue-1],K=U[ue],X=(G-W)/(K-W)*(q-H)+H;break}return X}function be(te,G){return ae.normalize(ae.subtract(te,G))}class ae{static zeros_Xx2x2(G){for(var U=[];G--;)U.push([0,0]);return U}static mulItems(G,U){return G.map(J=>J*U)}static mulMatrix(G,U){return G.reduce((J,K,W)=>J+K*U[W],0)}static subtract(G,U){return G.map((J,K)=>J-U[K])}static addArrays(G,U){return G.map((J,K)=>J+U[K])}static addItems(G,U){return G.map(J=>J+U)}static sum(G){return G.reduce((U,J)=>U+J)}static dot(G,U){return ae.mulMatrix(G,U)}static vectorLen(G){return Math.hypot(...G)}static divItems(G,U){return G.map(J=>J/U)}static squareItems(G){return G.map(U=>U*U)}static normalize(G){return this.divItems(G,this.vectorLen(G))}}class ee{static q(G,U){var J=1-U,K=ae.mulItems(G[0],J*J*J),W=ae.mulItems(G[1],3*J*J*U),q=ae.mulItems(G[2],3*J*U*U),H=ae.mulItems(G[3],U*U*U);return ae.addArrays(ae.addArrays(K,W),ae.addArrays(q,H))}static qprime(G,U){var J=1-U,K=ae.mulItems(ae.subtract(G[1],G[0]),3*J*J),W=ae.mulItems(ae.subtract(G[2],G[1]),6*J*U),q=ae.mulItems(ae.subtract(G[3],G[2]),3*U*U);return ae.addArrays(ae.addArrays(K,W),q)}static qprimeprime(G,U){return ae.addArrays(ae.mulItems(ae.addArrays(ae.subtract(G[2],ae.mulItems(G[1],2)),G[0]),6*(1-U)),ae.mulItems(ae.addArrays(ae.subtract(G[3],ae.mulItems(G[2],2)),G[1]),6*U))}}A.exports=$,A.exports.fitCubic=V,A.exports.createTangent=be},(A,$,V)=>{var ie,nr,Ce,Xi,De,si,it,ci;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var B=V(1),O=V(6),R=V(3),re=V(33),de=V(34);const pe=1e3,oe=9,ne=new WeakSet;function be(Ye){return{width:Ye[2]-Ye[0],height:Ye[3]-Ye[1]}}class ae{static create(se){switch(se.data.annotationType){case B.AnnotationType.LINK:return new te(se);case B.AnnotationType.TEXT:return new G(se);case B.AnnotationType.WIDGET:switch(se.data.fieldType){case"Tx":return new J(se);case"Btn":return se.data.radioButton?new W(se):se.data.checkBox?new K(se):new q(se);case"Ch":return new H(se)}return new U(se);case B.AnnotationType.POPUP:return new X(se);case B.AnnotationType.FREETEXT:return new ge(se);case B.AnnotationType.LINE:return new Ee(se);case B.AnnotationType.SQUARE:return new Se(se);case B.AnnotationType.CIRCLE:return new ce(se);case B.AnnotationType.POLYLINE:return new xe(se);case B.AnnotationType.CARET:return new ze(se);case B.AnnotationType.INK:return new He(se);case B.AnnotationType.POLYGON:return new et(se);case B.AnnotationType.HIGHLIGHT:return new je(se);case B.AnnotationType.UNDERLINE:return new Oe(se);case B.AnnotationType.SQUIGGLY:return new Le(se);case B.AnnotationType.STRIKEOUT:return new Je(se);case B.AnnotationType.STAMP:return new tt(se);case B.AnnotationType.FILEATTACHMENT:return new Ae(se);default:return new ee(se)}}}class ee{constructor(se,{isRenderable:he=!1,ignoreBorder:ye=!1,createQuadrilaterals:ke=!1}={}){this.isRenderable=he,this.data=se.data,this.layer=se.layer,this.page=se.page,this.viewport=se.viewport,this.linkService=se.linkService,this.downloadManager=se.downloadManager,this.imageResourcesPath=se.imageResourcesPath,this.renderForms=se.renderForms,this.svgFactory=se.svgFactory,this.annotationStorage=se.annotationStorage,this.enableScripting=se.enableScripting,this.hasJSActions=se.hasJSActions,this._fieldObjects=se.fieldObjects,he&&(this.container=this._createContainer(ye)),ke&&(this.quadrilaterals=this._createQuadrilaterals(ye))}_createContainer(se=!1){const{data:he,page:ye,viewport:ke}=this,_e=document.createElement("section");_e.setAttribute("data-annotation-id",he.id);const{pageWidth:$e,pageHeight:rt,pageX:ot,pageY:at}=ke.rawDims,{width:Ze,height:ft}=be(he.rect),dt=B.Util.normalizeRect([he.rect[0],ye.view[3]-he.rect[1]+ye.view[1],he.rect[2],ye.view[3]-he.rect[3]+ye.view[1]]);if(!se&&he.borderStyle.width>0){_e.style.borderWidth="".concat(he.borderStyle.width,"px");const St=he.borderStyle.horizontalCornerRadius,It=he.borderStyle.verticalCornerRadius;if(St>0||It>0){const jt="calc(".concat(St,"px * var(--scale-factor)) / calc(").concat(It,"px * var(--scale-factor))");_e.style.borderRadius=jt}else if(this instanceof W){const jt="calc(".concat(Ze,"px * var(--scale-factor)) / calc(").concat(ft,"px * var(--scale-factor))");_e.style.borderRadius=jt}switch(he.borderStyle.style){case B.AnnotationBorderStyleType.SOLID:_e.style.borderStyle="solid";break;case B.AnnotationBorderStyleType.DASHED:_e.style.borderStyle="dashed";break;case B.AnnotationBorderStyleType.BEVELED:(0,B.warn)("Unimplemented border style: beveled");break;case B.AnnotationBorderStyleType.INSET:(0,B.warn)("Unimplemented border style: inset");break;case B.AnnotationBorderStyleType.UNDERLINE:_e.style.borderBottomStyle="solid";break}const Vt=he.borderColor||null;Vt?_e.style.borderColor=B.Util.makeHexColor(Vt[0]|0,Vt[1]|0,Vt[2]|0):_e.style.borderWidth=0}_e.style.left="".concat(100*(dt[0]-ot)/$e,"%"),_e.style.top="".concat(100*(dt[1]-at)/rt,"%");const{rotation:_t}=he;return he.hasOwnCanvas||_t===0?(_e.style.width="".concat(100*Ze/$e,"%"),_e.style.height="".concat(100*ft/rt,"%")):this.setRotation(_t,_e),_e}setRotation(se,he=this.container){const{pageWidth:ye,pageHeight:ke}=this.viewport.rawDims,{width:_e,height:$e}=be(this.data.rect);let rt,ot;se%180===0?(rt=100*_e/ye,ot=100*$e/ke):(rt=100*$e/ye,ot=100*_e/ke),he.style.width="".concat(rt,"%"),he.style.height="".concat(ot,"%"),he.setAttribute("data-main-rotation",(360-se)%360)}get _commonActions(){const se=(he,ye,ke)=>{const _e=ke.detail[he];ke.target.style[ye]=re.ColorConverters["".concat(_e[0],"_HTML")](_e.slice(1))};return(0,B.shadow)(this,"_commonActions",{display:he=>{const ye=he.detail.display%2===1;this.container.style.visibility=ye?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ye,print:he.detail.display===0||he.detail.display===3})},print:he=>{this.annotationStorage.setValue(this.data.id,{print:he.detail.print})},hidden:he=>{this.container.style.visibility=he.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:he.detail.hidden})},focus:he=>{setTimeout(()=>he.target.focus({preventScroll:!1}),0)},userName:he=>{he.target.title=he.detail.userName},readonly:he=>{he.detail.readonly?he.target.setAttribute("readonly",""):he.target.removeAttribute("readonly")},required:he=>{this._setRequired(he.target,he.detail.required)},bgColor:he=>{se("bgColor","backgroundColor",he)},fillColor:he=>{se("fillColor","backgroundColor",he)},fgColor:he=>{se("fgColor","color",he)},textColor:he=>{se("textColor","color",he)},borderColor:he=>{se("borderColor","borderColor",he)},strokeColor:he=>{se("strokeColor","borderColor",he)},rotation:he=>{const ye=he.detail.rotation;this.setRotation(ye),this.annotationStorage.setValue(this.data.id,{rotation:ye})}})}_dispatchEventFromSandbox(se,he){const ye=this._commonActions;for(const ke of Object.keys(he.detail)){const _e=se[ke]||ye[ke];_e==null||_e(he)}}_setDefaultPropertiesFromJS(se){if(!this.enableScripting)return;const he=this.annotationStorage.getRawValue(this.data.id);if(!he)return;const ye=this._commonActions;for(const[ke,_e]of Object.entries(he)){const $e=ye[ke];if($e){const rt={detail:{[ke]:_e},target:se};$e(rt),delete he[ke]}}}_createQuadrilaterals(se=!1){if(!this.data.quadPoints)return null;const he=[],ye=this.data.rect;for(const ke of this.data.quadPoints)this.data.rect=[ke[2].x,ke[2].y,ke[1].x,ke[1].y],he.push(this._createContainer(se));return this.data.rect=ye,he}_createPopup(se,he){let ye=this.container;this.quadrilaterals&&(se=se||this.quadrilaterals,ye=this.quadrilaterals[0]),se||(se=document.createElement("div"),se.className="popupTriggerArea",ye.append(se));const _e=new ue({container:ye,trigger:se,color:he.color,titleObj:he.titleObj,modificationDate:he.modificationDate,contentsObj:he.contentsObj,richText:he.richText,hideWrapper:!0}).render();_e.style.left="100%",ye.append(_e)}_renderQuadrilaterals(se){for(const he of this.quadrilaterals)he.className=se;return this.quadrilaterals}render(){(0,B.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(se,he=null){const ye=[];if(this._fieldObjects){const ke=this._fieldObjects[se];if(ke)for(const{page:_e,id:$e,exportValues:rt}of ke){if(_e===-1||$e===he)continue;const ot=typeof rt=="string"?rt:null,at=document.querySelector('[data-element-id="'.concat($e,'"]'));if(at&&!ne.has(at)){(0,B.warn)("_getElementsByName - element not allowed: ".concat($e));continue}ye.push({id:$e,exportValue:ot,domElement:at})}return ye}for(const ke of document.getElementsByName(se)){const{exportValue:_e}=ke,$e=ke.getAttribute("data-element-id");$e!==he&&ne.has(ke)&&ye.push({id:$e,exportValue:_e,domElement:ke})}return ye}}class te extends ee{constructor(he,ye=null){super(he,{isRenderable:!0,ignoreBorder:!!(ye!=null&&ye.ignoreBorder),createQuadrilaterals:!0});st(this,ie);st(this,Ce);this.isTooltipOnly=he.data.isTooltipOnly}render(){const{data:he,linkService:ye}=this,ke=document.createElement("a");ke.setAttribute("data-element-id",he.id);let _e=!1;return he.url?(ye.addLinkAttributes(ke,he.url,he.newWindow),_e=!0):he.action?(this._bindNamedAction(ke,he.action),_e=!0):he.attachment?(this._bindAttachment(ke,he.attachment),_e=!0):he.setOCGState?(ht(this,Ce,Xi).call(this,ke,he.setOCGState),_e=!0):he.dest?(this._bindLink(ke,he.dest),_e=!0):(he.actions&&(he.actions.Action||he.actions["Mouse Up"]||he.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ke,he),_e=!0),he.resetForm?(this._bindResetFormAction(ke,he.resetForm),_e=!0):this.isTooltipOnly&&!_e&&(this._bindLink(ke,""),_e=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(($e,rt)=>{const ot=rt===0?ke:ke.cloneNode();return $e.append(ot),$e}):(this.container.className="linkAnnotation",_e&&this.container.append(ke),this.container)}_bindLink(he,ye){he.href=this.linkService.getDestinationHash(ye),he.onclick=()=>(ye&&this.linkService.goToDestination(ye),!1),(ye||ye==="")&&ht(this,ie,nr).call(this)}_bindNamedAction(he,ye){he.href=this.linkService.getAnchorUrl(""),he.onclick=()=>(this.linkService.executeNamedAction(ye),!1),ht(this,ie,nr).call(this)}_bindAttachment(he,ye){he.href=this.linkService.getAnchorUrl(""),he.onclick=()=>{var ke;return(ke=this.downloadManager)==null||ke.openOrDownloadData(this.container,ye.content,ye.filename),!1},ht(this,ie,nr).call(this)}_bindJSAction(he,ye){he.href=this.linkService.getAnchorUrl("");const ke=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _e of Object.keys(ye.actions)){const $e=ke.get(_e);$e&&(he[$e]=()=>{var rt;return(rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ye.id,name:_e}}),!1})}he.onclick||(he.onclick=()=>!1),ht(this,ie,nr).call(this)}_bindResetFormAction(he,ye){const ke=he.onclick;if(ke||(he.href=this.linkService.getAnchorUrl("")),ht(this,ie,nr).call(this),!this._fieldObjects){(0,B.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ke||(he.onclick=()=>!1);return}he.onclick=()=>{var ft;ke==null||ke();const{fields:_e,refs:$e,include:rt}=ye,ot=[];if(_e.length!==0||$e.length!==0){const dt=new Set($e);for(const _t of _e){const St=this._fieldObjects[_t]||[];for(const{id:It}of St)dt.add(It)}for(const _t of Object.values(this._fieldObjects))for(const St of _t)dt.has(St.id)===rt&&ot.push(St)}else for(const dt of Object.values(this._fieldObjects))ot.push(...dt);const at=this.annotationStorage,Ze=[];for(const dt of ot){const{id:_t}=dt;switch(Ze.push(_t),dt.type){case"text":{const It=dt.defaultValue||"";at.setValue(_t,{value:It});break}case"checkbox":case"radiobutton":{const It=dt.defaultValue===dt.exportValues;at.setValue(_t,{value:It});break}case"combobox":case"listbox":{const It=dt.defaultValue||"";at.setValue(_t,{value:It});break}default:continue}const St=document.querySelector('[data-element-id="'.concat(_t,'"]'));if(St){if(!ne.has(St)){(0,B.warn)("_bindResetFormAction - element not allowed: ".concat(_t));continue}}else continue;St.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ze,name:"ResetForm"}})),!1}}}ie=new WeakSet,nr=function(){this.container.setAttribute("data-internal-link","")},Ce=new WeakSet,Xi=function(he,ye){he.href=this.linkService.getAnchorUrl(""),he.onclick=()=>(this.linkService.executeSetOCGState(ye),!1),ht(this,ie,nr).call(this)};class G extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he})}render(){this.container.className="textAnnotation";const se=document.createElement("img");return se.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",se.alt="[{{type}} Annotation]",se.dataset.l10nId="text_annotation_type",se.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(se,this.data),this.container.append(se),this.container}}class U extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(se){const{isWin:he,isMac:ye}=B.FeatureTest.platform;return he&&se.ctrlKey||ye&&se.metaKey}_setEventListener(se,he,ye,ke){he.includes("mouse")?se.addEventListener(he,_e=>{var $e;($e=this.linkService.eventBus)==null||$e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ye,value:ke(_e),shift:_e.shiftKey,modifier:this._getKeyModifier(_e)}})}):se.addEventListener(he,_e=>{var $e;($e=this.linkService.eventBus)==null||$e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ye,value:ke(_e)}})})}_setEventListeners(se,he,ye){var ke;for(const[_e,$e]of he)($e==="Action"||(ke=this.data.actions)!=null&&ke[$e])&&this._setEventListener(se,_e,$e,ye)}_setBackgroundColor(se){const he=this.data.backgroundColor||null;se.style.backgroundColor=he===null?"transparent":B.Util.makeHexColor(he[0],he[1],he[2])}_setTextStyle(se){const he=["left","center","right"],{fontColor:ye}=this.data.defaultAppearanceData,ke=this.data.defaultAppearanceData.fontSize||oe,_e=se.style;let $e;const rt=2,ot=at=>Math.round(10*at)/10;if(this.data.multiLine){const at=Math.abs(this.data.rect[3]-this.data.rect[1]-rt),Ze=Math.round(at/(B.LINE_FACTOR*ke))||1,ft=at/Ze;$e=Math.min(ke,ot(ft/B.LINE_FACTOR))}else{const at=Math.abs(this.data.rect[3]-this.data.rect[1]-rt);$e=Math.min(ke,ot(at/B.LINE_FACTOR))}_e.fontSize="calc(".concat($e,"px * var(--scale-factor))"),_e.color=B.Util.makeHexColor(ye[0],ye[1],ye[2]),this.data.textAlignment!==null&&(_e.textAlign=he[this.data.textAlignment])}_setRequired(se,he){he?se.setAttribute("required",!0):se.removeAttribute("required"),se.setAttribute("aria-required",he)}}class J extends U{constructor(se){const he=se.renderForms||!se.data.hasAppearance&&!!se.data.fieldValue;super(se,{isRenderable:he})}setPropertyOnSiblings(se,he,ye,ke){const _e=this.annotationStorage;for(const $e of this._getElementsByName(se.name,se.id))$e.domElement&&($e.domElement[he]=ye),_e.setValue($e.id,{[ke]:ye})}render(){var ke;const se=this.annotationStorage,he=this.data.id;this.container.className="textWidgetAnnotation";let ye=null;if(this.renderForms){const _e=se.getValue(he,{value:this.data.fieldValue});let $e=_e.formattedValue||_e.value||"";const rt=se.getValue(he,{charLimit:this.data.maxLen}).charLimit;rt&&$e.length>rt&&($e=$e.slice(0,rt));const ot={userValue:$e,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ye=document.createElement("textarea"),ye.textContent=$e,this.data.doNotScroll&&(ye.style.overflowY="hidden")):(ye=document.createElement("input"),ye.type="text",ye.setAttribute("value",$e),this.data.doNotScroll&&(ye.style.overflowX="hidden")),ne.add(ye),ye.setAttribute("data-element-id",he),ye.disabled=this.data.readOnly,ye.name=this.data.fieldName,ye.tabIndex=pe,this._setRequired(ye,this.data.required),rt&&(ye.maxLength=rt),ye.addEventListener("input",Ze=>{se.setValue(he,{value:Ze.target.value}),this.setPropertyOnSiblings(ye,"value",Ze.target.value,"value")}),ye.addEventListener("resetform",Ze=>{var dt;const ft=(dt=this.data.defaultFieldValue)!=null?dt:"";ye.value=ot.userValue=ft,ot.formattedValue=null});let at=Ze=>{const{formattedValue:ft}=ot;ft!=null&&(Ze.target.value=ft),Ze.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ye.addEventListener("focus",ft=>{const{target:dt}=ft;ot.userValue&&(dt.value=ot.userValue),ot.lastCommittedValue=dt.value,ot.commitKey=1}),ye.addEventListener("updatefromsandbox",ft=>{const dt={value(_t){var St;ot.userValue=(St=_t.detail.value)!=null?St:"",se.setValue(he,{value:ot.userValue.toString()}),_t.target.value=ot.userValue},formattedValue(_t){const{formattedValue:St}=_t.detail;ot.formattedValue=St,St!=null&&_t.target!==document.activeElement&&(_t.target.value=St),se.setValue(he,{formattedValue:St})},selRange(_t){_t.target.setSelectionRange(..._t.detail.selRange)},charLimit:_t=>{var jt;const{charLimit:St}=_t.detail,{target:It}=_t;if(St===0){It.removeAttribute("maxLength");return}It.setAttribute("maxLength",St);let Vt=ot.userValue;!Vt||Vt.length<=St||(Vt=Vt.slice(0,St),It.value=ot.userValue=Vt,se.setValue(he,{value:Vt}),(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:Vt,willCommit:!0,commitKey:1,selStart:It.selectionStart,selEnd:It.selectionEnd}}))}};this._dispatchEventFromSandbox(dt,ft)}),ye.addEventListener("keydown",ft=>{var St;ot.commitKey=1;let dt=-1;if(ft.key==="Escape"?dt=0:ft.key==="Enter"&&!this.data.multiLine?dt=2:ft.key==="Tab"&&(ot.commitKey=3),dt===-1)return;const{value:_t}=ft.target;ot.lastCommittedValue!==_t&&(ot.lastCommittedValue=_t,ot.userValue=_t,(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:_t,willCommit:!0,commitKey:dt,selStart:ft.target.selectionStart,selEnd:ft.target.selectionEnd}}))});const Ze=at;at=null,ye.addEventListener("blur",ft=>{var _t;if(!ft.relatedTarget)return;const{value:dt}=ft.target;ot.userValue=dt,ot.lastCommittedValue!==dt&&((_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:dt,willCommit:!0,commitKey:ot.commitKey,selStart:ft.target.selectionStart,selEnd:ft.target.selectionEnd}})),Ze(ft)}),(ke=this.data.actions)!=null&&ke.Keystroke&&ye.addEventListener("beforeinput",ft=>{var Fe;ot.lastCommittedValue=null;const{data:dt,target:_t}=ft,{value:St,selectionStart:It,selectionEnd:Vt}=_t;let jt=It,Me=Vt;switch(ft.inputType){case"deleteWordBackward":{const Be=St.substring(0,It).match(/\w*[^\w]*$/);Be&&(jt-=Be[0].length);break}case"deleteWordForward":{const Be=St.substring(It).match(/^[^\w]*\w*/);Be&&(Me+=Be[0].length);break}case"deleteContentBackward":It===Vt&&(jt-=1);break;case"deleteContentForward":It===Vt&&(Me+=1);break}ft.preventDefault(),(Fe=this.linkService.eventBus)==null||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:St,change:dt||"",willCommit:!1,selStart:jt,selEnd:Me}})}),this._setEventListeners(ye,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ft=>ft.target.value)}if(at&&ye.addEventListener("blur",at),this.data.comb){const ft=(this.data.rect[2]-this.data.rect[0])/rt;ye.classList.add("comb"),ye.style.letterSpacing="calc(".concat(ft,"px * var(--scale-factor) - 1ch)")}}else ye=document.createElement("div"),ye.textContent=this.data.fieldValue,ye.style.verticalAlign="middle",ye.style.display="table-cell";return this._setTextStyle(ye),this._setBackgroundColor(ye),this._setDefaultPropertiesFromJS(ye),this.container.append(ye),this.container}}class K extends U{constructor(se){super(se,{isRenderable:se.renderForms})}render(){const se=this.annotationStorage,he=this.data,ye=he.id;let ke=se.getValue(ye,{value:he.exportValue===he.fieldValue}).value;typeof ke=="string"&&(ke=ke!=="Off",se.setValue(ye,{value:ke})),this.container.className="buttonWidgetAnnotation checkBox";const _e=document.createElement("input");return ne.add(_e),_e.setAttribute("data-element-id",ye),_e.disabled=he.readOnly,this._setRequired(_e,this.data.required),_e.type="checkbox",_e.name=he.fieldName,ke&&_e.setAttribute("checked",!0),_e.setAttribute("exportValue",he.exportValue),_e.tabIndex=pe,_e.addEventListener("change",$e=>{const{name:rt,checked:ot}=$e.target;for(const at of this._getElementsByName(rt,ye)){const Ze=ot&&at.exportValue===he.exportValue;at.domElement&&(at.domElement.checked=Ze),se.setValue(at.id,{value:Ze})}se.setValue(ye,{value:ot})}),_e.addEventListener("resetform",$e=>{const rt=he.defaultFieldValue||"Off";$e.target.checked=rt===he.exportValue}),this.enableScripting&&this.hasJSActions&&(_e.addEventListener("updatefromsandbox",$e=>{const rt={value(ot){ot.target.checked=ot.detail.value!=="Off",se.setValue(ye,{value:ot.target.checked})}};this._dispatchEventFromSandbox(rt,$e)}),this._setEventListeners(_e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$e=>$e.target.checked)),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class W extends U{constructor(se){super(se,{isRenderable:se.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const se=this.annotationStorage,he=this.data,ye=he.id;let ke=se.getValue(ye,{value:he.fieldValue===he.buttonValue}).value;typeof ke=="string"&&(ke=ke!==he.buttonValue,se.setValue(ye,{value:ke}));const _e=document.createElement("input");if(ne.add(_e),_e.setAttribute("data-element-id",ye),_e.disabled=he.readOnly,this._setRequired(_e,this.data.required),_e.type="radio",_e.name=he.fieldName,ke&&_e.setAttribute("checked",!0),_e.tabIndex=pe,_e.addEventListener("change",$e=>{const{name:rt,checked:ot}=$e.target;for(const at of this._getElementsByName(rt,ye))se.setValue(at.id,{value:!1});se.setValue(ye,{value:ot})}),_e.addEventListener("resetform",$e=>{const rt=he.defaultFieldValue;$e.target.checked=rt!=null&&rt===he.buttonValue}),this.enableScripting&&this.hasJSActions){const $e=he.buttonValue;_e.addEventListener("updatefromsandbox",rt=>{const ot={value:at=>{const Ze=$e===at.detail.value;for(const ft of this._getElementsByName(at.target.name)){const dt=Ze&&ft.id===ye;ft.domElement&&(ft.domElement.checked=dt),se.setValue(ft.id,{value:dt})}}};this._dispatchEventFromSandbox(ot,rt)}),this._setEventListeners(_e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rt=>rt.target.checked)}return this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class q extends te{constructor(se){super(se,{ignoreBorder:se.data.hasAppearance})}render(){const se=super.render();se.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(se.title=this.data.alternativeText);const he=se.lastChild;return this.enableScripting&&this.hasJSActions&&he&&(this._setDefaultPropertiesFromJS(he),he.addEventListener("updatefromsandbox",ye=>{this._dispatchEventFromSandbox({},ye)})),se}}class H extends U{constructor(se){super(se,{isRenderable:se.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const se=this.annotationStorage,he=this.data.id,ye=se.getValue(he,{value:this.data.fieldValue}),ke=document.createElement("select");ne.add(ke),ke.setAttribute("data-element-id",he),ke.disabled=this.data.readOnly,this._setRequired(ke,this.data.required),ke.name=this.data.fieldName,ke.tabIndex=pe;let _e=this.data.combo&&this.data.options.length>0;this.data.combo||(ke.size=this.data.options.length,this.data.multiSelect&&(ke.multiple=!0)),ke.addEventListener("resetform",Ze=>{const ft=this.data.defaultFieldValue;for(const dt of ke.options)dt.selected=dt.value===ft});for(const Ze of this.data.options){const ft=document.createElement("option");ft.textContent=Ze.displayValue,ft.value=Ze.exportValue,ye.value.includes(Ze.exportValue)&&(ft.setAttribute("selected",!0),_e=!1),ke.append(ft)}let $e=null;if(_e){const Ze=document.createElement("option");Ze.value=" ",Ze.setAttribute("hidden",!0),Ze.setAttribute("selected",!0),ke.prepend(Ze),$e=()=>{Ze.remove(),ke.removeEventListener("input",$e),$e=null},ke.addEventListener("input",$e)}const rt=Ze=>{const ft=Ze?"value":"textContent",{options:dt,multiple:_t}=ke;return _t?Array.prototype.filter.call(dt,St=>St.selected).map(St=>St[ft]):dt.selectedIndex===-1?null:dt[dt.selectedIndex][ft]};let ot=rt(!1);const at=Ze=>{const ft=Ze.target.options;return Array.prototype.map.call(ft,dt=>({displayValue:dt.textContent,exportValue:dt.value}))};return this.enableScripting&&this.hasJSActions?(ke.addEventListener("updatefromsandbox",Ze=>{const ft={value(dt){$e==null||$e();const _t=dt.detail.value,St=new Set(Array.isArray(_t)?_t:[_t]);for(const It of ke.options)It.selected=St.has(It.value);se.setValue(he,{value:rt(!0)}),ot=rt(!1)},multipleSelection(dt){ke.multiple=!0},remove(dt){const _t=ke.options,St=dt.detail.remove;_t[St].selected=!1,ke.remove(St),_t.length>0&&Array.prototype.findIndex.call(_t,Vt=>Vt.selected)===-1&&(_t[0].selected=!0),se.setValue(he,{value:rt(!0),items:at(dt)}),ot=rt(!1)},clear(dt){for(;ke.length!==0;)ke.remove(0);se.setValue(he,{value:null,items:[]}),ot=rt(!1)},insert(dt){const{index:_t,displayValue:St,exportValue:It}=dt.detail.insert,Vt=ke.children[_t],jt=document.createElement("option");jt.textContent=St,jt.value=It,Vt?Vt.before(jt):ke.append(jt),se.setValue(he,{value:rt(!0),items:at(dt)}),ot=rt(!1)},items(dt){const{items:_t}=dt.detail;for(;ke.length!==0;)ke.remove(0);for(const St of _t){const{displayValue:It,exportValue:Vt}=St,jt=document.createElement("option");jt.textContent=It,jt.value=Vt,ke.append(jt)}ke.options.length>0&&(ke.options[0].selected=!0),se.setValue(he,{value:rt(!0),items:at(dt)}),ot=rt(!1)},indices(dt){const _t=new Set(dt.detail.indices);for(const St of dt.target.options)St.selected=_t.has(St.index);se.setValue(he,{value:rt(!0)}),ot=rt(!1)},editable(dt){dt.target.disabled=!dt.detail.editable}};this._dispatchEventFromSandbox(ft,Ze)}),ke.addEventListener("input",Ze=>{var dt;const ft=rt(!0);se.setValue(he,{value:ft}),Ze.preventDefault(),(dt=this.linkService.eventBus)==null||dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:ot,changeEx:ft,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ke,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ze=>Ze.target.value)):ke.addEventListener("input",function(Ze){se.setValue(he,{value:rt(!0)})}),this.data.combo&&this._setTextStyle(ke),this._setBackgroundColor(ke),this._setDefaultPropertiesFromJS(ke),this.container.append(ke),this.container}}const Te=class Te extends ee{constructor(se){var ke,_e,$e;const{data:he}=se,ye=!Te.IGNORE_TYPES.has(he.parentType)&&!!((ke=he.titleObj)!=null&&ke.str||(_e=he.contentsObj)!=null&&_e.str||($e=he.richText)!=null&&$e.str);super(se,{isRenderable:ye})}render(){this.container.className="popupAnnotation";const se=this.layer.querySelectorAll('[data-annotation-id="'.concat(this.data.parentId,'"]'));if(se.length===0)return this.container;const he=new ue({container:this.container,trigger:Array.from(se),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ye=this.page,ke=B.Util.normalizeRect([this.data.parentRect[0],ye.view[3]-this.data.parentRect[1]+ye.view[1],this.data.parentRect[2],ye.view[3]-this.data.parentRect[3]+ye.view[1]]),_e=ke[0]+this.data.parentRect[2]-this.data.parentRect[0],$e=ke[1],{pageWidth:rt,pageHeight:ot,pageX:at,pageY:Ze}=this.viewport.rawDims;return this.container.style.left="".concat(100*(_e-at)/rt,"%"),this.container.style.top="".concat(100*($e-Ze)/ot,"%"),this.container.append(he.render()),this.container}};Cn(Te,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let X=Te;class ue{constructor(se){this.container=se.container,this.trigger=se.trigger,this.color=se.color,this.titleObj=se.titleObj,this.modificationDate=se.modificationDate,this.contentsObj=se.contentsObj,this.richText=se.richText,this.hideWrapper=se.hideWrapper||!1,this.pinned=!1}render(){var rt,ot;const he=document.createElement("div");he.className="popupWrapper",this.hideElement=this.hideWrapper?he:this.container,this.hideElement.hidden=!0;const ye=document.createElement("div");ye.className="popup";const ke=this.color;if(ke){const at=.7*(255-ke[0])+ke[0],Ze=.7*(255-ke[1])+ke[1],ft=.7*(255-ke[2])+ke[2];ye.style.backgroundColor=B.Util.makeHexColor(at|0,Ze|0,ft|0)}const _e=document.createElement("h1");_e.dir=this.titleObj.dir,_e.textContent=this.titleObj.str,ye.append(_e);const $e=O.PDFDateString.toDateObject(this.modificationDate);if($e){const at=document.createElement("span");at.className="popupDate",at.textContent="{{date}}, {{time}}",at.dataset.l10nId="annotation_date_string",at.dataset.l10nArgs=JSON.stringify({date:$e.toLocaleDateString(),time:$e.toLocaleTimeString()}),ye.append(at)}if((rt=this.richText)!=null&&rt.str&&(!((ot=this.contentsObj)!=null&&ot.str)||this.contentsObj.str===this.richText.str))de.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ye}),ye.lastChild.className="richText popupContent";else{const at=this._formatContents(this.contentsObj);ye.append(at)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const at of this.trigger)at.addEventListener("click",this._toggle.bind(this)),at.addEventListener("mouseover",this._show.bind(this,!1)),at.addEventListener("mouseout",this._hide.bind(this,!1));return ye.addEventListener("click",this._hide.bind(this,!0)),he.append(ye),he}_formatContents({str:se,dir:he}){const ye=document.createElement("p");ye.className="popupContent",ye.dir=he;const ke=se.split(/(?:\r\n?|\n)/);for(let _e=0,$e=ke.length;_e<$e;++_e){const rt=ke[_e];ye.append(document.createTextNode(rt)),_e<$e-1&&ye.append(document.createElement("br"))}return ye}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(se=!1){se&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(se=!0){se&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ge extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0}),this.textContent=se.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const se=document.createElement("div");se.className="annotationTextContent",se.setAttribute("role","comment");for(const he of this.textContent){const ye=document.createElement("span");ye.textContent=he,se.append(ye)}this.container.append(se)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ee extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0),_e=this.svgFactory.createElement("svg:line");return _e.setAttribute("x1",se.rect[2]-se.lineCoordinates[0]),_e.setAttribute("y1",se.rect[3]-se.lineCoordinates[1]),_e.setAttribute("x2",se.rect[2]-se.lineCoordinates[2]),_e.setAttribute("y2",se.rect[3]-se.lineCoordinates[3]),_e.setAttribute("stroke-width",se.borderStyle.width||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),ke.append(_e),this.container.append(ke),this._createPopup(_e,se),this.container}}class Se extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0),_e=se.borderStyle.width,$e=this.svgFactory.createElement("svg:rect");return $e.setAttribute("x",_e/2),$e.setAttribute("y",_e/2),$e.setAttribute("width",he-_e),$e.setAttribute("height",ye-_e),$e.setAttribute("stroke-width",_e||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","transparent"),ke.append($e),this.container.append(ke),this._createPopup($e,se),this.container}}class ce extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0),_e=se.borderStyle.width,$e=this.svgFactory.createElement("svg:ellipse");return $e.setAttribute("cx",he/2),$e.setAttribute("cy",ye/2),$e.setAttribute("rx",he/2-_e/2),$e.setAttribute("ry",ye/2-_e/2),$e.setAttribute("stroke-width",_e||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","transparent"),ke.append($e),this.container.append(ke),this._createPopup($e,se),this.container}}class xe extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0);let _e=[];for(const rt of se.vertices){const ot=rt.x-se.rect[0],at=se.rect[3]-rt.y;_e.push(ot+","+at)}_e=_e.join(" ");const $e=this.svgFactory.createElement(this.svgElementName);return $e.setAttribute("points",_e),$e.setAttribute("stroke-width",se.borderStyle.width||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","transparent"),ke.append($e),this.container.append(ke),this._createPopup($e,se),this.container}}class et extends xe{constructor(se){super(se),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ze extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class He extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0);for(const _e of se.inkLists){let $e=[];for(const ot of _e){const at=ot.x-se.rect[0],Ze=se.rect[3]-ot.y;$e.push("".concat(at,",").concat(Ze))}$e=$e.join(" ");const rt=this.svgFactory.createElement(this.svgElementName);rt.setAttribute("points",$e),rt.setAttribute("stroke-width",se.borderStyle.width||1),rt.setAttribute("stroke","transparent"),rt.setAttribute("fill","transparent"),this._createPopup(rt,se),ke.append(rt)}return this.container.append(ke),this.container}}class je extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Oe extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Le extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Je extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class tt extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ae extends ee{constructor(se){var ke;super(se,{isRenderable:!0});const{filename:he,content:ye}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(he,!0),this.content=ye,(ke=this.linkService.eventBus)==null||ke.dispatch("fileattachmentannotation",{source:this,filename:he,content:ye})}render(){var he,ye;this.container.className="fileAttachmentAnnotation";let se;return this.data.hasAppearance?se=document.createElement("div"):(se=document.createElement("img"),se.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(this.data.name)?"paperclip":"pushpin",".svg")),se.className="popupTriggerArea",se.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((he=this.data.titleObj)!=null&&he.str||(ye=this.data.contentsObj)!=null&&ye.str||this.data.richText)&&this._createPopup(se,this.data),this.container.append(se),this.container}_download(){var se;(se=this.downloadManager)==null||se.openOrDownloadData(this.container,this.content,this.filename)}}const nt=class nt{static render(se){var ot,at;const{annotations:he,div:ye,viewport:ke,accessibilityManager:_e}=se;(0,O.setLayerDimensions)(ye,ke);const $e={data:null,layer:ye,page:se.page,viewport:ke,linkService:se.linkService,downloadManager:se.downloadManager,imageResourcesPath:se.imageResourcesPath||"",renderForms:se.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:se.annotationStorage||new R.AnnotationStorage,enableScripting:se.enableScripting===!0,hasJSActions:se.hasJSActions,fieldObjects:se.fieldObjects};let rt=0;for(const Ze of he){if(Ze.annotationType!==B.AnnotationType.POPUP){const{width:_t,height:St}=be(Ze.rect);if(_t<=0||St<=0)continue}$e.data=Ze;const ft=ae.create($e);if(!ft.isRenderable)continue;const dt=ft.render();if(Ze.hidden&&(dt.style.visibility="hidden"),Array.isArray(dt))for(const _t of dt)_t.style.zIndex=rt++,ht(ot=nt,De,si).call(ot,_t,Ze.id,ye,_e);else dt.style.zIndex=rt++,ft instanceof X?ye.prepend(dt):ht(at=nt,De,si).call(at,dt,Ze.id,ye,_e)}ht(this,it,ci).call(this,ye,se.annotationCanvasMap)}static update(se){const{annotationCanvasMap:he,div:ye,viewport:ke}=se;(0,O.setLayerDimensions)(ye,{rotation:ke.rotation}),ht(this,it,ci).call(this,ye,he),ye.hidden=!1}};De=new WeakSet,si=function(se,he,ye,ke){const _e=se.firstChild||se;_e.id="".concat(O.AnnotationPrefix).concat(he),ye.append(se),ke==null||ke.moveElementInDOM(ye,se,_e,!1)},it=new WeakSet,ci=function(se,he){if(he){for(const[ye,ke]of he){const _e=se.querySelector('[data-annotation-id="'.concat(ye,'"]'));if(!_e)continue;const{firstChild:$e}=_e;$e?$e.nodeName==="CANVAS"?$e.replaceWith(ke):$e.before(ke):_e.append(ke)}he.clear()}},st(nt,De),st(nt,it);let le=nt;$.AnnotationLayer=le},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function V(O){return Math.floor(Math.max(0,Math.min(1,O))*255).toString(16).padStart(2,"0")}class B{static CMYK_G([R,re,de,pe]){return["G",1-Math.min(1,.3*R+.59*de+.11*re+pe)]}static G_CMYK([R]){return["CMYK",0,0,0,1-R]}static G_RGB([R]){return["RGB",R,R,R]}static G_HTML([R]){const re=V(R);return"#".concat(re).concat(re).concat(re)}static RGB_G([R,re,de]){return["G",.3*R+.59*re+.11*de]}static RGB_HTML([R,re,de]){const pe=V(R),oe=V(re),ne=V(de);return"#".concat(pe).concat(oe).concat(ne)}static T_HTML(){return"#00000000"}static CMYK_RGB([R,re,de,pe]){return["RGB",1-Math.min(1,R+pe),1-Math.min(1,de+pe),1-Math.min(1,re+pe)]}static CMYK_HTML(R){const re=this.CMYK_RGB(R).slice(1);return this.RGB_HTML(re)}static RGB_CMYK([R,re,de]){const pe=1-R,oe=1-re,ne=1-de,be=Math.min(pe,oe,ne);return["CMYK",pe,oe,ne,be]}}$.ColorConverters=B},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var B=V(19);class O{static setupStorage(re,de,pe,oe,ne){const be=oe.getValue(de,{value:null});switch(pe.name){case"textarea":if(be.value!==null&&(re.textContent=be.value),ne==="print")break;re.addEventListener("input",ae=>{oe.setValue(de,{value:ae.target.value})});break;case"input":if(pe.attributes.type==="radio"||pe.attributes.type==="checkbox"){if(be.value===pe.attributes.xfaOn?re.setAttribute("checked",!0):be.value===pe.attributes.xfaOff&&re.removeAttribute("checked"),ne==="print")break;re.addEventListener("change",ae=>{oe.setValue(de,{value:ae.target.checked?ae.target.getAttribute("xfaOn"):ae.target.getAttribute("xfaOff")})})}else{if(be.value!==null&&re.setAttribute("value",be.value),ne==="print")break;re.addEventListener("input",ae=>{oe.setValue(de,{value:ae.target.value})})}break;case"select":if(be.value!==null)for(const ae of pe.children)ae.attributes.value===be.value&&(ae.attributes.selected=!0);re.addEventListener("input",ae=>{const ee=ae.target.options,te=ee.selectedIndex===-1?"":ee[ee.selectedIndex].value;oe.setValue(de,{value:te})});break}}static setAttributes({html:re,element:de,storage:pe=null,intent:oe,linkService:ne}){const{attributes:be}=de,ae=re instanceof HTMLAnchorElement;be.type==="radio"&&(be.name="".concat(be.name,"-").concat(oe));for(const[ee,te]of Object.entries(be))if(te!=null)switch(ee){case"class":te.length&&re.setAttribute(ee,te.join(" "));break;case"dataId":break;case"id":re.setAttribute("data-element-id",te);break;case"style":Object.assign(re.style,te);break;case"textContent":re.textContent=te;break;default:(!ae||ee!=="href"&&ee!=="newWindow")&&re.setAttribute(ee,te)}ae&&ne.addLinkAttributes(re,be.href,be.newWindow),pe&&be.dataId&&this.setupStorage(re,be.dataId,de,pe)}static render(re){var G;const de=re.annotationStorage,pe=re.linkService,oe=re.xfaHtml,ne=re.intent||"display",be=document.createElement(oe.name);oe.attributes&&this.setAttributes({html:be,element:oe,intent:ne,linkService:pe});const ae=[[oe,-1,be]],ee=re.div;if(ee.append(be),re.viewport){const U="matrix(".concat(re.viewport.transform.join(","),")");ee.style.transform=U}ne!=="richText"&&ee.setAttribute("class","xfaLayer xfaFont");const te=[];for(;ae.length>0;){const[U,J,K]=ae.at(-1);if(J+1===U.children.length){ae.pop();continue}const W=U.children[++ae.at(-1)[1]];if(W===null)continue;const{name:q}=W;if(q==="#text"){const X=document.createTextNode(W.value);te.push(X),K.append(X);continue}let H;if((G=W==null?void 0:W.attributes)!=null&&G.xmlns?H=document.createElementNS(W.attributes.xmlns,q):H=document.createElement(q),K.append(H),W.attributes&&this.setAttributes({html:H,element:W,storage:de,intent:ne,linkService:pe}),W.children&&W.children.length>0)ae.push([W,-1,H]);else if(W.value){const X=document.createTextNode(W.value);B.XfaText.shouldBuildText(q)&&te.push(X),H.append(X)}}for(const U of ee.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:te}}static update(re){const de="matrix(".concat(re.viewport.transform.join(","),")");re.div.style.transform=de,re.div.hidden=!1}}$.XfaLayer=O},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var B=V(6),O=V(1),R=V(10);let re=class{constructor(){(0,O.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=re;{let G=function(H){let X=[];const ue=[];for(const ge of H){if(ge.fn==="save"){X.push({fnId:92,fn:"group",items:[]}),ue.push(X),X=X.at(-1).items;continue}ge.fn==="restore"?X=ue.pop():X.push(ge)}return X},U=function(H){if(Number.isInteger(H))return H.toString();const X=H.toFixed(10);let ue=X.length-1;if(X[ue]!=="0")return X;do ue--;while(X[ue]==="0");return X.substring(0,X[ue]==="."?ue:ue+1)},J=function(H){if(H[4]===0&&H[5]===0){if(H[1]===0&&H[2]===0)return H[0]===1&&H[3]===1?"":"scale(".concat(U(H[0])," ").concat(U(H[3]),")");if(H[0]===H[3]&&H[1]===-H[2]){const X=Math.acos(H[0])*180/Math.PI;return"rotate(".concat(U(X),")")}}else if(H[0]===1&&H[1]===0&&H[2]===0&&H[3]===1)return"translate(".concat(U(H[4])," ").concat(U(H[5]),")");return"matrix(".concat(U(H[0])," ").concat(U(H[1])," ").concat(U(H[2])," ").concat(U(H[3])," ").concat(U(H[4])," ")+"".concat(U(H[5]),")")};const de={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},pe="http://www.w3.org/XML/1998/namespace",oe="http://www.w3.org/1999/xlink",ne=["butt","round","square"],be=["miter","round","bevel"],ae=function(H,X="",ue=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([H],{type:X}));const ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ee="data:".concat(X,";base64,");for(let Se=0,ce=H.length;Se<ce;Se+=3){const xe=H[Se]&255,et=H[Se+1]&255,ze=H[Se+2]&255,He=xe>>2,je=(xe&3)<<4|et>>4,Oe=Se+1<ce?(et&15)<<2|ze>>6:64,Le=Se+2<ce?ze&63:64;Ee+=ge[He]+ge[je]+ge[Oe]+ge[Le]}return Ee},ee=function(){const H=new Uint8Array([137,80,78,71,13,10,26,10]),X=12,ue=new Int32Array(256);for(let ze=0;ze<256;ze++){let He=ze;for(let je=0;je<8;je++)He&1?He=3988292384^He>>1&2147483647:He=He>>1&2147483647;ue[ze]=He}function ge(ze,He,je){let Oe=-1;for(let Le=He;Le<je;Le++){const Je=(Oe^ze[Le])&255,tt=ue[Je];Oe=Oe>>>8^tt}return Oe^-1}function Ee(ze,He,je,Oe){let Le=Oe;const Je=He.length;je[Le]=Je>>24&255,je[Le+1]=Je>>16&255,je[Le+2]=Je>>8&255,je[Le+3]=Je&255,Le+=4,je[Le]=ze.charCodeAt(0)&255,je[Le+1]=ze.charCodeAt(1)&255,je[Le+2]=ze.charCodeAt(2)&255,je[Le+3]=ze.charCodeAt(3)&255,Le+=4,je.set(He,Le),Le+=He.length;const tt=ge(je,Oe+4,Le);je[Le]=tt>>24&255,je[Le+1]=tt>>16&255,je[Le+2]=tt>>8&255,je[Le+3]=tt&255}function Se(ze,He,je){let Oe=1,Le=0;for(let Je=He;Je<je;++Je)Oe=(Oe+(ze[Je]&255))%65521,Le=(Le+Oe)%65521;return Le<<16|Oe}function ce(ze){if(!R.isNodeJS)return xe(ze);try{let He;parseInt(process.versions.node)>=8?He=ze:He=Buffer.from(ze);const je=require$$5.deflateSync(He,{level:9});return je instanceof Uint8Array?je:new Uint8Array(je)}catch(He){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+He)}return xe(ze)}function xe(ze){let He=ze.length;const je=65535,Oe=Math.ceil(He/je),Le=new Uint8Array(2+He+Oe*5+4);let Je=0;Le[Je++]=120,Le[Je++]=156;let tt=0;for(;He>je;)Le[Je++]=0,Le[Je++]=255,Le[Je++]=255,Le[Je++]=0,Le[Je++]=0,Le.set(ze.subarray(tt,tt+je),Je),Je+=je,tt+=je,He-=je;Le[Je++]=1,Le[Je++]=He&255,Le[Je++]=He>>8&255,Le[Je++]=~He&65535&255,Le[Je++]=(~He&65535)>>8&255,Le.set(ze.subarray(tt),Je),Je+=ze.length-tt;const Ae=Se(ze,0,ze.length);return Le[Je++]=Ae>>24&255,Le[Je++]=Ae>>16&255,Le[Je++]=Ae>>8&255,Le[Je++]=Ae&255,Le}function et(ze,He,je,Oe){const Le=ze.width,Je=ze.height;let tt,Ae,le;const ie=ze.data;switch(He){case O.ImageKind.GRAYSCALE_1BPP:Ae=0,tt=1,le=Le+7>>3;break;case O.ImageKind.RGB_24BPP:Ae=2,tt=8,le=Le*3;break;case O.ImageKind.RGBA_32BPP:Ae=6,tt=8,le=Le*4;break;default:throw new Error("invalid format")}const me=new Uint8Array((1+le)*Je);let Ce=0,we=0;for(let nt=0;nt<Je;++nt)me[Ce++]=0,me.set(ie.subarray(we,we+le),Ce),we+=le,Ce+=le;if(He===O.ImageKind.GRAYSCALE_1BPP&&Oe){Ce=0;for(let nt=0;nt<Je;nt++){Ce++;for(let Ye=0;Ye<le;Ye++)me[Ce++]^=255}}const Te=new Uint8Array([Le>>24&255,Le>>16&255,Le>>8&255,Le&255,Je>>24&255,Je>>16&255,Je>>8&255,Je&255,tt,Ae,0,0,0]),De=ce(me),Ge=H.length+X*3+Te.length+De.length,it=new Uint8Array(Ge);let Qe=0;return it.set(H,Qe),Qe+=H.length,Ee("IHDR",Te,it,Qe),Qe+=X+Te.length,Ee("IDATA",De,it,Qe),Qe+=X+De.length,Ee("IEND",new Uint8Array(0),it,Qe),ae(it,"image/png",je)}return function(He,je,Oe){const Le=He.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:He.kind;return et(He,Le,je,Oe)}}();class te{constructor(){this.fontSizeScale=1,this.fontWeight=de.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=de.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(X,ue){this.x=X,this.y=ue}}let K=0,W=0,q=0;$.SVGGraphics=re=class{constructor(H,X,ue=!1){(0,B.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new B.DOMSVGFactory,this.current=new te,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=H,this.objs=X,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ue,this._operatorIdMapping=[];for(const ge in O.OPS)this._operatorIdMapping[O.OPS[ge]]=ge}getObject(H,X=null){return typeof H=="string"?H.startsWith("g_")?this.commonObjs.get(H):this.objs.get(H):X}save(){this.transformStack.push(this.transformMatrix);const H=this.current;this.extraStack.push(H),this.current=H.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(H){this.save(),this.executeOpTree(H),this.restore()}loadDependencies(H){const X=H.fnArray,ue=H.argsArray;for(let ge=0,Ee=X.length;ge<Ee;ge++)if(X[ge]===O.OPS.dependency)for(const Se of ue[ge]){const ce=Se.startsWith("g_")?this.commonObjs:this.objs,xe=new Promise(et=>{ce.get(Se,et)});this.current.dependencies.push(xe)}return Promise.all(this.current.dependencies)}transform(H,X,ue,ge,Ee,Se){const ce=[H,X,ue,ge,Ee,Se];this.transformMatrix=O.Util.transform(this.transformMatrix,ce),this.tgrp=null}getSVG(H,X){this.viewport=X;const ue=this._initialize(X);return this.loadDependencies(H).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(H)),ue))}convertOpList(H){const X=this._operatorIdMapping,ue=H.argsArray,ge=H.fnArray,Ee=[];for(let Se=0,ce=ge.length;Se<ce;Se++){const xe=ge[Se];Ee.push({fnId:xe,fn:X[xe],args:ue[Se]})}return G(Ee)}executeOpTree(H){for(const X of H){const ue=X.fn,ge=X.fnId,Ee=X.args;switch(ge|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(Ee);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(Ee[0],Ee[1]);break;case O.OPS.setFont:this.setFont(Ee);break;case O.OPS.showText:this.showText(Ee[0]);break;case O.OPS.showSpacedText:this.showText(Ee[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(Ee[0],Ee[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(Ee[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(Ee[0]);break;case O.OPS.setHScale:this.setHScale(Ee[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]);break;case O.OPS.setTextRise:this.setTextRise(Ee[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(Ee[0]);break;case O.OPS.setLineWidth:this.setLineWidth(Ee[0]);break;case O.OPS.setLineJoin:this.setLineJoin(Ee[0]);break;case O.OPS.setLineCap:this.setLineCap(Ee[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(Ee[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(Ee[0],Ee[1],Ee[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ee[0],Ee[1],Ee[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(Ee);break;case O.OPS.setFillColorN:this.setFillColorN(Ee);break;case O.OPS.shadingFill:this.shadingFill(Ee[0]);break;case O.OPS.setDash:this.setDash(Ee[0],Ee[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(Ee[0]);break;case O.OPS.setFlatness:this.setFlatness(Ee[0]);break;case O.OPS.setGState:this.setGState(Ee[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(Ee[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ee[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ee[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ee[0],Ee[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]);break;case O.OPS.constructPath:this.constructPath(Ee[0],Ee[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(X.items);break;default:(0,O.warn)("Unimplemented operator ".concat(ue));break}}}setWordSpacing(H){this.current.wordSpacing=H}setCharSpacing(H){this.current.charSpacing=H}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(H,X,ue,ge,Ee,Se){const ce=this.current;ce.textMatrix=ce.lineMatrix=[H,X,ue,ge,Ee,Se],ce.textMatrixScale=Math.hypot(H,X),ce.x=ce.lineX=0,ce.y=ce.lineY=0,ce.xcoords=[],ce.ycoords=[],ce.tspan=this.svgFactory.createElement("svg:tspan"),ce.tspan.setAttributeNS(null,"font-family",ce.fontFamily),ce.tspan.setAttributeNS(null,"font-size","".concat(U(ce.fontSize),"px")),ce.tspan.setAttributeNS(null,"y",U(-ce.y)),ce.txtElement=this.svgFactory.createElement("svg:text"),ce.txtElement.append(ce.tspan)}beginText(){const H=this.current;H.x=H.lineX=0,H.y=H.lineY=0,H.textMatrix=O.IDENTITY_MATRIX,H.lineMatrix=O.IDENTITY_MATRIX,H.textMatrixScale=1,H.tspan=this.svgFactory.createElement("svg:tspan"),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtgrp=this.svgFactory.createElement("svg:g"),H.xcoords=[],H.ycoords=[]}moveText(H,X){const ue=this.current;ue.x=ue.lineX+=H,ue.y=ue.lineY+=X,ue.xcoords=[],ue.ycoords=[],ue.tspan=this.svgFactory.createElement("svg:tspan"),ue.tspan.setAttributeNS(null,"font-family",ue.fontFamily),ue.tspan.setAttributeNS(null,"font-size","".concat(U(ue.fontSize),"px")),ue.tspan.setAttributeNS(null,"y",U(-ue.y))}showText(H){const X=this.current,ue=X.font,ge=X.fontSize;if(ge===0)return;const Ee=X.fontSizeScale,Se=X.charSpacing,ce=X.wordSpacing,xe=X.fontDirection,et=X.textHScale*xe,ze=ue.vertical,He=ze?1:-1,je=ue.defaultVMetrics,Oe=ge*X.fontMatrix[0];let Le=0;for(const Ae of H){if(Ae===null){Le+=xe*ce;continue}else if(typeof Ae=="number"){Le+=He*Ae*ge/1e3;continue}const le=(Ae.isSpace?ce:0)+Se,ie=Ae.fontChar;let me,Ce,we=Ae.width;if(ze){let De;const Ge=Ae.vmetric||je;De=Ae.vmetric?Ge[1]:we*.5,De=-De*Oe;const it=Ge[2]*Oe;we=Ge?-Ge[0]:we,me=De/Ee,Ce=(Le+it)/Ee}else me=Le/Ee,Ce=0;(Ae.isInFont||ue.missingFile)&&(X.xcoords.push(X.x+me),ze&&X.ycoords.push(-X.y+Ce),X.tspan.textContent+=ie);let Te;ze?Te=we*Oe-le*xe:Te=we*Oe+le*xe,Le+=Te}X.tspan.setAttributeNS(null,"x",X.xcoords.map(U).join(" ")),ze?X.tspan.setAttributeNS(null,"y",X.ycoords.map(U).join(" ")):X.tspan.setAttributeNS(null,"y",U(-X.y)),ze?X.y-=Le:X.x+=Le*et,X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size","".concat(U(X.fontSize),"px")),X.fontStyle!==de.fontStyle&&X.tspan.setAttributeNS(null,"font-style",X.fontStyle),X.fontWeight!==de.fontWeight&&X.tspan.setAttributeNS(null,"font-weight",X.fontWeight);const Je=X.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(Je===O.TextRenderingMode.FILL||Je===O.TextRenderingMode.FILL_STROKE?(X.fillColor!==de.fillColor&&X.tspan.setAttributeNS(null,"fill",X.fillColor),X.fillAlpha<1&&X.tspan.setAttributeNS(null,"fill-opacity",X.fillAlpha)):X.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?X.tspan.setAttributeNS(null,"fill","transparent"):X.tspan.setAttributeNS(null,"fill","none"),Je===O.TextRenderingMode.STROKE||Je===O.TextRenderingMode.FILL_STROKE){const Ae=1/(X.textMatrixScale||1);this._setStrokeAttributes(X.tspan,Ae)}let tt=X.textMatrix;X.textRise!==0&&(tt=tt.slice(),tt[5]+=X.textRise),X.txtElement.setAttributeNS(null,"transform","".concat(J(tt)," scale(").concat(U(et),", -1)")),X.txtElement.setAttributeNS(pe,"xml:space","preserve"),X.txtElement.append(X.tspan),X.txtgrp.append(X.txtElement),this._ensureTransformGroup().append(X.txtElement)}setLeadingMoveText(H,X){this.setLeading(-X),this.moveText(H,X)}addFontStyle(H){if(!H.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const X=ae(H.data,H.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(H.loadedName,'";')+" src: url(".concat(X,"); }\n")}setFont(H){const X=this.current,ue=this.commonObjs.get(H[0]);let ge=H[1];X.font=ue,this.embedFonts&&!ue.missingFile&&!this.embeddedFonts[ue.loadedName]&&(this.addFontStyle(ue),this.embeddedFonts[ue.loadedName]=ue),X.fontMatrix=ue.fontMatrix||O.FONT_IDENTITY_MATRIX;let Ee="normal";ue.black?Ee="900":ue.bold&&(Ee="bold");const Se=ue.italic?"italic":"normal";ge<0?(ge=-ge,X.fontDirection=-1):X.fontDirection=1,X.fontSize=ge,X.fontFamily=ue.loadedName,X.fontWeight=Ee,X.fontStyle=Se,X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"y",U(-X.y)),X.xcoords=[],X.ycoords=[]}endText(){var X;const H=this.current;H.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((X=H.txtElement)!=null&&X.hasChildNodes())&&(H.element=H.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(H){H>0&&(this.current.lineWidth=H)}setLineCap(H){this.current.lineCap=ne[H]}setLineJoin(H){this.current.lineJoin=be[H]}setMiterLimit(H){this.current.miterLimit=H}setStrokeAlpha(H){this.current.strokeAlpha=H}setStrokeRGBColor(H,X,ue){this.current.strokeColor=O.Util.makeHexColor(H,X,ue)}setFillAlpha(H){this.current.fillAlpha=H}setFillRGBColor(H,X,ue){this.current.fillColor=O.Util.makeHexColor(H,X,ue),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(H){this.current.strokeColor=this._makeColorN_Pattern(H)}setFillColorN(H){this.current.fillColor=this._makeColorN_Pattern(H)}shadingFill(H){const X=this.viewport.width,ue=this.viewport.height,ge=O.Util.inverseTransform(this.transformMatrix),Ee=O.Util.applyTransform([0,0],ge),Se=O.Util.applyTransform([0,ue],ge),ce=O.Util.applyTransform([X,0],ge),xe=O.Util.applyTransform([X,ue],ge),et=Math.min(Ee[0],Se[0],ce[0],xe[0]),ze=Math.min(Ee[1],Se[1],ce[1],xe[1]),He=Math.max(Ee[0],Se[0],ce[0],xe[0]),je=Math.max(Ee[1],Se[1],ce[1],xe[1]),Oe=this.svgFactory.createElement("svg:rect");Oe.setAttributeNS(null,"x",et),Oe.setAttributeNS(null,"y",ze),Oe.setAttributeNS(null,"width",He-et),Oe.setAttributeNS(null,"height",je-ze),Oe.setAttributeNS(null,"fill",this._makeShadingPattern(H)),this.current.fillAlpha<1&&Oe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Oe)}_makeColorN_Pattern(H){return H[0]==="TilingPattern"?this._makeTilingPattern(H):this._makeShadingPattern(H)}_makeTilingPattern(H){const X=H[1],ue=H[2],ge=H[3]||O.IDENTITY_MATRIX,[Ee,Se,ce,xe]=H[4],et=H[5],ze=H[6],He=H[7],je="shading".concat(q++),[Oe,Le,Je,tt]=O.Util.normalizeRect([...O.Util.applyTransform([Ee,Se],ge),...O.Util.applyTransform([ce,xe],ge)]),[Ae,le]=O.Util.singularValueDecompose2dScale(ge),ie=et*Ae,me=ze*le,Ce=this.svgFactory.createElement("svg:pattern");Ce.setAttributeNS(null,"id",je),Ce.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ce.setAttributeNS(null,"width",ie),Ce.setAttributeNS(null,"height",me),Ce.setAttributeNS(null,"x","".concat(Oe)),Ce.setAttributeNS(null,"y","".concat(Le));const we=this.svg,Te=this.transformMatrix,De=this.current.fillColor,Ge=this.current.strokeColor,it=this.svgFactory.create(Je-Oe,tt-Le);if(this.svg=it,this.transformMatrix=ge,He===2){const Qe=O.Util.makeHexColor(...X);this.current.fillColor=Qe,this.current.strokeColor=Qe}return this.executeOpTree(this.convertOpList(ue)),this.svg=we,this.transformMatrix=Te,this.current.fillColor=De,this.current.strokeColor=Ge,Ce.append(it.childNodes[0]),this.defs.append(Ce),"url(#".concat(je,")")}_makeShadingPattern(H){switch(typeof H=="string"&&(H=this.objs.get(H)),H[0]){case"RadialAxial":const X="shading".concat(q++),ue=H[3];let ge;switch(H[1]){case"axial":const Ee=H[4],Se=H[5];ge=this.svgFactory.createElement("svg:linearGradient"),ge.setAttributeNS(null,"id",X),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"x1",Ee[0]),ge.setAttributeNS(null,"y1",Ee[1]),ge.setAttributeNS(null,"x2",Se[0]),ge.setAttributeNS(null,"y2",Se[1]);break;case"radial":const ce=H[4],xe=H[5],et=H[6],ze=H[7];ge=this.svgFactory.createElement("svg:radialGradient"),ge.setAttributeNS(null,"id",X),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"cx",xe[0]),ge.setAttributeNS(null,"cy",xe[1]),ge.setAttributeNS(null,"r",ze),ge.setAttributeNS(null,"fx",ce[0]),ge.setAttributeNS(null,"fy",ce[1]),ge.setAttributeNS(null,"fr",et);break;default:throw new Error("Unknown RadialAxial type: ".concat(H[1]))}for(const Ee of ue){const Se=this.svgFactory.createElement("svg:stop");Se.setAttributeNS(null,"offset",Ee[0]),Se.setAttributeNS(null,"stop-color",Ee[1]),ge.append(Se)}return this.defs.append(ge),"url(#".concat(X,")");case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(H[0]))}}setDash(H,X){this.current.dashArray=H,this.current.dashPhase=X}constructPath(H,X){const ue=this.current;let ge=ue.x,Ee=ue.y,Se=[],ce=0;for(const xe of H)switch(xe|0){case O.OPS.rectangle:ge=X[ce++],Ee=X[ce++];const et=X[ce++],ze=X[ce++],He=ge+et,je=Ee+ze;Se.push("M",U(ge),U(Ee),"L",U(He),U(Ee),"L",U(He),U(je),"L",U(ge),U(je),"Z");break;case O.OPS.moveTo:ge=X[ce++],Ee=X[ce++],Se.push("M",U(ge),U(Ee));break;case O.OPS.lineTo:ge=X[ce++],Ee=X[ce++],Se.push("L",U(ge),U(Ee));break;case O.OPS.curveTo:ge=X[ce+4],Ee=X[ce+5],Se.push("C",U(X[ce]),U(X[ce+1]),U(X[ce+2]),U(X[ce+3]),U(ge),U(Ee)),ce+=6;break;case O.OPS.curveTo2:Se.push("C",U(ge),U(Ee),U(X[ce]),U(X[ce+1]),U(X[ce+2]),U(X[ce+3])),ge=X[ce+2],Ee=X[ce+3],ce+=4;break;case O.OPS.curveTo3:ge=X[ce+2],Ee=X[ce+3],Se.push("C",U(X[ce]),U(X[ce+1]),U(ge),U(Ee),U(ge),U(Ee)),ce+=4;break;case O.OPS.closePath:Se.push("Z");break}Se=Se.join(" "),ue.path&&H.length>0&&H[0]!==O.OPS.rectangle&&H[0]!==O.OPS.moveTo?Se=ue.path.getAttributeNS(null,"d")+Se:(ue.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ue.path)),ue.path.setAttributeNS(null,"d",Se),ue.path.setAttributeNS(null,"fill","none"),ue.element=ue.path,ue.setCurrentPoint(ge,Ee)}endPath(){const H=this.current;if(H.path=null,!this.pendingClip)return;if(!H.element){this.pendingClip=null;return}const X="clippath".concat(K++),ue=this.svgFactory.createElement("svg:clipPath");ue.setAttributeNS(null,"id",X),ue.setAttributeNS(null,"transform",J(this.transformMatrix));const ge=H.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ge.setAttributeNS(null,"clip-rule","evenodd"):ge.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ue.append(ge),this.defs.append(ue),H.activeClipUrl){H.clipGroup=null;for(const Ee of this.extraStack)Ee.clipGroup=null;ue.setAttributeNS(null,"clip-path",H.activeClipUrl)}H.activeClipUrl="url(#".concat(X,")"),this.tgrp=null}clip(H){this.pendingClip=H}closePath(){const H=this.current;if(H.path){const X="".concat(H.path.getAttributeNS(null,"d"),"Z");H.path.setAttributeNS(null,"d",X)}}setLeading(H){this.current.leading=-H}setTextRise(H){this.current.textRise=H}setTextRenderingMode(H){this.current.textRenderingMode=H}setHScale(H){this.current.textHScale=H/100}setRenderingIntent(H){}setFlatness(H){}setGState(H){for(const[X,ue]of H)switch(X){case"LW":this.setLineWidth(ue);break;case"LC":this.setLineCap(ue);break;case"LJ":this.setLineJoin(ue);break;case"ML":this.setMiterLimit(ue);break;case"D":this.setDash(ue[0],ue[1]);break;case"RI":this.setRenderingIntent(ue);break;case"FL":this.setFlatness(ue);break;case"Font":this.setFont(ue);break;case"CA":this.setStrokeAlpha(ue);break;case"ca":this.setFillAlpha(ue);break;default:(0,O.warn)("Unimplemented graphic state operator ".concat(X));break}}fill(){const H=this.current;H.element&&(H.element.setAttributeNS(null,"fill",H.fillColor),H.element.setAttributeNS(null,"fill-opacity",H.fillAlpha),this.endPath())}stroke(){const H=this.current;H.element&&(this._setStrokeAttributes(H.element),H.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(H,X=1){const ue=this.current;let ge=ue.dashArray;X!==1&&ge.length>0&&(ge=ge.map(function(Ee){return X*Ee})),H.setAttributeNS(null,"stroke",ue.strokeColor),H.setAttributeNS(null,"stroke-opacity",ue.strokeAlpha),H.setAttributeNS(null,"stroke-miterlimit",U(ue.miterLimit)),H.setAttributeNS(null,"stroke-linecap",ue.lineCap),H.setAttributeNS(null,"stroke-linejoin",ue.lineJoin),H.setAttributeNS(null,"stroke-width",U(X*ue.lineWidth)+"px"),H.setAttributeNS(null,"stroke-dasharray",ge.map(U).join(" ")),H.setAttributeNS(null,"stroke-dashoffset",U(X*ue.dashPhase)+"px")}eoFill(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width","1px"),H.setAttributeNS(null,"height","1px"),H.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(H)}paintImageXObject(H){const X=this.getObject(H);if(!X){(0,O.warn)("Dependent image with object ID ".concat(H," is not ready yet"));return}this.paintInlineImageXObject(X)}paintInlineImageXObject(H,X){const ue=H.width,ge=H.height,Ee=ee(H,this.forceDataSchema,!!X),Se=this.svgFactory.createElement("svg:rect");Se.setAttributeNS(null,"x","0"),Se.setAttributeNS(null,"y","0"),Se.setAttributeNS(null,"width",U(ue)),Se.setAttributeNS(null,"height",U(ge)),this.current.element=Se,this.clip("nonzero");const ce=this.svgFactory.createElement("svg:image");ce.setAttributeNS(oe,"xlink:href",Ee),ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y",U(-ge)),ce.setAttributeNS(null,"width",U(ue)+"px"),ce.setAttributeNS(null,"height",U(ge)+"px"),ce.setAttributeNS(null,"transform","scale(".concat(U(1/ue)," ").concat(U(-1/ge),")")),X?X.append(ce):this._ensureTransformGroup().append(ce)}paintImageMaskXObject(H){const X=this.getObject(H.data,H);if(X.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ue=this.current,ge=X.width,Ee=X.height,Se=ue.fillColor;ue.maskId="mask".concat(W++);const ce=this.svgFactory.createElement("svg:mask");ce.setAttributeNS(null,"id",ue.maskId);const xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y","0"),xe.setAttributeNS(null,"width",U(ge)),xe.setAttributeNS(null,"height",U(Ee)),xe.setAttributeNS(null,"fill",Se),xe.setAttributeNS(null,"mask","url(#".concat(ue.maskId,")")),this.defs.append(ce),this._ensureTransformGroup().append(xe),this.paintInlineImageXObject(X,ce)}paintFormXObjectBegin(H,X){if(Array.isArray(H)&&H.length===6&&this.transform(H[0],H[1],H[2],H[3],H[4],H[5]),X){const ue=X[2]-X[0],ge=X[3]-X[1],Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x",X[0]),Ee.setAttributeNS(null,"y",X[1]),Ee.setAttributeNS(null,"width",U(ue)),Ee.setAttributeNS(null,"height",U(ge)),this.current.element=Ee,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(H){const X=this.svgFactory.create(H.width,H.height),ue=this.svgFactory.createElement("svg:defs");X.append(ue),this.defs=ue;const ge=this.svgFactory.createElement("svg:g");return ge.setAttributeNS(null,"transform",J(H.transform)),X.append(ge),this.svg=ge,X}_ensureClipGroup(){if(!this.current.clipGroup){const H=this.svgFactory.createElement("svg:g");H.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(H),this.current.clipGroup=H}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",J(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var V=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](V,V.exports,__w_pdfjs_require__),V.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return R.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return re.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return de.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return pe.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return V.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return B.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return V.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return B.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return B.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return oe.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ne.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return V.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return V.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return B.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return B.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return B.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return B.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return B.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return B.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return B.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return V.version}});var $=__w_pdfjs_require__(1),V=__w_pdfjs_require__(2),B=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),R=__w_pdfjs_require__(27),re=__w_pdfjs_require__(5),de=__w_pdfjs_require__(32),pe=__w_pdfjs_require__(14),oe=__w_pdfjs_require__(35),ne=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,V=pdfExports;function B(Y){var fe=Object.create(null);return Y&&Object.keys(Y).forEach(function(Pe){if(Pe!=="default"){var Re=Object.getOwnPropertyDescriptor(Y,Pe);Object.defineProperty(fe,Pe,Re.get?Re:{enumerable:!0,get:function(){return Y[Pe]}})}}),fe.default=Y,Object.freeze(fe)}var O,R=B($),re=B(V);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var de=function(Y,fe){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pe,Re){Pe.__proto__=Re}||function(Pe,Re){for(var Ne in Re)Object.prototype.hasOwnProperty.call(Re,Ne)&&(Pe[Ne]=Re[Ne])},de(Y,fe)};function pe(Y,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function Pe(){this.constructor=Y}de(Y,fe),Y.prototype=fe===null?Object.create(fe):(Pe.prototype=fe.prototype,new Pe)}var oe,ne=function(){return ne=Object.assign||function(Y){for(var fe,Pe=1,Re=arguments.length;Pe<Re;Pe++)for(var Ne in fe=arguments[Pe])Object.prototype.hasOwnProperty.call(fe,Ne)&&(Y[Ne]=fe[Ne]);return Y},ne.apply(this,arguments)};A.TextDirection=void 0,(oe=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",oe.LeftToRight="LTR";var be,ae=R.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ee=function(Y){var fe=[];return Object.keys(Y).forEach(function(Pe){Pe&&Y[Pe]&&fe.push(Pe)}),fe.join(" ")},te=typeof window<"u"?R.useLayoutEffect:R.useEffect,G=function(Y){var fe=R.useRef(null),Pe=Y.once,Re=Y.threshold,Ne=Y.onVisibilityChanged;return te(function(){var Ve=fe.current;if(Ve){var Xe=new IntersectionObserver(function(Ue){Ue.forEach(function(Ie){var qe=Ie.isIntersecting,We=Ie.intersectionRatio;Ne({isVisible:qe,ratio:We}),qe&&Pe&&(Xe.unobserve(Ve),Xe.disconnect())})},{threshold:Re||0});return Xe.observe(Ve),function(){Xe.unobserve(Ve),Xe.disconnect()}}},[]),fe},U=function(Y){var fe=Y.children,Pe=Y.ignoreDirection,Re=Pe!==void 0&&Pe,Ne=Y.size,Ve=Ne===void 0?24:Ne,Xe=R.useContext(ae).direction,Ue=!Re&&Xe===A.TextDirection.RightToLeft,Ie="".concat(Ve||24,"px");return R.createElement("svg",{"aria-hidden":"true",className:ee({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ue}),focusable:"false",height:Ie,viewBox:"0 0 24 24",width:Ie},fe)},J=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},K=function(Y){var fe=Y.children,Pe=Y.testId,Re=Y.onClick,Ne=R.useContext(ae).direction===A.TextDirection.RightToLeft,Ve=Pe?{"data-testid":Pe}:{};return R.createElement("button",ne({className:ee({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Ne}),type:"button",onClick:Re},Ve),fe)},W=function(Y){var fe=Y.size,Pe=fe===void 0?"4rem":fe,Re=Y.testId,Ne=R.useState(!1),Ve=Ne[0],Xe=Ne[1],Ue=Re?{"data-testid":Re}:{},Ie=G({onVisibilityChanged:function(qe){Xe(qe.isVisible)}});return R.createElement("div",ne({},Ue,{className:ee({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ve}),ref:Ie,style:{height:Pe,width:Pe}}))},q=function(Y){var fe=Y.ariaLabel,Pe=fe===void 0?"":fe,Re=Y.autoFocus,Ne=Re!==void 0&&Re,Ve=Y.placeholder,Xe=Ve===void 0?"":Ve,Ue=Y.testId,Ie=Y.type,qe=Ie===void 0?"text":Ie,We=Y.value,ut=We===void 0?"":We,lt=Y.onChange,ct=Y.onKeyDown,yt=ct===void 0?function(){}:ct,bt=R.useContext(ae).direction,vt=R.useRef(),Kt=bt===A.TextDirection.RightToLeft,Tt={ref:vt,"data-testid":"","aria-label":Pe,className:ee({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Kt}),placeholder:Xe,value:ut,onChange:function(Rt){return lt(Rt.target.value)},onKeyDown:yt};return Ue&&(Tt["data-testid"]=Ue),te(function(){if(Ne){var Rt=vt.current;if(Rt){var Nt=window.scrollX,Pt=window.scrollY;Rt.focus(),window.scrollTo(Nt,Pt)}}},[]),qe==="text"?R.createElement("input",ne({type:"text"},Tt)):R.createElement("input",ne({type:"password"},Tt))};(function(Y){Y[Y.ExitFullScreen=0]="ExitFullScreen",Y[Y.FullScreenChange=1]="FullScreenChange",Y[Y.FullScreenElement=2]="FullScreenElement",Y[Y.FullScreenEnabled=3]="FullScreenEnabled",Y[Y.RequestFullScreen=4]="RequestFullScreen"})(be||(be={}));var H,X={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ue={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ge={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Ee=typeof window<"u",Se=Ee&&(be.FullScreenEnabled in document&&X||ue.FullScreenEnabled in document&&ue||ge.FullScreenEnabled in document&&ge)||X,ce=function(){return Ee&&Se.FullScreenEnabled in document&&document[Se.FullScreenEnabled]===!0},xe=function(Y){return Ee?Y[Se.ExitFullScreen]():Promise.resolve({})},et=function(){return Ee?document[Se.FullScreenElement]:null},ze=function(Y,fe){var Pe=R.useRef(),Re=function(){Pe.current&&clearTimeout(Pe.current)};return R.useEffect(function(){return function(){return Re()}},[]),R.useCallback(function(){for(var Ne=[],Ve=0;Ve<arguments.length;Ve++)Ne[Ve]=arguments[Ve];Re(),Pe.current=setTimeout(function(){Y.apply(void 0,Ne)},fe)},[Y,fe])},He=function(){var Y=R.useRef(!1);return R.useEffect(function(){return Y.current=!0,function(){Y.current=!1}},[]),Y},je=function(Y){var fe=R.useRef(Y);return R.useEffect(function(){fe.current=Y},[Y]),fe.current};(function(Y){Y.NotRenderedYet="NotRenderedYet",Y.Rendering="Rendering",Y.Rendered="Rendered"})(H||(H={}));var Oe,Le=-9999,Je=function(Y){var fe=Y.doc,Pe=fe.numPages,Re=fe.loadingTask.docId,Ne=R.useMemo(function(){return Array(Pe).fill(null).map(function(Ue,Ie){return{pageIndex:Ie,renderStatus:H.NotRenderedYet,visibility:Le}})},[Re]),Ve=R.useRef({currentRenderingPage:-1,startRange:0,endRange:Pe-1,visibilities:Ne}),Xe=function(Ue,Ie){Ve.current.visibilities[Ue].visibility=Ie};return{getHighestPriorityPage:function(){var Ue=Ve.current.visibilities.slice(Ve.current.startRange,Ve.current.endRange+1).filter(function(lt){return lt.visibility>Le});if(!Ue.length)return-1;for(var Ie=Ue[0].pageIndex,qe=Ue[Ue.length-1].pageIndex,We=Ue.length,ut=0;ut<We;ut++){if(Ue[ut].renderStatus===H.Rendering)return-1;if(Ue[ut].renderStatus===H.NotRenderedYet)return Ue[ut].pageIndex}return qe+1<Pe&&Ve.current.visibilities[qe+1].renderStatus!==H.Rendered?qe+1:Ie-1>=0&&Ve.current.visibilities[Ie-1].renderStatus!==H.Rendered?Ie-1:-1},isInRange:function(Ue){return Ue>=Ve.current.startRange&&Ue<=Ve.current.endRange},markNotRendered:function(){for(var Ue=0;Ue<Pe;Ue++)Ve.current.visibilities[Ue].renderStatus=H.NotRenderedYet},markRendered:function(Ue){Ve.current.visibilities[Ue].renderStatus=H.Rendered},markRendering:function(Ue){Ve.current.currentRenderingPage!==-1&&Ve.current.currentRenderingPage!==Ue&&Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus===H.Rendering&&(Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus=H.NotRenderedYet),Ve.current.visibilities[Ue].renderStatus=H.Rendering,Ve.current.currentRenderingPage=Ue},setOutOfRange:function(Ue){Xe(Ue,Le)},setRange:function(Ue,Ie){Ve.current.startRange=Ue,Ve.current.endRange=Ie;for(var qe=0;qe<Pe;qe++)(qe<Ue||qe>Ie)&&(Ve.current.visibilities[qe].visibility=Le,Ve.current.visibilities[qe].renderStatus=H.NotRenderedYet)},setVisibility:Xe}},tt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Ae=R.createContext({l10n:tt,setL10n:function(){}}),le=0,ie=function(){return le++},me=function(Y,fe,Pe){var Re=function(Ne){var Ve=fe.current;if(Ve){var Xe=Ne.target;if(Xe instanceof Element&&Xe.shadowRoot){var Ue=Ne.composedPath();Ue.length>0&&!Ve.contains(Ue[0])&&Pe()}else Ve.contains(Xe)||Pe()}};R.useEffect(function(){if(Y){var Ne={capture:!0};return document.addEventListener("click",Re,Ne),function(){document.removeEventListener("click",Re,Ne)}}},[])},Ce=function(Y){var fe=function(Pe){Pe.key==="Escape"&&Y()};R.useEffect(function(){return document.addEventListener("keyup",fe),function(){document.removeEventListener("keyup",fe)}},[])},we=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.children,Re=Y.closeOnClickOutside,Ne=Y.closeOnEscape,Ve=Y.onToggle,Xe=R.useRef(),Ue=R.useContext(ae).direction===A.TextDirection.RightToLeft;return R.useEffect(function(){var Ie=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ie}},[]),Ce(function(){Xe.current&&Ne&&Ve()}),me(Re,Xe,Ve),te(function(){var Ie=Xe.current;if(Ie){var qe=.75*document.body.clientHeight;Ie.getBoundingClientRect().height>=qe&&(Ie.style.overflow="auto",Ie.style.maxHeight="".concat(qe,"px"))}},[]),R.createElement("div",{"aria-modal":"true",className:ee({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ue}),id:"rpv-core__modal-body-".concat(fe),ref:Xe,role:"dialog",tabIndex:-1},Pe)},Te=function(Y){var fe=Y.children;return R.createElement("div",{className:"rpv-core__modal-overlay"},fe)};A.ToggleStatus=void 0,(Oe=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Oe.Open="Open",Oe.Toggle="Toggle";var De,Ge=function(Y){var fe=R.useState(Y),Pe=fe[0],Re=fe[1];return{opened:Pe,toggle:function(Ne){switch(Ne){case A.ToggleStatus.Close:Re(!1);break;case A.ToggleStatus.Open:Re(!0);break;case A.ToggleStatus.Toggle:default:Re(function(Ve){return!Ve})}}}},it=function(Y){var fe=Y.content,Pe=Y.isOpened,Re=Pe!==void 0&&Pe,Ne=Y.target,Ve=Ge(Re),Xe=Ve.opened,Ue=Ve.toggle;return R.createElement(R.Fragment,null,Ne&&Ne(Ue,Xe),Xe&&fe(Ue))};A.Position=void 0,(De=A.Position||(A.Position={})).TopLeft="TOP_LEFT",De.TopCenter="TOP_CENTER",De.TopRight="TOP_RIGHT",De.RightTop="RIGHT_TOP",De.RightCenter="RIGHT_CENTER",De.RightBottom="RIGHT_BOTTOM",De.BottomLeft="BOTTOM_LEFT",De.BottomCenter="BOTTOM_CENTER",De.BottomRight="BOTTOM_RIGHT",De.LeftTop="LEFT_TOP",De.LeftCenter="LEFT_CENTER",De.LeftBottom="LEFT_BOTTOM";var Qe,nt,Ye,se,he,ye,ke,_e,$e=function(Y,fe,Pe,Re,Ne){te(function(){var Ve=fe.current,Xe=Y.current,Ue=Pe.current;if(Xe&&Ve&&Ue){var Ie=Ue.getBoundingClientRect(),qe=function(lt,ct,yt,bt){var vt=ct.getBoundingClientRect(),Kt=lt.getBoundingClientRect(),Tt=Kt.height,Rt=Kt.width,Nt=0,Pt=0;switch(yt){case A.Position.TopLeft:Nt=vt.top-Tt,Pt=vt.left;break;case A.Position.TopCenter:Nt=vt.top-Tt,Pt=vt.left+vt.width/2-Rt/2;break;case A.Position.TopRight:Nt=vt.top-Tt,Pt=vt.left+vt.width-Rt;break;case A.Position.RightTop:Nt=vt.top,Pt=vt.left+vt.width;break;case A.Position.RightCenter:Nt=vt.top+vt.height/2-Tt/2,Pt=vt.left+vt.width;break;case A.Position.RightBottom:Nt=vt.top+vt.height-Tt,Pt=vt.left+vt.width;break;case A.Position.BottomLeft:Nt=vt.top+vt.height,Pt=vt.left;break;case A.Position.BottomCenter:Nt=vt.top+vt.height,Pt=vt.left+vt.width/2-Rt/2;break;case A.Position.BottomRight:Nt=vt.top+vt.height,Pt=vt.left+vt.width-Rt;break;case A.Position.LeftTop:Nt=vt.top,Pt=vt.left-Rt;break;case A.Position.LeftCenter:Nt=vt.top+vt.height/2-Tt/2,Pt=vt.left-Rt;break;case A.Position.LeftBottom:Nt=vt.top+vt.height-Tt,Pt=vt.left-Rt}return{left:Pt+(bt.left||0),top:Nt+(bt.top||0)}}(Xe,Ve,Re,Ne),We=qe.top,ut=qe.left;Xe.style.top="".concat(We-Ie.top,"px"),Xe.style.left="".concat(ut-Ie.left,"px")}},[])},rt=function(Y){var fe,Pe=Y.customClassName,Re=Y.position;return R.createElement("div",{className:ee((fe={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Re===A.Position.TopLeft,"rpv-core__arrow--tc":Re===A.Position.TopCenter,"rpv-core__arrow--tr":Re===A.Position.TopRight,"rpv-core__arrow--rt":Re===A.Position.RightTop,"rpv-core__arrow--rc":Re===A.Position.RightCenter,"rpv-core__arrow--rb":Re===A.Position.RightBottom,"rpv-core__arrow--bl":Re===A.Position.BottomLeft,"rpv-core__arrow--bc":Re===A.Position.BottomCenter,"rpv-core__arrow--br":Re===A.Position.BottomRight,"rpv-core__arrow--lt":Re===A.Position.LeftTop,"rpv-core__arrow--lc":Re===A.Position.LeftCenter,"rpv-core__arrow--lb":Re===A.Position.LeftBottom},fe["".concat(Pe)]=Pe!=="",fe))})},ot=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.children,Re=Y.closeOnClickOutside,Ne=Y.offset,Ve=Y.position,Xe=Y.targetRef,Ue=Y.onClose,Ie=R.useRef(),qe=R.useRef(),We=R.useRef(),ut=R.useContext(ae).direction===A.TextDirection.RightToLeft;me(Re,Ie,Ue),$e(Ie,Xe,We,Ve,Ne),te(function(){var ct=qe.current;if(ct){var yt=.75*document.body.clientHeight;ct.getBoundingClientRect().height>=yt&&(ct.style.overflow="auto",ct.style.maxHeight="".concat(yt,"px"))}},[]);var lt="rpv-core__popover-body-inner-".concat(fe);return R.createElement(R.Fragment,null,R.createElement("div",{ref:We,style:{left:0,position:"absolute",top:0}}),R.createElement("div",{"aria-describedby":lt,className:ee({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":ut}),id:"rpv-core__popover-body-".concat(fe),ref:Ie,role:"dialog",tabIndex:-1},R.createElement(rt,{customClassName:"rpv-core__popover-body-arrow",position:Ve}),R.createElement("div",{id:lt,ref:qe},Pe)))},at=function(Y){var fe=Y.closeOnEscape,Pe=Y.onClose,Re=R.useRef();return Ce(function(){Re.current&&fe&&Pe()}),R.createElement("div",{className:"rpv-core__popover-overlay",ref:Re})},Ze=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.children,Re=Y.contentRef,Ne=Y.offset,Ve=Y.position,Xe=Y.targetRef,Ue=R.useRef(),Ie=R.useContext(ae).direction===A.TextDirection.RightToLeft;return $e(Re,Xe,Ue,Ve,Ne),R.createElement(R.Fragment,null,R.createElement("div",{ref:Ue,style:{left:0,position:"absolute",top:0}}),R.createElement("div",{className:ee({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ie}),id:"rpv-core__tooltip-body-".concat(fe),ref:Re,role:"tooltip"},R.createElement(rt,{customClassName:"rpv-core__tooltip-body-arrow",position:Ve}),R.createElement("div",{className:"rpv-core__tooltip-body-content"},Pe)))};A.FullScreenMode=void 0,(Qe=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",Qe.Entering="Entering",Qe.Entered="Entered",Qe.EnteredCompletely="EnteredCompletely",Qe.Exitting="Exitting",Qe.Exited="Exited",A.LayerRenderStatus=void 0,(nt=A.LayerRenderStatus||(A.LayerRenderStatus={}))[nt.PreRender=0]="PreRender",nt[nt.DidRender=1]="DidRender",A.PageMode=void 0,(Ye=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",Ye.Bookmarks="UseOutlines",Ye.ContentGroup="UseOC",Ye.Default="UserNone",Ye.FullScreen="FullScreen",Ye.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(se=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",se.WrongPassword="WrongPassword",A.RotateDirection=void 0,(he=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",he.Forward="Forward",A.ScrollMode=void 0,(ye=A.ScrollMode||(A.ScrollMode={})).Page="Page",ye.Horizontal="Horizontal",ye.Vertical="Vertical",ye.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(ke=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",ke.PageFit="PageFit",ke.PageWidth="PageWidth",A.ViewMode=void 0,(_e=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",_e.DualPageWithCover="DualPageWithCover",_e.SinglePage="SinglePage";var ft,dt=function(Y,fe){return Y.reduce(function(Pe,Re,Ne){return Ne%fe?Pe[Pe.length-1].push(Re):Pe.push([Re]),Pe},[])},_t=function(Y,fe){switch(fe[1].name){case"XYZ":return{bottomOffset:function(Pe,Re){return fe[3]===null?Re:fe[3]},leftOffset:function(Pe,Re){return fe[2]===null?0:fe[2]},pageIndex:Y,scaleTo:fe[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Y,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:fe[2],leftOffset:0,pageIndex:Y,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Y,scaleTo:1}}},St=new Map,It=new Map,Vt=function(Y,fe){return"".concat(Y.loadingTask.docId,"___").concat(fe.num,"R").concat(fe.gen===0?"":fe.gen)},jt=function(Y,fe,Pe){St.set(Vt(Y,fe),Pe)},Me=function(Y,fe){if(!Y)return Promise.reject("The document is not loaded yet");var Pe="".concat(Y.loadingTask.docId,"___").concat(fe),Re=It.get(Pe);return Re?Promise.resolve(Re):new Promise(function(Ne,Ve){Y.getPage(fe+1).then(function(Xe){It.set(Pe,Xe),Xe.ref&&jt(Y,Xe.ref,fe),Ne(Xe)})})},Fe=function(Y,fe){return new Promise(function(Pe){new Promise(function(Re){typeof fe=="string"?Y.getDestination(fe).then(function(Ne){Re(Ne)}):Re(fe)}).then(function(Re){if(typeof Re[0]=="object"&&Re[0]!==null){var Ne=Re[0],Ve=function(Ue,Ie){var qe=Vt(Ue,Ie);return St.has(qe)?St.get(qe):null}(Y,Ne);Ve===null?Y.getPageIndex(Ne).then(function(Ue){jt(Y,Ne,Ue),Fe(Y,fe).then(function(Ie){return Pe(Ie)})}):Pe(_t(Ve,Re))}else{var Xe=_t(Re[0],Re);Pe(Xe)}})})};(function(Y){Y[Y.Solid=1]="Solid",Y[Y.Dashed=2]="Dashed",Y[Y.Beveled=3]="Beveled",Y[Y.Inset=4]="Inset",Y[Y.Underline=5]="Underline"})(ft||(ft={}));var Be,pt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Dt=function(Y,fe,Pe,Re){var Ne=parseInt(Y,10);return Ne>=fe&&Ne<=Pe?Ne:Re},Zt=function(Y){return Y.contentsObj?Y.contentsObj.str:Y.contents||""},Ke=function(Y){return Y.titleObj?Y.titleObj.str:Y.title||""},mt=function(Y){var fe=Y.annotation,Pe=R.useContext(ae).direction,Re=Ke(fe),Ne=Zt(fe),Ve=Pe===A.TextDirection.RightToLeft,Xe=R.useRef(),Ue="";if(fe.modificationDate){var Ie=function(qe){var We=pt.exec(qe);if(!We)return null;var ut=parseInt(We[1],10),lt=Dt(We[2],1,12,1)-1,ct=Dt(We[3],1,31,1),yt=Dt(We[4],0,23,0),bt=Dt(We[5],0,59,0),vt=Dt(We[6],0,59,0),Kt=We[7]||"Z",Tt=Dt(We[8],0,23,0),Rt=Dt(We[9],0,59,0);switch(Kt){case"-":yt+=Tt,bt+=Rt;break;case"+":yt-=Tt,bt-=Rt}return new Date(Date.UTC(ut,lt,ct,yt,bt,vt))}(fe.modificationDate);Ue=Ie?"".concat(Ie.toLocaleDateString(),", ").concat(Ie.toLocaleTimeString()):""}return R.useLayoutEffect(function(){if(Xe.current){var qe=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(qe){var We=qe;return We.style.zIndex+=1,function(){We.style.zIndex="".concat(parseInt(We.style.zIndex,10)-1)}}}},[]),R.createElement("div",{ref:Xe,className:ee({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ve}),style:{top:fe.annotationType===A.AnnotationType.Popup?"":"100%"}},Re&&R.createElement(R.Fragment,null,R.createElement("div",{className:ee({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ve,"rpv-core__annotation-popup-title--rtl":Ve})},Re),R.createElement("div",{className:"rpv-core__annotation-popup-date"},Ue)),Ne&&R.createElement("div",{className:"rpv-core__annotation-popup-content"},Ne.split("\n").map(function(qe,We){return R.createElement(R.Fragment,{key:We},qe,R.createElement("br",null))})))};(function(Y){Y.Click="Click",Y.Hover="Hover"})(Be||(Be={}));var Et,Ct=function(Y){var fe,Pe=Y.annotation,Re=Y.children,Ne=Y.ignoreBorder,Ve=Y.hasPopup,Xe=Y.isRenderable,Ue=Y.page,Ie=Y.viewport,qe=Pe.rect,We=function(){var Lt=Ge(!1),an=Lt.opened,rn=Lt.toggle,on=R.useState(Be.Hover),cn=on[0],un=on[1];return{opened:an,closeOnHover:function(){cn===Be.Hover&&rn(A.ToggleStatus.Close)},openOnHover:function(){cn===Be.Hover&&rn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(cn){case Be.Click:an&&un(Be.Hover),rn(A.ToggleStatus.Toggle);break;case Be.Hover:un(Be.Click),rn(A.ToggleStatus.Open)}}}}(),ut=We.closeOnHover,lt=We.opened,ct=We.openOnHover,yt=We.toggleOnClick,bt=(fe=[qe[0],Ue.view[3]+Ue.view[1]-qe[1],qe[2],Ue.view[3]+Ue.view[1]-qe[3]],[Math.min(fe[0],fe[2]),Math.min(fe[1],fe[3]),Math.max(fe[0],fe[2]),Math.max(fe[1],fe[3])]),vt=qe[2]-qe[0],Kt=qe[3]-qe[1],Tt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Ne&&Pe.borderStyle.width>0){switch(Pe.borderStyle.style){case ft.Dashed:Tt.borderStyle="dashed";break;case ft.Solid:Tt.borderStyle="solid";break;case ft.Underline:Tt=Object.assign({borderBottomStyle:"solid"},Tt);case ft.Beveled:case ft.Inset:}var Rt=Pe.borderStyle.width;Tt.borderWidth="".concat(Rt,"px"),Pe.borderStyle.style!==ft.Underline&&(vt-=2*Rt,Kt-=2*Rt);var Nt=Pe.borderStyle,Pt=Nt.horizontalCornerRadius,Bt=Nt.verticalCornerRadius;(Pt>0||Bt>0)&&(Tt.borderRadius="".concat(Pt,"px / ").concat(Bt,"px")),Pe.color?Tt.borderColor="rgb(".concat(0|Pe.color[0],", ").concat(0|Pe.color[1],", ").concat(0|Pe.color[2],")"):Tt.borderWidth="0"}return R.createElement(R.Fragment,null,Xe&&Re({popup:{opened:lt,closeOnHover:ut,openOnHover:ct,toggleOnClick:yt},slot:{attrs:{style:Object.assign({height:"".concat(Kt,"px"),left:"".concat(bt[0],"px"),top:"".concat(bt[1],"px"),transform:"matrix(".concat(Ie.transform.join(","),")"),transformOrigin:"-".concat(bt[0],"px -").concat(bt[1],"px"),width:"".concat(vt,"px")},Tt)},children:R.createElement(R.Fragment,null,Ve&&lt&&R.createElement(mt,{annotation:Pe}))}}))},Gt=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},sn=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe),Ie=fe.rect,qe=Ie[2]-Ie[0],We=Ie[3]-Ie[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),R.createElement("svg",{height:"".concat(We,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(We),width:"".concat(qe,"px")},R.createElement("circle",{cy:We/2,fill:"none",rx:qe/2-ut/2,ry:We/2-ut/2,stroke:"transparent",strokeWidth:ut||1})),lt.slot.children)})},Yt=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=Ke(fe),Ve=Zt(fe),Xe=!(fe.hasPopup!==!1||!Ne&&!Ve),Ue=function(){var Ie,qe,We,ut,lt=fe.file;lt&&(Ie=lt.filename,qe=lt.content,We=typeof qe=="string"?"":URL.createObjectURL(new Blob([qe],{type:""})),(ut=document.createElement("a")).style.display="none",ut.href=We||Ie,ut.setAttribute("download",function(ct){var yt=ct.split("/").pop();return yt?yt.split("#")[0].split("?")[0]:ct}(Ie)),document.body.appendChild(ut),ut.click(),document.body.removeChild(ut),We&&URL.revokeObjectURL(We))};return R.createElement(Ct,{annotation:fe,hasPopup:Xe,ignoreBorder:!0,isRenderable:!0,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onDoubleClick:Ue,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Jt=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Xt=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=Ke(fe),Ve=Zt(fe),Xe=!(!Ne&&!Ve),Ue=!fe.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(fe.parentType)!==-1;return te(function(){if(fe.parentId){var Ie=document.querySelector('[data-annotation-id="'.concat(fe.parentId,'"]')),qe=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(Ie&&qe){var We=parseFloat(Ie.style.left),ut=parseFloat(Ie.style.top)+parseFloat(Ie.style.height);qe.style.left="".concat(We,"px"),qe.style.top="".concat(ut,"px"),qe.style.transformOrigin="-".concat(We,"px -").concat(ut,"px")}}},[]),R.createElement(Ct,{annotation:fe,hasPopup:Ue,ignoreBorder:!1,isRenderable:Xe,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":fe.id}),R.createElement(mt,{annotation:fe}))})},nn=function(Y){var fe=Y.annotation,Pe=Y.childAnnotation,Re=Y.page,Ne=Y.viewport,Ve=fe.hasPopup===!1,Xe=Ke(fe),Ue=Zt(fe),Ie=!!(fe.hasPopup||Xe||Ue);if(fe.quadPoints&&fe.quadPoints.length>0){var qe=fe.quadPoints.map(function(We){return Object.assign({},fe,{rect:[We[2].x,We[2].y,We[1].x,We[1].y],quadPoints:[]})});return R.createElement(R.Fragment,null,qe.map(function(We,ut){return R.createElement(nn,{key:ut,annotation:We,childAnnotation:Pe,page:Re,viewport:Ne})}))}return R.createElement(Ct,{annotation:fe,hasPopup:Ve,ignoreBorder:!0,isRenderable:Ie,page:Re,viewport:Ne},function(We){return R.createElement(R.Fragment,null,R.createElement("div",ne({},We.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":fe.id,onClick:We.popup.toggleOnClick,onMouseEnter:We.popup.openOnHover,onMouseLeave:We.popup.closeOnHover}),We.slot.children),Pe&&Pe.annotationType===A.AnnotationType.Popup&&We.popup.opened&&R.createElement(Xt,{annotation:Pe,page:Re,viewport:Ne}))})},xn=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe),Ie=fe.rect,qe=Ie[2]-Ie[0],We=Ie[3]-Ie[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),fe.inkLists&&fe.inkLists.length&&R.createElement("svg",{height:"".concat(We,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(We),width:"".concat(qe,"px")},fe.inkLists.map(function(ct,yt){return R.createElement("polyline",{key:yt,fill:"none",stroke:"transparent",strokeWidth:ut||1,points:ct.map(function(bt){return"".concat(bt.x-Ie[0],",").concat(Ie[3]-bt.y)}).join(" ")})})),lt.slot.children)})},En=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe),Ie=fe.rect,qe=Ie[2]-Ie[0],We=Ie[3]-Ie[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),R.createElement("svg",{height:"".concat(We,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(We),width:"".concat(qe,"px")},R.createElement("line",{stroke:"transparent",strokeWidth:ut||1,x1:Ie[2]-fe.lineCoordinates[0],x2:Ie[2]-fe.lineCoordinates[2],y1:Ie[3]-fe.lineCoordinates[1],y2:Ie[3]-fe.lineCoordinates[3]})),lt.slot.children)})},yn=/^([^\w]*)(javascript|data|vbscript)/im,Sn=/&#(\w+)(^\w|;)?/g,mn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,In=/^([^:]+):/gm,Dn=function(Y,fe){fe===void 0&&(fe="about:blank");var Pe,Re=(Pe=Y||"",Pe.replace(Sn,function(Ue,Ie){return String.fromCharCode(Ie)})).replace(mn,"").trim();if(!Re)return fe;var Ne=Re[0];if(Ne==="."||Ne==="/")return Re;var Ve=Re.match(In);if(!Ve)return Re;var Xe=Ve[0];return yn.test(Xe)?fe:Re},Gn=function(Y){var fe,Pe=Y.annotation,Re=Y.annotationContainerRef,Ne=Y.doc,Ve=Y.outlines,Xe=Y.page,Ue=Y.pageIndex,Ie=Y.scale,qe=Y.viewport,We=Y.onExecuteNamedAction,ut=Y.onJumpFromLinkAnnotation,lt=Y.onJumpToDest,ct=R.useRef(),yt=Ve&&Ve.length&&Pe.dest&&typeof Pe.dest=="string"?(fe=Ve.find(function(Tt){return Tt.dest===Pe.dest}))===null||fe===void 0?void 0:fe.title:"",bt=!!(Pe.url||Pe.dest||Pe.action||Pe.unsafeUrl),vt={};if(Pe.url||Pe.unsafeUrl){var Kt=Dn(Pe.url||Pe.unsafeUrl,"");Kt?vt={"data-target":"external",href:Kt,rel:"noopener noreferrer nofollow",target:Pe.newWindow?"_blank":"",title:Kt}:bt=!1}else vt={href:"","data-annotation-link":Pe.id,onClick:function(Tt){Tt.preventDefault(),Pe.action?We(Pe.action):Fe(Ne,Pe.dest).then(function(Rt){var Nt=ct.current,Pt=Re.current;if(Nt&&Pt){var Bt=Nt.getBoundingClientRect();Pt.style.setProperty("height","100%"),Pt.style.setProperty("width","100%");var Lt=Pt.getBoundingClientRect();Pt.style.removeProperty("height"),Pt.style.removeProperty("width");var an=(Bt.left-Lt.left)/Ie,rn=(Lt.bottom-Bt.bottom+Bt.height)/Ie;ut({bottomOffset:rn,label:yt,leftOffset:an,pageIndex:Ue})}lt(Rt)})}};return yt&&(vt=Object.assign({},vt,{title:yt,"aria-label":yt})),R.createElement(Ct,{annotation:Pe,hasPopup:!1,ignoreBorder:!1,isRenderable:bt,page:Xe,viewport:qe},function(Tt){return R.createElement("div",ne({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Pe.id,"data-testid":"core__annotation--link-".concat(Pe.id)}),R.createElement("a",ne({ref:ct},vt)))})},jn=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe),Ie=fe.rect,qe=Ie[2]-Ie[0],We=Ie[3]-Ie[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&R.createElement("svg",{height:"".concat(We,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(We),width:"".concat(qe,"px")},R.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:ut||1,points:fe.vertices.map(function(ct){return"".concat(ct.x-Ie[0],",").concat(Ie[3]-ct.y)}).join(" ")})),lt.slot.children)})},rr=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe),Ie=fe.rect,qe=Ie[2]-Ie[0],We=Ie[3]-Ie[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&R.createElement("svg",{height:"".concat(We,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(We),width:"".concat(qe,"px")},R.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:ut||1,points:fe.vertices.map(function(ct){return"".concat(ct.x-Ie[0],",").concat(Ie[3]-ct.y)}).join(" ")})),lt.slot.children)})},ir=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe),Ie=fe.rect,qe=Ie[2]-Ie[0],We=Ie[3]-Ie[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),R.createElement("svg",{height:"".concat(We,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(We),width:"".concat(qe,"px")},R.createElement("rect",{height:We-ut,fill:"none",stroke:"transparent",strokeWidth:ut||1,x:ut/2,y:ut/2,width:qe-ut})),lt.slot.children)})},ar=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},or=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},sr=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},vr=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),R.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),R.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),R.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},br=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),R.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),R.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),R.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),R.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),R.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),R.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),R.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),R.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),R.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ki=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),R.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Yi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),R.createElement("path",{d:"M6 4.5L6 0.5"}),R.createElement("path",{d:"M18 4.5L18 0.5"}),R.createElement("path",{d:"M10 4.5L10 0.5"}),R.createElement("path",{d:"M14 4.5L14 0.5"}))},Zi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),R.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),R.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ji=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Qi=function(Y){var fe=Y.annotation,Pe=Y.childAnnotation,Re=Y.page,Ne=Y.viewport,Ve=fe.hasPopup===!1,Xe=Ke(fe),Ue=Zt(fe),Ie=!!(fe.hasPopup||Xe||Ue),qe=fe.name?fe.name.toLowerCase():"";return R.createElement(Ct,{annotation:fe,hasPopup:Ve,ignoreBorder:!1,isRenderable:Ie,page:Re,viewport:Ne},function(We){return R.createElement(R.Fragment,null,R.createElement("div",ne({},We.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":fe.id,onClick:We.popup.toggleOnClick,onMouseEnter:We.popup.openOnHover,onMouseLeave:We.popup.closeOnHover}),qe&&R.createElement("div",{className:"rpv-core__annotation-text-icon"},qe==="check"&&R.createElement(J,null),qe==="comment"&&R.createElement(vr,null),qe==="help"&&R.createElement(br,null),qe==="insert"&&R.createElement(Ji,null),qe==="key"&&R.createElement(Ki,null),qe==="note"&&R.createElement(Yi,null),(qe==="newparagraph"||qe==="paragraph")&&R.createElement(Zi,null)),We.slot.children),Pe&&Pe.annotationType===A.AnnotationType.Popup&&We.popup.opened&&R.createElement(Xt,{annotation:Pe,page:Re,viewport:Ne}))})},ea=function(Y){var fe=Y.annotation,Pe=Y.page,Re=Y.viewport,Ne=fe.hasPopup===!1,Ve=Ke(fe),Xe=Zt(fe),Ue=!!(fe.hasPopup||Ve||Xe);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:Ue,page:Pe,viewport:Re},function(Ie){return R.createElement("div",ne({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},ta=function(Y){var fe=Y.annotations,Pe=Y.doc,Re=Y.outlines,Ne=Y.page,Ve=Y.pageIndex,Xe=Y.plugins,Ue=Y.rotation,Ie=Y.scale,qe=Y.onExecuteNamedAction,We=Y.onJumpFromLinkAnnotation,ut=Y.onJumpToDest,lt=R.useRef(),ct=Ne.getViewport({rotation:Ue,scale:Ie}).clone({dontFlip:!0}),yt=fe.filter(function(bt){return!bt.parentId});return te(function(){var bt=lt.current;bt&&Xe.forEach(function(vt){vt.onAnnotationLayerRender&&vt.onAnnotationLayerRender({annotations:yt,container:bt,pageIndex:Ve,rotation:Ue,scale:Ie})})},[]),R.createElement("div",{ref:lt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ve)},yt.map(function(bt){var vt=fe.find(function(Kt){return Kt.parentId===bt.id});switch(bt.annotationType){case A.AnnotationType.Caret:return R.createElement(Gt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Circle:return R.createElement(sn,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.FileAttachment:return R.createElement(Yt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.FreeText:return R.createElement(Jt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Highlight:return R.createElement(nn,{key:bt.id,annotation:bt,childAnnotation:vt,page:Ne,viewport:ct});case A.AnnotationType.Ink:return R.createElement(xn,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Line:return R.createElement(En,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Link:return R.createElement(Gn,{key:bt.id,annotation:bt,annotationContainerRef:lt,doc:Pe,outlines:Re,page:Ne,pageIndex:Ve,scale:Ie,viewport:ct,onExecuteNamedAction:qe,onJumpFromLinkAnnotation:We,onJumpToDest:ut});case A.AnnotationType.Polygon:return R.createElement(jn,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Polyline:return R.createElement(rr,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Popup:return R.createElement(Xt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Square:return R.createElement(ir,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Squiggly:return R.createElement(ar,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Stamp:return R.createElement(or,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.StrikeOut:return R.createElement(sr,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Text:return R.createElement(Qi,{key:bt.id,annotation:bt,childAnnotation:vt,page:Ne,viewport:ct});case A.AnnotationType.Underline:return R.createElement(ea,{key:bt.id,annotation:bt,page:Ne,viewport:ct});default:return R.createElement(R.Fragment,{key:bt.id})}}))},na=function(Y){var fe=Y.page,Pe=Y.renderAnnotations,Re=He(),Ne=R.useState({loading:!0,annotations:[]}),Ve=Ne[0],Xe=Ne[1];return R.useEffect(function(){fe.getAnnotations({intent:"display"}).then(function(Ue){Re.current&&Xe({loading:!1,annotations:Ue})})},[]),Ve.loading?R.createElement(R.Fragment,null):Pe(Ve.annotations)},ra=function(Y){var fe=Y.doc,Pe=Y.outlines,Re=Y.page,Ne=Y.pageIndex,Ve=Y.plugins,Xe=Y.rotation,Ue=Y.scale,Ie=Y.onExecuteNamedAction,qe=Y.onJumpFromLinkAnnotation,We=Y.onJumpToDest;return R.createElement(na,{page:Re,renderAnnotations:function(ut){return R.createElement(ta,{annotations:ut,doc:fe,outlines:Pe,page:Re,pageIndex:Ne,plugins:Ve,rotation:Xe,scale:Ue,onExecuteNamedAction:Ie,onJumpFromLinkAnnotation:qe,onJumpToDest:We})}})},_r=function(Y,fe){var Pe=Y%fe;return Pe===0?Y:Math.floor(Y-Pe)},ia=function(Y){var fe=Y.canvasLayerRef,Pe=Y.height,Re=Y.page,Ne=Y.pageIndex,Ve=Y.plugins,Xe=Y.rotation,Ue=Y.scale,Ie=Y.width,qe=Y.onRenderCanvasCompleted,We=R.useRef();return te(function(){var ut=We.current;ut&&ut.cancel();var lt=fe.current;lt.removeAttribute("data-testid"),Ve.forEach(function(Lt){Lt.onCanvasLayerRender&&Lt.onCanvasLayerRender({ele:lt,pageIndex:Ne,rotation:Xe,scale:Ue,status:A.LayerRenderStatus.PreRender})});var ct=Re.getViewport({rotation:Xe,scale:Ue}),yt=window.devicePixelRatio||1,bt=Math.sqrt(16777216/(ct.width*ct.height)),vt=yt>bt;vt?lt.style.transform="scale(1, 1)":lt.style.removeProperty("transform");var Kt=Math.min(bt,yt),Tt=function(Lt,an){var rn,on;if(Math.floor(Lt)===Lt)return[Lt,1];var cn=1/Lt;if(cn>an)return[1,an];if(Math.floor(cn)===cn)return[1,cn];for(var un=Lt>1?cn:Lt,$n=0,bn=1,Mn=1,An=1;;){var Pn=$n+Mn,kn=bn+An;if(kn>an)break;un<=Pn/kn?(Mn=(rn=[Pn,kn])[0],An=rn[1]):($n=(on=[Pn,kn])[0],bn=on[1])}return un<($n/bn+Mn/An)/2?un===Lt?[$n,bn]:[bn,$n]:un===Lt?[Mn,An]:[An,Mn]}(Kt,8),Rt=Tt[0],Nt=Tt[1];lt.width=_r(ct.width*Kt,Rt),lt.height=_r(ct.height*Kt,Rt),lt.style.width="".concat(_r(ct.width,Nt),"px"),lt.style.height="".concat(_r(ct.height,Nt),"px"),lt.hidden=!0;var Pt=lt.getContext("2d",{alpha:!1}),Bt=vt||yt!==1?[Kt,0,0,Kt,0,0]:null;return We.current=Re.render({canvasContext:Pt,transform:Bt,viewport:ct}),We.current.promise.then(function(){lt.hidden=!1,lt.setAttribute("data-testid","core__canvas-layer-".concat(Ne)),Ve.forEach(function(Lt){Lt.onCanvasLayerRender&&Lt.onCanvasLayerRender({ele:lt,pageIndex:Ne,rotation:Xe,scale:Ue,status:A.LayerRenderStatus.DidRender})}),qe()},function(){qe()}),function(){lt&&(lt.width=0,lt.height=0)}},[]),R.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Pe,"px"),width:"".concat(Ie,"px")}},R.createElement("canvas",{ref:fe}))},aa=function(Y){var fe=Y.height,Pe=Y.page,Re=Y.rotation,Ne=Y.scale,Ve=Y.width,Xe=R.useRef();return te(function(){var Ue=Xe.current,Ie=Pe.getViewport({rotation:Re,scale:Ne});Pe.getOperatorList().then(function(qe){(function(){var We=Xe.current;We&&(We.innerHTML="")})(),new re.SVGGraphics(Pe.commonObjs,Pe.objs).getSVG(qe,Ie).then(function(We){We.style.height="".concat(fe,"px"),We.style.width="".concat(Ve,"px"),Ue.appendChild(We)})})},[]),R.createElement("div",{className:"rpv-core__svg-layer",ref:Xe})},oa=function(Y){var fe=Y.containerRef,Pe=Y.page,Re=Y.pageIndex,Ne=Y.plugins,Ve=Y.rotation,Xe=Y.scale,Ue=Y.onRenderTextCompleted,Ie=R.useRef(),qe=function(){var We=fe.current;We&&([].slice.call(We.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(ut){return We.removeChild(ut)}),[].slice.call(We.querySelectorAll('br[role="presentation"]')).forEach(function(ut){return We.removeChild(ut)}))};return te(function(){var We=Ie.current;We&&We.cancel();var ut=fe.current;if(ut){ut.removeAttribute("data-testid");var lt=Pe.getViewport({rotation:Ve,scale:Xe});return Ne.forEach(function(ct){ct.onTextLayerRender&&ct.onTextLayerRender({ele:ut,pageIndex:Re,scale:Xe,status:A.LayerRenderStatus.PreRender})}),Pe.getTextContent().then(function(ct){qe(),Ie.current=re.renderTextLayer({container:ut,textContent:ct,textContentSource:ct,viewport:lt}),Ie.current.promise.then(function(){ut.setAttribute("data-testid","core__text-layer-".concat(Re)),[].slice.call(ut.children).forEach(function(yt){yt.classList.contains("rpv-core__text-layer-text--not")||yt.classList.add("rpv-core__text-layer-text")}),Ne.forEach(function(yt){yt.onTextLayerRender&&yt.onTextLayerRender({ele:ut,pageIndex:Re,scale:Xe,status:A.LayerRenderStatus.DidRender})}),Ue()},function(){ut.removeAttribute("data-testid"),Ue()})}),function(){var ct;qe(),(ct=Ie.current)===null||ct===void 0||ct.cancel()}}},[]),R.createElement("div",{className:"rpv-core__text-layer",ref:fe})},sa=function(Y){var fe=Y.doc,Pe=Y.measureRef,Re=Y.outlines,Ne=Y.pageIndex,Ve=Y.pageRotation,Xe=Y.pageSize,Ue=Y.plugins,Ie=Y.renderPage,qe=Y.renderQueueKey,We=Y.rotation,ut=Y.scale,lt=Y.shouldRender,ct=Y.viewMode,yt=Y.onExecuteNamedAction,bt=Y.onJumpFromLinkAnnotation,vt=Y.onJumpToDest,Kt=Y.onRenderCompleted,Tt=Y.onRotatePage,Rt=He(),Nt=R.useState(null),Pt=Nt[0],Bt=Nt[1],Lt=R.useState(!1),an=Lt[0],rn=Lt[1],on=R.useState(!1),cn=on[0],un=on[1],$n=R.useRef(),bn=R.useRef(),Mn=Math.abs(We+Ve)%180==0,An=Xe.pageWidth*ut,Pn=Xe.pageHeight*ut,kn=Mn?An:Pn,wn=Mn?Pn:An,Nn=(Xe.rotation+We+Ve)%360,Wn=R.useRef(0),Un=Ie||function(Fn){return R.createElement(R.Fragment,null,Fn.canvasLayer.children,Fn.textLayer.children,Fn.annotationLayer.children)};return R.useEffect(function(){Bt(null),rn(!1),un(!1)},[Ve,We,ut]),R.useEffect(function(){lt&&Rt.current&&!Pt&&Me(fe,Ne).then(function(Fn){Rt.current&&(Wn.current=qe,Bt(Fn))})},[lt,Pt]),R.useEffect(function(){an&&cn&&(qe!==Wn.current?(Bt(null),rn(!1),un(!1)):Kt(Ne))},[an,cn]),R.createElement("div",{className:ee({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":ct===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":ct===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":ct===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Ne),ref:Pe,style:{height:"".concat(wn,"px"),width:"".concat(kn,"px")}},Pt?R.createElement(R.Fragment,null,Un({annotationLayer:{attrs:{},children:R.createElement(ra,{doc:fe,outlines:Re,page:Pt,pageIndex:Ne,plugins:Ue,rotation:Nn,scale:ut,onExecuteNamedAction:yt,onJumpFromLinkAnnotation:bt,onJumpToDest:vt})},canvasLayer:{attrs:{},children:R.createElement(ia,{canvasLayerRef:$n,height:wn,page:Pt,pageIndex:Ne,plugins:Ue,rotation:Nn,scale:ut,width:kn,onRenderCanvasCompleted:function(){Rt.current&&rn(!0)}})},canvasLayerRendered:an,doc:fe,height:wn,pageIndex:Ne,rotation:Nn,scale:ut,svgLayer:{attrs:{},children:R.createElement(aa,{height:wn,page:Pt,rotation:Nn,scale:ut,width:kn})},textLayer:{attrs:{},children:R.createElement(oa,{containerRef:bn,page:Pt,pageIndex:Ne,plugins:Ue,rotation:Nn,scale:ut,onRenderTextCompleted:function(){Rt.current&&un(!0)}})},textLayerRendered:cn,width:kn,markRendered:Kt,onRotatePage:function(Fn){return Tt(Ne,Fn)}}),Ue.map(function(Fn,Bn){return Fn.renderPageLayer?R.createElement(R.Fragment,{key:Bn},Fn.renderPageLayer({canvasLayerRef:$n,canvasLayerRendered:an,doc:fe,height:wn,pageIndex:Ne,rotation:Nn,scale:ut,textLayerRef:bn,textLayerRendered:cn,width:kn})):R.createElement(R.Fragment,{key:Bn})})):R.createElement(W,{testId:"core__page-layer-loading-".concat(Ne)}))},ca=function(Y,fe){var Pe=fe.rect;return Y.height!==Pe.height||Y.width!==Pe.width?Pe:Y};(function(Y){Y.Horizontal="Horizontal",Y.Vertical="Vertical",Y.Both="Both"})(Et||(Et={}));var la=function(Y){return 1-Math.pow(1-Y,4)},Er=1e-4,li={left:0,top:0},ui={capture:!1,passive:!0},ua=function(Y){var fe=Y.elementRef,Pe=Y.enableSmoothScroll,Re=Y.isRtl,Ne=Y.scrollDirection,Ve=Y.onSmoothScroll,Xe=R.useState(li),Ue=Xe[0],Ie=Xe[1],qe=R.useState(fe.current),We=qe[0],ut=qe[1],lt=Re?-1:1,ct=R.useRef(Ne);ct.current=Ne;var yt=R.useRef(li),bt=R.useRef(!0),vt=R.useCallback(function(){bt.current=!0,Pe&&Ie(yt.current),Ve(!1)},[]),Kt=R.useCallback(function(){if(We){switch(ct.current){case Et.Horizontal:yt.current={left:lt*We.scrollLeft,top:0};break;case Et.Both:yt.current={left:lt*We.scrollLeft,top:We.scrollTop};break;case Et.Vertical:default:yt.current={left:0,top:We.scrollTop}}Pe&&!bt.current||Ie(yt.current)}},[We]);te(function(){ut(fe.current)}),te(function(){if(We)return We.addEventListener("scroll",Kt,ui),function(){We.removeEventListener("scroll",Kt,ui)}},[We]);var Tt=R.useCallback(function(Rt,Nt){var Pt=fe.current;if(!Pt)return Promise.resolve();var Bt={left:0,top:0};switch(ct.current){case Et.Horizontal:Bt.left=lt*Rt.left;break;case Et.Both:Bt.left=lt*Rt.left,Bt.top=Rt.top;break;case Et.Vertical:default:Bt.top=Rt.top}return Nt?(bt.current=!1,Ve(!0),new Promise(function(Lt,an){(function(rn,on,cn,un,$n,bn){$n===void 0&&($n=function(Bn){return Bn}),bn===void 0&&(bn=function(){});var Mn=0,An=0,Pn=!1;switch(on){case Et.Horizontal:An=rn.scrollLeft,Mn=0;case Et.Both:An=rn.scrollLeft,Mn=rn.scrollTop;break;case Et.Vertical:default:An=0,Mn=rn.scrollTop}var kn=function(){Pn||(Pn=!0,rn.scrollLeft=cn.left,rn.scrollTop=cn.top,bn())};if(Math.abs(Mn-cn.top)<=Er&&on===Et.Vertical)kn();else if(Math.abs(An-cn.left)<=Er&&on===Et.Horizontal)kn();else{var wn,Nn=-1,Wn=An-cn.left,Un=Mn-cn.top,Fn=function(Bn){Nn===-1&&(Nn=Bn);var Xn=Bn-Nn,Ot=Math.min(Xn/un,1),Ft=$n(Ot),kt={left:An-Wn*Ft,top:Mn-Un*Ft};switch(on){case Et.Horizontal:rn.scrollLeft=kt.left;break;case Et.Both:rn.scrollLeft=kt.left,rn.scrollTop=kt.top;break;case Et.Vertical:default:rn.scrollTop=kt.top}Math.abs(kt.top-cn.top)<=Er&&Math.abs(kt.left-cn.left)<=Er&&!Pn&&(window.cancelAnimationFrame(wn),kn()),Xn<un?wn=window.requestAnimationFrame(Fn):window.cancelAnimationFrame(wn)};wn=window.requestAnimationFrame(Fn)}})(Pt,ct.current,Bt,400,la,function(){vt(),Lt()})})):new Promise(function(Lt,an){switch(ct.current){case Et.Horizontal:Pt.scrollLeft=Bt.left;break;case Et.Both:Pt.scrollLeft=Bt.left,Pt.scrollTop=Bt.top;break;case Et.Vertical:default:Pt.scrollTop=Bt.top}Lt()})},[fe]);return{scrollOffset:Ue,scrollTo:Tt}},fr=function(Y,fe,Pe){return Math.max(Y,Math.min(Pe,fe))},da=function(Y,fe){if(fe!==A.ViewMode.DualPageWithCover)return 0;if(!function(Ne){var Ve=Ne.length;if(Ve===1)return!1;for(var Xe=1;Xe<Ve;Xe++)if(Ne[Xe].height!==Ne[0].height||Ne[Xe].width!==Ne[0].width)return!0;return!1}(Y))return 2*Y[0].width;var Pe=dt(Y.slice(1),2).map(function(Ne){return Ne.length===2?Ne[0].width+Ne[1].width:Ne[0].width}),Re=[Y[0].width].concat(Pe);return Math.max.apply(Math,Re)},ha={left:0,top:0},fa={left:0,top:0},Mr={left:0,top:0},pa={left:0,top:0},ma={height:0,width:0},di={left:0,top:0},hi="data-virtual-index",ga=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],va=function(Y){var fe=Y.enableSmoothScroll,Pe=Y.isRtl,Re=Y.numberOfItems,Ne=Y.parentRef,Ve=Y.setRenderRange,Xe=Y.sizes,Ue=Y.scrollMode,Ie=Y.viewMode,qe=R.useState(!1),We=qe[0],ut=qe[1],lt=R.useCallback(function(Ot){return ut(Ot)},[]),ct=R.useRef(Ue);ct.current=Ue;var yt=R.useRef(Ie);yt.current=Ie;var bt=Ue===A.ScrollMode.Wrapped||Ie===A.ViewMode.DualPageWithCover||Ie===A.ViewMode.DualPage?Et.Both:Ue===A.ScrollMode.Horizontal?Et.Horizontal:Et.Vertical,vt=ua({elementRef:Ne,enableSmoothScroll:fe,isRtl:Pe,scrollDirection:bt,onSmoothScroll:lt}),Kt=vt.scrollOffset,Tt=vt.scrollTo,Rt=function(Ot){var Ft=Ot.elementRef,kt=R.useState(Ft.current),$t=kt[0],xt=kt[1],zt=R.useRef(!1),Ht=R.useReducer(ca,{height:0,width:0}),Mt=Ht[0],wt=Ht[1];return te(function(){Ft.current!==$t&&xt(Ft.current)}),te(function(){if($t&&!zt.current){zt.current=!0;var Ut=$t.getBoundingClientRect(),Qt=Ut.height,gn=Ut.width;wt({rect:{height:Qt,width:gn}})}},[$t]),R.useEffect(function(){if($t){var Ut=new ResizeObserver(function(Qt,gn){Qt.forEach(function(fn){if(fn.target===$t){var Ln=fn.contentRect,zn=Ln.height,qt=Ln.width;wt({rect:{height:zn,width:qt}})}})});return Ut.observe($t),function(){Ut.unobserve($t)}}},[$t]),Mt}({elementRef:Ne}),Nt=R.useRef({scrollOffset:di,measurements:[]});Nt.current.scrollOffset=Kt;var Pt=R.useMemo(function(){return Array(Re).fill(-1)},[]),Bt=R.useState(Pt),Lt=Bt[0],an=Bt[1],rn=R.useMemo(function(){var Ot=new IntersectionObserver(function(Ft){Ft.forEach(function(kt){var $t=kt.isIntersecting?kt.intersectionRatio:-1,xt=kt.target.getAttribute(hi);if(xt){var zt=parseInt(xt,10);0<=zt&&zt<Re&&an(function(Ht){return Ht[zt]=$t,function(Mt,wt,Ut){if(Ut||arguments.length===2)for(var Qt,gn=0,fn=wt.length;gn<fn;gn++)!Qt&&gn in wt||(Qt||(Qt=Array.prototype.slice.call(wt,0,gn)),Qt[gn]=wt[gn]);return Mt.concat(Qt||Array.prototype.slice.call(wt))}([],Ht,!0)})}})},{threshold:ga});return Ot},[]),on=R.useMemo(function(){return Ue===A.ScrollMode.Page&&Ie===A.ViewMode.SinglePage?function(Ot,Ft,kt){for(var $t=[],xt=0;xt<Ot;xt++){var zt={height:Math.max(Ft.height,kt[xt].height),width:Math.max(Ft.width,kt[xt].width)},Ht=xt===0?pa:$t[xt-1].end,Mt={left:Ht.left+zt.width,top:Ht.top+zt.height};$t[xt]={index:xt,start:Ht,size:zt,end:Mt,visibility:-1}}return $t}(Re,Rt,Xe):Ie===A.ViewMode.DualPageWithCover?function(Ot,Ft,kt,$t){for(var xt=[],zt=0,Ht=0,Mt=Mr,wt=0;wt<Ot;wt++){var Ut=wt===0?{height:$t===A.ScrollMode.Page?Math.max(Ft.height,kt[wt].height):kt[wt].height,width:$t===A.ScrollMode.Page?Math.max(Ft.width,kt[wt].width):kt[wt].width}:{height:$t===A.ScrollMode.Page?Math.max(Ft.height,kt[wt].height):kt[wt].height,width:Math.max(Ft.width/2,kt[wt].width)};$t===A.ScrollMode.Page?Mt=wt===0?Mr:{left:wt%2==0?Ut.width:0,top:Math.floor((wt-1)/2)*Ut.height+xt[0].end.top}:wt===0?(Mt=Mr,zt=kt[0].height,Ht=0):wt%2==1?(Mt={left:0,top:zt+=Ht},Ht=wt===Ot-1?kt[wt].height:Math.max(kt[wt].height,kt[wt+1].height)):Mt={left:xt[wt-1].end.left,top:zt};var Qt={left:Mt.left+Ut.width,top:Mt.top+Ut.height};xt[wt]={index:wt,start:Mt,size:Ut,end:Qt,visibility:-1}}return xt}(Re,Rt,Xe,Ue):Ie===A.ViewMode.DualPage?function(Ot,Ft,kt,$t){for(var xt=[],zt=0,Ht=0,Mt=fa,wt=0;wt<Ot;wt++){var Ut={height:$t===A.ScrollMode.Page?Math.max(Ft.height,kt[wt].height):kt[wt].height,width:Math.max(Ft.width/2,kt[wt].width)};$t===A.ScrollMode.Page?Mt={left:wt%2==0?0:Ut.width,top:Math.floor(wt/2)*Ut.height}:wt%2==0?(Mt={left:0,top:zt+=Ht},Ht=wt===Ot-1?kt[wt].height:Math.max(kt[wt].height,kt[wt+1].height)):Mt={left:xt[wt-1].end.left,top:zt};var Qt={left:Mt.left+Ut.width,top:Mt.top+Ut.height};xt[wt]={index:wt,start:Mt,size:Ut,end:Qt,visibility:-1}}return xt}(Re,Rt,Xe,Ue):function(Ot,Ft,kt,$t){for(var xt=[],zt=0,Ht={left:0,top:0},Mt=0,wt=ha,Ut=0;Ut<Ot;Ut++){var Qt=kt[Ut];if(Ut===0)zt=Qt.width,Ht={left:0,top:0},Mt=Qt.height;else switch($t){case A.ScrollMode.Wrapped:(zt+=Qt.width)<Ft.width?(wt={left:xt[Ut-1].end.left,top:Ht.top},Mt=Math.max(Mt,Qt.height)):(zt=Qt.width,Ht={left:(wt={left:Ht.left,top:Ht.top+Mt}).left,top:wt.top},Mt=Qt.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:wt=xt[Ut-1].end}var gn={left:wt.left+Qt.width,top:wt.top+Qt.height};xt[Ut]={index:Ut,start:wt,size:Qt,end:gn,visibility:-1}}return xt}(Re,Rt,Xe,Ue)},[Ue,Xe,Ie,Rt]),cn=on[Re-1]?{height:on[Re-1].end.top,width:on[Re-1].end.left}:ma;Nt.current.measurements=on;var un=R.useMemo(function(){var Ot=function(Ut,Qt,gn,fn){var Ln=0;switch(Ut){case Et.Horizontal:Ln=fn.left;break;case Et.Vertical:default:Ln=fn.top}var zn=Qt.length-1,qt=function(hn,Kn,lr,Sr){for(;hn<=Kn;){var er=(hn+Kn)/2|0,pr=Sr(er);if(pr<lr)hn=er+1;else{if(!(pr>lr))return er;Kn=er-1}}return hn>0?hn-1:0}(0,zn,Ln,function(hn){switch(Ut){case Et.Horizontal:return Qt[hn].start.left;case Et.Both:case Et.Vertical:default:return Qt[hn].start.top}});if(Ut===Et.Both)for(var On=Qt[qt].start.top;qt-1>=0&&Qt[qt-1].start.top===On&&Qt[qt-1].start.left>=fn.left;)qt--;for(var vn=qt;vn<=zn;){var _n={top:Qt[vn].start.top-fn.top,left:Qt[vn].start.left-fn.left},Tn={height:gn.height-_n.top,width:gn.width-_n.left};if(Ut===Et.Horizontal&&Tn.width<0||Ut===Et.Vertical&&Tn.height<0||Ut===Et.Both&&(Tn.width<0||Tn.height<0))break;vn++}return{start:qt,end:vn}}(bt,on,Rt,Kt),Ft=Ot.start,kt=Ot.end,$t=Lt.slice(fr(0,Re,Ft),fr(0,Re,kt)),xt=Ft+$t.reduce(function(Ut,Qt,gn,fn){return Qt>fn[Ut]?gn:Ut},0),zt=xt=fr(0,Re-1,xt),Ht=Ve({endPage:kt,numPages:Re,startPage:Ft}),Mt=Ht.startPage,wt=Ht.endPage;switch(Mt=Math.max(Mt,0),wt=Math.min(wt,Re-1),Ie){case A.ViewMode.DualPageWithCover:xt>0&&(zt=xt%2==1?xt:xt-1),Mt=Mt===0?0:Mt%2==1?Mt:Mt-1,Re-(wt=wt%2==1?wt-1:wt)<=2&&(wt=Re-1);break;case A.ViewMode.DualPage:zt=xt%2==0?xt:xt-1,Mt=Mt%2==0?Mt:Mt-1,wt=wt%2==1?wt:wt-1;break;case A.ViewMode.SinglePage:default:zt=xt}return{startPage:Mt,endPage:wt,maxVisbilityIndex:zt}},[on,Rt,Kt,Ie,Lt]),$n=un.startPage,bn=un.endPage,Mn=un.maxVisbilityIndex,An=R.useMemo(function(){for(var Ot=[],Ft=function($t){var xt=on[$t],zt=ne(ne({},xt),{visibility:Lt[$t]!==void 0?Lt[$t]:-1,measureRef:function(Ht){Ht&&(Ht.setAttribute(hi,"".concat($t)),rn.observe(Ht))}});Ot.push(zt)},kt=$n;kt<=bn;kt++)Ft(kt);return Ot},[$n,bn,Lt,on]),Pn=R.useCallback(function(Ot,Ft){var kt=Nt.current.measurements[fr(0,Re-1,Ot)],$t=ct.current===A.ScrollMode.Page?di:Ft;return kt?Tt({left:$t.left+kt.start.left,top:$t.top+kt.start.top},fe):Promise.resolve()},[Tt,fe]),kn=R.useCallback(function(Ot,Ft){var kt=Nt.current.measurements,$t=kt[Ot].start,xt=kt.find(function(Ht){return Ht.start.top-$t.top>1e-12});if(!xt)return Promise.resolve();var zt=xt.index;switch(yt.current){case A.ViewMode.DualPage:zt=zt%2==0?zt:zt+1;break;case A.ViewMode.DualPageWithCover:zt=zt%2==1?zt:zt+1}return Pn(zt,Ft)},[]),wn=R.useCallback(function(Ot,Ft){for(var kt=Nt.current.measurements,$t=kt[Ot].start,xt=Ot,zt=!1,Ht=Re-1;Ht>=0;Ht--)if($t.top-kt[Ht].start.top>1e-12){zt=!0,xt=kt[Ht].index;break}if(!zt)return Promise.resolve();switch(yt.current){case A.ViewMode.DualPage:xt=xt%2==0?xt:xt-1;break;case A.ViewMode.DualPageWithCover:xt=xt%2==0?xt-1:xt}return xt===Ot&&(xt=Ot-1),Pn(xt,Ft)},[]),Nn=R.useCallback(function(Ot,Ft){if(yt.current===A.ViewMode.DualPageWithCover||yt.current===A.ViewMode.DualPage)return kn(Ot,Ft);switch(ct.current){case A.ScrollMode.Wrapped:return kn(Ot,Ft);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Pn(Ot+1,Ft)}},[]),Wn=R.useCallback(function(Ot,Ft){if(yt.current===A.ViewMode.DualPageWithCover||yt.current===A.ViewMode.DualPage)return wn(Ot,Ft);switch(ct.current){case A.ScrollMode.Wrapped:return wn(Ot,Ft);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Pn(Ot-1,Ft)}},[]),Un=R.useCallback(function(){return function(Ot,Ft){switch(Ft){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Ot.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Ot.height,"px"),width:"100%"}}}(cn,ct.current)},[cn]),Fn=R.useCallback(function(Ot){return function(Ft,kt,$t){return $t!==A.ScrollMode.Page?{}:{height:"".concat(kt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Ft.start.top,"px)")}}(Ot,Rt,ct.current)},[Rt]),Bn=R.useCallback(function(Ot){return function(Ft,kt,$t,xt,zt){var Ht,Mt,wt,Ut,Qt,gn,fn,Ln=kt?"right":"left",zn=kt?-1:1,qt=$t.length,On=Ft.start.left*zn,vn=Ft.size,_n=vn.height,Tn=vn.width;if(xt===A.ViewMode.DualPageWithCover){var hn=zt===A.ScrollMode.Page?0:Ft.start.top;return Ft.index===0||qt%2==0&&Ft.index===qt-1?((Ht={height:"".concat(_n,"px"),minWidth:"".concat(da($t,xt),"px"),width:"100%"})[Ln]=0,Ht.position="absolute",Ht.top=0,Ht.transform="translate(".concat(On,"px, ").concat(hn,"px)"),Ht):((Mt={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,Mt.position="absolute",Mt.top=0,Mt.transform="translate(".concat(On,"px, ").concat(hn,"px)"),Mt)}if(xt===A.ViewMode.DualPage)return(wt={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,wt.position="absolute",wt.top=0,wt.transform="translate(".concat(On,"px, ").concat(zt===A.ScrollMode.Page?0:Ft.start.top,"px)"),wt;switch(zt){case A.ScrollMode.Horizontal:return(Ut={height:"100%",width:"".concat(Tn,"px")})[Ln]=0,Ut.position="absolute",Ut.top=0,Ut.transform="translateX(".concat(On,"px)"),Ut;case A.ScrollMode.Page:return(Qt={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,Qt.position="absolute",Qt.top=0,Qt;case A.ScrollMode.Wrapped:return(gn={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,gn.position="absolute",gn.top=0,gn.transform="translate(".concat(On,"px, ").concat(Ft.start.top,"px)"),gn;case A.ScrollMode.Vertical:default:return(fn={height:"".concat(_n,"px"),width:"100%"})[Ln]=0,fn.position="absolute",fn.top=0,fn.transform="translateY(".concat(Ft.start.top,"px)"),fn}}(Ot,Pe,Xe,yt.current,ct.current)},[Pe,Xe]),Xn=R.useCallback(function(Ot,Ft){var kt=Nt.current,$t=kt.measurements,xt=kt.scrollOffset,zt=$t[fr(0,Re-1,Ft)];if(zt){var Ht=ct.current===A.ScrollMode.Page?{left:zt.start.left,top:zt.start.top}:{left:xt.left*Ot,top:xt.top*Ot};return Tt(Ht,!1)}return Promise.resolve()},[]);return R.useEffect(function(){return function(){rn.disconnect()}},[]),{boundingClientRect:Rt,isSmoothScrolling:We,startPage:$n,endPage:bn,maxVisbilityIndex:Mn,virtualItems:An,getContainerStyles:Un,getItemContainerStyles:Fn,getItemStyles:Bn,scrollToItem:Pn,scrollToNextItem:Nn,scrollToPreviousItem:Wn,zoom:Xn}},Tr=function(Y,fe,Pe,Re,Ne,Ve){var Xe=Pe;switch(!0){case(Ne===A.ViewMode.DualPageWithCover&&Ve>=3):case(Ne===A.ViewMode.DualPage&&Ve>=3):Xe=2*Pe;break;default:Xe=Pe}switch(Re){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((Y.clientWidth-17)/Xe,(Y.clientHeight-16)/fe);case A.SpecialZoomLevel.PageWidth:return(Y.clientWidth-17)/Xe}},ba=function(Y){var fe,Pe,Re=Y.getCurrentPage,Ne=(fe=50,Pe=R.useRef([]),R.useEffect(function(){return function(){Pe.current=[]}},[]),{push:function(qe){var We=Pe.current;We.length+1>fe&&We.shift(),We.push(qe),Pe.current=We},map:function(qe){return Pe.current.map(function(We){return qe(We)})},pop:function(){var qe=Pe.current;if(qe.length===0)return null;var We=qe.pop();return Pe.current=qe,We}}),Ve=function(qe){var We=R.useRef([]);return R.useEffect(function(){return function(){We.current=[]}},[]),{dequeue:function(){var ut=We.current;if(ut.length===0)return null;var lt=ut.shift();return We.current=ut,lt||null},enqueue:function(ut){var lt=We.current;lt.length+1>qe&&lt.pop(),We.current=[ut].concat(lt)},map:function(ut){return We.current.map(function(lt){return ut(lt)})}}}(50),Xe=function(){var qe=Ve.dequeue();return qe&&Ne.push(qe),qe&&qe.pageIndex===Re()?Xe():qe},Ue=function(){var qe=Ne.pop();return qe&&Ve.enqueue(qe),qe&&qe.pageIndex===Re()?Ue():qe},Ie=R.useCallback(function(qe){Ne.push(qe)},[]);return{getNextDestination:Xe,getPreviousDestination:Ue,markVisitedDestination:Ie}},fi=function(Y){var fe=[];return Y.map(function(Pe){fe=fe.concat(Pe).concat(function(Re){var Ne=[];return Re.items&&Re.items.length>0&&(Ne=Ne.concat(fi(Re.items))),Ne}(Pe))}),fe},pi={capture:!1,passive:!0},_a={height:0,width:0},Rr={height:0,width:0},Ea=function(Y){var fe=Y.getCurrentPage,Pe=Y.getCurrentScrollMode,Re=Y.jumpToPage,Ne=Y.targetRef,Ve=R.useState(A.FullScreenMode.Normal),Xe=Ve[0],Ue=Ve[1],Ie=function(){var Lt=R.useState(_a),an=Lt[0],rn=Lt[1],on=ze(function(){rn({height:window.innerHeight,width:window.innerWidth})},100);return te(function(){return window.addEventListener("resize",on,pi),function(){window.removeEventListener("resize",on,pi)}},[]),an}(),qe=R.useState(Rr),We=qe[0],ut=qe[1],lt=R.useRef(Rr),ct=R.useRef(fe()),yt=R.useRef(Rr),bt=R.useState(Ne.current),vt=bt[0],Kt=bt[1],Tt=R.useRef();te(function(){Ne.current!==vt&&Kt(Ne.current)},[]),te(function(){if(vt){var Lt=new ResizeObserver(function(an){an.forEach(function(rn){var on=rn.target.getBoundingClientRect(),cn=on.height,un=on.width;ut({height:cn,width:un})})});return Lt.observe(vt),function(){Lt.unobserve(vt),Lt.disconnect()}}},[vt]);var Rt=R.useCallback(function(Lt){var an=et();return an&&an!==Lt?(Ue(A.FullScreenMode.Normal),xe(an)):Promise.resolve()},[]),Nt=R.useCallback(function(Lt){Lt&&ce()&&(Kt(Lt),Rt(Lt).then(function(){Tt.current=Lt,Ue(A.FullScreenMode.Entering),function(an){Ee&&an[Se.RequestFullScreen]()}(Lt)}))},[]),Pt=R.useCallback(function(){et()&&(Ue(A.FullScreenMode.Exitting),xe(document))},[]),Bt=R.useCallback(function(){vt&&et()!==vt&&Ue(A.FullScreenMode.Exitting)},[vt]);return R.useEffect(function(){switch(Xe){case A.FullScreenMode.Entering:Tt.current&&(Tt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),ct.current=fe(),lt.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:Pe()===A.ScrollMode.Page?Re(ct.current).then(function(){Ue(A.FullScreenMode.EnteredCompletely)}):Ue(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Tt.current&&(Tt.current.style.backgroundColor="",Tt.current=null),ct.current=fe();break;case A.FullScreenMode.Exited:Ue(A.FullScreenMode.Normal),Pe()===A.ScrollMode.Page&&Re(ct.current)}},[Xe]),R.useEffect(function(){if(Xe!==A.FullScreenMode.Normal)return Xe===A.FullScreenMode.Entering&&Ie.height===We.height&&Ie.width===We.width&&Ie.height>0&&Ie.width>0&&(yt.current.height===0||Ie.height==yt.current.height)?(yt.current={height:window.innerHeight,width:window.innerWidth},void Ue(A.FullScreenMode.Entered)):void(Xe===A.FullScreenMode.Exitting&&lt.current.height===Ie.height&&lt.current.width===Ie.width&&Ie.height>0&&Ie.width>0&&Ue(A.FullScreenMode.Exited))},[Xe,Ie,We]),R.useEffect(function(){var Lt;return Lt=Bt,Ee&&document.addEventListener(Se.FullScreenChange,Lt),function(){(function(an){Ee&&document.removeEventListener(Se.FullScreenChange,an)})(Bt)}},[vt]),{enterFullScreenMode:Nt,exitFullScreenMode:Pt,fullScreenMode:Xe}},ya={buildPageStyles:function(){return{}},transformSize:function(Y){return Y.size}},cr={left:0,top:0},Sa=function(Y){var fe=Y.currentFile,Pe=Y.defaultScale,Re=Y.doc,Ne=Y.enableSmoothScroll,Ve=Y.initialPage,Xe=Y.initialRotation,Ue=Y.initialScale,Ie=Y.pageLayout,qe=Y.pageSizes,We=Y.plugins,ut=Y.renderPage,lt=Y.scrollMode,ct=Y.setRenderRange,yt=Y.viewMode,bt=Y.viewerState,vt=Y.onDocumentLoad,Kt=Y.onOpenFile,Tt=Y.onPageChange,Rt=Y.onRotate,Nt=Y.onRotatePage,Pt=Y.onZoom,Bt=Re.numPages,Lt=Re.loadingTask.docId,an=R.useContext(Ae).l10n,rn=R.useContext(ae),on=rn.direction===A.TextDirection.RightToLeft,cn=R.useRef(),un=R.useRef(),$n=R.useState(Ve),bn=$n[0],Mn=$n[1],An=R.useRef(null),Pn=ba({getCurrentPage:function(){return qt.current.pageIndex}}),kn=R.useState(Xe),wn=kn[0],Nn=kn[1],Wn=je(wn),Un=R.useState(!1),Fn=Un[0],Bn=Un[1],Xn=R.useState(new Map),Ot=Xn[0],Ft=Xn[1],kt=R.useState(lt),$t=kt[0],xt=kt[1],zt=je($t),Ht=R.useState(yt),Mt=Ht[0],wt=Ht[1],Ut=je(Mt),Qt=function(gt){var Wt=He(),en=R.useState([]),dn=en[0],ln=en[1];return R.useEffect(function(){gt.getOutline().then(function(tn){if(Wt.current&&tn!==null){var Rn=fi(tn);ln(Rn)}})},[]),dn}(Re),gn=R.useState(Ue),fn=gn[0],Ln=gn[1],zn=je(fn),qt=R.useRef(bt),On=R.useRef(typeof Pe=="string"?Pe:null),vn=R.useRef(-1),_n=R.useRef(-1),Tn=R.useRef(Ve),hn=Ea({getCurrentPage:function(){return qt.current.pageIndex},getCurrentScrollMode:function(){return qt.current.scrollMode},jumpToPage:function(gt){return Zn(gt)},targetRef:un}),Kn=R.useState(-1),lr=Kn[0],Sr=Kn[1],er=R.useState(0),pr=er[0],xa=er[1],Vn=Je({doc:Re});R.useEffect(function(){return function(){St.clear(),It.clear()}},[Lt]);var bi=R.useMemo(function(){return Object.assign({},ya,Ie)},[]),$a=R.useMemo(function(){return Array(Bt).fill(0).map(function(gt,Wt){var en=[qe[Wt].pageHeight,qe[Wt].pageWidth],dn=Math.abs(wn)%180==0?{height:en[0],width:en[1]}:{height:en[1],width:en[0]},ln={height:dn.height*fn,width:dn.width*fn};return bi.transformSize({numPages:Bt,pageIndex:Wt,size:ln})})},[wn,fn]),pn=va({enableSmoothScroll:Ne,isRtl:on,numberOfItems:Bt,parentRef:un,scrollMode:$t,setRenderRange:ct,sizes:$a,viewMode:Mt}),Ma=ze(function(){!On.current||qt.current.fullScreenMode!==A.FullScreenMode.Normal||Ve>0&&Tn.current===Ve||tr(On.current)},200);(function(gt){var Wt=gt.targetRef,en=gt.onResize;te(function(){var dn=new ResizeObserver(function(tn){tn.forEach(function(Rn){en(Rn.target)})}),ln=Wt.current;if(ln)return dn.observe(ln),function(){dn.unobserve(ln)}},[])})({targetRef:un,onResize:Ma});var Yn=function(gt){var Wt=gt;We.forEach(function(en){en.onViewerStateChange&&(Wt=en.onViewerStateChange(Wt))}),qt.current=Wt},Ta=function(){return un.current},Ra=function(){return qt.current},Fa=R.useCallback(function(gt){Pn.markVisitedDestination(gt)},[]),Lr=R.useCallback(function(gt){var Wt=gt.pageIndex,en=gt.bottomOffset,dn=gt.leftOffset,ln=gt.scaleTo,tn=un.current,Rn=qt.current;return tn&&Rn?new Promise(function(Jn,zr){Me(Re,Wt).then(function(Cr){var Qn=Cr.getViewport({scale:1}),Ar=0,Pi=(typeof en=="function"?en(Qn.width,Qn.height):en)||0,wr=(typeof dn=="function"?dn(Qn.width,Qn.height):dn)||0,ur=Rn.scale;switch(ln){case A.SpecialZoomLevel.PageFit:Ar=0,wr=0,tr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:ur=Tr(tn,qe[Wt].pageHeight,qe[Wt].pageWidth,A.SpecialZoomLevel.PageWidth,yt,Bt),Ar=(Qn.height-Pi)*ur,wr*=ur,tr(ur);break;default:Ar=(Qn.height-Pi)*ur,wr*=ur}switch(Rn.scrollMode){case A.ScrollMode.Horizontal:pn.scrollToItem(Wt,{left:wr,top:0}).then(function(){Jn()});break;case A.ScrollMode.Vertical:default:pn.scrollToItem(Wt,{left:0,top:Ar}).then(function(){Jn()})}})}):Promise.resolve()},[]),_i=R.useCallback(function(gt){return Pn.markVisitedDestination(gt),Lr(gt)},[]),Ia=R.useCallback(function(){var gt=Pn.getNextDestination();return gt?Lr(gt):Promise.resolve()},[]),La=R.useCallback(function(){var gt=Pn.getPreviousDestination();return gt?Lr(gt):Promise.resolve()},[]),Oa=R.useCallback(function(){return pn.scrollToNextItem(qt.current.pageIndex,cr)},[]),Zn=R.useCallback(function(gt){return 0<=gt&&gt<Bt?pn.scrollToItem(gt,cr):Promise.resolve()},[]),Da=R.useCallback(function(){return pn.scrollToPreviousItem(qt.current.pageIndex,cr)},[]),Ei=R.useCallback(function(gt){var Wt,en;(Wt=gt.name,en=Wt.split(/\./).pop(),en?en.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(dn){var ln=new FileReader;ln.readAsArrayBuffer(gt),ln.onload=function(){var tn=new Uint8Array(ln.result);dn(tn)}}).then(function(dn){Kt(gt.name,dn)})},[Kt]),yi=R.useCallback(function(gt){var Wt=gt===A.RotateDirection.Backward?-90:90,en=qt.current.rotation,dn=en===360||en===-360?Wt:en+Wt;Vn.markNotRendered(),Nn(dn),Yn(ne(ne({},qt.current),{rotation:dn})),Rt({direction:gt,doc:Re,rotation:dn})},[]),Or=R.useCallback(function(gt,Wt){var en=Wt===A.RotateDirection.Backward?-90:90,dn=qt.current.pagesRotation,ln=(dn.has(gt)?dn.get(gt):Xe)+en,tn=dn.set(gt,ln);Ft(tn),Bn(function(Rn){return!Rn}),Yn(ne(ne({},qt.current),{pagesRotation:tn,rotatedPage:gt})),Nt({direction:Wt,doc:Re,pageIndex:gt,rotation:ln}),Vn.markRendering(gt),Sr(gt)},[]),Si=R.useCallback(function(gt){Yn(ne(ne({},qt.current),{scrollMode:gt})),xt(gt)},[]),Ci=R.useCallback(function(gt){Yn(ne(ne({},qt.current),{viewMode:gt})),wt(gt)},[]),tr=R.useCallback(function(gt){var Wt=un.current,en=qt.current.pageIndex;if(!(en<0||en>=Bt)){var dn=qe[en].pageHeight,ln=qe[en].pageWidth,tn=Wt?typeof gt=="string"?Tr(Wt,dn,ln,gt,qt.current.viewMode,Bt):gt:1;On.current=typeof gt=="string"?gt:null,tn!==qt.current.scale&&(xa(function(Rn){return Rn+1}),Vn.markNotRendered(),Ln(tn),Pt({doc:Re,scale:tn}),Yn(ne(ne({},qt.current),{scale:tn})))}},[]),Na=R.useCallback(function(gt){hn.enterFullScreenMode(gt)},[]),ja=R.useCallback(function(){hn.exitFullScreenMode()},[]);R.useEffect(function(){Yn(ne(ne({},qt.current),{fullScreenMode:hn.fullScreenMode}))},[hn.fullScreenMode]),R.useEffect(function(){var gt={enterFullScreenMode:Na,exitFullScreenMode:ja,getPagesContainer:Ta,getViewerState:Ra,jumpToDestination:_i,jumpToNextDestination:Ia,jumpToPreviousDestination:La,jumpToNextPage:Oa,jumpToPreviousPage:Da,jumpToPage:Zn,openFile:Ei,rotate:yi,rotatePage:Or,setViewerState:Yn,switchScrollMode:Si,switchViewMode:Ci,zoom:tr};return We.forEach(function(Wt){Wt.install&&Wt.install(gt)}),function(){We.forEach(function(Wt){Wt.uninstall&&Wt.uninstall(gt)})}},[Lt]),R.useEffect(function(){vt({doc:Re,file:fe}),We.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad({doc:Re,file:fe})})},[Lt]);var Dr,Nr,jr,Ai=pn.boundingClientRect;Dr=function(){Ve&&Zn(Ve)},Nr=Ai.height>0&&Ai.width>0,jr=R.useRef(!1),te(function(){Nr&&!jr.current&&(jr.current=!0,Dr())},[Dr,Nr]),te(function(){var gt=qt.current.pageIndex;gt>-1&&zt!==$t&&pn.scrollToItem(gt,cr).then(function(){hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Ne||Vn.markNotRendered(),vn.current=-1)})},[$t]),te(function(){var gt=qt.current.pageIndex;gt>-1&&Wn!==wn&&pn.scrollToItem(gt,cr)},[wn]),te(function(){zn!=0&&zn!=qt.current.scale&&pn.zoom(qt.current.scale/zn,qt.current.pageIndex).then(function(){hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(_n.current=-1)})},[fn]),te(function(){if(Ut!==qt.current.viewMode){var gt=pn.startPage,Wt=pn.endPage,en=pn.virtualItems;Vn.markNotRendered(),Vn.setRange(gt,Wt);for(var dn=function(tn){var Rn=en.find(function(Jn){return Jn.index===tn});Rn&&Vn.setVisibility(tn,Rn.visibility)},ln=gt;ln<=Wt;ln++)dn(ln);Br()}},[Mt]),te(function(){var gt=qt.current.pageIndex;gt>-1&&Ut!==Mt&&pn.scrollToItem(gt,cr)},[Mt]),te(function(){var gt=qt.current.pageIndex;gt>0&&gt===Ve&&Tn.current===Ve&&On.current&&(Tn.current=-1,tr(On.current))},[bn]),R.useEffect(function(){pn.isSmoothScrolling||An.current!==null&&An.current===bn||(An.current=bn,Tt({currentPage:bn,doc:Re}))},[bn,pn.isSmoothScrolling]),R.useEffect(function(){hn.fullScreenMode===A.FullScreenMode.Entering&&qt.current.scrollMode===A.ScrollMode.Page&&(vn.current=qt.current.pageIndex),hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&qt.current.scrollMode===A.ScrollMode.Page&&Ne&&(vn.current=-1),hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&On.current&&(_n.current=qt.current.pageIndex,tr(On.current))},[hn.fullScreenMode]),R.useEffect(function(){if(hn.fullScreenMode!==A.FullScreenMode.Entering&&hn.fullScreenMode!==A.FullScreenMode.Exitting&&!pn.isSmoothScrolling){var gt=pn.startPage,Wt=pn.endPage,en=pn.maxVisbilityIndex,dn=pn.virtualItems,ln=en,tn=hn.fullScreenMode===A.FullScreenMode.Entered||hn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(tn&&ln!==vn.current&&vn.current>-1||tn&&ln!==_n.current&&_n.current>-1)){Mn(ln),Yn(ne(ne({},qt.current),{pageIndex:ln})),Vn.setRange(gt,Wt);for(var Rn=function(zr){var Cr=dn.find(function(Qn){return Qn.index===zr});Cr&&Vn.setVisibility(zr,Cr.visibility)},Jn=gt;Jn<=Wt;Jn++)Rn(Jn);Br()}}},[pn.startPage,pn.endPage,pn.isSmoothScrolling,pn.maxVisbilityIndex,hn.fullScreenMode,Fn,wn,fn]);var Ba=R.useCallback(function(gt){Vn.markRendered(gt),Br()},[pr]),Br=function(){var gt=Vn.getHighestPriorityPage();gt>-1&&Vn.isInRange(gt)&&(Vn.markRendering(gt),Sr(gt))},za=function(gt){var Wt=bn-1,en=bn+1;switch(gt){case"FirstPage":Zn(0);break;case"LastPage":Zn(Bt-1);break;case"NextPage":en<Bt&&Zn(en);break;case"PrevPage":Wt>=0&&Zn(Wt)}},Va=R.useCallback(function(){var gt=pn.virtualItems,Wt=[];switch(Mt){case A.ViewMode.DualPage:Wt=dt(gt,2);break;case A.ViewMode.DualPageWithCover:gt.length&&(Wt=gt[0].index===0?[[gt[0]]].concat(dt(gt.slice(1),2)):dt(gt,2));break;case A.ViewMode.SinglePage:default:Wt=dt(gt,1)}var en=an&&an.core?an.core.pageLabel:"Page {{pageIndex}}",dn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:cn,style:{height:"100%"}},children:R.createElement(R.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ee({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":$t===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":on,"rpv-core__inner-pages--single":$t===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":$t===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":$t===A.ScrollMode.Wrapped}),ref:un,style:{height:"100%",position:"relative"}},children:R.createElement("div",{"data-testid":"core__inner-current-page-".concat(bn),style:Object.assign({"--scale-factor":fn},pn.getContainerStyles())},Wt.map(function(ln){return R.createElement("div",{className:ee({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":$t===A.ScrollMode.Page}),style:pn.getItemContainerStyles(ln[0]),key:"".concat(ln[0].index,"-").concat(Mt)},ln.map(function(tn){var Rn=Mt===A.ViewMode.DualPageWithCover&&(tn.index===0||Bt%2==0&&tn.index===Bt-1);return R.createElement("div",{"aria-label":en.replace("{{pageIndex}}","".concat(tn.index+1)),className:ee({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Mt===A.ViewMode.DualPage&&tn.index%2==0,"rpv-core__inner-page--dual-odd":Mt===A.ViewMode.DualPage&&tn.index%2==1,"rpv-core__inner-page--dual-cover":Rn,"rpv-core__inner-page--dual-cover-even":Mt===A.ViewMode.DualPageWithCover&&!Rn&&tn.index%2==0,"rpv-core__inner-page--dual-cover-odd":Mt===A.ViewMode.DualPageWithCover&&!Rn&&tn.index%2==1,"rpv-core__inner-page--single":Mt===A.ViewMode.SinglePage&&$t===A.ScrollMode.Page}),role:"region",key:"".concat(tn.index,"-").concat(Mt),style:Object.assign({},pn.getItemStyles(tn),bi.buildPageStyles({numPages:Bt,pageIndex:tn.index,scrollMode:$t,viewMode:Mt}))},R.createElement(sa,{doc:Re,measureRef:tn.measureRef,outlines:Qt,pageIndex:tn.index,pageRotation:Ot.has(tn.index)?Ot.get(tn.index):0,pageSize:qe[tn.index],plugins:We,renderPage:ut,renderQueueKey:pr,rotation:wn,scale:fn,shouldRender:lr===tn.index,viewMode:Mt,onExecuteNamedAction:za,onJumpFromLinkAnnotation:Fa,onJumpToDest:_i,onRenderCompleted:Ba,onRotatePage:Or}))}))}))}};return We.forEach(function(ln){ln.renderViewer&&(dn=ln.renderViewer({containerRef:cn,doc:Re,pagesContainerRef:un,pagesRotation:Ot,pageSizes:qe,rotation:wn,slot:dn,themeContext:rn,jumpToPage:Zn,openFile:Ei,rotate:yi,rotatePage:Or,switchScrollMode:Si,switchViewMode:Ci,zoom:tr}))}),dn},[We,pn]),wi=R.useCallback(function(gt){return R.createElement("div",ne({},gt.attrs,{style:gt.attrs&&gt.attrs.style?gt.attrs.style:{}}),gt.children,gt.subSlot&&wi(gt.subSlot))},[]);return wi(Va())},mi=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ca=function(Y){var fe=Y.defaultScale,Pe=Y.doc,Re=Y.render,Ne=Y.scrollMode,Ve=Y.viewMode,Xe=R.useRef(),Ue=R.useState({pageSizes:[],scale:0}),Ie=Ue[0],qe=Ue[1];return R.useLayoutEffect(function(){var We=Array(Pe.numPages).fill(0).map(function(ut,lt){return new Promise(function(ct,yt){Me(Pe,lt).then(function(bt){var vt=bt.getViewport({scale:1});ct({pageHeight:vt.height,pageWidth:vt.width,rotation:vt.rotation})})})});Promise.all(We).then(function(ut){var lt=Xe.current;if(lt&&ut.length!==0){var ct=ut[0].pageWidth,yt=ut[0].pageHeight,bt=lt.parentElement,vt=(bt.clientWidth-45)/ct,Kt=(bt.clientHeight-45)/yt,Tt=vt;switch(Ne){case A.ScrollMode.Horizontal:Tt=Math.min(vt,Kt);break;case A.ScrollMode.Vertical:default:Tt=vt}var Rt,Nt,Pt=fe?typeof fe=="string"?Tr(bt,yt,ct,fe,Ve,Pe.numPages):fe:(Rt=Tt,(Nt=mi.findIndex(function(Bt){return Bt>=Rt}))===-1||Nt===0?Rt:mi[Nt-1]);qe({pageSizes:ut,scale:Pt})}})},[Pe.loadingTask.docId]),Ie.pageSizes.length===0||Ie.scale===0?R.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Xe},R.createElement(W,null)):Re(Ie.pageSizes,Ie.scale)},yr=function(){},Fr=function(Y){function fe(Pe,Re){var Ne=Y.call(this)||this;return Ne.verifyPassword=Pe,Ne.passwordStatus=Re,Ne}return pe(fe,Y),fe}(yr),Aa=function(Y){var fe=Y.passwordStatus,Pe=Y.renderProtectedView,Re=Y.verifyPassword,Ne=Y.onDocumentAskPassword,Ve=R.useContext(Ae).l10n,Xe=R.useState(""),Ue=Xe[0],Ie=Xe[1],qe=R.useContext(ae).direction===A.TextDirection.RightToLeft,We=function(){return Re(Ue)};return R.useEffect(function(){Ne&&Ne({verifyPassword:Re})},[]),Pe?Pe({passwordStatus:fe,verifyPassword:Re}):R.createElement("div",{className:"rpv-core__asking-password-wrapper"},R.createElement("div",{className:ee({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":qe})},R.createElement("div",{className:"rpv-core__asking-password-message"},fe===A.PasswordStatus.RequiredPassword&&Ve.core.askingPassword.requirePasswordToOpen,fe===A.PasswordStatus.WrongPassword&&Ve.core.wrongPassword.tryAgain),R.createElement("div",{className:"rpv-core__asking-password-body"},R.createElement("div",{className:ee({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!qe,"rpv-core__asking-password-input--rtl":qe})},R.createElement(q,{testId:"core__asking-password-input",type:"password",value:Ue,onChange:Ie,onKeyDown:function(ut){ut.key==="Enter"&&We()}})),R.createElement(K,{onClick:We},Ve.core.askingPassword.submit))))},gi=function(Y){function fe(Pe){var Re=Y.call(this)||this;return Re.doc=Pe,Re}return pe(fe,Y),fe}(yr),vi=function(Y){function fe(Pe){var Re=Y.call(this)||this;return Re.error=Pe,Re}return pe(fe,Y),fe}(yr),Ir=function(Y){function fe(Pe){var Re=Y.call(this)||this;return Re.percentages=Pe,Re}return pe(fe,Y),fe}(yr),wa=function(Y){var fe=Y.characterMap,Pe=Y.file,Re=Y.httpHeaders,Ne=Y.render,Ve=Y.renderError,Xe=Y.renderLoader,Ue=Y.renderProtectedView,Ie=Y.transformGetDocumentParams,qe=Y.withCredentials,We=Y.onDocumentAskPassword,ut=R.useContext(ae).direction===A.TextDirection.RightToLeft,lt=R.useState(new Ir(0)),ct=lt[0],yt=lt[1],bt=R.useRef(""),vt=He();return R.useEffect(function(){bt.current="",yt(new Ir(0));var Kt=new re.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Tt=Object.assign({httpHeaders:Re,withCredentials:qe,worker:Kt},typeof Pe=="string"?{url:Pe}:{data:Pe},fe?{cMapUrl:fe.url,cMapPacked:fe.isCompressed}:{}),Rt=Ie?Ie(Tt):Tt,Nt=re.getDocument(Rt);return Nt.onPassword=function(Pt,Bt){switch(Bt){case re.PasswordResponses.NEED_PASSWORD:vt.current&&yt(new Fr(Pt,A.PasswordStatus.RequiredPassword));break;case re.PasswordResponses.INCORRECT_PASSWORD:vt.current&&yt(new Fr(Pt,A.PasswordStatus.WrongPassword))}},Nt.onProgress=function(Pt){var Bt=Pt.total>0?Math.min(100,100*Pt.loaded/Pt.total):100;vt.current&&bt.current===""&&yt(new Ir(Bt))},Nt.promise.then(function(Pt){bt.current=Pt.loadingTask.docId,vt.current&&yt(new gi(Pt))},function(Pt){return vt.current&&!Kt.destroyed&&yt(new vi({message:Pt.message||"Cannot load document",name:Pt.name}))}),function(){Nt.destroy(),Kt.destroy()}},[Pe]),ct instanceof Fr?R.createElement(Aa,{passwordStatus:ct.passwordStatus,renderProtectedView:Ue,verifyPassword:ct.verifyPassword,onDocumentAskPassword:We}):ct instanceof gi?Ne(ct.doc):ct instanceof vi?Ve?Ve(ct.error):R.createElement("div",{className:ee({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":ut})},R.createElement("div",{className:"rpv-core__doc-error-text"},ct.error.message)):R.createElement("div",{"data-testid":"core__doc-loading",className:ee({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":ut})},Xe?Xe(ct.percentages):R.createElement(W,null))},Pa=function(Y,fe){var Pe=R.useMemo(function(){return Y==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Y},[]),Re=R.useState(Pe),Ne=Re[0],Ve=Re[1],Xe=je(Ne);return R.useEffect(function(){if(Y==="auto"){var Ue=window.matchMedia("(prefers-color-scheme: dark)"),Ie=function(qe){Ve(qe.matches?"dark":"light")};return Ue.addEventListener("change",Ie),function(){return Ue.removeEventListener("change",Ie)}}},[]),R.useEffect(function(){Ne!==Xe&&fe&&fe(Ne)},[Ne]),R.useEffect(function(){Y!==Ne&&Ve(Y)},[Y]),{currentTheme:Ne,setCurrentTheme:Ve}},ka=function(Y){return{startPage:Y.startPage-3,endPage:Y.endPage+3}};A.Button=function(Y){var fe=Y.children,Pe=Y.testId,Re=Y.onClick,Ne=R.useContext(ae).direction===A.TextDirection.RightToLeft,Ve=Pe?{"data-testid":Pe}:{};return R.createElement("button",ne({className:ee({"rpv-core__button":!0,"rpv-core__button--rtl":Ne}),type:"button",onClick:Re},Ve),fe)},A.Icon=U,A.LazyRender=function(Y){var fe=Y.attrs,Pe=Y.children,Re=Y.testId,Ne=R.useState(!1),Ve=Ne[0],Xe=Ne[1],Ue=Re?ne(ne({},fe),{"data-testid":Re}):fe,Ie=G({once:!0,onVisibilityChanged:function(qe){qe.isVisible&&Xe(!0)}});return R.createElement("div",ne({ref:Ie},Ue),Ve&&Pe)},A.LocalizationContext=Ae,A.Menu=function(Y){var fe=Y.children,Pe=R.useRef(),Re=R.useRef([]),Ne=R.useContext(ae).direction===A.TextDirection.RightToLeft,Ve=function(Ue){if(Pe.current)switch(Ue.key){case"Tab":Ue.preventDefault();break;case"ArrowDown":Ue.preventDefault(),Xe(function(Ie,qe){return qe+1});break;case"ArrowUp":Ue.preventDefault(),Xe(function(Ie,qe){return qe-1});break;case"End":Ue.preventDefault(),Xe(function(Ie,qe){return Ie.length-1});break;case"Home":Ue.preventDefault(),Xe(function(Ie,qe){return 0})}},Xe=function(Ue){if(Pe.current){var Ie=Re.current,qe=Ie.findIndex(function(ut){return ut.getAttribute("tabindex")==="0"}),We=Math.min(Ie.length-1,Math.max(0,Ue(Ie,qe)));qe>=0&&qe<=Ie.length-1&&Ie[qe].setAttribute("tabindex","-1"),Ie[We].setAttribute("tabindex","0"),Ie[We].focus()}};return te(function(){var Ue=Pe.current;if(Ue){var Ie=function(qe){var We=[];return qe.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(ut){if(ut instanceof HTMLElement){var lt=ut.parentElement;(lt===qe||window.getComputedStyle(lt).display!=="none")&&We.push(ut)}}),We}(Ue);Re.current=Ie}},[]),te(function(){return document.addEventListener("keydown",Ve),function(){document.removeEventListener("keydown",Ve)}},[]),R.createElement("div",{ref:Pe,"aria-orientation":"vertical",className:ee({"rpv-core__menu":!0,"rpv-core__menu--rtl":Ne}),role:"menu",tabIndex:0},fe)},A.MenuDivider=function(){return R.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(Y){var fe=Y.checked,Pe=fe!==void 0&&fe,Re=Y.children,Ne=Y.icon,Ve=Ne===void 0?null:Ne,Xe=Y.isDisabled,Ue=Xe!==void 0&&Xe,Ie=Y.testId,qe=Y.onClick,We=R.useContext(ae).direction===A.TextDirection.RightToLeft,ut=Ie?{"data-testid":Ie}:{};return R.createElement("button",ne({className:ee({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ue,"rpv-core__menu-item--ltr":!We,"rpv-core__menu-item--rtl":We}),role:"menuitem",tabIndex:-1,type:"button",onClick:qe},ut),R.createElement("div",{className:ee({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!We,"rpv-core__menu-item-icon--rtl":We})},Ve),R.createElement("div",{className:ee({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!We,"rpv-core__menu-item-label--rtl":We})},Re),R.createElement("div",{className:ee({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!We,"rpv-core__menu-item-check--rtl":We})},Pe&&R.createElement(J,null)))},A.MinimalButton=function(Y){var fe=Y.ariaLabel,Pe=fe===void 0?"":fe,Re=Y.ariaKeyShortcuts,Ne=Re===void 0?"":Re,Ve=Y.children,Xe=Y.isDisabled,Ue=Xe!==void 0&&Xe,Ie=Y.isSelected,qe=Ie!==void 0&&Ie,We=Y.testId,ut=Y.onClick,lt=R.useContext(ae).direction===A.TextDirection.RightToLeft,ct=We?{"data-testid":We}:{};return R.createElement("button",ne({"aria-label":Pe},Ne&&{"aria-keyshortcuts":Ne},Ue&&{"aria-disabled":!0},{className:ee({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ue,"rpv-core__minimal-button--rtl":lt,"rpv-core__minimal-button--selected":qe}),type:"button",onClick:ut},ct),Ve)},A.Modal=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.closeOnClickOutside,Re=Y.closeOnEscape,Ne=Y.content,Ve=Y.isOpened,Xe=Ve!==void 0&&Ve,Ue=Y.target,Ie=fe||"".concat(ie());return R.createElement(it,{target:Ue?function(qe,We){return R.createElement("div",{"aria-expanded":We?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ie)},Ue(qe,We))}:null,content:function(qe){return R.createElement(Te,null,R.createElement(we,{ariaControlsSuffix:Ie,closeOnClickOutside:Pe,closeOnEscape:Re,onToggle:qe},Ne(qe)))},isOpened:Xe})},A.Popover=function(Y){var fe=Y.ariaHasPopup,Pe=fe===void 0?"dialog":fe,Re=Y.ariaControlsSuffix,Ne=Y.closeOnClickOutside,Ve=Y.closeOnEscape,Xe=Y.content,Ue=Y.lockScroll,Ie=Ue===void 0||Ue,qe=Y.offset,We=Y.position,ut=Y.target,lt=Ge(!1),ct=lt.opened,yt=lt.toggle,bt=R.useRef(),vt=R.useMemo(function(){return Re||"".concat(ie())},[]);return R.createElement("div",{ref:bt,"aria-expanded":ct?"true":"false","aria-haspopup":Pe,"aria-controls":"rpv-core__popver-body-".concat(vt)},ut(yt,ct),ct&&R.createElement(R.Fragment,null,Ie&&R.createElement(at,{closeOnEscape:Ve,onClose:yt}),R.createElement(ot,{ariaControlsSuffix:vt,closeOnClickOutside:Ne,offset:qe,position:We,targetRef:bt,onClose:yt},Xe(yt))))},A.PrimaryButton=K,A.ProgressBar=function(Y){var fe=Y.progress,Pe=R.useContext(ae).direction===A.TextDirection.RightToLeft;return R.createElement("div",{className:ee({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Pe})},R.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(fe,"%")}},fe,"%"))},A.Separator=function(){return R.createElement("div",{className:"rpv-core__separator"})},A.Spinner=W,A.Splitter=function(Y){var fe=Y.constrain,Pe=R.useContext(ae).direction===A.TextDirection.RightToLeft,Re=R.useRef(),Ne=R.useRef(),Ve=R.useRef(),Xe=R.useRef(0),Ue=R.useRef(0),Ie=R.useRef(0),qe=R.useRef(0),We={capture:!0},ut=function(ct){var yt=Re.current,bt=Ne.current,vt=Ve.current;if(yt&&bt&&vt){var Kt=qe.current,Tt=ct.clientX-Xe.current,Rt=Ie.current+(Pe?-Tt:Tt),Nt=yt.parentElement.getBoundingClientRect().width,Pt=100*Rt/Nt;if(yt.classList.add("rpv-core__splitter--resizing"),fe){var Bt=Nt-Rt-Kt;if(!fe({firstHalfPercentage:Pt,firstHalfSize:Rt,secondHalfPercentage:100*Bt/Nt,secondHalfSize:Bt}))return}bt.style.width="".concat(Pt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),bt.classList.add("rpv-core__splitter-sibling--resizing"),vt.classList.add("rpv-core__splitter-sibling--resizing")}},lt=function(ct){var yt=Re.current,bt=Ne.current,vt=Ve.current;yt&&bt&&vt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),yt.classList.remove("rpv-core__splitter--resizing"),bt.classList.remove("rpv-core__splitter-sibling--resizing"),vt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",ut,We),document.removeEventListener("mouseup",lt,We))};return R.useEffect(function(){var ct=Re.current;ct&&(qe.current=ct.getBoundingClientRect().width,Ne.current=ct.previousElementSibling,Ve.current=ct.nextElementSibling)},[]),R.createElement("div",{ref:Re,className:"rpv-core__splitter",onMouseDown:function(ct){var yt=Ne.current;yt&&(Xe.current=ct.clientX,Ue.current=ct.clientY,Ie.current=yt.getBoundingClientRect().width,document.addEventListener("mousemove",ut,We),document.addEventListener("mouseup",lt,We))}})},A.TextBox=q,A.ThemeContext=ae,A.Tooltip=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.content,Re=Y.offset,Ne=Y.position,Ve=Y.target,Xe=Ge(!1),Ue=Xe.opened,Ie=Xe.toggle,qe=R.useRef(),We=R.useRef(),ut=R.useMemo(function(){return fe||"".concat(ie())},[]);Ce(function(){qe.current&&document.activeElement&&qe.current.contains(document.activeElement)&&ct()});var lt=function(){Ie(A.ToggleStatus.Open)},ct=function(){Ie(A.ToggleStatus.Close)};return R.createElement(R.Fragment,null,R.createElement("div",{ref:qe,"aria-describedby":"rpv-core__tooltip-body-".concat(ut),onBlur:function(yt){yt.relatedTarget instanceof HTMLElement&&yt.currentTarget.parentElement&&yt.currentTarget.parentElement.contains(yt.relatedTarget)?We.current&&(We.current.style.display="none"):ct()},onFocus:lt,onMouseEnter:lt,onMouseLeave:ct},Ve),Ue&&R.createElement(Ze,{ariaControlsSuffix:ut,contentRef:We,offset:Re,position:Ne,targetRef:qe},Pe()))},A.Viewer=function(Y){var fe=Y.characterMap,Pe=Y.defaultScale,Re=Y.enableSmoothScroll,Ne=Re===void 0||Re,Ve=Y.fileUrl,Xe=Y.httpHeaders,Ue=Xe===void 0?{}:Xe,Ie=Y.initialPage,qe=Ie===void 0?0:Ie,We=Y.pageLayout,ut=Y.initialRotation,lt=ut===void 0?0:ut,ct=Y.localization,yt=Y.plugins,bt=yt===void 0?[]:yt,vt=Y.renderError,Kt=Y.renderLoader,Tt=Y.renderPage,Rt=Y.renderProtectedView,Nt=Y.scrollMode,Pt=Nt===void 0?A.ScrollMode.Vertical:Nt,Bt=Y.setRenderRange,Lt=Bt===void 0?ka:Bt,an=Y.transformGetDocumentParams,rn=Y.theme,on=rn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:rn,cn=Y.viewMode,un=cn===void 0?A.ViewMode.SinglePage:cn,$n=Y.withCredentials,bn=$n!==void 0&&$n,Mn=Y.onDocumentAskPassword,An=Y.onDocumentLoad,Pn=An===void 0?function(){}:An,kn=Y.onPageChange,wn=kn===void 0?function(){}:kn,Nn=Y.onRotate,Wn=Nn===void 0?function(){}:Nn,Un=Y.onRotatePage,Fn=Un===void 0?function(){}:Un,Bn=Y.onSwitchTheme,Xn=Bn===void 0?function(){}:Bn,Ot=Y.onZoom,Ft=Ot===void 0?function(){}:Ot,kt=R.useState({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:!1}),$t=kt[0],xt=kt[1],zt=function(vn,_n){xt({data:_n,name:vn,shouldLoad:!0})},Ht=R.useState(!1),Mt=Ht[0],wt=Ht[1],Ut=je($t);R.useEffect(function(){var vn,_n,Tn,hn;vn=Ut.data,hn=typeof(_n=Ve),(Tn=typeof vn)=="string"&&hn==="string"&&vn===_n||Tn==="object"&&hn==="object"&&vn.length===_n.length&&vn.every(function(Kn,lr){return Kn===_n[lr]})||xt({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:Mt})},[Ve,Mt]);var Qt=G({onVisibilityChanged:function(vn){wt(vn.isVisible),vn.isVisible&&xt(function(_n){return Object.assign({},_n,{shouldLoad:!0})})}}),gn=typeof on=="string"?{direction:A.TextDirection.LeftToRight,theme:on}:on,fn=R.useState(ct||tt),Ln=fn[0],zn=fn[1],qt={l10n:Ln,setL10n:zn},On=Object.assign({},{direction:gn.direction},Pa(gn.theme||"light",Xn));return R.useEffect(function(){ct&&zn(ct)},[ct]),R.createElement(Ae.Provider,{value:qt},R.createElement(ae.Provider,{value:On},R.createElement("div",{ref:Qt,className:"rpv-core__viewer rpv-core__viewer--".concat(On.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},$t.shouldLoad&&R.createElement(wa,{characterMap:fe,file:$t.data,httpHeaders:Ue,render:function(vn){return R.createElement(Ca,{defaultScale:Pe,doc:vn,render:function(_n,Tn){return R.createElement(Sa,{currentFile:{data:$t.data,name:$t.name},defaultScale:Pe,doc:vn,enableSmoothScroll:Ne,initialPage:qe,initialRotation:lt,initialScale:Tn,pageLayout:We,pageSizes:_n,plugins:bt,renderPage:Tt,scrollMode:Pt,setRenderRange:Lt,viewMode:un,viewerState:{file:$t,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:_n[0].pageHeight,pageWidth:_n[0].pageWidth,pagesRotation:new Map,rotation:lt,scale:Tn,scrollMode:Pt,viewMode:un},onDocumentLoad:Pn,onOpenFile:zt,onPageChange:wn,onRotate:Wn,onRotatePage:Fn,onZoom:Ft})},scrollMode:Pt,viewMode:un})},renderError:vt,renderLoader:Kt,renderProtectedView:Rt,transformGetDocumentParams:an,withCredentials:bn,onDocumentAskPassword:Mn}))))},A.Worker=function(Y){var fe=Y.children,Pe=Y.workerUrl;return re.GlobalWorkerOptions.workerSrc=Pe,R.createElement(R.Fragment,null,fe)},A.chunk=dt,A.classNames=ee,A.createStore=function(Y){var fe=Y||{},Pe={},Re=function(Ve,Xe){var Ue;fe=ne(ne({},fe),((Ue={})[Ve]=Xe,Ue)),(Pe[Ve]||[]).forEach(function(Ie){return Ie(fe[Ve])})},Ne=function(Ve){return fe[Ve]};return{subscribe:function(Ve,Xe){Pe[Ve]=(Pe[Ve]||[]).concat(Xe)},unsubscribe:function(Ve,Xe){Pe[Ve]=(Pe[Ve]||[]).filter(function(Ue){return Ue!==Xe})},update:function(Ve,Xe){Re(Ve,Xe)},updateCurrentValue:function(Ve,Xe){var Ue=Ne(Ve);Ue!==void 0&&Re(Ve,Xe(Ue))},get:function(Ve){return Ne(Ve)}}},A.getDestination=Fe,A.getPage=Me,A.isFullScreenEnabled=ce,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=ze,A.useIntersectionObserver=G,A.useIsMounted=He,A.useIsomorphicLayoutEffect=te,A.usePrevious=je,A.useRenderQueue=Je})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,V=n$e.useRef(),B=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,R=n$e.useRef([]),re=B&&B.attachment?B.attachment.clickToDownload:"Click to download",de=function(pe){var oe=V.current,ne=[].slice.call(oe.getElementsByClassName("rpv-attachment__item"));if(ne.length!==0){ne.forEach(function(ee){return ee.setAttribute("tabindex","-1")});var be=document.activeElement,ae=ne[Math.min(ne.length-1,Math.max(0,pe(ne,be)))];ae.setAttribute("tabindex","0"),ae.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var pe=V.current;if(pe){var oe=[].slice.call(pe.getElementsByClassName("rpv-attachment__item"));if(R.current=oe,oe.length>0){var ne=oe[0];ne.focus(),ne.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:V,tabIndex:-1,onKeyDown:function(pe){switch(pe.key){case"ArrowDown":pe.preventDefault(),de(function(oe,ne){return oe.indexOf(ne)+1});break;case"ArrowUp":pe.preventDefault(),de(function(oe,ne){return oe.indexOf(ne)-1});break;case"End":pe.preventDefault(),de(function(oe,ne){return oe.length-1});break;case"Home":pe.preventDefault(),de(function(oe,ne){return 0})}}},$.map(function(pe){return n$e.createElement("button",{className:"rpv-attachment__item",key:pe.fileName,tabIndex:-1,title:re,type:"button",onClick:function(){return oe=pe.fileName,ne=pe.data,be=typeof ne=="string"?"":URL.createObjectURL(new Blob([ne],{type:""})),(ae=document.createElement("a")).style.display="none",ae.href=be||oe,ae.setAttribute("download",function(ee){var te=ee.split("/").pop();return te?te.split("#")[0].split("?")[0]:ee}(oe)),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),void(be&&URL.revokeObjectURL(be));var oe,ne,be,ae}},pe.fileName)}))},r$e=function(A){var $=A.doc,V=n$e.useContext(e$e.LocalizationContext).l10n,B=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=V&&V.attachment?V.attachment.noAttachment:"There is no attachment",R=n$e.useState({files:[],isLoaded:!1}),re=R[0],de=R[1];return n$e.useEffect(function(){$.getAttachments().then(function(pe){var oe=pe?Object.keys(pe).map(function(ne){return{data:pe[ne].content,fileName:pe[ne].filename}}):[];de({files:oe,isLoaded:!0})})},[$]),re.isLoaded?re.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":B})},O):n$e.createElement(a$e,{files:re.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,V=n$e.useState($.get("doc")),B=V[0],O=V[1],R=function(re){O(re)};return n$e.useEffect(function(){return $.subscribe("doc",R),function(){$.unsubscribe("doc",R)}},[]),B?n$e.createElement(r$e,{doc:B}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,V=A.depth,B=A.doc,O=A.index,R=A.isBookmarkExpanded,re=A.numberOfSiblings,de=A.pathFromRoot,pe=A.renderBookmarkItem,oe=A.store,ne=de?"".concat(de,".").concat(O):"".concat(O),be=o$d.useMemo(function(){return function(Ee){var Se=Ee.count,ce=Ee.items;if(Se>=0)return!1;var xe=ce.length;if(xe===0)return!1;for(var et=ce.concat([]);et.length>0;){var ze=et.shift(),He=ze.items;ze.count&&He&&ze.count>0&&He.length>0&&(xe+=He.length,et=et.concat(He))}return Math.abs(Se)===xe}($)},[$]),ae=oe.get("bookmarkExpandedMap"),ee=R?R({bookmark:$,doc:B,depth:V,index:O}):ae.has(ne)?ae.get(ne):!be,te=o$d.useState(ee),G=te[0],U=te[1],J=$.items&&$.items.length>0,K=function(){var Ee=!G;oe.updateCurrentValue("bookmarkExpandedMap",function(Se){return Se.set(ne,Ee)}),U(Ee)},W=function(){var Ee=$.dest,Se=oe.get("jumpToDestination");e$d.getDestination(B,Ee).then(function(ce){Se&&Se(n$d({label:$.title},ce))})},q=function(){J&&$.dest&&W()},H=function(){!J&&$.dest&&W()},X=function(Ee,Se){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*V,"rem")},onClick:Ee},Se)},ue=function(Ee,Se){return J?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(V,"-").concat(O),onClick:K},G?Ee:Se):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},ge=function(Ee){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:Ee},$.title)};return o$d.createElement("li",{"aria-expanded":G?"true":"false","aria-label":$.title,"aria-level":V+1,"aria-posinset":O+1,"aria-setsize":re,role:"treeitem",tabIndex:-1},pe?pe({bookmark:$,depth:V,hasSubItems:J,index:O,isExpanded:G,path:ne,defaultRenderItem:X,defaultRenderTitle:ge,defaultRenderToggle:ue,onClickItem:H,onClickTitle:q,onToggleSubItems:K}):X(H,o$d.createElement(o$d.Fragment,null,ue(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),ge(q))),J&&G&&o$d.createElement(m$9,{bookmarks:$.items,depth:V+1,doc:B,isBookmarkExpanded:R,isRoot:!1,pathFromRoot:ne,renderBookmarkItem:pe,store:oe}))},m$9=function(A){var $=A.bookmarks,V=A.depth,B=V===void 0?0:V,O=A.doc,R=A.isBookmarkExpanded,re=A.isRoot,de=A.pathFromRoot,pe=A.renderBookmarkItem,oe=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:re?"tree":"group",tabIndex:-1},$.map(function(ne,be){return o$d.createElement(c$d,{bookmark:ne,depth:B,doc:O,index:be,isBookmarkExpanded:R,key:be,numberOfSiblings:$.length,pathFromRoot:de,renderBookmarkItem:pe,store:oe})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,V=A.doc,B=A.isBookmarkExpanded,O=A.renderBookmarkItem,R=A.store,re=o$d.useRef(),de=function(be){var ae=re.current;if(ae&&be.target instanceof HTMLElement&&ae.contains(be.target))switch(be.key){case"ArrowDown":be.preventDefault(),oe(function(ee,te){return ee.indexOf(te)+1});break;case"ArrowLeft":be.preventDefault(),ne(r$d.Collapse);break;case"ArrowRight":be.preventDefault(),ne(r$d.Expand);break;case"ArrowUp":be.preventDefault,oe(function(ee,te){return ee.indexOf(te)-1});break;case"End":be.preventDefault(),oe(function(ee,te){return ee.length-1});break;case" ":case"Enter":case"Space":be.preventDefault(),pe();break;case"Home":be.preventDefault(),oe(function(ee,te){return 0})}},pe=function(){var be=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");be&&be.click()},oe=function(be){var ae=re.current,ee=[].slice.call(ae.getElementsByClassName("rpv-bookmark__item"));if(ee.length!==0){var te=document.activeElement,G=ee[Math.min(ee.length-1,Math.max(0,be(ee,te)))];te.setAttribute("tabindex","-1"),G.setAttribute("tabindex","0"),G.focus()}},ne=function(be){var ae=re.current;if([].slice.call(ae.getElementsByClassName("rpv-bookmark__item")).length!==0){var ee=document.activeElement.closest(".rpv-bookmark__item"),te=be===r$d.Collapse?"true":"false";if(ee&&ee.parentElement.getAttribute("aria-expanded")===te){var G=ee.querySelector(".rpv-bookmark__toggle");G&&G.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",de),function(){document.removeEventListener("keydown",de)}},[]),o$d.useEffect(function(){var be=re.current;if(be){var ae=[].slice.call(be.getElementsByClassName("rpv-bookmark__item"));ae.length>0&&(ae[0].focus(),ae[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:re},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:V,isBookmarkExpanded:B,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:R}))},s$9=function(A){var $=A.doc,V=A.isBookmarkExpanded,B=A.renderBookmarkItem,O=A.store,R=o$d.useContext(e$d.LocalizationContext).l10n,re=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,de=o$d.useState({isLoaded:!1,items:[]}),pe=de[0],oe=de[1];return o$d.useEffect(function(){oe({isLoaded:!1,items:[]}),$.getOutline().then(function(ne){oe({isLoaded:!0,items:ne||[]})})},[$]),pe.isLoaded?pe.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":re})},R&&R.bookmark?R.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":re})},o$d.createElement(l$d,{bookmarks:pe.items,doc:$,isBookmarkExpanded:V,renderBookmarkItem:B,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,V=A.renderBookmarkItem,B=A.store,O=o$d.useState(B.get("doc")),R=O[0],re=O[1],de=function(pe){re(pe)};return o$d.useEffect(function(){return B.subscribe("doc",de),function(){B.unsubscribe("doc",de)}},[]),R?o$d.createElement(s$9,{doc:R,isBookmarkExpanded:$,renderBookmarkItem:V,store:B}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function V(G){var U=Object.create(null);return G&&Object.keys(G).forEach(function(J){if(J!=="default"){var K=Object.getOwnPropertyDescriptor(G,J);Object.defineProperty(U,J,K.get?K:{enumerable:!0,get:function(){return G[J]}})}}),U.default=G,Object.freeze(U)}var B,O=V(reactExports);A.ThumbnailDirection=void 0,(B=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",B.Vertical="Vertical";var R=function(){return R=Object.assign||function(G){for(var U,J=1,K=arguments.length;J<K;J++)for(var W in U=arguments[J])Object.prototype.hasOwnProperty.call(U,W)&&(G[W]=U[W]);return G},R.apply(this,arguments)},re=function(G){var U=G.doc,J=G.getPageIndex,K=G.renderSpinner,W=G.store,q=G.width,H=U.numPages,X=J?J({numPages:H}):0,ue=Math.max(0,Math.min(X,H-1)),ge=W.get("pagesRotation")||new Map,Ee=ge.has(ue)?ge.get(ue):0,Se=O.useState(""),ce=Se[0],xe=Se[1],et=$.useIsMounted(),ze=O.useRef(),He=O.useState(W.get("rotation")||0),je=He[0],Oe=He[1],Le=O.useState(Ee),Je=Le[0],tt=Le[1],Ae=O.useState(!1),le=Ae[0],ie=Ae[1],me=function(Te){var De=Te.has(ue)?Te.get(ue):0;tt(De)},Ce=function(Te){Oe(Te)},we=$.useIntersectionObserver({onVisibilityChanged:function(Te){ie(Te.isVisible)}});return O.useEffect(function(){if(le){var Te=we.current;Te&&(xe(""),$.getPage(U,ue).then(function(De){var Ge=De.getViewport({scale:1}),it=(Ge.rotation+je+Je)%360,Qe=Math.abs(je+Je)%180==0,nt=Qe?Ge.width:Ge.height,Ye=Qe?Ge.height:Ge.width,se=document.createElement("canvas"),he=se.getContext("2d",{alpha:!1}),ye=Te.clientWidth,ke=Te.clientHeight,_e=q?q/nt:Math.min(ye/nt,ke/Ye),$e=_e*nt,rt=_e*Ye;se.height=rt,se.width=$e,se.style.opacity="0";var ot=De.getViewport({rotation:it,scale:_e});ze.current=De.render({canvasContext:he,viewport:ot}),ze.current.promise.then(function(){et.current&&xe(se.toDataURL()),se.width=0,se.height=0},function(){})}))}},[Je,le]),O.useEffect(function(){return W.subscribe("pagesRotation",me),W.subscribe("rotation",Ce),function(){W.unsubscribe("pagesRotation",me),W.unsubscribe("rotation",Ce)}},[]),O.useEffect(function(){return function(){var Te;(Te=ze.current)===null||Te===void 0||Te.cancel()}},[]),O.createElement("div",{ref:we,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},ce?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:ce}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},K?K():O.createElement($.Spinner,null)))},de=function(G){var U=G.getPageIndex,J=G.renderSpinner,K=G.store,W=G.width,q=O.useState(K.get("doc")),H=q[0],X=q[1],ue=function(ge){X(ge)};return O.useEffect(function(){return K.subscribe("doc",ue),function(){K.unsubscribe("doc",ue)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},H?O.createElement(re,{doc:H,getPageIndex:U,renderSpinner:J,store:K,width:W}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},J?J():O.createElement($.Spinner,null)))},pe=function(){return O.createElement($.Spinner,null)},oe=O.createContext({renderSpinner:pe}),ne=function(G){var U=G.children,J=G.doc,K=$.useIsMounted(),W=O.useState({loading:!0,labels:[]}),q=W[0],H=W[1];return O.useEffect(function(){J.getPageLabels().then(function(X){K.current&&H({loading:!1,labels:X||[]})})},[J.loadingTask.docId]),q.loading?O.createElement(O.Fragment,null):U(q.labels)},be=function(G){var U=G.page,J=G.pageHeight,K=G.pageIndex,W=G.pageWidth,q=G.rotation,H=G.thumbnailHeight,X=G.thumbnailWidth,ue=G.onRenderCompleted,ge=O.useContext($.LocalizationContext).l10n,Ee=O.useRef(),Se=O.useState(""),ce=Se[0],xe=Se[1],et=ge&&ge.thumbnail?ge.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var ze=Ee.current;ze&&ze.cancel();var He=document.createElement("canvas"),je=He.getContext("2d",{alpha:!1}),Oe=X,Le=Oe/(W/J),Je=Oe/W;He.height=Le,He.width=Oe,He.style.height="".concat(Le,"px"),He.style.width="".concat(Oe,"px");var tt=U.getViewport({rotation:q,scale:Je});return Ee.current=U.render({canvasContext:je,viewport:tt}),Ee.current.promise.then(function(){xe(He.toDataURL()),ue(K)},function(){ue(K)}),function(){var Ae;(Ae=Ee.current)===null||Ae===void 0||Ae.cancel()}},[q]),ce?O.createElement("img",{"aria-label":et.replace("{{pageIndex}}","".concat(K+1)),src:ce,height:"".concat(H,"px"),width:"".concat(X,"px")}):O.useContext(oe).renderSpinner()},ae=function(G){var U=G.doc,J=G.pageHeight,K=G.pageIndex,W=G.pageRotation,q=G.pageWidth,H=G.rotation,X=G.shouldRender,ue=G.thumbnailWidth,ge=G.onRenderCompleted,Ee=G.onVisibilityChanged,Se=$.useIsMounted(),ce=O.useState({height:J,page:null,viewportRotation:0,width:q}),xe=ce[0],et=ce[1],ze=xe.page,He=xe.height,je=xe.width,Oe=je/He,Le=Math.abs(H+W)%180==0,Je=Le?ue:ue/Oe,tt=Le?ue/Oe:ue;O.useEffect(function(){X&&$.getPage(U,K).then(function(ie){var me=ie.getViewport({scale:1});Se.current&&et({height:me.height,page:ie,viewportRotation:me.rotation,width:me.width})})},[X]);var Ae=(xe.viewportRotation+H+W)%360,le=$.useIntersectionObserver({onVisibilityChanged:function(ie){Ee(K,ie)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(K),ref:le,style:{height:"".concat(tt,"px"),width:"".concat(Je,"px")}},ze?O.createElement(be,{page:ze,pageHeight:Le?He:je,pageIndex:K,pageWidth:Le?je:He,rotation:Ae,thumbnailHeight:tt,thumbnailWidth:Je,onRenderCompleted:ge}):O.useContext(oe).renderSpinner())},ee=function(G){var U=G.currentPage,J=G.doc,K=G.labels,W=G.pagesRotation,q=G.pageHeight,H=G.pageWidth,X=G.renderCurrentPageLabel,ue=G.renderThumbnailItem,ge=G.rotatedPage,Ee=G.rotation,Se=G.thumbnailDirection,ce=G.thumbnailWidth,xe=G.viewMode,et=G.onJumpToPage,ze=G.onRotatePage,He=J.numPages,je=J.loadingTask.docId,Oe=O.useRef(null),Le=O.useRef([]),Je=O.useState(U),tt=Je[0],Ae=Je[1],le=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,ie=O.useState(-1),me=ie[0],Ce=ie[1],we=$.useIsMounted(),Te=$.usePrevious(xe),De=O.useRef(!1),Ge=$.useRenderQueue({doc:J}),it=O.useMemo(function(){return Array(He).fill(0).map(function(_e,$e){return $e})},[je]),Qe=O.useMemo(function(){switch(xe){case $.ViewMode.DualPage:return $.chunk(it,2);case $.ViewMode.DualPageWithCover:return[[it[0]]].concat($.chunk(it.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(it,1)}},[je,xe]),nt=function(){if(Oe.current){var _e=Le.current,$e=tt+1;$e<_e.length&&(tt>=0&&_e[tt].setAttribute("tabindex","-1"),Ae($e))}},Ye=function(){if(Oe.current){var _e=Le.current,$e=tt-1;$e>=0&&(tt>=0&&_e[tt].setAttribute("tabindex","-1"),Ae($e))}},se=function(){tt>=0&&tt<He&&et(tt)};$.useIsomorphicLayoutEffect(function(){var _e=Oe.current;_e&&(Le.current=Array.from(_e.querySelectorAll(".rpv-thumbnail__item")))},[xe]),O.useEffect(function(){var _e=Le.current;if(!(_e.length===0||tt<0||tt>_e.length)){var $e=_e[tt];$e.setAttribute("tabindex","0"),$e.focus()}},[tt]),$.useIsomorphicLayoutEffect(function(){var _e=Oe.current,$e=Le.current;if(!(!_e||$e.length===0||U<0||U>$e.length)){var rt=$e[U].closest(".rpv-thumbnail__items");rt&&(Se===A.ThumbnailDirection.Vertical?function(ot,at){var Ze=ot.getBoundingClientRect().top-at.getBoundingClientRect().top,ft=ot.clientHeight,dt=at.clientHeight;Ze<0?at.scrollTop+=Ze:Ze+ft<=dt||(at.scrollTop+=Ze+ft-dt)}(rt,_e):function(ot,at){var Ze=ot.getBoundingClientRect().left-at.getBoundingClientRect().left,ft=ot.clientWidth,dt=at.clientWidth;Ze<0?at.scrollLeft+=Ze:Ze+ft<=dt||(at.scrollLeft+=Ze+ft-dt)}(rt,_e))}},[U,Se]);var he=O.useCallback(function(_e){we.current&&(Ge.markRendered(_e),De.current=!1,ke())},[je]),ye=O.useCallback(function(_e,$e){$e.isVisible?Ge.setVisibility(_e,$e.ratio):Ge.setOutOfRange(_e),ke()},[je]),ke=O.useCallback(function(){if(!De.current){var _e=Ge.getHighestPriorityPage();_e>-1&&(Ge.markRendering(_e),De.current=!0,Ce(_e))}},[je]);return O.useEffect(function(){ge>=0&&(Ge.markRendering(ge),De.current=!0,Ce(ge))},[je,ge]),$.useIsomorphicLayoutEffect(function(){Te!==xe&&(Ge.markNotRendered(),ke())},[xe]),O.createElement("div",{ref:Oe,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Se===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":le,"rpv-thumbnail__list--vertical":Se===A.ThumbnailDirection.Vertical}),onKeyDown:function(_e){switch(_e.key){case"ArrowDown":nt();break;case"ArrowUp":Ye();break;case"Enter":se()}}},Qe.map(function(_e,$e){var rt=!1;switch(xe){case $.ViewMode.DualPage:rt=U===2*$e||U===2*$e+1;break;case $.ViewMode.DualPageWithCover:rt=U===0&&$e===0||$e>0&&U===2*$e-1||$e>0&&U===2*$e;break;case $.ViewMode.SinglePage:default:rt=U===$e}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":xe===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":xe===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":xe===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":rt}),key:"".concat($e,"___").concat(xe)},_e.map(function(ot){return function(at){var Ze=xe===$.ViewMode.DualPageWithCover&&(at===0||He%2==0&&at===He-1),ft="".concat(J.loadingTask.docId,"___").concat(at),dt=K.length===He?K[at]:"".concat(at+1),_t=X?X({currentPage:U,pageIndex:at,numPages:He,pageLabel:dt}):dt,St=W.has(at)?W.get(at):0,It=O.createElement(ae,{doc:J,pageHeight:q,pageIndex:at,pageRotation:St,pageWidth:H,rotation:Ee,shouldRender:me===at,thumbnailWidth:ce,onRenderCompleted:he,onVisibilityChanged:ye});return ue?ue({currentPage:U,key:ft,numPages:He,pageIndex:at,renderPageLabel:O.createElement(O.Fragment,null,_t),renderPageThumbnail:It,onJumpToPage:function(){return et(at)},onRotatePage:function(Vt){return ze(at,Vt)}}):O.createElement("div",{key:ft},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":xe===$.ViewMode.DualPage&&at%2==0,"rpv-thumbnail__item--dual-odd":xe===$.ViewMode.DualPage&&at%2==1,"rpv-thumbnail__item--dual-cover":Ze,"rpv-thumbnail__item--dual-cover-even":xe===$.ViewMode.DualPageWithCover&&!Ze&&at%2==0,"rpv-thumbnail__item--dual-cover-odd":xe===$.ViewMode.DualPageWithCover&&!Ze&&at%2==1,"rpv-thumbnail__item--single":xe===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":U===at}),role:"button",tabIndex:U===at?0:-1,onClick:function(){return et(at)}},It),O.createElement("div",{"data-testid":"thumbnail__label-".concat(at),className:"rpv-thumbnail__label"},_t))}(ot)}))}))},te=function(G){var U=G.renderCurrentPageLabel,J=G.renderThumbnailItem,K=G.store,W=G.thumbnailDirection,q=G.thumbnailWidth,H=O.useState(K.get("doc")),X=H[0],ue=H[1],ge=O.useState(K.get("currentPage")||0),Ee=ge[0],Se=ge[1],ce=O.useState(K.get("pageHeight")||0),xe=ce[0],et=ce[1],ze=O.useState(K.get("pageWidth")||0),He=ze[0],je=ze[1],Oe=O.useState(K.get("rotation")||0),Le=Oe[0],Je=Oe[1],tt=O.useState(K.get("pagesRotation")||new Map),Ae=tt[0],le=tt[1],ie=O.useState(K.get("rotatedPage")||-1),me=ie[0],Ce=ie[1],we=O.useState(K.get("viewMode")),Te=we[0],De=we[1],Ge=function($e){Se($e)},it=function($e){ue($e)},Qe=function($e){et($e)},nt=function($e){je($e)},Ye=function($e){Je($e)},se=function($e){le($e)},he=function($e){Ce($e)},ye=function($e){De($e)},ke=function($e){var rt=K.get("jumpToPage");rt&&rt($e)},_e=function($e,rt){K.get("rotatePage")($e,rt)};return O.useEffect(function(){return K.subscribe("doc",it),K.subscribe("pageHeight",Qe),K.subscribe("pageWidth",nt),K.subscribe("rotatedPage",he),K.subscribe("rotation",Ye),K.subscribe("pagesRotation",se),K.subscribe("viewMode",ye),function(){K.unsubscribe("doc",it),K.unsubscribe("pageHeight",Qe),K.unsubscribe("pageWidth",nt),K.unsubscribe("rotatedPage",he),K.unsubscribe("rotation",Ye),K.unsubscribe("pagesRotation",se),K.unsubscribe("viewMode",ye)}},[]),$.useIsomorphicLayoutEffect(function(){return K.subscribe("currentPage",Ge),function(){K.unsubscribe("currentPage",Ge)}},[]),X?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(ne,{doc:X},function($e){return O.createElement(ee,{currentPage:Ee,doc:X,labels:$e,pagesRotation:Ae,pageHeight:xe,pageWidth:He,renderCurrentPageLabel:U,renderThumbnailItem:J,rotatedPage:me,rotation:Le,thumbnailDirection:W,thumbnailWidth:q,viewMode:Te,onJumpToPage:ke,onRotatePage:_e})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(oe).renderSpinner())};A.thumbnailPlugin=function(G){var U=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),J=O.useState(""),K=J[0],W=J[1];return{install:function(q){U.update("jumpToPage",q.jumpToPage),U.update("rotatePage",q.rotatePage)},onDocumentLoad:function(q){W(q.doc.loadingTask.docId),U.update("doc",q.doc)},onViewerStateChange:function(q){return U.update("currentPage",q.pageIndex),U.update("pagesRotation",q.pagesRotation),U.update("pageHeight",q.pageHeight),U.update("pageWidth",q.pageWidth),U.update("rotation",q.rotation),U.update("rotatedPage",q.rotatedPage),U.update("viewMode",q.viewMode),q},Cover:function(q){return O.createElement(de,R({},q,{renderSpinner:G==null?void 0:G.renderSpinner,store:U}))},Thumbnails:O.useCallback(function(q){return O.createElement(oe.Provider,{value:{renderSpinner:(G==null?void 0:G.renderSpinner)||pe}},O.createElement(te,{renderCurrentPageLabel:G==null?void 0:G.renderCurrentPageLabel,renderThumbnailItem:q==null?void 0:q.renderThumbnailItem,store:U,thumbnailDirection:(q==null?void 0:q.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(G==null?void 0:G.thumbnailWidth)||100}))},[K])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function V(te){var G=Object.create(null);return te&&Object.keys(te).forEach(function(U){if(U!=="default"){var J=Object.getOwnPropertyDescriptor(te,U);Object.defineProperty(G,U,J.get?J:{enumerable:!0,get:function(){return te[U]}})}}),G.default=te,Object.freeze(G)}var B,O=V(reactExports),R=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))},re=function(){return re=Object.assign||function(te){for(var G,U=1,J=arguments.length;U<J;U++)for(var K in G=arguments[U])Object.prototype.hasOwnProperty.call(G,K)&&(te[K]=G[K]);return te},re.apply(this,arguments)};A.SelectionMode=void 0,(B=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",B.Text="Text";var de=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},pe=function(te){var G=te.children,U=te.mode,J=te.onClick,K=O.useContext($.LocalizationContext).l10n,W="",q=O.createElement(de,null);switch(U){case A.SelectionMode.Hand:W=K&&K.selectionMode?K.selectionMode.handTool:"Hand tool",q=O.createElement(R,null);break;case A.SelectionMode.Text:default:W=K&&K.selectionMode?K.selectionMode.textSelectionTool:"Text selection tool",q=O.createElement(de,null)}return G({icon:q,label:W,onClick:J})},oe={left:0,top:8},ne=function(te){var G=te.isSelected,U=te.mode,J=te.onClick,K="";switch(U){case A.SelectionMode.Hand:K="selection-mode__hand-button";break;case A.SelectionMode.Text:default:K="selection-mode__text-button"}return O.createElement(pe,{mode:U,onClick:J},function(W){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:W.label,isSelected:G,testId:K,onClick:W.onClick},W.icon),content:function(){return W.label},offset:oe})})},be=function(te){var G=te.children,U=te.mode,J=te.store,K=U===J.get("selectionMode");return(G||function(W){return O.createElement(ne,{isSelected:K,mode:W.mode,onClick:W.onClick})})({isSelected:K,mode:U,onClick:function(){return J.update("selectionMode",U)}})},ae=function(te){var G=te.isSelected,U=te.mode,J=te.onClick,K="";switch(U){case A.SelectionMode.Hand:K="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:K="selection-mode__text-menu"}return O.createElement(pe,{mode:U,onClick:J},function(W){return O.createElement($.MenuItem,{checked:G,icon:W.icon,testId:K,onClick:W.onClick},W.label)})},ee=function(te){var G=te.store,U=O.useRef(null),J=O.useState(A.SelectionMode.Text),K=J[0],W=J[1],q=O.useRef({top:0,left:0,x:0,y:0}),H=function(Se){var ce=U.current;ce&&(ce.scrollTop=q.current.top-(Se.clientY-q.current.y),ce.scrollLeft=q.current.left-(Se.clientX-q.current.x))},X=function(){var Se=U.current;Se&&(Se.classList.add("rpv-selection-mode__grab"),Se.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",X))},ue=function(Se){var ce=U.current;ce&&K!==A.SelectionMode.Text&&(ce.classList.remove("rpv-selection-mode__grab"),ce.classList.add("rpv-selection-mode__grabbing"),Se.preventDefault(),Se.stopPropagation(),q.current={left:ce.scrollLeft,top:ce.scrollTop,x:Se.clientX,y:Se.clientY},document.addEventListener("mousemove",H),document.addEventListener("mouseup",X))},ge=function(Se){U.current=Se()},Ee=function(Se){W(Se)};return O.useEffect(function(){var Se=U.current;if(Se)return K===A.SelectionMode.Hand?Se.classList.add("rpv-selection-mode__grab"):Se.classList.remove("rpv-selection-mode__grab"),Se.addEventListener("mousedown",ue),function(){Se.removeEventListener("mousedown",ue)}},[K]),O.useEffect(function(){return G.subscribe("getPagesContainer",ge),G.subscribe("selectionMode",Ee),function(){G.unsubscribe("getPagesContainer",ge),G.unsubscribe("selectionMode",Ee)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=R,A.TextSelectionIcon=de,A.selectionModePlugin=function(te){var G=O.useMemo(function(){return $.createStore()},[]),U=function(J){return O.createElement(be,re({},J,{store:G}))};return{install:function(J){G.update("selectionMode",te&&te.selectionMode?te.selectionMode:A.SelectionMode.Text),G.update("getPagesContainer",J.getPagesContainer)},renderViewer:function(J){var K=J.slot;return K.subSlot&&K.subSlot.children&&(K.subSlot.children=O.createElement(O.Fragment,null,O.createElement(ee,{store:G}),K.subSlot.children)),K},SwitchSelectionMode:U,SwitchSelectionModeButton:function(J){return O.createElement(U,{mode:J.mode},function(K){return O.createElement(ne,{isSelected:K.isSelected,mode:K.mode,onClick:function(){K.onClick()}})})},SwitchSelectionModeMenuItem:function(J){return O.createElement(U,{mode:J.mode},function(K){return O.createElement(ae,{isSelected:K.isSelected,mode:K.mode,onClick:function(){K.onClick(),J.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$c.useContext(e$c.LocalizationContext).l10n,O=B&&B.fullScreen?B.fullScreen.enterFullScreen:"Full screen",R=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:V},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:B,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return B},offset:i$c})},f$9=function(A,$){var V=n$c.useState($.get("fullScreenMode")),B=V[0],O=V[1],R=n$c.useCallback(function(re){O(re)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",R),function(){$.unsubscribe("fullScreenMode",R)}},[]),{enterFullScreen:function(){var re=$.get("getPagesContainer");if(re){var de=A(re());$.get("enterFullScreenMode")(de)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,V=A.enableShortcuts,B=A.getFullScreenTarget,O=A.store,R=f$9(B,O),re=R.enterFullScreen,de=R.exitFullScreen,pe=R.isFullScreen;return($||function(oe){return pe?n$c.createElement(a$c,{onClick:oe.onClick}):n$c.createElement(o$c,{enableShortcuts:V,onClick:oe.onClick})})({onClick:pe?de:re})},S$4=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=V&&V.fullScreen?V.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},B)},d$9=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!B,"rpv-full-screen__exit-button--rtl":B})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,V=A.getFullScreenTarget,B=A.store,O=f$9(V,B),R=O.enterFullScreen,re=O.exitFullScreen,de=O.isFullScreen;return de&&($||function(pe){return n$c.createElement(d$9,{onClick:pe.onClick})})({onClick:de?re:R})},E$5=function(A){var $=A.store,V=A.onEnterFullScreen,B=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),R=O[0],re=O[1],de=n$c.useCallback(function(pe){re(pe)},[]);return n$c.useEffect(function(){switch(R){case e$c.FullScreenMode.EnteredCompletely:V($.get("zoom"));break;case e$c.FullScreenMode.Exited:B($.get("zoom"))}},[R]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",de),function(){$.unsubscribe("fullScreenMode",de)}},[]),(R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,V=A.getFullScreenTarget,B=A.store,O=f$9(V,B).enterFullScreen,R=function(re){if(!re.shiftKey&&!re.altKey&&(e$c.isMac()?re.metaKey&&re.ctrlKey&&re.key==="f":re.key==="F11")){var de=$.current;de&&document.activeElement&&de.contains(document.activeElement)&&(re.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(re){return re},V=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),B=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(re){return n$c.createElement(s$8,c$c({},re,{enableShortcuts:V.enableShortcuts,getFullScreenTarget:$,store:B}))},R=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:B},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(re){B.update("enterFullScreenMode",re.enterFullScreenMode),B.update("exitFullScreenMode",re.exitFullScreenMode),B.update("getPagesContainer",re.getPagesContainer),B.update("zoom",re.zoom)},onViewerStateChange:function(re){return B.update("fullScreenMode",re.fullScreenMode),re},renderViewer:function(re){var de=re.slot;return de.subSlot&&(de.subSlot.children=n$c.createElement(n$c.Fragment,null,V.enableShortcuts&&n$c.createElement(F,{containerRef:re.containerRef,getFullScreenTarget:$,store:B}),n$c.createElement(E$5,{store:B,onEnterFullScreen:V.onEnterFullScreen,onExitFullScreen:V.onExitFullScreen}),n$c.createElement(R,null),de.subSlot.children)),de},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(re){return n$c.createElement(o$c,c$c({enableShortcuts:V.enableShortcuts},re))})},EnterFullScreenMenuItem:function(re){return n$c.createElement(O,null,function(de){return n$c.createElement(S$4,{onClick:function(){de.onClick(),re.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,B=V&&V.download?V.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:B,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return B},offset:i$b})},c$b=function(A,$){var V=document.createElement("a");V.style.display="none",V.href=A,V.setAttribute("download",$),document.body.appendChild(V),V.click(),document.body.removeChild(V)},l$b=function(A,$,V){var B=URL.createObjectURL(new Blob([A],{type:V}));c$b(B,$),B&&URL.revokeObjectURL(B)},u$b=function(A,$){A.getData().then(function(V){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(V,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(B){return btoa(Array(B.length).fill("").map(function(O,R){return String.fromCharCode(B[R])}).join(""))}(V)),$):l$b(V,$,"application/pdf")})},f$8=function(A){var $=A.children,V=A.fileNameGenerator,B=A.store,O=n$b.useState(B.get("file")),R=O[0],re=O[1],de=n$b.useState(B.get("doc")),pe=de[0],oe=de[1],ne=function(ae){oe(ae)},be=function(ae){re(ae)};return n$b.useEffect(function(){return B.subscribe("doc",ne),B.subscribe("file",be),function(){B.subscribe("doc",ne),B.unsubscribe("file",be)}},[]),($||function(ae){return n$b.createElement(a$b,{onClick:ae.onClick})})({onClick:function(){pe&&R&&u$b(pe,V(R))}})},d$8=function(A){var $=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,B=V&&V.download?V.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},B)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),V=function(O){return O.name?(R=O.name,(re=R.split("/").pop())?re.split("#")[0].split("?")[0]:R):"document.pdf";var R,re},B=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||V,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:B,DownloadButton:function(){return n$b.createElement(B,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(B,null,function(R){return n$b.createElement(d$8,{onClick:function(){R.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),V=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},B=function(O){O&&V()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",B),function(){A.unsubscribe("triggerOpenFile",B)}},[]),{inputRef:$,openFile:V}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,V=A.store,B=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,R=O&&O.open?O.open.openFile:"Open file",re=i$a(V),de=re.inputRef,pe=re.openFile,oe=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:de,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:B}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:oe,ariaLabel:R,testId:"open__button",onClick:pe},n$a.createElement(r$a,null))),content:function(){return R},offset:c$a})},a$a=function(A){var $=A.children,V=A.enableShortcuts,B=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:V,store:B,onClick:O.onClick})})({onClick:function(O){var R=O.target.files;if(R&&R.length){var re=B.get("openFile");re&&re(R[0])}}})},l$a=function(A){var $=A.store,V=A.onClick,B=n$a.useContext(e$a.LocalizationContext).l10n,O=B&&B.open?B.open.openFile:"Open file",R=i$a($),re=R.inputRef,de=R.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:de},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:re,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:V}),O))},p$7=function(A){var $=A.containerRef,V=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;R&&document.activeElement&&R.contains(document.activeElement)&&(O.preventDefault(),V.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$a.useMemo(function(){return e$a.createStore({})},[]),B=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:V}))};return{install:function(O){V.update("openFile",O.openFile)},renderViewer:function(O){var R=O.slot,re={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:V}),R.children)};return o$a(o$a({},R),re)},Open:B,OpenButton:function(){return n$a.createElement(B,null)},OpenMenuItem:function(){return n$a.createElement(B,null,function(O){return n$a.createElement(l$a,{store:V,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),V=$[0],B=$[1],O=function(R){B(R)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:V}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),V=$[0],B=$[1],O=function(R){B(R)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:V}},c$9=function(A){var $=A.store,V=n$9.useContext(e$9.LocalizationContext).l10n,B=n$9.useState("1"),O=B[0],R=B[1],re=i$9($).currentPage,de=u$9($).numberOfPages;n$9.useEffect(function(){return R("".concat(re+1))},[re]);var pe=function(ne){var be=$.get("jumpToPage");be&&be(ne)},oe=V&&V.pageNavigation?V.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:oe,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:R,onKeyDown:function(ne){switch(ne.key){case"ArrowUp":(ee=re-1)>=0&&(R("".concat(ee+1)),pe(ee));break;case"ArrowDown":(ae=re+1)<de&&(R("".concat(ae+1)),pe(ae));break;case"Enter":be=parseInt(O,10),O===""||be<1||be>de?R("".concat(re+1)):pe(be-1)}var be,ae,ee}}))},l$9=function(A){var $=A.children,V=A.doc,B=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),R=O[0],re=O[1];return n$9.useEffect(function(){V.getPageLabels().then(function(de){B.current&&re({loading:!1,labels:de||[]})})},[V.loadingTask.docId]),R.loading?n$9.createElement(n$9.Fragment,null):$(R.labels)},s$7=function(A){var $=A.children,V=A.store,B=function(de){var pe=n$9.useState(de.get("doc")),oe=pe[0],ne=pe[1],be=function(ae){ne(ae)};return n$9.useEffect(function(){return de.subscribe("doc",be),function(){de.unsubscribe("doc",be)}},[]),oe}(V),O=i$9(V).currentPage,R=u$9(V).numberOfPages,re=$||function(de){return n$9.createElement(n$9.Fragment,null,de.currentPage+1)};return B?n$9.createElement(l$9,{doc:B},function(de){var pe=de.length===R&&R>0?de[O]:"";return re({currentPage:O,numberOfPages:R,pageLabel:pe})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:V},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,V=A.store;return($||function(B){return n$9.createElement(m$7,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:i$9(V).currentPage===0,onClick:function(){var B=V.get("jumpToPage");B&&B(0)}})},v$5=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:V},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:V},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,V=A.store,B=i$9(V).currentPage,O=u$9(V).numberOfPages;return($||function(R){return n$9.createElement(P$2,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:B+1>=O,onClick:function(){var R=V.get("jumpToPage");R&&R(O-1)}})},E$4=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:V},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:V},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,V=A.store;return($||function(B){return n$9.createElement(D,{onClick:B.onClick,isDisabled:B.isDisabled})})({isDisabled:i$9(V).currentPage+1>=u$9(V).numberOfPages,onClick:function(){var B=V.get("jumpToNextPage");B&&B()}})},T=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:V},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:V},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(V){return n$9.createElement(N,{isDisabled:V.isDisabled,onClick:V.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var V=$.get("jumpToPreviousPage");V&&V()}})},I$2=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:V},O)},h$5=function(A){var $=A.children,V=A.store,B=u$9(V).numberOfPages;return $?$({numberOfPages:B}):n$9.createElement(n$9.Fragment,null,B)},y$1=function(A){var $=A.containerRef,V=A.numPages,B=A.store,O=i$9(B).currentPage,R=n$9.useRef(O);R.current=O;var re=n$9.useRef(!1),de=function(){re.current=!0},pe=function(){re.current=!1},oe=function(ne){var be=$.current,ae=re.current||document.activeElement&&be.contains(document.activeElement);if(be&&ae){var ee,te,G=ne.altKey&&ne.key==="ArrowDown"||!ne.shiftKey&&!ne.altKey&&ne.key==="PageDown",U=ne.altKey&&ne.key==="ArrowUp"||!ne.shiftKey&&!ne.altKey&&ne.key==="PageUp";if(G)return ne.preventDefault(),ee=B.get("jumpToPage"),te=R.current+1,void(ee&&te<V&&ee(te));if(U)return ne.preventDefault(),void function(){var J=B.get("jumpToPage"),K=R.current-1;J&&K>=0&&J(K)}();if(e$9.isMac()?ne.metaKey&&!ne.ctrlKey:ne.altKey)switch(ne.key){case"ArrowLeft":ne.preventDefault(),function(){var J=B.get("jumpToPreviousDestination");J&&J()}();break;case"ArrowRight":ne.preventDefault(),function(){var J=B.get("jumpToNextDestination");J&&J()}()}}};return n$9.useEffect(function(){var ne=$.current;if(ne)return document.addEventListener("keydown",oe),ne.addEventListener("mouseenter",de),ne.addEventListener("mouseleave",pe),function(){document.removeEventListener("keydown",oe),ne.removeEventListener("mouseenter",de),ne.removeEventListener("mouseleave",pe)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$9.useMemo(function(){return e$9.createStore()},[]),B=function(de){return n$9.createElement(p$6,o$9({},de,{store:V}))},O=function(de){return n$9.createElement(b$4,o$9({},de,{store:V}))},R=function(de){return n$9.createElement(k$3,o$9({},de,{store:V}))},re=function(de){return n$9.createElement(j,o$9({},de,{store:V}))};return{install:function(de){V.update("jumpToDestination",de.jumpToDestination),V.update("jumpToNextDestination",de.jumpToNextDestination),V.update("jumpToNextPage",de.jumpToNextPage),V.update("jumpToPage",de.jumpToPage),V.update("jumpToPreviousDestination",de.jumpToPreviousDestination),V.update("jumpToPreviousPage",de.jumpToPreviousPage)},renderViewer:function(de){var pe=de.slot;if(!$.enableShortcuts)return pe;var oe={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:de.containerRef,numPages:de.doc.numPages,store:V}),pe.children)};return o$9(o$9({},pe),oe)},onDocumentLoad:function(de){V.update("doc",de.doc),V.update("numberOfPages",de.doc.numPages)},onViewerStateChange:function(de){return V.update("currentPage",de.pageIndex),de},jumpToNextPage:function(){var de=V.get("jumpToNextPage");de&&de()},jumpToPage:function(de){var pe=V.get("jumpToPage");pe&&pe(de)},jumpToPreviousPage:function(){var de=V.get("jumpToPreviousPage");de&&de()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:V})},CurrentPageLabel:function(de){return n$9.createElement(s$7,o$9({},de,{store:V}))},GoToFirstPage:B,GoToFirstPageButton:function(){return n$9.createElement(B,null,function(de){return n$9.createElement(m$7,o$9({},de))})},GoToFirstPageMenuItem:function(de){return n$9.createElement(B,null,function(pe){return n$9.createElement(v$5,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(de){return n$9.createElement(P$2,o$9({},de))})},GoToLastPageMenuItem:function(de){return n$9.createElement(O,null,function(pe){return n$9.createElement(E$4,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},GoToNextPage:R,GoToNextPageButton:function(){return n$9.createElement(R,null,function(de){return n$9.createElement(D,o$9({},de))})},GoToNextPageMenuItem:function(de){return n$9.createElement(R,null,function(pe){return n$9.createElement(T,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},GoToPreviousPage:re,GoToPreviousPageButton:function(){return n$9.createElement(re,null,function(de){return n$9.createElement(N,o$9({},de))})},GoToPreviousPageMenuItem:function(de){return n$9.createElement(re,null,function(pe){return n$9.createElement(I$2,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),de.onClick()}})})},NumberOfPages:function(de){return n$9.createElement(h$5,o$9({},de,{store:V}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n            M3.5,8.499\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n            M14.5,0.499v4h4"}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,V=A.onClick,B=a$8.useContext(e$8.LocalizationContext).l10n,O=B&&B.print?B.print.print:"Print",R=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"print__button",onClick:V},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,V=A.enableShortcuts,B=A.store;return($||s$6)({enableShortcuts:V,onClick:function(){B.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,V=A.store,B=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),R=O[0],re=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(de){de===null||de.includes(4)||de.includes(2048)?V.update("printStatus",o$8.Preparing):re(!1)})},[]),R?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(de){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},B&&B.print?B.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){de(),V.update("printStatus",o$8.Cancelled)}},B&&B.print?B.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,V=A.numPages,B=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,R=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,re=Math.floor(100*$/V);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":R})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:re})),a$8.createElement(e$8.Button,{onClick:B},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,V=A.page,B=A.pageHeight,O=A.pageIndex,R=A.pageWidth,re=A.rotation,de=A.onLoad,pe=e$8.useIsMounted(),oe=a$8.useRef(),ne=a$8.useState(""),be=ne[0],ae=ne[1],ee=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var te=oe.current;te&&te.cancel();var G=150/72;$.height=Math.floor(B*G),$.width=Math.floor(R*G);var U=$.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,$.width,$.height),U.restore();var J=V.getViewport({rotation:re,scale:1});oe.current=V.render({canvasContext:U,intent:"print",transform:[G,0,0,G,0,0],viewport:J}),oe.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(K){pe.current&&ae(URL.createObjectURL(K)),ee&&de()}):(pe.current&&ae($.toDataURL()),ee&&de())},function(){})},[]),be&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:be,onLoad:function(){ee||de()}}))},f$6=function(A){var $=A.canvas,V=A.doc,B=A.pageIndex,O=A.pageRotation,R=A.pageSize,re=A.rotation,de=A.shouldRender,pe=A.onLoad,oe=e$8.useIsMounted(),ne=a$8.useState(null),be=ne[0],ae=ne[1],ee=Math.abs(re+O)%180==0;a$8.useEffect(function(){de&&e$8.getPage(V,B).then(function(G){oe.current&&ae(G)})},[de]);var te=(R.rotation+re+O)%360;return be&&a$8.createElement(d$6,{canvas:$,page:be,pageHeight:ee?R.pageHeight:R.pageWidth,pageIndex:B,pageWidth:ee?R.pageWidth:R.pageHeight,rotation:te,onLoad:pe})},g$4=function(A){var $=A.doc,V=A.numLoadedPages,B=A.pagesRotation,O=A.pageSizes,R=A.printPages,re=A.printStatus,de=A.rotation,pe=A.onCancel,oe=A.onLoad,ne=a$8.useMemo(function(){return document.createElement("canvas")},[]),be=a$8.useMemo(function(){var te=document.querySelector(".rpv-print__zone");if(te)return te;var G=document.createElement("div");return G.classList.add("rpv-print__zone"),G.setAttribute("data-testid","print__zone"),document.body.appendChild(G),G},[]);a$8.useEffect(function(){re===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var te=function(){if(re===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var G=document.querySelectorAll(".rpv-print__zone");G&&G.forEach(function(U){U.parentElement.removeChild(U)}),ne.height=0,ne.width=0,document.removeEventListener("mousemove",te),pe()}};return document.addEventListener("mousemove",te),function(){return document.removeEventListener("mousemove",te)}},[re]);var ae=O[0].pageHeight,ee=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,R.map(function(te,G){return a$8.createElement(f$6,{key:te,canvas:ne,doc:$,pageIndex:te,pageRotation:B.has(te)?B.get(te):0,pageSize:O[te],rotation:de,shouldRender:G===V,onLoad:oe})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ee,"pt ").concat(ae,"pt }")}})),be)},v$4=function(A){var $=A.doc,V=A.pagesRotation,B=A.pageSizes,O=A.renderProgressBar,R=A.rotation,re=A.setPages,de=A.store,pe=a$8.useState(o$8.Inactive),oe=pe[0],ne=pe[1],be=a$8.useState(0),ae=be[0],ee=be[1],te=a$8.useMemo(function(){var K=$.numPages;return re($).filter(function(W){return W>=0&&W<K})},[$,re]),G=te.length,U=function(){ee(0),ne(o$8.Inactive)},J=function(K){return ne(K)};return a$8.useEffect(function(){return de.subscribe("printStatus",J),function(){de.unsubscribe("printStatus",J)}},[]),a$8.createElement(a$8.Fragment,null,oe===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:de}),oe===o$8.Preparing&&(O?O(ae,G,U):a$8.createElement(m$6,{numLoadedPages:ae,numPages:G,onCancel:U})),(oe===o$8.Preparing||oe===o$8.Ready)&&ae<=G&&a$8.createElement(g$4,{doc:$,numLoadedPages:ae,pagesRotation:V,pageSizes:B,printPages:te,printStatus:oe,rotation:R,onCancel:U,onLoad:function(){var K=ae+1;K<=G&&(ee(K),K===G&&ne(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,V=a$8.useContext(e$8.LocalizationContext).l10n,B=V&&V.print?V.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},B)},E$3=function(A){var $=A.containerRef,V=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;R&&document.activeElement&&R.contains(document.activeElement)&&(O.preventDefault(),V.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V})},print_min.getCustomPagesNumbers=function(A){return function($){var V,B=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var R,re,de=O.split("-").map(function(pe){return parseInt(pe,10)}).filter(function(pe){return Number.isInteger(pe)});de.length===1?B.push(de[0]-1):de.length===2&&B.push.apply(B,(R=de[0]-1,re=de[1]-1,Array(re-R+1).fill(0).map(function(pe,oe){return R+oe})))}),(V=B,V.filter(function(O){return V.indexOf(O)===V.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(R,re){return re})}},A)},[]),V=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),B=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:V}))};return{print:function(){V.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var R=O.slot,re={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:V}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:V}),R.children)};return c$8(c$8({},R),re)},Print:B,PrintButton:function(){return a$8.createElement(B,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(B,null,function(R){return a$8.createElement(h$4,{onClick:function(){R.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n            M14.5,17.005H13\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n            M11.745,6.504L11.745,6.504\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,V=A.render,B=r$7.useState(),O=B[0],R=B[1];return r$7.useEffect(function(){$.getMetadata().then(function(re){return Promise.resolve(re)}).then(function(re){return $.getDownloadInfo().then(function(de){return Promise.resolve({fileName:re.contentDispositionFilename||"",info:re.info,length:de.length})})}).then(function(re){R(re)})},[]),O?V(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,V=A.value,B=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":B})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},V||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,V,B){var O=parseInt(A,10);return O>=$&&O<=V?O:B},p$4=function(A){var $=A.doc,V=A.fileName,B=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,R=function(re){var de=function(pe){var oe=l$7.exec(pe);if(!oe)return null;var ne=parseInt(oe[1],10),be=c$7(oe[2],1,12,1)-1,ae=c$7(oe[3],1,31,1),ee=c$7(oe[4],0,23,0),te=c$7(oe[5],0,59,0),G=c$7(oe[6],0,59,0),U=oe[7]||"Z",J=c$7(oe[8],0,23,0),K=c$7(oe[9],0,59,0);switch(U){case"-":ee+=J,te+=K;break;case"+":ee-=J,te-=K}return new Date(Date.UTC(ne,be,ae,ee,te,G))}(re);return de?"".concat(de.toLocaleDateString(),", ").concat(de.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(re){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:re.fileName||(oe=V,ne=oe.split("/").pop(),ne?ne.split("#")[0].split("?")[0]:oe)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(de=re.length,pe=Math.floor(Math.log(de)/Math.log(1024)),"".concat((de/Math.pow(1024,pe)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][pe]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:re.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:re.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:re.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:re.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:re.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:R(re.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:R(re.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:re.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:re.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var de,pe,oe,ne}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:B},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,V=r$7.useContext(e$7.LocalizationContext).l10n,B=V&&V.properties?V.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:B,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return B},offset:s$5})},m$5=function(A){var $=A.children,V=A.store,B=function(re){var de=r$7.useState(re.get("doc")),pe=de[0],oe=de[1],ne=function(be){oe(be)};return r$7.useEffect(function(){return re.subscribe("doc",ne),function(){re.unsubscribe("doc",ne)}},[]),{currentDoc:pe}}(V).currentDoc,O=V.get("fileName")||"",R=$||function(re){return r$7.createElement(u$7,o$7({},re))};return B?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(re){return R({onClick:re})},content:function(re){return r$7.createElement(p$4,{doc:B,fileName:O,onToggle:re})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,V=r$7.useContext(e$7.LocalizationContext).l10n,B=V&&V.properties?V.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},B)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(V){return r$7.createElement(m$5,o$7({},V,{store:A}))};return{onDocumentLoad:function(V){A.update("doc",V.doc)},onViewerStateChange:function(V){return A.update("fileName",V.file.name),V},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(V){return r$7.createElement($,null,function(B){return r$7.createElement(f$5,o$7({},B))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n            M13.5,1.75L10,4.25l3.5,2.5"}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n            M10.5,1.75l3.5,2.5l-3.5,2.5"}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,V=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,O=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",R=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?O:R,de=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:re,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:V},de),content:function(){return re},offset:a$6})},u$6=function(A){var $=A.children,V=A.direction,B=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:V,onClick:function(){var O=B.get("rotate");O&&O(V)}})},l$6=function(A){var $=A.direction,V=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,O=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",R=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?O:R,de=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:de,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:V},re)},d$5=function(A){var $=A.children,V=A.store;return $({onRotatePage:function(B,O){var R=V.get("rotatePage");R&&R(B,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(V){return r$6.createElement(u$6,c$6({},V,{store:A}))};return{install:function(V){A.update("rotate",V.rotate),A.update("rotatePage",V.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(V){return r$6.createElement(i$6,c$6({},V))})},RotateBackwardMenuItem:function(V){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),V.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(V){return r$6.createElement(i$6,c$6({},V))})},RotateForwardMenuItem:function(V){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),V.onClick()}})})},RotatePage:function(V){return r$6.createElement(d$5,c$6({},V,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var V=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||V===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},u$5=function(A){var $=A.children,V=A.mode,B=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,R="",re=t$5.createElement(d$4,null);switch(V){case e$5.ScrollMode.Horizontal:R=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",re=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:R=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",re=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:R=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",re=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:R=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",re=t$5.createElement(d$4,null)}return $({icon:re,label:R,onClick:B})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ScrollMode.Horizontal:R="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:R="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:R="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:R="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:V,testId:R,onClick:re.onClick},re.icon),content:function(){return re.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),V=$[0],B=$[1],O=function(R){B(R)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:V}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),V=$[0],B=$[1],O=function(R){B(R)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:V}},S$3=function(A){var $=A.children,V=A.mode,B=A.store,O=w$1(B).viewMode,R=f$4(B).scrollMode===V,re=(V===e$5.ScrollMode.Horizontal||V===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(de){return t$5.createElement(M$2,{isDisabled:re,isSelected:R,mode:de.mode,onClick:de.onClick})})({isDisabled:re,isSelected:R,mode:V,onClick:function(){a$5(B,V)}})},g$3=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ScrollMode.Horizontal:R="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:R="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:R="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:R="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.MenuItem,{checked:V,icon:re.icon,isDisabled:$,testId:R,onClick:re.onClick},re.label)})},h$3=function(A,$){A.get("switchViewMode")($);var V=A.get("scrollMode");V!==e$5.ScrollMode.Horizontal&&V!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,V=A.mode,B=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,R="",re=t$5.createElement(r$5,null);switch(V){case e$5.ViewMode.DualPage:R=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",re=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:R=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",re=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:R=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",re=t$5.createElement(r$5,null)}return $({icon:re,label:R,onClick:B})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ViewMode.DualPage:R="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:R="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:R="view-mode__single-button"}return t$5.createElement(b$3,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:V,testId:R,onClick:re.onClick},re.icon),content:function(){return re.label},offset:p$3})})},k$2=function(A){var $=A.children,V=A.mode,B=A.store,O=w$1(B).viewMode,R=f$4(B).scrollMode,re=O===V,de=(R===e$5.ScrollMode.Horizontal||R===e$5.ScrollMode.Wrapped)&&V!==e$5.ViewMode.SinglePage;return($||function(pe){return t$5.createElement(v$3,{isDisabled:de,isSelected:re,mode:pe.mode,onClick:pe.onClick})})({isDisabled:de,isSelected:re,mode:V,onClick:function(){h$3(B,V)}})},C$2=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ViewMode.DualPage:R="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:R="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:R="view-mode__single-menu"}return t$5.createElement(b$3,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.MenuItem,{checked:V,icon:re.icon,isDisabled:$,testId:R,onClick:re.onClick},re.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(B){return t$5.createElement(S$3,i$5({},B,{store:A}))},V=function(B){return t$5.createElement(k$2,i$5({},B,{store:A}))};return{install:function(B){A.update("switchScrollMode",B.switchScrollMode),A.update("switchViewMode",B.switchViewMode)},onViewerStateChange:function(B){return A.update("scrollMode",B.scrollMode),A.update("viewMode",B.viewMode),B},switchScrollMode:function(B){a$5(A,B)},switchViewMode:function(B){h$3(A,B)},SwitchScrollMode:$,SwitchScrollModeButton:function(B){return t$5.createElement($,{mode:B.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(B){return t$5.createElement($,{mode:B.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),B.onClick()}})})},SwitchViewMode:V,SwitchViewModeButton:function(B){return t$5.createElement(V,{mode:B.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(B){return t$5.createElement(V,{mode:B.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),B.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,V=A.area,B=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var R=O.current;B&&R&&B({highlightEle:R,keyword:V.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(V),title:V.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var V=document.createRange();V.selectNodeContents(A),function(B,O){l$4(B);var R=O.parentNode;R&&R.insertBefore(B,O),l$4(O)}(V.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,V=A.pageIndex,B=A.renderHighlights,O=A.store,R=A.onHighlightKeyword,re=r$4.useRef(),de=r$4.useCallback(function(ze){return r$4.createElement(r$4.Fragment,null,ze.highlightAreas.map(function(He,je){return r$4.createElement(s$3,{index:je,key:je,area:He,onHighlightKeyword:R})}))},[]),pe=B||de,oe=r$4.useState(O.get("matchPosition")),ne=oe[0],be=oe[1],ae=r$4.useState(O.get("keyword")||[u$4]),ee=ae[0],te=ae[1],G=r$4.useState({pageIndex:V,scale:1,status:e$4.LayerRenderStatus.PreRender}),U=G[0],J=G[1],K=r$4.useRef(null),W=r$4.useRef([]),q=r$4.useState([]),H=q[0],X=q[1],ue=function(){return!0},ge=r$4.useCallback(function(){return O.get("targetPageFilter")||ue},[O.get("targetPageFilter")]),Ee=function(ze){var He=W.current;if(He.length===0)return[];var je=[],Oe=[].slice.call(ze.querySelectorAll(".rpv-core__text-layer-text")),Le=He.map(function(Je){return Je.char}).join("");return ee.forEach(function(Je){var tt=Je.keyword;if(tt.trim()){for(var Ae,le=Je.regExp.flags.indexOf("g")===-1?new RegExp(Je.regExp,"".concat(Je.regExp.flags,"g")):Je.regExp,ie=[];(Ae=le.exec(Le))!==null;)ie.push({keyword:le,startIndex:Ae.index,endIndex:le.lastIndex});ie.map(function(me){return{keyword:me.keyword,indexes:He.slice(me.startIndex,me.endIndex)}}).forEach(function(me){var Ce=me.indexes.reduce(function(we,Te){return we[Te.spanIndex]=(we[Te.spanIndex]||[]).concat([Te]),we},{});Object.values(Ce).forEach(function(we){if(we.length!==1||we[0].char.trim()!==""){var Te=Je.wholeWords?we.slice(1,-1):we,De=function(Ge,it,Qe,nt,Ye){var se=document.createRange(),he=nt.firstChild;if(!he||he.nodeType!==Node.TEXT_NODE)return null;var ye=he.textContent.length,ke=Ye[0].charIndexInSpan,_e=Ye.length===1?ke:Ye[Ye.length-1].charIndexInSpan;if(ke>ye||_e+1>ye)return null;se.setStart(he,ke),se.setEnd(he,_e+1);var $e=document.createElement("span");se.surroundContents($e);var rt=$e.getBoundingClientRect(),ot=Qe.getBoundingClientRect(),at=ot.height,Ze=ot.width,ft=100*(rt.left-ot.left)/Ze,dt=100*(rt.top-ot.top)/at,_t=100*rt.height/at,St=100*rt.width/Ze;return h$2($e),{keyword:it,keywordStr:Ge,numPages:$,pageIndex:V,left:ft,top:dt,height:_t,width:St,pageHeight:at,pageWidth:Ze}}(tt,me.keyword,ze,Oe[Te[0].spanIndex],Te);De&&je.push(De)}})})}}),je.sort(d$3)},Se=function(ze){ze&&ze.length>0&&te(ze)},ce=function(ze){return be(ze)},xe=function(ze){if(ze.has(V)){var He=ze.get(V);He&&J({ele:He.ele,pageIndex:V,scale:He.scale,status:He.status})}},et=function(){return ee.length===0||ee.length===1&&ee[0].keyword.trim()===""};return r$4.useEffect(function(){if(!et()&&U.status===e$4.LayerRenderStatus.DidRender&&!W.current.length){var ze=U.ele,He=[].slice.call(ze.querySelectorAll(".rpv-core__text-layer-text")).map(function(je){return je.textContent}).reduce(function(je,Oe,Le){return je.concat(Oe.split("").map(function(Je,tt){return{char:Je,charIndexInSpan:tt,spanIndex:Le}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);W.current=He}},[ee,U.status]),r$4.useEffect(function(){if(!et()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&ge()({pageIndex:V,numPages:$})){var ze=U.ele,He=Ee(ze);X(He)}},[ee,ne,U.status,W.current]),r$4.useEffect(function(){et()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&X([])},[ee,U.status]),r$4.useEffect(function(){if(H.length!==0){var ze=re.current;if(ne.pageIndex===V&&ze&&U.status===e$4.LayerRenderStatus.DidRender){var He=ze.querySelector('.rpv-search__highlight[data-index="'.concat(ne.matchIndex,'"]'));if(He){var je=function(tt,Ae){for(var le=tt.offsetTop,ie=tt.offsetLeft,me=tt.parentElement;me&&me!==Ae;)le+=me.offsetTop,ie+=me.offsetLeft,me=me.parentElement;return{left:ie,top:le}}(He,ze),Oe=je.left,Le=je.top,Je=O.get("jumpToDestination");Je&&(Je({pageIndex:V,bottomOffset:(ze.getBoundingClientRect().height-Le)/U.scale,leftOffset:Oe/U.scale,scaleTo:U.scale}),K.current&&K.current.classList.remove("rpv-search__highlight--current"),K.current=He,He.classList.add("rpv-search__highlight--current"))}}}},[H,ne]),r$4.useEffect(function(){return O.subscribe("keyword",Se),O.subscribe("matchPosition",ce),O.subscribe("renderStatus",xe),function(){O.unsubscribe("keyword",Se),O.unsubscribe("matchPosition",ce),O.unsubscribe("renderStatus",xe)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(V),ref:re},pe({getCssProperties:i$4,highlightAreas:H}))},p$2=function(A){var $,V=A.wholeWords?" ".concat(A.keyword," "):A.keyword,B=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=V,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),B),wholeWords:A.wholeWords||!1}},g$2=function(A,$,V){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:V||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:V||!1}):($!==void 0&&(A.matchCase=$),V!==void 0&&(A.wholeWords=V),p$2(A))},m$3=function(A){var $,V=A.get("initialKeyword"),B=r$4.useMemo(function(){if(V&&V.length===1){var ce=g$2(V[0]);return{matchCase:ce.regExp.flags.indexOf("i")===-1,wholeWords:ce.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(ce){var xe=r$4.useRef(ce.get("doc")),et=function(ze){xe.current=ze};return r$4.useEffect(function(){return ce.subscribe("doc",et),function(){ce.unsubscribe("doc",et)}},[]),xe}(A),R=r$4.useState(V),re=R[0],de=R[1],pe=r$4.useState([]),oe=pe[0],ne=pe[1],be=r$4.useState(0),ae=be[0],ee=be[1],te=r$4.useState(B.matchCase),G=te[0],U=te[1],J=r$4.useRef([]),K=r$4.useState(B.wholeWords),W=K[0],q=K[1],H=function(){return!0},X=r$4.useCallback(function(){return A.get("targetPageFilter")||H},[A.get("targetPageFilter")]),ue=function(ce){var xe=oe.length;if(re.length===0||xe===0)return null;var et=ce===xe+1?1:Math.max(1,Math.min(xe,ce));return ee(et),Ee(oe[et-1])},ge=function(ce){return de(ce===""?[]:[ce])},Ee=function(ce){var xe=A.get("jumpToPage");return xe&&xe(ce.pageIndex),A.update("matchPosition",{matchIndex:ce.matchIndex,pageIndex:ce.pageIndex}),ce},Se=function(ce,xe,et){var ze=O.current;if(!ze)return Promise.resolve([]);var He=ze.numPages,je=ce.map(function(Oe){return g$2(Oe,xe,et)});return A.update("keyword",je),ee(0),ne([]),new Promise(function(Oe,Le){var Je=J.current.length===0?function(){var tt=O.current;if(!tt)return Promise.resolve([]);var Ae=Array(tt.numPages).fill(0).map(function(le,ie){return e$4.getPage(tt,ie).then(function(me){return me.getTextContent()}).then(function(me){var Ce=me.items.map(function(we){return we.str||""}).join("");return Promise.resolve({pageContent:Ce,pageIndex:ie})})});return Promise.all(Ae).then(function(le){return le.sort(function(ie,me){return ie.pageIndex-me.pageIndex}),Promise.resolve(le.map(function(ie){return ie.pageContent}))})}().then(function(tt){return J.current=tt,Promise.resolve(tt)}):Promise.resolve(J.current);Je.then(function(tt){var Ae=[];tt.forEach(function(le,ie){X()({pageIndex:ie,numPages:He})&&je.forEach(function(me){for(var Ce,we=0;(Ce=me.regExp.exec(le))!==null;)Ae.push({keyword:me.regExp,matchIndex:we,pageIndex:ie,pageText:le,startIndex:Ce.index,endIndex:me.regExp.lastIndex}),we++})}),ne(Ae),Ae.length>0&&(ee(1),Ee(Ae[0])),Oe(Ae)})})};return r$4.useEffect(function(){J.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),ge(""),ee(0),ne([]),U(!1),q(!1)},changeMatchCase:function(ce){U(ce),re.length>0&&Se(re,ce,W)},changeWholeWords:function(ce){q(ce),re.length>0&&Se(re,G,ce)},currentMatch:ae,jumpToMatch:ue,jumpToNextMatch:function(){return ue(ae+1)},jumpToPreviousMatch:function(){return ue(ae-1)},keywords:re,matchCase:G,numberOfMatches:oe.length,wholeWords:W,search:function(){return Se(re,G,W)},searchFor:Se,setKeywords:de,keyword:re.length===0?"":($=re[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:ge,setTargetPages:function(ce){A.update("targetPageFilter",ce)}}},v$2=function(A){var $=A.children,V=A.store,B=m$3(V),O=r$4.useState(!1),R=O[0],re=O[1],de=function(pe){return re(!0)};return r$4.useEffect(function(){return V.subscribe("doc",de),function(){V.unsubscribe("doc",de)}},[]),$(c$4(c$4({},B),{isDocumentLoaded:R}))},x=function(A){var $=A.containerRef,V=A.store,B=r$4.useRef(!1),O=function(){B.current=!0},R=function(){B.current=!1},re=function(de){var pe=$.current;pe&&(de.shiftKey||de.altKey||de.key!=="f"||(e$4.isMac()?de.metaKey&&!de.ctrlKey:de.ctrlKey)&&(B.current||document.activeElement&&pe.contains(document.activeElement))&&(de.preventDefault(),V.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var de=$.current;if(de)return document.addEventListener("keydown",re),de.addEventListener("mouseenter",O),de.addEventListener("mouseleave",R),function(){document.removeEventListener("keydown",re),de.removeEventListener("mouseenter",O),de.removeEventListener("mouseleave",R)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,V=A.onToggle,B=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,R=r$4.useState(!1),re=R[0],de=R[1],pe=r$4.useState(!1),oe=pe[0],ne=pe[1],be=O===e$4.TextDirection.RightToLeft,ae=m$3($),ee=ae.clearKeyword,te=ae.changeMatchCase,G=ae.changeWholeWords,U=ae.currentMatch,J=ae.jumpToNextMatch,K=ae.jumpToPreviousMatch,W=ae.keyword,q=ae.matchCase,H=ae.numberOfMatches,X=ae.wholeWords,ue=ae.search,ge=ae.setKeyword,Ee=function(ze){de(!0),ue().then(function(He){de(!1),ne(!0),ze&&ze()})};r$4.useEffect(function(){var ze=$.get("initialKeyword");ze&&ze.length===1&&W&&Ee(function(){$.update("initialKeyword",[])})},[]);var Se=B&&B.search?B.search.enterToSearch:"Enter to search",ce=B&&B.search?B.search.previousMatch:"Previous match",xe=B&&B.search?B.search.nextMatch:"Next match",et=B&&B.search?B.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:Se,autoFocus:!0,placeholder:Se,type:"text",value:W,onChange:function(ze){ne(!1),ge(ze)},onKeyDown:function(ze){ze.key==="Enter"&&W&&(oe?J():Ee())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!be,"rpv-search__popover-counter--rtl":be})},re&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!re&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",H))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:q,type:"checkbox",onChange:function(ze){ne(!1),te(ze.target.checked)}})," ",B&&B.search?B.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:X,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(ze){ne(!1),G(ze.target.checked)}})," ",B&&B.search?B.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:be?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ce,isDisabled:U<=1,onClick:K},r$4.createElement(o$4,null)),content:function(){return ce},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:xe,isDisabled:U>H-1,onClick:J},r$4.createElement(n$4,null)),content:function(){return xe},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!be,"rpv-search__popover-footer-button--rtl":be})},r$4.createElement(e$4.Button,{onClick:function(){V(),ee()}},et))))},w=function(A){var $=A.children,V=A.onClick,B=r$4.useContext(e$4.LocalizationContext).l10n,O=B&&B.search?B.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:V})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,V=A.store,B=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",R=function(re){re&&B()};return r$4.useEffect(function(){return V.subscribe("areShortcutsPressed",R),function(){V.unsubscribe("areShortcutsPressed",R)}},[]),r$4.createElement(w,{onClick:B},function(re){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:re.label,testId:"search__popover-button",onClick:B},re.icon),content:function(){return re.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,R=$||function(re){return r$4.createElement(k$1,c$4({enableShortcuts:V,store:B},re))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(re){return R({onClick:re})},content:function(re){return r$4.createElement(E$2,{store:B,onToggle:re})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),V=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),B=m$3(V),O=B.clearKeyword,R=B.jumpToMatch,re=B.jumpToNextMatch,de=B.jumpToPreviousMatch,pe=B.searchFor,oe=B.setKeywords,ne=B.setTargetPages,be=function(ae){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},ae,{store:V}))};return{install:function(ae){var ee=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],te=A&&A.keyword?P$1(A.keyword):[u$4];V.update("initialKeyword",ee),V.update("jumpToDestination",ae.jumpToDestination),V.update("jumpToPage",ae.jumpToPage),V.update("keyword",te)},renderPageLayer:function(ae){return r$4.createElement(f$3,{key:ae.pageIndex,numPages:ae.doc.numPages,pageIndex:ae.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:V,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(ae){var ee=ae.slot;return ee.subSlot&&(ee.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:ae.containerRef,store:V}),ee.subSlot.children)),ee},uninstall:function(ae){var ee=V.get("renderStatus");ee&&ee.clear()},onDocumentLoad:function(ae){V.update("doc",ae.doc)},onTextLayerRender:function(ae){var ee=V.get("renderStatus");ee&&(ee=ee.set(ae.pageIndex,ae),V.update("renderStatus",ee))},Search:function(ae){return r$4.createElement(v$2,c$4({},ae,{store:V}))},ShowSearchPopover:be,ShowSearchPopoverButton:function(){return r$4.createElement(be,null,function(ae){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:V},ae))})},clearHighlights:function(){O()},highlight:function(ae){var ee=Array.isArray(ae)?ae:[ae];return oe(ee),pe(ee)},jumpToMatch:R,jumpToNextMatch:re,jumpToPreviousMatch:de,setTargetPages:ne}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,V=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,O=V.currentTheme==="dark",R=B&&B.theme?O?B.theme.switchLightTheme:B.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:R,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return R},offset:a$3})},l$3=function(A){var $=A.children,V=n$3.useContext(e$3.ThemeContext);return($||function(B){return n$3.createElement(i$3,{onClick:B.onClick})})({onClick:function(){return V.setCurrentTheme(V.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,V=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,O=V.currentTheme==="dark",R=B&&B.theme?O?B.theme.switchLightTheme:B.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},R)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(V){return n$3.createElement(u$3,{onClick:function(){V.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10\n            M10.5,5.499v10"}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10"}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),V=$[0],B=$[1],O=function(R){B(R)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:V}},u$2=function(A){var $=A.children,V=A.store;return($||function(B){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*B.scale),"%"))})({scale:a$2(V).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,V=A.store,B=e$2.useDebounceCallback(function(R){var re=V.get("zoom");re&&re(R)},40),O=function(R){if(R.ctrlKey){R.preventDefault();var re=R.target.getBoundingClientRect(),de=1-R.deltaY/100,pe=R.clientX-re.left,oe=R.clientY-re.top,ne=V.get("scale"),be=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(pe,oe).scale(de).translate(-pe,-oe).scale(ne);B(be.a)}};return e$2.useIsomorphicLayoutEffect(function(){var R=$.current;if(R)return R.addEventListener("wheel",O,l$2),function(){R.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(V){return V>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,V=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;if(R&&document.activeElement&&R.contains(document.activeElement)){var re=V.get("zoom");if(re){var de=V.get("scale")||1,pe=1;switch(O.key){case"-":pe=v$1(de);break;case"=":pe=f$2(de);break;case"0":pe=1;break;default:pe=de}pe!==de&&(O.preventDefault(),re(pe))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,V=$===void 0?z:$,B=A.scale,O=A.onZoom,R=n$2.useContext(e$2.LocalizationContext).l10n,re=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,de=R&&R.zoom?R.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(pe){return n$2.createElement(e$2.MinimalButton,{ariaLabel:de,testId:"zoom__popover-target",onClick:function(){pe()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!re,"rpv-zoom__popover-target-scale--rtl":re})},Math.round(100*B),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(pe){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(oe){var ne=oe;return n$2.createElement(e$2.MenuItem,{key:ne,onClick:function(){pe(),O(ne)}},function(be){switch(be){case e$2.SpecialZoomLevel.ActualSize:return R&&R.zoom?R.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return R&&R.zoom?R.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return R&&R.zoom?R.zoom.pageWidth:"Page width"}}(ne))}),n$2.createElement(e$2.MenuDivider,null),V.map(function(oe){return n$2.createElement(e$2.MenuItem,{key:oe,onClick:function(){pe(),O(oe)}},"".concat(Math.round(100*oe),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,V=A.levels,B=A.store;return($||function(O){return n$2.createElement(d$2,{levels:V,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(B).scale,onZoom:function(O){var R=B.get("zoom");R&&R(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,O=B&&B.zoom?B.zoom.zoomIn:"Zoom in",R=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"zoom__in-button",onClick:V},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,O=a$2(B).scale;return($||h$1)({enableShortcuts:V,onClick:function(){var R=B.get("zoom");R&&R(f$2(O))}})},k=function(A){var $=A.onClick,V=n$2.useContext(e$2.LocalizationContext).l10n,B=V&&V.zoom?V.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},B)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,O=B&&B.zoom?B.zoom.zoomOut:"Zoom out",R=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"zoom__out-button",onClick:V},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,O=a$2(B).scale;return($||M$1)({enableShortcuts:V,onClick:function(){var R=B.get("zoom");R&&R(v$1(O))}})},Z=function(A){var $=A.onClick,V=n$2.useContext(e$2.LocalizationContext).l10n,B=V&&V.zoom?V.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},B)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$2.useMemo(function(){return e$2.createStore({})},[]),B=function(re){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:V}))},O=function(re){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:V}))},R=function(re){return n$2.createElement(g$1,c$2({},re,{store:V}))};return{renderViewer:function(re){var de=re.slot;if(!$.enableShortcuts)return de;var pe={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:re.containerRef,store:V}),n$2.createElement(s$2,{pagesContainerRef:re.pagesContainerRef,store:V}),de.children)};return c$2(c$2({},de),pe)},install:function(re){V.update("zoom",re.zoom)},onViewerStateChange:function(re){return V.update("scale",re.scale),re},zoomTo:function(re){var de=V.get("zoom");de&&de(re)},CurrentScale:function(re){return n$2.createElement(u$2,c$2({},re,{store:V}))},ZoomIn:B,ZoomInButton:function(){return n$2.createElement(B,null,function(re){return n$2.createElement(h$1,c$2({},re))})},ZoomInMenuItem:function(re){return n$2.createElement(B,null,function(de){return n$2.createElement(k,{onClick:function(){de.onClick(),re.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(re){return n$2.createElement(M$1,c$2({},re))})},ZoomOutMenuItem:function(re){return n$2.createElement(O,null,function(de){return n$2.createElement(Z,{onClick:function(){de.onClick(),re.onClick()}})})},Zoom:R,ZoomPopover:function(re){return n$2.createElement(R,null,function(de){return n$2.createElement(d$2,c$2({levels:re==null?void 0:re.levels},de))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n            M12,9.5\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,V=_.useContext(e$1.LocalizationContext).l10n,B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,R=$.EnterFullScreenMenuItem,re=$.GoToFirstPageMenuItem,de=$.GoToLastPageMenuItem,pe=$.GoToNextPageMenuItem,oe=$.GoToPreviousPageMenuItem,ne=$.OpenMenuItem,be=$.PrintMenuItem,ae=$.RotateBackwardMenuItem,ee=$.RotateForwardMenuItem,te=$.ShowPropertiesMenuItem,G=$.SwitchScrollModeMenuItem,U=$.SwitchSelectionModeMenuItem,J=$.SwitchViewModeMenuItem,K=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:B,target:function(W,q){var H=V&&V.toolbar?V.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:B,target:_.createElement(e$1.MinimalButton,{ariaLabel:H,isSelected:q,testId:"toolbar__more-actions-popover-target",onClick:W},_.createElement(E,null)),content:function(){return H},offset:g})},content:function(W){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(K,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ne,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(be,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:W}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(oe,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(pe,{onClick:W})),_.createElement(de,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(ee,{onClick:W}),_.createElement(ae,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(U,{mode:t$1.SelectionMode.Text,onClick:W}),_.createElement(U,{mode:t$1.SelectionMode.Hand,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:e$1.ScrollMode.Page,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Vertical,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Horizontal,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Wrapped,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.SinglePage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.DualPage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.DualPageWithCover,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(te,{onClick:W}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var V=_.useMemo(function(){return A($)},[]),B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=V.CurrentPageInput,R=V.Download,re=V.EnterFullScreen,de=V.GoToNextPage,pe=V.GoToPreviousPage,oe=V.NumberOfPages,ne=V.Open,be=V.Print,ae=V.ShowSearchPopover,ee=V.SwitchTheme,te=V.Zoom,G=V.ZoomIn,U=V.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":B}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ae,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(oe,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(de,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ee,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(be,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:V}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,V=A.slot;return($||S)(V)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),V=o$1.getFilePlugin(A?A.getFilePlugin:{}),B=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),R=i$1.printPlugin(A?A.printPlugin:{}),re=c$1.propertiesPlugin(),de=m$1.rotatePlugin(),pe=u$1.scrollModePlugin(),oe=s$1.searchPlugin(A?A.searchPlugin:{}),ne=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),be=d$1.themePlugin(),ae=p.zoomPlugin(A?A.zoomPlugin:{}),ee=[$,V,B,O,R,re,de,pe,oe,ne,be,ae],te=_.useCallback(function(G){var U=$.EnterFullScreen,J=$.EnterFullScreenMenuItem,K=V.Download,W=V.DownloadMenuItem,q=B.Open,H=B.OpenMenuItem,X=O.CurrentPageInput,ue=O.CurrentPageLabel,ge=O.GoToFirstPage,Ee=O.GoToFirstPageMenuItem,Se=O.GoToLastPage,ce=O.GoToLastPageMenuItem,xe=O.GoToNextPage,et=O.GoToNextPageMenuItem,ze=O.GoToPreviousPage,He=O.GoToPreviousPageMenuItem,je=O.NumberOfPages,Oe=R.Print,Le=R.PrintMenuItem,Je=re.ShowProperties,tt=re.ShowPropertiesMenuItem,Ae=de.Rotate,le=de.RotateBackwardMenuItem,ie=de.RotateForwardMenuItem,me=pe.SwitchScrollMode,Ce=pe.SwitchScrollModeMenuItem,we=pe.SwitchViewMode,Te=pe.SwitchViewModeMenuItem,De=oe.Search,Ge=oe.ShowSearchPopover,it=ne.SwitchSelectionMode,Qe=ne.SwitchSelectionModeMenuItem,nt=be.SwitchTheme,Ye=be.SwitchThemeMenuItem,se=ae.CurrentScale,he=ae.Zoom,ye=ae.ZoomIn,ke=ae.ZoomInMenuItem,_e=ae.ZoomOut,$e=ae.ZoomOutMenuItem;return _.createElement(I,M({},G,{slot:{CurrentPageInput:X,CurrentPageLabel:ue,CurrentScale:se,Download:K,DownloadMenuItem:W,EnterFullScreen:U,EnterFullScreenMenuItem:J,GoToFirstPage:ge,GoToFirstPageMenuItem:Ee,GoToLastPage:Se,GoToLastPageMenuItem:ce,GoToNextPage:xe,GoToNextPageMenuItem:et,GoToPreviousPage:ze,GoToPreviousPageMenuItem:He,NumberOfPages:je,Open:q,OpenMenuItem:H,Print:Oe,PrintMenuItem:Le,Rotate:Ae,RotateBackwardMenuItem:le,RotateForwardMenuItem:ie,Search:De,ShowProperties:Je,ShowPropertiesMenuItem:tt,ShowSearchPopover:Ge,SwitchScrollMode:me,SwitchScrollModeMenuItem:Ce,SwitchSelectionMode:it,SwitchSelectionModeMenuItem:Qe,SwitchViewMode:we,SwitchViewModeMenuItem:Te,SwitchTheme:nt,SwitchThemeMenuItem:Ye,Zoom:he,ZoomIn:ye,ZoomInMenuItem:ke,ZoomOut:_e,ZoomOutMenuItem:$e}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:V,openPluginInstance:B,pageNavigationPluginInstance:O,printPluginInstance:R,propertiesPluginInstance:re,rotatePluginInstance:de,scrollModePluginInstance:pe,searchPluginInstance:oe,selectionModePluginInstance:ne,themePluginInstance:be,zoomPluginInstance:ae,install:function(G){ee.forEach(function(U){U.install&&U.install(G)})},renderPageLayer:function(G){return _.createElement(_.Fragment,null,ee.map(function(U,J){return U.renderPageLayer?_.createElement(_.Fragment,{key:J},U.renderPageLayer(G)):_.createElement(_.Fragment,{key:J})}))},renderViewer:function(G){var U=G.slot;return ee.forEach(function(J){J.renderViewer&&(U=J.renderViewer(M(M({},G),{slot:U})))}),U},uninstall:function(G){ee.forEach(function(U){U.uninstall&&U.uninstall(G)})},onDocumentLoad:function(G){ee.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(G)})},onAnnotationLayerRender:function(G){ee.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(G)})},onTextLayerRender:function(G){ee.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(G)})},onViewerStateChange:function(G){var U=G;return ee.forEach(function(J){J.onViewerStateChange&&(U=J.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:te}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"}))},i=function(){return i=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,V=A.bookmarkTabContent,B=A.store,O=A.thumbnailTabContent,R=A.tabs,re=u.useRef(),de=u.useContext(e.LocalizationContext).l10n,pe=u.useState(B.get("isCurrentTabOpened")||!1),oe=pe[0],ne=pe[1],be=u.useState(Math.max(B.get("currentTab")||0,0)),ae=be[0],ee=be[1],te=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,G=[{content:O,icon:u.createElement(d,null),title:de&&de.defaultLayout?de.defaultLayout.thumbnail:"Thumbnail"},{content:V,icon:u.createElement(c,null),title:de&&de.defaultLayout?de.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:de&&de.defaultLayout?de.defaultLayout.attachment:"Attachment"}],U=R?R(G):G,J=function(W){W>=0&&W<=U.length-1&&(B.update("isCurrentTabOpened",!0),ee(W))},K=function(W){ne(W)};return u.useEffect(function(){return B.subscribe("currentTab",J),B.subscribe("isCurrentTabOpened",K),function(){B.unsubscribe("currentTab",J),B.unsubscribe("isCurrentTabOpened",K)}},[]),U.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":oe,"rpv-default-layout__sidebar--ltr":!te,"rpv-default-layout__sidebar--rtl":te}),ref:re},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},U.map(function(W,q){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ae===q,key:q,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(q),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(q),position:te?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:W.title,isSelected:ae===q,onClick:function(){return function(H){if(ae===H){B.update("isCurrentTabOpened",!B.get("isCurrentTabOpened"));var X=re.current;X&&X.style.width&&X.style.removeProperty("width")}else B.update("currentTab",H)}(q)}},W.icon),content:function(){return W.title},offset:te?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ae),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":oe,"rpv-default-layout__sidebar-content--ltr":!te,"rpv-default-layout__sidebar-content--rtl":te}),role:"tabpanel",tabIndex:-1},U[ae].content))),oe&&u.createElement(e.Splitter,{constrain:function(W){return W.firstHalfPercentage>=20&&W.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),V=n.attachmentPlugin(),B=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),R=o.toolbarPlugin(A?A.toolbarPlugin:{}),re=V.Attachments,de=B.Bookmarks,pe=O.Thumbnails,oe=R.Toolbar,ne=A?A.sidebarTabs:function(ae){return ae},be=[V,B,O,R];return{attachmentPluginInstance:V,bookmarkPluginInstance:B,thumbnailPluginInstance:O,toolbarPluginInstance:R,activateTab:function(ae){$.update("currentTab",ae)},toggleTab:function(ae){var ee=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),ee!==ae&&$.update("currentTab",ae)},install:function(ae){be.forEach(function(ee){ee.install&&ee.install(ae)})},renderPageLayer:function(ae){return u.createElement(u.Fragment,null,be.map(function(ee,te){return ee.renderPageLayer?u.createElement(u.Fragment,{key:te},ee.renderPageLayer(ae)):u.createElement(u.Fragment,{key:te},u.createElement(u.Fragment,null))}))},renderViewer:function(ae){var ee=ae.slot;be.forEach(function(G){G.renderViewer&&(ee=G.renderViewer(i(i({},ae),{slot:ee})))});var te=ee.subSlot&&ee.subSlot.attrs?{className:ee.subSlot.attrs.className,"data-testid":ee.subSlot.attrs["data-testid"],ref:ee.subSlot.attrs.ref,style:ee.subSlot.attrs.style}:{};return ee.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ae.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(re,null),bookmarkTabContent:u.createElement(de,null),store:$,thumbnailTabContent:u.createElement(pe,null),tabs:ne}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(oe):u.createElement(oe,null)),u.createElement("div",i({},te),ee.subSlot.children))),ee.children),ee.subSlot.attrs={},ee.subSlot.children=u.createElement(u.Fragment,null),ee},uninstall:function(ae){be.forEach(function(ee){ee.uninstall&&ee.uninstall(ae)})},onDocumentLoad:function(ae){be.forEach(function(ee){ee.onDocumentLoad&&ee.onDocumentLoad(ae)}),A&&A.setInitialTab&&A.setInitialTab(ae.doc).then(function(ee){$.update("currentTab",ee),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ae){be.forEach(function(ee){ee.onAnnotationLayerRender&&ee.onAnnotationLayerRender(ae)})},onTextLayerRender:function(ae){be.forEach(function(ee){ee.onTextLayerRender&&ee.onTextLayerRender(ae)})},onViewerStateChange:function(ae){var ee=ae;return be.forEach(function(te){te.onViewerStateChange&&(ee=te.onViewerStateChange(ee))}),ee}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,V){A.getPageMode().then(function(B){if(B)switch(B){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;function MyPDFViewer(A){const $=libExports.defaultLayoutPlugin({sidebarTabs:V=>[],...!(A!=null&&A.toolbar)&&{renderToolbar:V=>[]}});return jsxRuntimeExports.jsx("div",{className:"".concat(A==null?void 0:A.height),children:jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:A==null?void 0:A.fileUrl,plugins:[$]})})})}function Measurement(){var be,ae,ee,te,G,U,J,K,W,q,H,X,ue,ge,Ee;const A=useNavigate(),$=usePostMutation({}),[V,B]=React.useState(""),[O,R]=React.useState(""),{id:re}=useParams(),de=useApiPost({api:propertyApi.staticSafDetail,config:{applicationId:re},value:[re],options:{enabled:!!re}}),pe=useFormik({initialValues:{uploadMeasurement:"",comment:""},validationSchema:create$3({uploadMeasurement:create$8().required("Measurement Sheet is required").test("fileSize","Max 10 mb file size",Se=>(Se==null?void 0:Se.size)<=1e7),comment:create$6().label("Comment").min(2).max(500)}),onSubmit:async Se=>{Swal.fire({title:"Are you sure?",text:"\n       You are going to forward the application to the next level.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(ce=>{ce.isConfirmed&&oe(Se)}).catch(ce=>{var xe,et;console.log(ce),Q.error((et=(xe=ce==null?void 0:ce.response)==null?void 0:xe.data)==null?void 0:et.message)})}}),oe=async Se=>{var xe,et,ze,He,je,Oe;const ce=new FormData;ce.append("applicationId",re),ce.append("document",Se==null?void 0:Se.uploadMeasurement);try{const Le=await $.mutateAsync({api:propertyApi.uploadMeasurementSheetApi,data:ce});if((xe=Le==null?void 0:Le.data)!=null&&xe.status){const Je=await $.mutateAsync({api:propertyApi.safLevel,data:{applicationId:re,receiverRoleId1:"",action:"forward",comment:(Se==null?void 0:Se.comment)||"OK"}});(et=Je==null?void 0:Je.data)!=null&&et.status?(Q.success((ze=Je==null?void 0:Je.data)==null?void 0:ze.message),A("/amc-app/property/saf-verification-list",{replace:!0})):Q.error((He=Je==null?void 0:Je.data)==null?void 0:He.message)}else Q.error((je=Le==null?void 0:Le.data)==null?void 0:je.message)}catch(Le){Q.error((Oe=Le==null?void 0:Le.data)==null?void 0:Oe.message)}},ne=async Se=>{var xe,et,ze;const ce=Se.target.files[0];if((ce==null?void 0:ce.type)==="application/pdf"){const He=new FileReader;He.onload=je=>{B(je.target.result),R(ce.name.split(".").pop())},He.readAsDataURL(ce),pe.setFieldValue("uploadMeasurement",ce)}else{const He=await resizeFile((xe=Se==null?void 0:Se.target)==null?void 0:xe.files[0]),je=new File([He],(ze=(et=Se==null?void 0:Se.target)==null?void 0:et.files[0])==null?void 0:ze.name,{type:"image/*"}),Oe=new FileReader;Oe.onload=Le=>{B(Le.target.result),R(je.name.split(".").pop())},Oe.readAsDataURL(je),pe.setFieldValue("uploadMeasurement",je)}};return de!=null&&de.isLoading?jsxRuntimeExports.jsx(InitialLoader,{}):jsxRuntimeExports.jsxs(Page,{title:"Measurement",children:[$.isLoading&&jsxRuntimeExports.jsx(OverLayLoader,{}),jsxRuntimeExports.jsx(FormProvider,{formik:pe,children:jsxRuntimeExports.jsxs("div",{className:"p-4 ",children:[jsxRuntimeExports.jsx(react.Card,{className:"w-full",children:jsxRuntimeExports.jsxs(react.CardBody,{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsx("h1",{className:"font-semibold",children:"Measurement Sheet"})}),jsxRuntimeExports.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(ae=(be=de==null?void 0:de.data)==null?void 0:be.data)==null?void 0:ae.saf_no}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(te=(ee=de==null?void 0:de.data)==null?void 0:ee.data)==null?void 0:te.assessment_type}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(U=(G=de==null?void 0:de.data)==null?void 0:G.data)==null?void 0:U.application_date}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(K=(J=de==null?void 0:de.data)==null?void 0:J.data)==null?void 0:K.applicant_name}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm w-40 truncate",children:(X=(H=(q=(W=de==null?void 0:de.data)==null?void 0:W.data)==null?void 0:q.owners)==null?void 0:H.map(Se=>Se==null?void 0:Se.mobile_no))==null?void 0:X.join(", ")})]})]})}),jsxRuntimeExports.jsx("div",{className:"my-4 border-b-2"}),jsxRuntimeExports.jsxs(react.Card,{className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:jsxRuntimeExports.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Upload Measurement Sheet"})}),V&&(O==="pdf"?jsxRuntimeExports.jsx(MyPDFViewer,{fileUrl:V}):jsxRuntimeExports.jsx("div",{className:"flex justify-center px-4 py-2",children:jsxRuntimeExports.jsx("img",{src:V,alt:"preview"})})),jsxRuntimeExports.jsx(react.CardBody,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 justify-center gap-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-1",children:jsxRuntimeExports.jsx("h1",{className:"font-semibold text-xs",children:"Upload Measurement Sheet"})}),jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf, image/*",name:"uploadMeasurement",onChange:ne,className:"border border-gray-300 p-2 w-full rounded-lg"}),jsxRuntimeExports.jsx("small",{className:"text-red-500",children:((ue=pe==null?void 0:pe.errors)==null?void 0:ue.uploadMeasurement)&&((ge=pe==null?void 0:pe.touched)==null?void 0:ge.uploadMeasurement)&&((Ee=pe==null?void 0:pe.errors)==null?void 0:Ee.uploadMeasurement)})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TextAreaField,{label:"Comment",name:"comment",formik:pe,placeholder:"Comment"})})]})})]}),jsxRuntimeExports.jsx("div",{className:"my-4 border-b-2"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(react.Button,{color:"blue",size:"sm",type:"submit",children:"Forward"})})]})})]})}export{Measurement as default};
