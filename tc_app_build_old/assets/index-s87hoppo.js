import{d as U,f as R,Q as S,j as s,c as $,I as q}from"./index-WOneArS1.js";import{d as V,e as W}from"./router-5yjtezO8.js";import{r as d}from"./tailwind-6U-kYQAu.js";import{P as G}from"./index-Yzt4p7RF.js";import"./module-BfMCOiBc.js";import{u as Q}from"./formik.esm-BnzrXcQN.js";import{c as H,a as J}from"./index.esm-uHa2PMRf.js";import{F as K}from"./FormProvider-tYY_NSo-.js";import{T as X}from"./TextField-tvzB3N7x.js";import"./index-iFVn5AxS.js";import"./reactQuery-QTVGT_ni.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./customInputValidation-jhKsg103.js";const Y=H().shape({mobileNo:J().required("Mobile No is required").min(10).max(10)});function Z({open:x,setOpen:F,wtrDetail:a}){var c,i,o,l,m,h,j,g,y,N,p,u,b,f,v,_,k,C,A,z,P,I,M,B,L,T;const e=()=>F(!x),t=U({}),r=Q({enableReinitialize:!0,initialValues:{consumerId:(i=(c=a==null?void 0:a.data)==null?void 0:c.data)==null?void 0:i.id,property_no:((l=(o=a==null?void 0:a.data)==null?void 0:o.data)==null?void 0:l.folio_no)||"N/A",consumer_no:((h=(m=a==null?void 0:a.data)==null?void 0:m.data)==null?void 0:h.consumer_no)||"N/A",applicant_name:((g=(j=a==null?void 0:a.data)==null?void 0:j.data)==null?void 0:g.applicant_name)||"N/A",guardian_name:((N=(y=a==null?void 0:a.data)==null?void 0:y.data)==null?void 0:N.guardian_name)||"N/A",mobileNo:((u=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:u.mobile_no)||"N/A",email:((f=(b=a==null?void 0:a.data)==null?void 0:b.data)==null?void 0:f.email)||"N/A",dtc_code:((_=(v=a==null?void 0:a.data)==null?void 0:v.data)==null?void 0:_.dtc_code)||"N/A",zoneId:((C=(k=a==null?void 0:a.data)==null?void 0:k.data)==null?void 0:C.zone_mstr_id)||"N/A",address:((z=(A=a==null?void 0:a.data)==null?void 0:A.data)==null?void 0:z.address)||"N/A",landmark:((I=(P=a==null?void 0:a.data)==null?void 0:P.data)==null?void 0:I.landmark)||"N/A",wardId:((B=(M=a==null?void 0:a.data)==null?void 0:M.data)==null?void 0:B.ward_mstr_id)||0,ownerId:((T=(L=a==null?void 0:a.data)==null?void 0:L.data)==null?void 0:T.ownerId)||""},validationSchema:Y,onSubmit:async O=>{var E;try{const{data:n}=await t.mutateAsync({api:(E=R)==null?void 0:E.updateMobileApi,data:O});n!=null&&n.status&&(S.success(n==null?void 0:n.message),a==null||a.refetch(),e())}catch(n){S.error(n.message)}}});return s.jsxs(K,{formik:r,children:[x&&s.jsx("div",{onClick:e,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),s.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(x?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:s.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Update Details"}),s.jsxs("button",{onClick:e,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[s.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),s.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),s.jsxs("div",{className:"p-4 md:p-5",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx("div",{children:s.jsx(X,{inputValidation:["mobile","number"],name:"mobileNo",label:"Mobile No",formik:r,placeholder:"Enter Mobile No"})})}),s.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[s.jsx(d.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:e,className:"mr-1 bg-gray-300",children:s.jsx("span",{children:"Cancel"})}),s.jsx(d.Button,{type:"submit",size:"sm",loading:t.isLoading,disabled:t.isLoading,children:s.jsx("span",{children:"Update"})})]})]})]})})})]})}function hs(){var t,r,c,i,o,l,m,h,j,g,y,N,p,u,b,f,v,_,k,C,A,z,P,I,M,B,L,T,O,E;const[x,F]=V.useState(!1),{id:a}=W(),e=$({api:R.waterGetDetails,config:{applicationId:a},options:{enabled:!!a}});return e!=null&&e.isLoading?s.jsx(q,{}):s.jsxs(G,{title:"Consumer Details",children:[s.jsx(Z,{open:x,setOpen:F,wtrDetail:e}),s.jsxs("div",{className:"p-4",children:[s.jsxs(d.Card,{className:"w-full",children:[s.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[s.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Basic Details"}),s.jsx("div",{children:s.jsx(d.Button,{size:"sm",onClick:()=>F(!0),children:"Edit"})})]}),s.jsx(d.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Property No :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs  text-gray-900",children:((r=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:r.folio_no)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Consumer No :"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:(i=(c=e==null?void 0:e.data)==null?void 0:c.data)==null?void 0:i.consumer_no}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Tap Size:"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:((l=(o=e==null?void 0:e.data)==null?void 0:o.data)==null?void 0:l.tab_size)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Cycle :"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:s.jsx("h1",{className:"text-xs  text-gray-900",children:((h=(m=e==null?void 0:e.data)==null?void 0:m.data)==null?void 0:h.cycle)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Category :"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:s.jsx("h1",{className:"text-xs  text-gray-900",children:((g=(j=e==null?void 0:e.data)==null?void 0:j.data)==null?void 0:g.category)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Property Type :"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:s.jsx("h1",{className:"text-xs  text-gray-900",children:(N=(y=e==null?void 0:e.data)==null?void 0:y.data)==null?void 0:N.property_type})})]})})]}),s.jsx("div",{className:"my-3 border-b-2"}),s.jsxs(d.Card,{className:"w-full",children:[s.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:s.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Property Address & Details"})}),s.jsx(d.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Address :"})}),s.jsx("div",{className:"w-42 ",children:s.jsx("h1",{className:"text-xs  text-gray-900 truncate",children:((u=(p=e==null?void 0:e.data)==null?void 0:p.data)==null?void 0:u.address)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"zone:"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:((f=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:f.zone_name)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Ward No:"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:((_=(v=e==null?void 0:e.data)==null?void 0:v.data)==null?void 0:_.ward_number)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Cycle :"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:s.jsx("h1",{className:"text-xs  text-gray-900",children:((C=(k=e==null?void 0:e.data)==null?void 0:k.data)==null?void 0:C.cycle)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Land Mark :"})}),s.jsx("div",{className:"w-44 text-xs  text-gray-900",children:s.jsx("h1",{className:"text-xs  text-gray-900 truncate",children:((z=(A=e==null?void 0:e.data)==null?void 0:A.data)==null?void 0:z.landmark)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Property Type :"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:s.jsx("h1",{className:"text-xs  text-gray-900",children:(I=(P=e==null?void 0:e.data)==null?void 0:P.data)==null?void 0:I.property_type})})]})})]}),s.jsx("div",{className:"my-3 border-b-2"}),s.jsxs(d.Card,{className:"w-full",children:[s.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:s.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Owner Details"})}),s.jsx(d.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Owner Name :"})}),s.jsx("div",{className:"w-42 ",children:s.jsx("h1",{className:"text-xs  text-gray-900 truncate",children:((B=(M=e==null?void 0:e.data)==null?void 0:M.data)==null?void 0:B.applicant_name)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Mobile No:"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:((T=(L=e==null?void 0:e.data)==null?void 0:L.data)==null?void 0:T.mobile_no)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold text-gray-900",children:"Email:"})}),s.jsx("div",{className:"text-xs  text-gray-900",children:((E=(O=e==null?void 0:e.data)==null?void 0:O.data)==null?void 0:E.email)||"--"})]})})]})]})]})}export{hs as default};
