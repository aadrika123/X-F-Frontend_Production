import{R as l,i as F,b as A,j as s,k as I,r,L as M,w as L}from"./index-tSYJy2m1.js";import{P as T}from"./index-WwCza5ZD.js";function B(){var o,i,t,m,x,p,h;const[R,E]=l.useState([]);l.useState([]);const{id:d}=F(),e=A({api:L.waterGetDetails,config:{applicationId:d},value:[d],options:{enabled:!!d}}),n=A({api:L.waterPaymentHistory,config:{consumerId:d},value:[d],options:{enabled:!!d}});return l.useEffect(()=>{var a,c,j,N,u,v,f,g,b,y,_,C,P;(a=e==null?void 0:e.data)!=null&&a.data&&E([{title:"Consumer No",value:(j=(c=e==null?void 0:e.data)==null?void 0:c.data)==null?void 0:j.consumer_no},{title:"Owner Name",value:(u=(N=e==null?void 0:e.data)==null?void 0:N.data)==null?void 0:u.applicant_name},{title:"Meter No",value:(f=(v=e==null?void 0:e.data)==null?void 0:v.data)==null?void 0:f.meter_no},{title:"Property No",value:(b=(g=e==null?void 0:e.data)==null?void 0:g.data)==null?void 0:b.property_no},{title:"Zone",value:(_=(y=e==null?void 0:e.data)==null?void 0:y.data)==null?void 0:_.zone_name},{title:"Ward No",value:(P=(C=e==null?void 0:e.data)==null?void 0:C.data)==null?void 0:P.ward_number}])},[(o=e==null?void 0:e.data)==null?void 0:o.data]),e!=null&&e.isLoading?s.jsx(I,{}):s.jsx(T,{title:"Payment History",children:s.jsxs("div",{className:"p-4",children:[s.jsx(r.Card,{className:"mb-4",children:s.jsxs(r.CardBody,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-sm font-semibold",children:"Consumer Details"})}),s.jsx("hr",{className:"my-2"}),R.map((a,c)=>s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsx("div",{className:"col-span-1",children:s.jsxs("h1",{className:"text-sm font-semibold",children:[a.title,":"]})}),s.jsx("div",{className:"col-span-1",children:s.jsx("p",{className:"text-sm",children:(a==null?void 0:a.value)||"--"})})]},c))]})}),s.jsx(r.Card,{children:s.jsxs(r.CardBody,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-sm font-semibold",children:"Payment History"})}),s.jsx("hr",{className:"my-2"}),((m=(t=(i=n==null?void 0:n.data)==null?void 0:i.data)==null?void 0:t.Consumer)==null?void 0:m.length)>0?s.jsx(s.Fragment,{children:(h=(p=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:p.Consumer)==null?void 0:h.map((a,c)=>s.jsxs(l.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2 justify-center items-center ",children:[s.jsx("div",{className:"col-span-1",children:s.jsxs("h1",{className:"text-sm font-semibold",children:["Transaction No :"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx("p",{className:"text-sm",children:a==null?void 0:a.tran_no})}),s.jsx("div",{className:"text-center ",children:s.jsx(M,{to:"/amc-app/water/water-payment-receipt/".concat(a==null?void 0:a.tran_no),className:"text-xs text-blue-600 border border-blue-600 rounded-md px-2 py-1",children:"Receipt"})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[s.jsx("div",{className:"col-span-1",children:s.jsx("h1",{className:"text-sm font-semibold",children:"Payment Mode :"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-sm",children:a==null?void 0:a.payment_mode})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[s.jsx("div",{className:"col-span-1",children:s.jsx("h1",{className:"text-sm font-semibold",children:"Date :"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-sm",children:a==null?void 0:a.tran_date})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[s.jsx("div",{className:"col-span-1",children:s.jsx("h1",{className:"text-sm font-semibold",children:"TYPE:"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-sm",children:a==null?void 0:a.tran_type})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[s.jsx("div",{className:"col-span-1",children:s.jsx("h1",{className:"text-sm font-semibold",children:"Amount:"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-sm",children:a==null?void 0:a.amount})})]}),s.jsx("div",{className:"my-2 border-b-2"})]},c))}):s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("h1",{className:"text-sm font-semibold text-red-900 text-center",children:"Water Application's Transaction Details Not Found!!"})})]})})]})})}export{B as default};
