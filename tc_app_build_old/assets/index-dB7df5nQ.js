import{c as N,p as y,j as e}from"./index-P4xldYDK.js";import{f as v,d as p,u as g}from"./router-vn-0iGwJ.js";import{P as w}from"./index-PCnKgv-B.js";import{r}from"./tailwind-umh7vczy.js";import{F as P}from"./FormProvider-Er-x6P3I.js";import{u as S}from"./formik.esm-ilDmhU_v.js";import"./index-9INnh4Fj.js";import{c as F,a as _}from"./index.esm-19LW8OGO.js";import{S as C}from"./index-nu7tWM6I.js";import{u as k}from"./usePathWisePermission-vrlv8sQs.js";import"./reactQuery-VYMV1vFj.js";import"./axios-lPgvryBG.js";import"./reactIcons-lANGEfNm.js";import"./headlessui-pLs_kC1m.js";import"./ArrowRightIcon-L63fzh56.js";function K(){var d,c,o,x,i,m,j,h;const{pathname:f}=v();k(f);const[t,u]=p.useState(1),[b,R]=p.useState(10),l=g(),n=S({initialValues:{holdingNo:""},validationSchema:F().shape({holdingNo:_().required("Survey is required")}),onSubmit:s=>{a.refetch()}}),a=N({api:y.getFilterPropDetails,config:{filteredBy:"holdingNo",parameter:n.values.holdingNo,zoneId:"",wardId:"",page:t,perPage:b},key:"holdingListData",options:{enabled:!1}});return e.jsx(w,{title:"Search Survey",children:e.jsxs("div",{className:"px-4 py-4 flex-1",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-3",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Survey"}),e.jsx("div",{children:e.jsx(r.Button,{size:"sm",color:"blue-gray",onClick:()=>l("/amc-app/property/new-survey-basic"),fullWidth:!0,children:e.jsx("small",{children:"New Survey"})})})]}),e.jsx(P,{formik:n,children:e.jsx(r.Card,{children:e.jsx(r.CardBody,{children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.jsx("div",{className:"border-t border-gray-200"})})})})}),e.jsx("div",{className:"mt-4",children:a!=null&&a.isFetching?e.jsx("div",{className:"text-center py-40 text-blue-600",children:"Please Wait...."}):e.jsx(e.Fragment,{children:((o=(c=(d=a==null?void 0:a.data)==null?void 0:d.data)==null?void 0:c.data)==null?void 0:o.length)>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-4 border-b-2"}),(m=(i=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:i.data)==null?void 0:m.map(s=>e.jsx(r.Card,{className:"w-full mb-5",children:e.jsxs(r.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-xs",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Holding No:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.holding_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Property No:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.property_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Zone:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.zone_name})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:s==null?void 0:s.prop_address})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile No:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.mobile_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:s==null?void 0:s.owner_name})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Payment Status:"}),e.jsx("p",{className:"text-xs font-semibold ".concat((s==null?void 0:s.paid_status)===1?"text-green-500":"text-red-500"),children:(s==null?void 0:s.paid_status)===1?"Paid":"Pending"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsx("div",{className:"flex items-center justify-around mt-4 -mb-1 gap-6",children:e.jsx("div",{onClick:()=>l("/amc-app/property/survey-for-reassessment/".concat(s==null?void 0:s.id)),className:"text-xs font-bold text-blue-600",children:"Survey for Reassessment"})})]})},s==null?void 0:s.id)),e.jsx("div",{className:"my-4 border-b-2"}),e.jsx(C,{active:t,setActive:u,noOfPage:(h=(j=a==null?void 0:a.data)==null?void 0:j.data)==null?void 0:h.last_page})]}):e.jsx("div",{className:"flex items-center justify-center py-52",children:e.jsx("h1",{color:"gray",className:"text-center text-xs",children:"No Record Found!"})})})})]})})}export{K as default};
