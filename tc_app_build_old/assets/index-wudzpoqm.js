import{u as g,m as v,w,p as S,j as e,r,L as n}from"./index-hiQLm8TA.js";import{F as B}from"./FormProvider-l751_MOh.js";import{T as C}from"./TextField-TuCHzpng.js";import{L as P}from"./LoaderButton-NEeHQiwB.js";import{S as c}from"./SelectField-oYPPwjxC.js";import{u as I}from"./formik.esm-e4egwEos.js";import"./index-AiuV23kC.js";import{c as F,a as y}from"./index.esm-eo5j1FLJ.js";import{P as A}from"./index-kqmfRL9d.js";import{S as _}from"./index-0YV2PyQf.js";import"./ArrowRightIcon-DfIdeKvZ.js";const z=[{id:1,label:"Consumer No",value:"consumerNo"},{id:2,label:"Property No",value:"propertyNo"},{id:3,label:"Applicant Name",value:"applicantName"},{id:4,label:"Mobile",value:"mobileNo"}],W=[{id:1,label:"Zone A-East",value:"1"},{id:2,label:"Zone B-West",value:"2"},{id:3,label:"Zone C-North",value:"3"},{id:4,label:"Zone D-South",value:"4"}];function V(){var m,x,h,j,p,b,u,f,N;const{searchWaterConsumerState:t,setSearchWaterConsumerState:o}=g(),a=v({api:w.searchWaterConsumer,config:t,value:[t.filterBy,t.parameter,t.wardId,t.zoneId,t.page,t.perPage],options:{enabled:!!t.filterBy}}),l=I({initialValues:t,validationSchema:F({filterBy:y().required("Search String is required"),parameter:y().required("Search String is required")}),onSubmit:async s=>{o({...t,filterBy:s.filterBy,parameter:s.parameter,wardId:s.wardId,zoneId:s.zoneId})}}),{values:d}=l,i=v({api:S.getWardByZone,config:{zoneId:d.zoneId},value:[d.zoneId],options:{enabled:!!d.zoneId}});return e.jsx(A,{title:"Search Water Consumer",children:e.jsx("div",{className:"px-4 py-4 flex-1",children:e.jsxs(B,{formik:l,children:[e.jsx(r.Card,{className:"w-full",children:e.jsxs(r.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Search Consumer"})}),e.jsx("div",{className:"my-4 border-b-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(c,{label:"Filter By",name:"filterBy",formik:l,children:[e.jsx("option",{value:"",children:"select"}),z.map(s=>e.jsx("option",{value:s.value,children:s.label},s.id))]}),e.jsxs(c,{label:"Zone",name:"zoneId",formik:l,children:[e.jsx("option",{value:"",children:"select"}),W.map(s=>e.jsx("option",{value:s.value,children:s.label},s.id))]}),e.jsxs(c,{label:"select",formik:l,name:"wardId",children:[e.jsx("option",{value:"1",children:"select"}),(x=(m=i==null?void 0:i.data)==null?void 0:m.data)==null?void 0:x.map(s=>e.jsx("option",{value:s.id,children:s.ward_name},s.id))]}),e.jsx(C,{label:"Parameter",name:"parameter",type:"text",formik:l})]}),e.jsx("div",{className:"flex justify-center mt-2",children:e.jsx(P,{type:"submit",disabled:a==null?void 0:a.isFetching,children:"Search"})})]})}),a!=null&&a.isLoading?e.jsx("div",{className:"text-center py-52",children:"Loading..."}):e.jsx(e.Fragment,{children:((j=(h=a==null?void 0:a.data)==null?void 0:h.data.data)==null?void 0:j.length)>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-4 border-b-2"}),(u=(b=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:b.data)==null?void 0:u.map(s=>e.jsx(r.Card,{className:"w-full mb-5",children:e.jsxs(r.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-sm",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Owner's Name:"}),e.jsx("p",{className:"text-sm text-end",children:s.owner_name})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Consumer No:"}),e.jsx("p",{className:"text-sm text-end",children:s.consumer_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Property No:"}),e.jsx("p",{className:"text-sm text-end",children:(s==null?void 0:s.folio_no)||"--"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Mobile:"}),e.jsx("p",{className:"text-sm text-end truncate w-60",children:s.mobile_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Address:"}),e.jsx("div",{className:"w-44",children:e.jsx("p",{className:"text-sm text-end truncate",children:s.address})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Bill Amount:"}),e.jsx("p",{className:"text-sm text-end truncate w-60",children:(s==null?void 0:s.balance_amount)||0})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Payment Status:"}),e.jsx("p",{className:"text-sm font-semibold ".concat(s.paid_status?"text-green-500":"text-red-500"),children:s.paid_status?"Paid":"Pending"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-around mt-4 -mb-1 gap-6",children:[e.jsx(n,{to:"/amc-app/water/consumer-details/".concat(s.id),className:"text-xs font-bold text-blue-600",children:"Basic Details"}),e.jsx(n,{to:"/amc-app/water/demand-details/".concat(s.id),className:"text-xs font-bold text-blue-600",children:"Demand Details"}),e.jsx(n,{to:"/amc-app/water/water-payment-history/".concat(s.id),className:"text-xs font-bold text-blue-600",children:"Payment History"})]})]})},s.id)),e.jsx("div",{className:"my-4 border-b-2"}),e.jsx(_,{active:t,noOfPage:(N=(f=a==null?void 0:a.data)==null?void 0:f.data)==null?void 0:N.total,setActive:o})]}):e.jsx("div",{className:"text-center py-52",children:"No Record Found!"})}),e.jsx("div",{className:"my-4 border-b-2"})]})})})}export{V as default};
