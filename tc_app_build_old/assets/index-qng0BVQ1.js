import{j as e,c as A,t as z,o as Ne,d as je,S as fe,Q as M}from"./index-f3FnD_pr.js";import{u as we,f as ye,r as P}from"./router-5yjtezO8.js";import{P as qe}from"./index-VLUfqzc-.js";import{u as I,F as De}from"./formik.esm-BnzrXcQN.js";import{r as b}from"./tailwind-6U-kYQAu.js";import{c as T,a as d,d as ve,b as Se}from"./index.esm-uHa2PMRf.js";import{F as E}from"./FormProvider-m3oXncXM.js";import{T as w}from"./TextField-F7FR4uFb.js";import{S as L}from"./SelectField-lb8idSD0.js";import"./index-iFVn5AxS.js";import{T as $,S as Re}from"./react-select.esm-s2Q1uhhP.js";import{O as ge}from"./OverLayLoader-zc9jLvm_.js";import"./reactQuery-QTVGT_ni.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./customInputValidation-jhKsg103.js";import"./module-yWkWGvkH.js";function Ce({data:i,setData:F,next:q,tradeApplyData:N}){var g,l,n,h,D,o;const t=I({enableReinitialize:!0,initialValues:i,validationSchema:T({licenseNo:d().required("Required"),firmType:d().required("Required"),ownershipType:d().required("Required")}),onSubmit:a=>{q(a)}});return e.jsx(E,{formik:t,children:e.jsxs(b.Card,{children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Basic Details"})}),e.jsxs(b.CardBody,{children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{label:"License No",name:"licenseNo",formik:t,disabled:!0}),e.jsxs(L,{label:"Firm Type",name:"firmType",formik:t,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"Firm Type"}),(n=(l=(g=N==null?void 0:N.data)==null?void 0:g.data)==null?void 0:l.firmTypeList)==null?void 0:n.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.firm_type},a==null?void 0:a.id))]}),e.jsxs(L,{label:"Ownership Type",name:"ownershipType",formik:t,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"Ownership Type"}),(o=(D=(h=N==null?void 0:N.data)==null?void 0:h.data)==null?void 0:D.ownershipTypeList)==null?void 0:o.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.ownership_type},a==null?void 0:a.id))]})]})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})})]})]})})}function Be({data:i,setData:F,next:q,prev:N,tradeApplyData:t,natureOfBusiness:g}){var o,a,x,v,S,R,C,B,s;const l=I({enableReinitialize:!0,initialValues:i,validationSchema:T({holdingNo:d().required("Required"),zoneId:d().required("Required"),wardNo:d().required("Required"),areaSqft:d().required("Required"),firmName:d().required("Required"),firmEstdDate:d().required("Required"),businessAddress:d().required("Required"),landmark:d().required("Required"),pincode:d().required("Required"),premisesOwner:d().required("Required"),businessDescription:d().required("Required"),natureOfBusiness:ve().required("Required")}),onSubmit:r=>{q({...i,...r})}}),{values:n}=l,h=A({api:z.tradeGetPropByHolding,config:{holdingNo:n==null?void 0:n.holdingNo},value:[n==null?void 0:n.holdingNo],options:{enabled:!1}}),D=A({api:(o=Ne)==null?void 0:o.getWardByZone,config:{zoneId:n==null?void 0:n.zoneId},value:[n==null?void 0:n.zoneId],options:{enabled:!!(n!=null&&n.zoneId)}});return e.jsxs(E,{formik:l,children:[(h==null?void 0:h.isLoading)&&e.jsx(ge,{}),e.jsxs(b.Card,{children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Firm Details"})}),e.jsxs(b.CardBody,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[e.jsx(w,{label:"Holding No",name:"holdingNo",formik:l,isRequiredLabel:!0,onBlur:()=>h==null?void 0:h.refetch()}),e.jsxs(L,{label:"Zone",name:"zoneId",formik:l,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"Zone"}),(v=(x=(a=t==null?void 0:t.data)==null?void 0:a.data)==null?void 0:x.zone)==null?void 0:v.map(r=>e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.zone_name},r==null?void 0:r.id))]}),e.jsxs(L,{label:"Ward No",name:"wardNo",formik:l,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"Ward No"}),(R=(S=D==null?void 0:D.data)==null?void 0:S.data)==null?void 0:R.map(r=>e.jsx("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.ward_name},r==null?void 0:r.id))]}),e.jsx(w,{type:"number",label:"Area in Sqft",name:"areaSqft",formik:l,isRequiredLabel:!0}),e.jsx(w,{disabled:!0,label:"Firm Name",name:"firmName",formik:l,isRequiredLabel:!0}),e.jsx($,{disabled:!0,onChangeText:r=>{l.setFieldValue("firmNameMarathi",r)},value:(C=l==null?void 0:l.values)==null?void 0:C.firmNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],label:"Firm Name (Marathi)",name:"firmNameMarathi",formik:l,isRequiredLabel:!0}),e.jsx(w,{disabled:!0,type:"date",label:"Firm Estd. Date",name:"firmEstdDate",formik:l,isRequiredLabel:!0,max:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),e.jsx(w,{disabled:!0,label:"Business Address",name:"businessAddress",formik:l,isRequiredLabel:!0}),e.jsx(w,{label:"Landmark",name:"landmark",formik:l,isRequiredLabel:!0}),e.jsx(w,{type:"number",onInput:r=>r.target.value=Math.max(0,parseInt(r.target.value)).toString().slice(0,6),label:"Pincode",name:"pincode",formik:l}),e.jsx(w,{disabled:!0,label:"Premises Owner",name:"premisesOwner",formik:l,isRequiredLabel:!0}),e.jsx(w,{label:"Business Description",name:"businessDescription",formik:l,isRequiredLabel:!0}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(Re,{isMulti:!0,value:(B=l==null?void 0:l.values)==null?void 0:B.natureOfBusiness,name:"natureOfBusiness",options:g,className:"basic-multi-select",classNamePrefix:"select",onChange:r=>{l.setFieldValue("natureOfBusiness",r)}}),e.jsx("p",{className:"text-sm text-red-500",children:(s=l==null?void 0:l.errors)==null?void 0:s.natureOfBusiness})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"flex justify-between mt-4 gap-4",children:[e.jsx(b.Button,{color:"gray",size:"sm",onClick:()=>N(l.values),children:"Back"}),e.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})]})]})]})]})}function _e({data:i,setData:F,next:q,prev:N}){const t=I({enableReinitialize:!0,initialValues:i,validationSchema:T({ownerDetails:Se().of(T().shape({businessOwnerName:d().required("Required"),guardianName:d().required("Required"),mobileNo:d().required("Required"),ownerNameMarathi:d().required("Required"),guardianNameMarathi:d().required("Required"),email:d().required("Required")}))}),onSubmit:g=>{q(g)}});return e.jsx(E,{formik:t,children:e.jsxs(b.Card,{children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Owner"})}),e.jsxs(b.CardBody,{children:[e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx(De,{name:"ownerDetails",children:({push:g,remove:l})=>{var n,h;return e.jsxs(e.Fragment,{children:[(h=(n=t==null?void 0:t.values)==null?void 0:n.ownerDetails)==null?void 0:h.map((D,o)=>{var a,x,v,S,R,C,B,s,r,y,m,j,p,f,_,u;return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-2",children:[e.jsx(w,{disabled:(x=(a=i==null?void 0:i.ownerDetails)==null?void 0:a[o])==null?void 0:x.businessOwnerName,isDynamic:!0,label:"Business Owner Name",name:"ownerDetails.".concat(o,".businessOwnerName"),formik:t,isRequiredLabel:!0}),e.jsx(w,{disabled:(S=(v=i==null?void 0:i.ownerDetails)==null?void 0:v[o])==null?void 0:S.guardianName,isDynamic:!0,label:"Guardian Name",name:"ownerDetails.".concat(o,".guardianName"),formik:t,isRequiredLabel:!0}),e.jsx(w,{type:"number",onInput:O=>{O.target.value=Math.max(0,parseInt(O.target.value)).toString().slice(0,10)},disabled:(C=(R=i==null?void 0:i.ownerDetails)==null?void 0:R[o])==null?void 0:C.mobileNo,isDynamic:!0,label:"Mobile No",name:"ownerDetails.".concat(o,".mobileNo"),formik:t,isRequiredLabel:!0}),e.jsx($,{disabled:(s=(B=i==null?void 0:i.ownerDetails)==null?void 0:B[o])==null?void 0:s.ownerNameMarathi,onChangeText:O=>{t.setFieldValue("ownerDetails.".concat(o,".ownerNameMarathi"),O)},value:(m=(y=(r=t==null?void 0:t.values)==null?void 0:r.ownerDetails)==null?void 0:y[o])==null?void 0:m.ownerNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],isDynamic:!0,label:"Owner Name Marathi",name:"ownerDetails.".concat(o,".ownerNameMarathi"),formik:t,isRequiredLabel:!0}),e.jsx($,{disabled:(p=(j=i==null?void 0:i.ownerDetails)==null?void 0:j[o])==null?void 0:p.guardianNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],isDynamic:!0,value:(u=(_=(f=t==null?void 0:t.values)==null?void 0:f.ownerDetails)==null?void 0:_[o])==null?void 0:u.guardianNameMarathi,onChangeText:O=>{t.setFieldValue("ownerDetails.".concat(o,".guardianNameMarathi"),O)},label:"Guardian Name Marathi",name:"ownerDetails.".concat(o,".guardianNameMarathi"),formik:t,isRequiredLabel:!0}),e.jsx(w,{isDynamic:!0,label:"Email",name:"ownerDetails.".concat(o,".email"),formik:t,isRequiredLabel:!0}),o>0&&e.jsx("div",{className:"flex justify-end items-end col-span-2",children:e.jsx(b.Button,{color:"red",size:"sm",onClick:()=>l(o),children:e.jsx("small",{children:"Remove"})})})]}),e.jsx("div",{className:"border-b border-gray-300 my-4"})]},o)}),(i==null?void 0:i.firmType)!=1&&e.jsx("div",{className:"flex justify-center items-end -mt-4",children:e.jsx(b.Button,{size:"sm",onClick:()=>g?g({businessOwnerName:"",guardianName:"",mobileNo:"",ownerNameMarathi:"",guardianNameMarathi:"",email:""}):null,children:"Add Owner"})})]})}})})}),e.jsxs("div",{className:"flex justify-between mt-4 gap-4",children:[e.jsx(b.Button,{color:"gray",size:"sm",onClick:()=>N(t.values),children:"Back"}),e.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})]})]})]})})}function Fe({data:i,setData:F,next:q,prev:N,licenseId:t}){var D,o,a,x,v,S,R,C,B;const{mutateAsync:g,isLoading:l}=je({}),n=I({enableReinitialize:!0,initialValues:{licenseFor:i.licenseFor||"1",licenseCharge:i.licenseCharge||"",penalty:i.penalty||"",denialAmount:i.denialAmount||"",totalCharge:i.totalCharge||""},validationSchema:T().shape({licenseFor:d().required("License For is required"),licenseCharge:d().required("License Charge is required"),penalty:d().required("Penalty is required"),denialAmount:d().required("Denial Amount is required"),totalCharge:d().required("Total Charge is required")}),onSubmit:async(s,{setSubmitting:r})=>{var m,j;const y={initialBusinessDetails:{applyWith:i==null?void 0:i.applyWith,noticeNo:(i==null?void 0:i.noticeNo)||"",noticeDate:(i==null?void 0:i.noticeDate)||"",firmType:(i==null?void 0:i.firmType)||"",ownershipType:(i==null?void 0:i.ownershipType)||"",licenseNo:(i==null?void 0:i.licenseNo)||"",otherFirmType:(i==null?void 0:i.otherFirmType)||""},firmDetails:{wardNo:(i==null?void 0:i.wardNo)||"",holdingNo:(i==null?void 0:i.holdingNo)||"",areaSqft:(i==null?void 0:i.areaSqft)||"",firmName:(i==null?void 0:i.firmName)||"",firmNameMarathi:(i==null?void 0:i.firmNameMarathi)||"",firmEstdDate:(i==null?void 0:i.firmEstdDate)||"",businessAddress:(i==null?void 0:i.businessAddress)||"",landmark:(i==null?void 0:i.landmark)||"",pincode:(i==null?void 0:i.pincode)||"",premisesOwner:(i==null?void 0:i.premisesOwner)||"",businessDescription:(i==null?void 0:i.businessDescription)||"",natureOfBusiness:[{name:(m=i==null?void 0:i.natureOfBusiness)==null?void 0:m.label,id:(j=i==null?void 0:i.natureOfBusiness)==null?void 0:j.value}],tocStatus:0,propDtlId:(i==null?void 0:i.propDtlId)||"",zoneId:(i==null?void 0:i.zoneId)||""},ownerDetails:i==null?void 0:i.ownerDetails,licenseDetails:{licenseFor:s==null?void 0:s.licenseFor,licenseCharge:s==null?void 0:s.licenseCharge,penalty:s==null?void 0:s.penalty,denialAmount:s==null?void 0:s.denialAmount,totalCharge:s==null?void 0:s.totalCharge,paymentMode:"NA",bankName:"",chequeNo:"",chequeDate:"",branchName:""},applicationType:"AMENDMENT",licenseId:t||""};fe.fire({title:"Are you sure?",text:"You want to proceed with the payment of ₹ ".concat(s==null?void 0:s.totalCharge),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(p=>{p.isConfirmed&&h(s,y)}).catch(p=>{var f,_;M.error((_=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:_.message)})}}),h=async(s,r)=>{var y,m,j,p,f,_;try{const u=await g({api:z.tradeAddNew,data:r});(y=u==null?void 0:u.data)!=null&&y.status?(M.success(((m=u==null?void 0:u.data)==null?void 0:m.message)||"Success"),q({...i,...s,message:(j=u==null?void 0:u.data)==null?void 0:j.message,applyLicenseId:(f=(p=u==null?void 0:u.data)==null?void 0:p.data)==null?void 0:f.applyLicenseId})):M.error(((_=u==null?void 0:u.data)==null?void 0:_.message)||"Something went wrong")}catch(u){M.error((u==null?void 0:u.message)||"Something went wrong")}};return A({api:z.tradeGetDemand,config:{licenseFor:n.values.licenseFor,firmEstdDate:i==null?void 0:i.firmEstdDate,natureOfBusiness:[{id:(D=i.natureOfBusiness)==null?void 0:D.value,name:(o=i.natureOfBusiness)==null?void 0:o.label}],areaSqft:i==null?void 0:i.areaSqft,applicationType:"RENEWAL",tocStatus:0,noticeDate:""},value:[(a=n==null?void 0:n.values)==null?void 0:a.licenseFor],options:{enabled:!!((x=n==null?void 0:n.values)!=null&&x.licenseFor),onSuccess:s=>{var r,y,m,j,p,f;console.log("res",(r=s==null?void 0:s.data)==null?void 0:r.total_charge),n.setFieldValue("licenseCharge",(y=s==null?void 0:s.data)==null?void 0:y.rate),n.setFieldValue("penalty",(m=s==null?void 0:s.data)==null?void 0:m.penalty),n.setFieldValue("denialAmount",((j=s==null?void 0:s.data)==null?void 0:j.arear_amount)+((p=s==null?void 0:s.data)==null?void 0:p.notice_amount)||0),n.setFieldValue("totalCharge",((f=s==null?void 0:s.data)==null?void 0:f.total_charge)||0)}}}),e.jsxs(E,{formik:n,children:[l&&e.jsx(ge,{}),e.jsxs(b.Card,{children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Payable Amount"})}),e.jsxs(b.CardBody,{children:[e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs(L,{label:"License For",name:"licenseFor",formik:n,children:[e.jsx("option",{value:"",children:"Select License For"}),e.jsx("option",{value:"1",children:"1 Year"})]})})}),e.jsx("div",{className:"border-t border-gray-200 my-5"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4 ",children:[e.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Charge Applied :"}),e.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((v=n==null?void 0:n.values)==null?void 0:v.licenseCharge)||0]}),e.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Penalty :"}),e.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((S=n==null?void 0:n.values)==null?void 0:S.penalty)||0]}),e.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Denial Amount :"}),e.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((R=n==null?void 0:n.values)==null?void 0:R.denialAmount)||0]}),e.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Total Charge :"}),e.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((C=n==null?void 0:n.values)==null?void 0:C.totalCharge)||0]}),e.jsx("div",{className:"border-t border-gray-200 col-span-2 "}),e.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Payable Amount :"}),e.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((B=n==null?void 0:n.values)==null?void 0:B.totalCharge)||0]})]}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(b.Button,{color:"gray",size:"sm",onClick:()=>N(n.values),children:"Back"}),e.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Final Submit"})]})]})]})]})}function Oe({data:i}){const F=we();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border border-gray-200 shadow-md shadow-gray-300 justify-center p-4 sm:w-1/2 lg:w-1/3 w-full bg-white mx-auto flex flex-col h-screen top-0 left-0 right-0 bottom-0 fixed",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","data-slot":"icon",className:"text-white w-24 h-24 mb-4 mt-12 bg-green-600 max-w-full h-auto mx-auto animate-wiggle rounded-full",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-2xl  text-center mb-6 text-[#40AA15] font-openSans font-semibold",children:"This Application Is Submitted."}),e.jsxs("h3",{className:"text-xl  text-center mb-2 text-gray-400 font-openSans font-semibold ",children:["Generated Application No: ",i==null?void 0:i.message]}),e.jsx("h3",{className:"text-sm  text-center mb-3 text-gray-400 font-openSans font-semibold ",children:"( Keep This application No. for future reference. You can always find your applications in)"})]})}),e.jsx("div",{className:"",children:e.jsx("div",{className:" text-center mt-8 mb-16",children:e.jsxs("button",{onClick:()=>F("/amc-app/trade/application-details/".concat(i==null?void 0:i.applyLicenseId),{replace:!0}),className:"bg-[#1A4D8C] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",children:[" ","View Application"]})})})]})})}function Je(){var v,S,R,C,B;const i=ye(),F=(v=new URLSearchParams(i==null?void 0:i.search))==null?void 0:v.get("app-type"),q=(S=new URLSearchParams(i==null?void 0:i.search))==null?void 0:S.get("license-id"),[N,t]=P.useState([]),[g,l]=P.useState(1),[n,h]=P.useState({applyWith:"",noticeNo:"",noticeDate:"",firmType:"",ownershipType:"",licenseNo:"",otherFirmType:"",holdingNo:"",zoneId:"",wardNo:"",areaSqft:"",firmName:"",firmNameMarathi:"",firmEstdDate:"",businessAddress:"",landmark:"",pincode:"",premisesOwner:"",businessDescription:"",natureOfBusiness:null,tocStatus:0,propDtlId:"",ownerDetails:[{businessOwnerName:"",guardianName:"",mobileNo:"",ownerNameMarathi:"",guardianNameMarathi:"",email:""}],licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",message:"",applyLicenseId:""}),D=s=>{console.log(s)},o=(s,r=!1)=>{if(h({...n,...s}),r){D(s);return}l(g+1)},a=s=>{h({...n,...s}),l(g-1)},x=A({api:(R=z)==null?void 0:R.tradeApplyData,config:{licenseId:q,applicationType:F},value:[F,q],options:{enabled:!!q&&!!F,onSuccess:s=>{var r,y;h(m=>{var j,p,f,_,u,O,V,K,W,Y,G,Z,k,U,Q,J,X,H,ee,ie,se,ne,re,le,ae,te,oe,ce,ue,de,me,he,xe,pe,be;return{...m,ownerDetails:(p=(j=s==null?void 0:s.data)==null?void 0:j.ownerDtl)==null?void 0:p.map(c=>({businessOwnerName:c==null?void 0:c.owner_name,guardianName:c==null?void 0:c.guardian_name,mobileNo:c==null?void 0:c.mobile_no,ownerNameMarathi:c==null?void 0:c.owner_name_marathi,guardianNameMarathi:c==null?void 0:c.guardian_name_marathi,email:c==null?void 0:c.email_id,natureOfBusiness:c==null?void 0:c.nature_of_business})),firmType:(_=(f=s==null?void 0:s.data)==null?void 0:f.licenceDtl)==null?void 0:_.firm_type_id,ownershipType:(O=(u=s==null?void 0:s.data)==null?void 0:u.licenceDtl)==null?void 0:O.ownership_type_id,licenseNo:(K=(V=s==null?void 0:s.data)==null?void 0:V.licenceDtl)==null?void 0:K.license_no,zoneId:(Y=(W=s==null?void 0:s.data)==null?void 0:W.licenceDtl)==null?void 0:Y.zone_id,wardNo:(Z=(G=s==null?void 0:s.data)==null?void 0:G.licenceDtl)==null?void 0:Z.ward_id,areaSqft:(U=(k=s==null?void 0:s.data)==null?void 0:k.licenceDtl)==null?void 0:U.area_in_sqft,firmName:(J=(Q=s==null?void 0:s.data)==null?void 0:Q.licenceDtl)==null?void 0:J.firm_name,firmNameMarathi:(H=(X=s==null?void 0:s.data)==null?void 0:X.licenceDtl)==null?void 0:H.firm_name_marathi,firmEstdDate:(ie=(ee=s==null?void 0:s.data)==null?void 0:ee.licenceDtl)==null?void 0:ie.establishment_date,businessAddress:(ne=(se=s==null?void 0:s.data)==null?void 0:se.licenceDtl)==null?void 0:ne.address,landmark:(le=(re=s==null?void 0:s.data)==null?void 0:re.licenceDtl)==null?void 0:le.landmark,pincode:(te=(ae=s==null?void 0:s.data)==null?void 0:ae.licenceDtl)==null?void 0:te.pin_code,premisesOwner:(ce=(oe=s==null?void 0:s.data)==null?void 0:oe.licenceDtl)==null?void 0:ce.premises_owner_name,businessDescription:(de=(ue=s==null?void 0:s.data)==null?void 0:ue.licenceDtl)==null?void 0:de.brief_firm_desc,natureOfBusiness:(xe=(he=(me=s==null?void 0:s.data)==null?void 0:me.licenceDtl)==null?void 0:he.nature_of_bussiness)==null?void 0:xe.map(c=>({value:c==null?void 0:c.id,label:c==null?void 0:c.trade_item}))[0],tocStatus:(be=(pe=s==null?void 0:s.data)==null?void 0:pe.licenceDtl)==null?void 0:be.toc_status}}),t((y=(r=s==null?void 0:s.data)==null?void 0:r.natureOfBusiness)==null?void 0:y.map(m=>({value:m==null?void 0:m.id,label:"(".concat(m==null?void 0:m.trade_code,") - ").concat(m==null?void 0:m.trade_item)})))}}});return(C=x==null?void 0:x.data)!=null&&C.status?e.jsx(qe,{title:"Amendment Application",children:e.jsx("div",{className:"p-4",children:{1:e.jsx(Ce,{data:n,setData:h,next:o,tradeApplyData:x}),2:e.jsx(Be,{data:n,setData:h,next:o,prev:a,tradeApplyData:x,natureOfBusiness:N}),3:e.jsx(_e,{data:n,setData:h,next:o,prev:a}),4:e.jsx(Fe,{data:n,setData:h,next:o,prev:a,licenseId:q}),5:e.jsx(Oe,{data:n})}[g]})}):e.jsx("div",{className:"flex justify-center items-center h-96 ",children:e.jsx("div",{className:"text-base font-semibold text-center text-red-900",children:(B=x==null?void 0:x.data)==null?void 0:B.message})})}export{Je as default};
