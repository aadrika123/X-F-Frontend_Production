import{b,c as y,p as h,j as i}from"./index-kr7tSH8m.js";import{f as g,d as f,u as j}from"./router-vn-0iGwJ.js";import{P as z}from"./index-x53BABXw.js";import{r as S}from"./tailwind-umh7vczy.js";import{u as B}from"./formik.esm-ilDmhU_v.js";import"./index-9INnh4Fj.js";import{c as w,a as N}from"./index.esm-19LW8OGO.js";import{u as F}from"./usePathWisePermission-KjB_2IGF.js";import"./reactQuery-VYMV1vFj.js";import"./axios-lPgvryBG.js";import"./reactIcons-lANGEfNm.js";import"./headlessui-pLs_kC1m.js";const R=w().shape({filteredBy:N().required("Filter By is required")});function J(){var t,p,n,s,d,m,a;const{pathname:c}=g(),r=b();F(c),f.useState(1),f.useState(10);const P=j();y({api:h.getFilterPropDetails,config:r==null?void 0:r.searchProperty,value:[(t=r==null?void 0:r.searchProperty)==null?void 0:t.filteredBy,(p=r==null?void 0:r.searchProperty)==null?void 0:p.parameter,(n=r==null?void 0:r.searchProperty)==null?void 0:n.zoneId,(s=r==null?void 0:r.searchProperty)==null?void 0:s.wardId,(d=r==null?void 0:r.searchProperty)==null?void 0:d.page,(m=r==null?void 0:r.searchProperty)==null?void 0:m.perPage],options:{enabled:!!((a=r==null?void 0:r.searchProperty)!=null&&a.filteredBy)}});const I=B({enableReinitialize:!0,initialValues:r==null?void 0:r.searchProperty,validationSchema:R,onSubmit:async e=>{r==null||r.setSearchProperty({...r==null?void 0:r.searchProperty,filteredBy:e==null?void 0:e.filteredBy,parameter:e==null?void 0:e.parameter,zoneId:e==null?void 0:e.zoneId,wardId:e!=null&&e.zoneId?e==null?void 0:e.wardId:""})}}),{values:o}=I;return y({api:h.getWardByZone,config:{zoneId:o==null?void 0:o.zoneId},value:[o==null?void 0:o.zoneId],options:{enabled:!!(o!=null&&o.zoneId)}}),i.jsx(z,{title:"Search Survey",children:i.jsx("div",{className:"px-4 py-4 flex-1",children:i.jsxs("div",{className:"flex flex-row justify-between mb-3",children:[i.jsx("h1",{className:"text-sm font-semibold",children:"Survey"}),i.jsx("div",{children:i.jsx(S.Button,{size:"sm",color:"blue-gray",onClick:()=>P("/amc-app/property/new-survey-basic"),fullWidth:!0,children:i.jsx("small",{children:"New Survey"})})})]})})})}export{J as default};
