import{j as i,a as A,t as z,m as ge,b as Ne,S as fe,Q as M}from"./index-zslz9YTJ.js";import{u as je,f as we,r as P}from"./router-g9NwwHut.js";import{P as ye}from"./index-KoHvRtC9.js";import{u as I,F as qe}from"./formik.esm-MEJnthxH.js";import{r as b}from"./tailwind-xMhOhnt0.js";import{c as T,a as m,f as De,e as ve}from"./index.esm-lGQm42K_.js";import{F as E}from"./FormProvider-fyjyrMUf.js";import{T as y}from"./TextField-TttPDaUE.js";import{S as L}from"./SelectField-0eZWcLqE.js";import"./index-KJUlVKah.js";import{T as $,S as Se}from"./react-select.esm-ThiSYxqB.js";import{O as be}from"./OverLayLoader-DkhDlYcX.js";import"./reactQuery-Q7rJjNxq.js";import"./reactQueryDevtools-6dm9iask.js";import"./axios-hq-Xw8mW.js";import"./reactIcons-TqjzQo_g.js";import"./headlessui-QgKi6LbN.js";import"./customInputValidation-8tSUGdUh.js";import"./module-dBInUCP0.js";function Ce({data:e,setData:O,next:q,tradeApplyData:f}){var g,t,n,h,N,c;const o=I({enableReinitialize:!0,initialValues:e,validationSchema:T({licenseNo:m().required("Required"),firmType:m().required("Required"),ownershipType:m().required("Required")}),onSubmit:a=>{q(a)}});return i.jsx(E,{formik:o,children:i.jsxs(b.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Basic Details"})}),i.jsxs(b.CardBody,{children:[i.jsx("div",{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(y,{label:"License No",name:"licenseNo",formik:o,disabled:!0}),i.jsxs(L,{label:"Firm Type",name:"firmType",formik:o,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Firm Type"}),(n=(t=(g=f==null?void 0:f.data)==null?void 0:g.data)==null?void 0:t.firmTypeList)==null?void 0:n.map(a=>i.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.firm_type},a==null?void 0:a.id))]}),i.jsxs(L,{label:"Ownership Type",name:"ownershipType",formik:o,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Ownership Type"}),(c=(N=(h=f==null?void 0:f.data)==null?void 0:h.data)==null?void 0:N.ownershipTypeList)==null?void 0:c.map(a=>i.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.ownership_type},a==null?void 0:a.id))]})]})}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})})]})]})})}function Re({data:e,setData:O,next:q,prev:f,tradeApplyData:o,natureOfBusiness:g}){var c,a,D,v,S,C,R,s,r;const t=I({enableReinitialize:!0,initialValues:e,validationSchema:T({holdingNo:m().required("Required"),zoneId:m().required("Required"),wardNo:m().required("Required"),areaSqft:m().required("Required"),firmName:m().required("Required"),firmEstdDate:m().required("Required"),businessAddress:m().required("Required"),landmark:m().required("Required"),pincode:m().required("Required"),premisesOwner:m().required("Required"),businessDescription:m().required("Required"),natureOfBusiness:De().required("Required")}),onSubmit:l=>{q({...e,...l})}}),{values:n}=t,h=A({api:z.tradeGetPropByHolding,config:{holdingNo:n==null?void 0:n.holdingNo},value:[n==null?void 0:n.holdingNo],options:{enabled:!1}}),N=A({api:(c=ge)==null?void 0:c.getWardByZone,config:{zoneId:n==null?void 0:n.zoneId},value:[n==null?void 0:n.zoneId],options:{enabled:!!(n!=null&&n.zoneId)}});return i.jsxs(E,{formik:t,children:[(h==null?void 0:h.isLoading)&&i.jsx(be,{}),i.jsxs(b.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Firm Details"})}),i.jsxs(b.CardBody,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[i.jsx(y,{label:"Holding No",name:"holdingNo",formik:t,isRequiredLabel:!0,onBlur:()=>h==null?void 0:h.refetch()}),i.jsxs(L,{label:"Zone",name:"zoneId",formik:t,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Zone"}),(v=(D=(a=o==null?void 0:o.data)==null?void 0:a.data)==null?void 0:D.zone)==null?void 0:v.map(l=>i.jsx("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.zone_name},l==null?void 0:l.id))]}),i.jsxs(L,{label:"Ward No",name:"wardNo",formik:t,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Ward No"}),(C=(S=N==null?void 0:N.data)==null?void 0:S.data)==null?void 0:C.map(l=>i.jsx("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.ward_name},l==null?void 0:l.id))]}),i.jsx(y,{type:"number",label:"Area in Sqft",name:"areaSqft",formik:t,isRequiredLabel:!0}),i.jsx(y,{disabled:!0,label:"Firm Name",name:"firmName",formik:t,isRequiredLabel:!0}),i.jsx($,{disabled:!0,onChangeText:l=>{t.setFieldValue("firmNameMarathi",l)},value:(R=t==null?void 0:t.values)==null?void 0:R.firmNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],label:"Firm Name (Marathi)",name:"firmNameMarathi",formik:t,isRequiredLabel:!0}),i.jsx(y,{disabled:!0,type:"date",label:"Firm Estd. Date",name:"firmEstdDate",formik:t,isRequiredLabel:!0,max:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),i.jsx(y,{disabled:!0,label:"Business Address",name:"businessAddress",formik:t,isRequiredLabel:!0}),i.jsx(y,{label:"Landmark",name:"landmark",formik:t,isRequiredLabel:!0}),i.jsx(y,{type:"number",onInput:l=>l.target.value=Math.max(0,parseInt(l.target.value)).toString().slice(0,6),label:"Pincode",name:"pincode",formik:t}),i.jsx(y,{disabled:!0,label:"Premises Owner",name:"premisesOwner",formik:t,isRequiredLabel:!0}),i.jsx(y,{label:"Business Description",name:"businessDescription",formik:t,isRequiredLabel:!0}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(Se,{isDisabled:e==null?void 0:e.natureOfBusiness,value:(s=t==null?void 0:t.values)==null?void 0:s.natureOfBusiness,name:"natureOfBusiness",options:g,className:"basic-multi-select",classNamePrefix:"select",onChange:l=>{t.setFieldValue("natureOfBusiness",l)}}),i.jsx("p",{className:"text-sm text-red-500",children:(r=t==null?void 0:t.errors)==null?void 0:r.natureOfBusiness})]})]}),i.jsx("hr",{className:"my-4"}),i.jsxs("div",{className:"flex justify-between mt-4 gap-4",children:[i.jsx(b.Button,{color:"gray",size:"sm",onClick:()=>f(t.values),children:"Back"}),i.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})]})]})]})]})}function Be({data:e,setData:O,next:q,prev:f}){const o=I({enableReinitialize:!0,initialValues:e,validationSchema:T({ownerDetails:ve().of(T().shape({businessOwnerName:m().required("Required"),guardianName:m().required("Required"),mobileNo:m().required("Required"),ownerNameMarathi:m().required("Required"),guardianNameMarathi:m().required("Required"),email:m().required("Required")}))}),onSubmit:g=>{q(g)}});return i.jsx(E,{formik:o,children:i.jsxs(b.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Owner"})}),i.jsxs(b.CardBody,{children:[i.jsx("div",{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsx(qe,{name:"ownerDetails",children:({push:g,remove:t})=>{var n,h;return i.jsxs(i.Fragment,{children:[(h=(n=o==null?void 0:o.values)==null?void 0:n.ownerDetails)==null?void 0:h.map((N,c)=>{var a,D,v,S,C,R,s,r,l,x,j,w,p,B,F,d;return i.jsxs("div",{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-2",children:[i.jsx(y,{disabled:(D=(a=e==null?void 0:e.ownerDetails)==null?void 0:a[c])==null?void 0:D.businessOwnerName,isDynamic:!0,label:"Business Owner Name",name:"ownerDetails.".concat(c,".businessOwnerName"),formik:o,isRequiredLabel:!0}),i.jsx(y,{disabled:(S=(v=e==null?void 0:e.ownerDetails)==null?void 0:v[c])==null?void 0:S.guardianName,isDynamic:!0,label:"Guardian Name",name:"ownerDetails.".concat(c,".guardianName"),formik:o,isRequiredLabel:!0}),i.jsx(y,{type:"number",onInput:_=>{_.target.value=Math.max(0,parseInt(_.target.value)).toString().slice(0,10)},disabled:(R=(C=e==null?void 0:e.ownerDetails)==null?void 0:C[c])==null?void 0:R.mobileNo,isDynamic:!0,label:"Mobile No",name:"ownerDetails.".concat(c,".mobileNo"),formik:o,isRequiredLabel:!0}),i.jsx($,{disabled:(r=(s=e==null?void 0:e.ownerDetails)==null?void 0:s[c])==null?void 0:r.ownerNameMarathi,onChangeText:_=>{o.setFieldValue("ownerDetails.".concat(c,".ownerNameMarathi"),_)},value:(j=(x=(l=o==null?void 0:o.values)==null?void 0:l.ownerDetails)==null?void 0:x[c])==null?void 0:j.ownerNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],isDynamic:!0,label:"Owner Name Marathi",name:"ownerDetails.".concat(c,".ownerNameMarathi"),formik:o,isRequiredLabel:!0}),i.jsx($,{disabled:(p=(w=e==null?void 0:e.ownerDetails)==null?void 0:w[c])==null?void 0:p.guardianNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],isDynamic:!0,value:(d=(F=(B=o==null?void 0:o.values)==null?void 0:B.ownerDetails)==null?void 0:F[c])==null?void 0:d.guardianNameMarathi,onChangeText:_=>{o.setFieldValue("ownerDetails.".concat(c,".guardianNameMarathi"),_)},label:"Guardian Name Marathi",name:"ownerDetails.".concat(c,".guardianNameMarathi"),formik:o,isRequiredLabel:!0}),i.jsx(y,{isDynamic:!0,label:"Email",name:"ownerDetails.".concat(c,".email"),formik:o,isRequiredLabel:!0}),c>0&&i.jsx("div",{className:"flex justify-end items-end col-span-2",children:i.jsx(b.Button,{color:"red",size:"sm",onClick:()=>t(c),children:i.jsx("small",{children:"Remove"})})})]}),i.jsx("div",{className:"border-b border-gray-300 my-4"})]},c)}),(e==null?void 0:e.firmType)!=1&&i.jsx("div",{className:"flex justify-center items-end -mt-4",children:i.jsx(b.Button,{size:"sm",onClick:()=>g?g({businessOwnerName:"",guardianName:"",mobileNo:"",ownerNameMarathi:"",guardianNameMarathi:"",email:""}):null,children:"Add Owner"})})]})}})})}),i.jsxs("div",{className:"flex justify-between mt-4 gap-4",children:[i.jsx(b.Button,{color:"gray",size:"sm",onClick:()=>f(o.values),children:"Back"}),i.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})]})]})]})})}function Fe({data:e,setData:O,next:q,prev:f,licenseId:o}){var N,c,a,D,v,S,C,R,s;const{mutateAsync:g,isLoading:t}=Ne({}),n=I({enableReinitialize:!0,initialValues:{licenseFor:e.licenseFor||"1",licenseCharge:e.licenseCharge||"",penalty:e.penalty||"",denialAmount:e.denialAmount||"",totalCharge:e.totalCharge||""},validationSchema:T().shape({licenseFor:m().required("License For is required"),licenseCharge:m().required("License Charge is required"),penalty:m().required("Penalty is required"),denialAmount:m().required("Denial Amount is required"),totalCharge:m().required("Total Charge is required")}),onSubmit:async(r,{setSubmitting:l})=>{var j,w;const x={initialBusinessDetails:{applyWith:e==null?void 0:e.applyWith,noticeNo:(e==null?void 0:e.noticeNo)||"",noticeDate:(e==null?void 0:e.noticeDate)||"",firmType:(e==null?void 0:e.firmType)||"",ownershipType:(e==null?void 0:e.ownershipType)||"",licenseNo:(e==null?void 0:e.licenseNo)||"",otherFirmType:(e==null?void 0:e.otherFirmType)||""},firmDetails:{wardNo:(e==null?void 0:e.wardNo)||"",holdingNo:(e==null?void 0:e.holdingNo)||"",areaSqft:(e==null?void 0:e.areaSqft)||"",firmName:(e==null?void 0:e.firmName)||"",firmNameMarathi:(e==null?void 0:e.firmNameMarathi)||"",firmEstdDate:(e==null?void 0:e.firmEstdDate)||"",businessAddress:(e==null?void 0:e.businessAddress)||"",landmark:(e==null?void 0:e.landmark)||"",pincode:(e==null?void 0:e.pincode)||"",premisesOwner:(e==null?void 0:e.premisesOwner)||"",businessDescription:(e==null?void 0:e.businessDescription)||"",natureOfBusiness:[{name:(j=e==null?void 0:e.natureOfBusiness)==null?void 0:j.label,id:(w=e==null?void 0:e.natureOfBusiness)==null?void 0:w.value}],tocStatus:0,propDtlId:(e==null?void 0:e.propDtlId)||"",zoneId:(e==null?void 0:e.zoneId)||""},ownerDetails:e==null?void 0:e.ownerDetails,licenseDetails:{licenseFor:r==null?void 0:r.licenseFor,licenseCharge:r==null?void 0:r.licenseCharge,penalty:r==null?void 0:r.penalty,denialAmount:r==null?void 0:r.denialAmount,totalCharge:r==null?void 0:r.totalCharge,paymentMode:"NA",bankName:"",chequeNo:"",chequeDate:"",branchName:""},applicationType:"AMENDMENT",licenseId:o||""};fe.fire({title:"Are you sure?",text:"You want to proceed with the payment of ₹ ".concat(r==null?void 0:r.totalCharge),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(p=>{p.isConfirmed&&h(r,x)}).catch(p=>{var B,F;M.error((F=(B=p==null?void 0:p.response)==null?void 0:B.data)==null?void 0:F.message)})}}),h=async(r,l)=>{var x,j,w,p,B,F;try{const d=await g({api:z.tradeAddNew,data:l});(x=d==null?void 0:d.data)!=null&&x.status?(M.success(((j=d==null?void 0:d.data)==null?void 0:j.message)||"Success"),q({...e,...r,message:(w=d==null?void 0:d.data)==null?void 0:w.message,applyLicenseId:(B=(p=d==null?void 0:d.data)==null?void 0:p.data)==null?void 0:B.applyLicenseId})):M.error(((F=d==null?void 0:d.data)==null?void 0:F.message)||"Something went wrong")}catch(d){M.error((d==null?void 0:d.message)||"Something went wrong")}};return A({api:z.tradeGetDemand,config:{licenseFor:n.values.licenseFor,firmEstdDate:e==null?void 0:e.firmEstdDate,natureOfBusiness:[{id:(N=e.natureOfBusiness)==null?void 0:N.value,name:(c=e.natureOfBusiness)==null?void 0:c.label}],areaSqft:e==null?void 0:e.areaSqft,applicationType:"RENEWAL",tocStatus:0,noticeDate:""},value:[(a=n==null?void 0:n.values)==null?void 0:a.licenseFor],options:{enabled:!!((D=n==null?void 0:n.values)!=null&&D.licenseFor),onSuccess:r=>{var l,x,j,w,p;n.setFieldValue("licenseCharge",(l=r==null?void 0:r.data)==null?void 0:l.rate),n.setFieldValue("penalty",(x=r==null?void 0:r.data)==null?void 0:x.penalty),n.setFieldValue("denialAmount",((j=r==null?void 0:r.data)==null?void 0:j.arear_amount)+((w=r==null?void 0:r.data)==null?void 0:w.notice_amount)||0),n.setFieldValue("totalCharge",((p=r==null?void 0:r.data)==null?void 0:p.total_charge)||0)}}}),i.jsxs(E,{formik:n,children:[t&&i.jsx(be,{}),i.jsxs(b.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Payable Amount"})}),i.jsxs(b.CardBody,{children:[i.jsx("div",{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs(L,{label:"License For",name:"licenseFor",formik:n,children:[i.jsx("option",{value:"",children:"Select License For"}),i.jsx("option",{value:"1",children:"1 Year"})]})})}),i.jsx("div",{className:"border-t border-gray-200 my-5"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4 ",children:[i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Charge Applied :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((v=n==null?void 0:n.values)==null?void 0:v.licenseCharge)||0]}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Penalty :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((S=n==null?void 0:n.values)==null?void 0:S.penalty)||0]}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Denial Amount :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((C=n==null?void 0:n.values)==null?void 0:C.denialAmount)||0]}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Total Charge :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((R=n==null?void 0:n.values)==null?void 0:R.totalCharge)||0]}),i.jsx("div",{className:"border-t border-gray-200 col-span-2 "}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Payable Amount :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((s=n==null?void 0:n.values)==null?void 0:s.totalCharge)||0]})]}),i.jsxs("div",{className:"flex justify-between mt-4",children:[i.jsx(b.Button,{color:"gray",size:"sm",onClick:()=>f(n.values),children:"Back"}),i.jsx(b.Button,{color:"blue",type:"submit",size:"sm",children:"Final Submit"})]})]})]})]})}function Oe({data:e}){const O=je();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"border border-gray-200 shadow-md shadow-gray-300 justify-center p-4 sm:w-1/2 lg:w-1/3 w-full bg-white mx-auto flex flex-col h-screen top-0 left-0 right-0 bottom-0 fixed",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","data-slot":"icon",className:"text-white w-24 h-24 mb-4 mt-12 bg-green-600 max-w-full h-auto mx-auto animate-wiggle rounded-full",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})]}),i.jsx("div",{className:"",children:i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-2xl  text-center mb-6 text-[#40AA15] font-openSans font-semibold",children:"This Application Is Submitted."}),i.jsxs("h3",{className:"text-xl  text-center mb-2 text-gray-400 font-openSans font-semibold ",children:["Generated Application No: ",e==null?void 0:e.message]}),i.jsx("h3",{className:"text-sm  text-center mb-3 text-gray-400 font-openSans font-semibold ",children:"( Keep This application No. for future reference. You can always find your applications in)"})]})}),i.jsx("div",{className:"",children:i.jsx("div",{className:" text-center mt-8 mb-16",children:i.jsxs("button",{onClick:()=>O("/amc-app/trade/application-details/".concat(e==null?void 0:e.applyLicenseId),{replace:!0}),className:"bg-[#1A4D8C] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",children:[" ","View Application"]})})})]})})}function Je(){var D,v,S,C,R;const e=we(),O=(D=new URLSearchParams(e==null?void 0:e.search))==null?void 0:D.get("app-type"),q=(v=new URLSearchParams(e==null?void 0:e.search))==null?void 0:v.get("license-id"),[f,o]=P.useState([]),[g,t]=P.useState(1),[n,h]=P.useState({applyWith:"",noticeNo:"",noticeDate:"",firmType:"",ownershipType:"",licenseNo:"",otherFirmType:"",holdingNo:"",zoneId:"",wardNo:"",areaSqft:"",firmName:"",firmNameMarathi:"",firmEstdDate:"",businessAddress:"",landmark:"",pincode:"",premisesOwner:"",businessDescription:"",natureOfBusiness:null,tocStatus:0,propDtlId:"",ownerDetails:[{businessOwnerName:"",guardianName:"",mobileNo:"",ownerNameMarathi:"",guardianNameMarathi:"",email:""}],licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",message:"",applyLicenseId:""}),N=(s,r=!1)=>{h({...n,...s}),!r&&t(g+1)},c=s=>{h({...n,...s}),t(g-1)},a=A({api:(S=z)==null?void 0:S.tradeApplyData,config:{licenseId:q,applicationType:O},value:[O,q],options:{enabled:!!q&&!!O,onSuccess:s=>{var r,l;h(x=>{var j,w,p,B,F,d,_,V,K,W,Y,G,Z,U,k,Q,J,X,H,ee,ie,se,ne,re,le,ae,te,oe,ce,ue,de,me,he,xe,pe;return{...x,ownerDetails:(w=(j=s==null?void 0:s.data)==null?void 0:j.ownerDtl)==null?void 0:w.map(u=>({businessOwnerName:u==null?void 0:u.owner_name,guardianName:u==null?void 0:u.guardian_name,mobileNo:u==null?void 0:u.mobile_no,ownerNameMarathi:u==null?void 0:u.owner_name_marathi,guardianNameMarathi:u==null?void 0:u.guardian_name_marathi,email:u==null?void 0:u.email_id,natureOfBusiness:u==null?void 0:u.nature_of_business})),firmType:(B=(p=s==null?void 0:s.data)==null?void 0:p.licenceDtl)==null?void 0:B.firm_type_id,ownershipType:(d=(F=s==null?void 0:s.data)==null?void 0:F.licenceDtl)==null?void 0:d.ownership_type_id,licenseNo:(V=(_=s==null?void 0:s.data)==null?void 0:_.licenceDtl)==null?void 0:V.license_no,zoneId:(W=(K=s==null?void 0:s.data)==null?void 0:K.licenceDtl)==null?void 0:W.zone_id,wardNo:(G=(Y=s==null?void 0:s.data)==null?void 0:Y.licenceDtl)==null?void 0:G.ward_id,areaSqft:(U=(Z=s==null?void 0:s.data)==null?void 0:Z.licenceDtl)==null?void 0:U.area_in_sqft,firmName:(Q=(k=s==null?void 0:s.data)==null?void 0:k.licenceDtl)==null?void 0:Q.firm_name,firmNameMarathi:(X=(J=s==null?void 0:s.data)==null?void 0:J.licenceDtl)==null?void 0:X.firm_name_marathi,firmEstdDate:(ee=(H=s==null?void 0:s.data)==null?void 0:H.licenceDtl)==null?void 0:ee.establishment_date,businessAddress:(se=(ie=s==null?void 0:s.data)==null?void 0:ie.licenceDtl)==null?void 0:se.address,landmark:(re=(ne=s==null?void 0:s.data)==null?void 0:ne.licenceDtl)==null?void 0:re.landmark,pincode:(ae=(le=s==null?void 0:s.data)==null?void 0:le.licenceDtl)==null?void 0:ae.pin_code,premisesOwner:(oe=(te=s==null?void 0:s.data)==null?void 0:te.licenceDtl)==null?void 0:oe.premises_owner_name,businessDescription:(ue=(ce=s==null?void 0:s.data)==null?void 0:ce.licenceDtl)==null?void 0:ue.brief_firm_desc,natureOfBusiness:(he=(me=(de=s==null?void 0:s.data)==null?void 0:de.licenceDtl)==null?void 0:me.nature_of_bussiness)==null?void 0:he.map(u=>({value:u==null?void 0:u.id,label:u==null?void 0:u.trade_item}))[0],tocStatus:(pe=(xe=s==null?void 0:s.data)==null?void 0:xe.licenceDtl)==null?void 0:pe.toc_status}}),o((l=(r=s==null?void 0:s.data)==null?void 0:r.natureOfBusiness)==null?void 0:l.map(x=>({value:x==null?void 0:x.id,label:"(".concat(x==null?void 0:x.trade_code,") - ").concat(x==null?void 0:x.trade_item)})))}}});return(C=a==null?void 0:a.data)!=null&&C.status?i.jsx(ye,{title:"Amendment Application",children:i.jsx("div",{className:"p-4",children:{1:i.jsx(Ce,{data:n,setData:h,next:N,tradeApplyData:a}),2:i.jsx(Re,{data:n,setData:h,next:N,prev:c,tradeApplyData:a,natureOfBusiness:f}),3:i.jsx(Be,{data:n,setData:h,next:N,prev:c}),4:i.jsx(Fe,{data:n,setData:h,next:N,prev:c,licenseId:q}),5:i.jsx(Oe,{data:n})}[g]})}):i.jsx("div",{className:"flex justify-center items-center h-96 ",children:i.jsx("div",{className:"text-base font-semibold text-center text-red-900",children:(R=a==null?void 0:a.data)==null?void 0:R.message})})}export{Je as default};
