import{b as pe,d as k,e as Ne,c as Y,p as q,w as fe,S as me,Q as D,j as e,I as we}from"./index-7NsreNMS.js";import{d as w,u as he,e as Te,f as De,r as Le}from"./router-5yjtezO8.js";import{c as ae,b as Pe,a as u,d as Ie}from"./index.esm-uHa2PMRf.js";import{r as j}from"./tailwind-6U-kYQAu.js";import{u as ue,F as Se}from"./formik.esm-BnzrXcQN.js";import{F as ye}from"./FormProvider-mgiWBhWO.js";import{T as I}from"./TextField-2cNf8gLp.js";import{T as Fe}from"./TextAreaField-QNVsSqWO.js";import"./index-iFVn5AxS.js";import{P as Ae}from"./index-4egx4X3W.js";import{r as Ce}from"./resizeImage-p_Hc0SSs.js";import{u as je}from"./useErrorFocusFields-mwtEYYKc.js";import{O as qe}from"./OverLayLoader-VvepKYYM.js";import{u as ve}from"./usePathWisePermission-3asmerns.js";import"./reactQuery-QTVGT_ni.js";import{S as B}from"./SelectField-hOHrr-Tn.js";import"./module-fXU0BTDy.js";/* empty css              */import"./reactPdfViewerCore-_DhfwgKt.js";import"./reactPdfViewerDefaultLayout-2IVdmRVg.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./customInputValidation-jhKsg103.js";function Be(r){var M,O,_,H,V,a,p,T,o,$,Z,X;pe();const[x,g]=w.useState(""),{AutoFocusErrorField:c}=je(),[L,t]=w.useState([]),m=he(),f=k({}),[E,S]=w.useState(null),{id:F}=Te(),{pathname:y}=De();ve((O=(M=y==null?void 0:y.split("/"))==null?void 0:M.slice(0,-1))==null?void 0:O.join("/"));const{coords:P,isGeolocationEnabled:se}=Ne(),b=Y({api:q.staticSafDetail,config:{applicationId:F},value:[F],options:{enabled:!!F}});Y({api:(_=fe)==null?void 0:_.workFlowInfo,config:{workflowId:(V=(H=b==null?void 0:b.data)==null?void 0:H.data)==null?void 0:V.workflow_id},value:[(p=(a=b==null?void 0:b.data)==null?void 0:a.data)==null?void 0:p.workflow_id],options:{enabled:!!((o=(T=b==null?void 0:b.data)==null?void 0:T.data)!=null&&o.workflow_id)}});const n=ue({enableReinitialize:!0,initialValues:{...r==null?void 0:r.data,geoTagged:(Z=($=r==null?void 0:r.data)==null?void 0:$.geoTagged)==null?void 0:Z.map(s=>({...s})),comment:((X=r==null?void 0:r.data)==null?void 0:X.comment)||""},validationSchema:ae().shape({geoTagged:Pe().of(ae().shape({latitude:u().required("Latitude is required"),longitude:u().required("Longitude is required"),directionType:u().required("Direction is required"),imagePath:Ie().required("Image is required")}))}),onSubmit:async s=>{me.fire({title:"Are you sure?",text:"\n          You are going to submit the application for the survey. Please make sure all the details are correct.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(l=>{l.isConfirmed&&R(s)}).catch(l=>{var d,N;console.log(l),D.error((N=(d=l==null?void 0:l.response)==null?void 0:d.data)==null?void 0:N.message)})}}),R=async s=>{var l,d,N;try{const h=await(f==null?void 0:f.mutateAsync({api:q.surveyNewApplyByTc,data:{propertyType:s==null?void 0:s.propertyType,apartmentId:s==null?void 0:s.apartmentId,plotArea:s==null?void 0:s.plotArea,propAddress:s==null?void 0:s.address,mobileNo:s==null?void 0:s.mobile,ownerName:s==null?void 0:s.name,ward:s==null?void 0:s.wardId,zone:s==null?void 0:s.zoneId,consumerNo:s==null?void 0:s.consumerNo,licenseNo:s==null?void 0:s.licenseNo,isWaterHarvesting:(s==null?void 0:s.isWaterHarvesting)=="yes",harvestingDate:s==null?void 0:s.waterHarvestingDate,isApplicationFormDoc:(s==null?void 0:s.isApplicationFormDoc)=="yes",isSaleDeedDoc:(s==null?void 0:s.isSaleDeedDoc)=="yes",isLayoutSactionMapDoc:(s==null?void 0:s.isLayoutSactionMapDoc)=="yes",isNaOrderDoc:(s==null?void 0:s.isNaOrderDoc)=="yes",isNamunaDDoc:(s==null?void 0:s.isNamunaDDoc)=="yes",isOthersDoc:(s==null?void 0:s.isOthersDoc)=="yes",isMeasurementDoc:(s==null?void 0:s.isMeasurementDoc)=="yes",isPhotoDoc:(s==null?void 0:s.isPhotoDoc)=="yes",isIdProofDoc:(s==null?void 0:s.isIdProofDoc)=="yes"}}));(l=h==null?void 0:h.data)!=null&&l.status&&await W(s,(N=(d=h==null?void 0:h.data)==null?void 0:d.data)==null?void 0:N.safId)}catch(h){console.log(h)}},W=async(s,l)=>{var N,h,A,C,G;const d=new FormData;d.append("safId",l),s==null||s.geoTagged.forEach((i,v)=>{d.append("latitude[".concat(v,"]"),i==null?void 0:i.latitude),d.append("longitude[".concat(v,"]"),i==null?void 0:i.longitude),d.append("directionType[".concat(v,"]"),i==null?void 0:i.directionType),d.append("imagePath[".concat(v,"]"),i==null?void 0:i.imagePath)});try{const i=await f.mutateAsync({api:q.geoTagging,data:d});(N=i==null?void 0:i.data)!=null&&N.status?(D.success((h=i==null?void 0:i.data)==null?void 0:h.message),m("/amc-app/property/saf-generated-new/".concat(l),{replace:!0})):D.error((A=i==null?void 0:i.data)==null?void 0:A.message)}catch(i){D.error((G=(C=i==null?void 0:i.response)==null?void 0:C.data)==null?void 0:G.message)}},{submitCount:U,isSubmitting:J,errors:z,isValid:K}=n,Q=async(s,l,d)=>{var A,C;await((A=window==null?void 0:window.ReactNativeWebView)==null?void 0:A.postMessage(JSON.stringify({Key:"OPEN_CAMERA"})));const N=await Ce(s.target.files[0]),h=new File([N],(C=s.target.files[0])==null?void 0:C.name,{type:"image/*"});n.setFieldValue("geoTagged.".concat(l,".latitude"),P==null?void 0:P.latitude),n.setFieldValue("geoTagged.".concat(l,".longitude"),P==null?void 0:P.longitude),n.setFieldValue("geoTagged.".concat(l,".directionType"),d==null?void 0:d.directionType),n.setFieldValue("geoTagged.".concat(l,".imagePath"),h),S(h)};return Le.useEffect(()=>{var s;t(((s=r==null?void 0:r.data)==null?void 0:s.isWaterHarvesting)=="yes"?[{id:1,title:"Front Image",directionType:"Front"},{id:2,title:"Left Image",directionType:"Left"},{id:3,title:"Right Image",directionType:"Right"},{id:4,title:"Rain Water Harvesting Image",directionType:"waterHarvesting",isRainWaterHarvesting:!0}]:[{id:1,title:"Front Image",directionType:"Front"},{id:2,title:"Left Image",directionType:"Left"},{id:3,title:"Right Image",directionType:"Right"}])},[r==null?void 0:r.data]),w.useEffect(()=>{c({submitCount:U,isSubmitting:J,errors:z,isValid:K})},[z,U,J]),se||me.fire({text:"Geolocation is not enabled! Please enable to use this app",icon:"error",confirmButtonText:"Ok"}),x?e.jsx("div",{className:"p-16 flex text-center text-red-500 font-semibold h-screen justify-center items-center",children:"Network Error"}):b!=null&&b.isLoading?e.jsx(we,{}):e.jsxs(e.Fragment,{children:[f.isLoading&&e.jsx(qe,{}),e.jsx("div",{children:e.jsxs(ye,{formik:n,children:[e.jsx(Se,{name:"geoTagged",children:s=>L.map((l,d)=>{var N,h,A,C,G,i,v,te,re,ne,ie,de,oe,ce,le,xe,ge;return e.jsxs(w.Fragment,{children:[e.jsxs(j.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:l==null?void 0:l.title})}),e.jsxs(j.CardBody,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Latitude : "}),e.jsx(I,{disabled:!0,type:"text",isDynamic:!0,name:"geoTagged.".concat(d,".latitude"),formik:n}),e.jsxs("h1",{className:"font-semibold text-sm",children:["Longitude :"," "]}),e.jsx(I,{disabled:!0,type:"text",isDynamic:!0,name:"geoTagged.".concat(d,".longitude"),formik:n})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("div",{children:((h=(N=n==null?void 0:n.values)==null?void 0:N.geoTagged[d])==null?void 0:h.imagePath)&&e.jsx("img",{className:"w-full h-64",loading:"lazy",src:(C=(A=n==null?void 0:n.values)==null?void 0:A.geoTagged[d])!=null&&C.imagePath?URL.createObjectURL((i=(G=n==null?void 0:n.values)==null?void 0:G.geoTagged[d])==null?void 0:i.imagePath):null,alt:(re=(te=(v=n==null?void 0:n.values)==null?void 0:v.geoTagged[d])==null?void 0:te.imagePath)==null?void 0:re.name})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",name:"imagePath",accept:"image/*",onChange:be=>Q(be,d,l)}),e.jsx("span",{className:"text-sm text-red-500",children:(de=(ie=(ne=n==null?void 0:n.errors)==null?void 0:ne.geoTagged)==null?void 0:ie[d])==null?void 0:de.imagePath})]}),e.jsx("div",{children:e.jsx("h1",{className:"text-sm text-red-900",children:((ce=(oe=n==null?void 0:n.values)==null?void 0:oe.geoTagged[d])==null?void 0:ce.imagePath)&&Math.round(((ge=(xe=(le=n==null?void 0:n.values)==null?void 0:le.geoTagged[d])==null?void 0:xe.imagePath)==null?void 0:ge.size)/1024/1024*100)/100+"MB"})})]})]})]}),e.jsx("div",{className:"my-4 border-b-2"})]},d)})}),e.jsx(Fe,{name:"comment",label:"Comment",formik:n}),e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[e.jsx(j.Button,{type:"button",onClick:()=>{var s;r==null||r.prev({...r==null?void 0:r.data,geoTagged:(s=n==null?void 0:n.values)==null?void 0:s.geoTagged})},size:"sm",className:"bg-blue-500 text-white",children:e.jsx("small",{children:"Back"})}),e.jsx(j.Button,{type:"submit",size:"sm",className:"bg-blue-500 text-white",children:e.jsx("small",{children:"Final Submit"})})]})]})})]})}function Ee(r){const{data:x,consumerDetails:g,licenseDetails:c}=r,L=()=>{r.next({...x,...x},!1)},t=()=>{r.prev({...x,...x})};return e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-row justify-between mb-3",children:e.jsx("h1",{className:"text-sm font-semibold",children:"View Details"})}),e.jsx(j.Card,{children:e.jsxs(j.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"Basic Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:x==null?void 0:x.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile"}),e.jsxs("p",{className:"text-xs text-gray-800",children:["+91 ",x==null?void 0:x.mobile]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address"}),e.jsx("p",{className:"text-xs text-gray-800",children:x==null?void 0:x.address})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),(g==null?void 0:g.consumer_no)&&e.jsx(j.Card,{children:e.jsxs(j.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"Consumer Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer No"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.consumer_no})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.applicant_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Building Type"}),e.jsx("p",{className:"text-xs text-gray-800",children:g==null?void 0:g.building_type})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),(c==null?void 0:c.application_no)&&e.jsx(j.Card,{children:e.jsxs(j.CardBody,{children:[e.jsx("div",{className:"flex flex-row items-center justify-between mb-3",children:e.jsx("div",{children:e.jsx("h1",{className:"text-sm font-semibold",children:"License Details"})})}),e.jsx("div",{className:"border-t border-gray-200 mb-1"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"License No"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.license_no})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.premises_owner_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Firm Name"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.firm_name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address"}),e.jsx("p",{className:"text-xs text-gray-800",children:c==null?void 0:c.entity_address})]})]})})})]})}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("div",{className:"flex flex-row gap-8 justify-center",children:[e.jsx(j.Button,{size:"sm",className:"px-8",onClick:t,color:"blue-gray",children:"Back"}),e.jsx(j.Button,{size:"sm",className:"px-8",onClick:L,variant:"gradient",color:"blue",children:"Next"})]})]})}const ee=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],Re=[{id:1,label:"Zone A-East",value:"1"},{id:2,label:"Zone B-West",value:"2"},{id:3,label:"Zone C-North",value:"3"},{id:4,label:"Zone D-South",value:"4"}],We=[{docname:"isPhotoDoc",label:"Photograph"},{docname:"isIdProofDoc",label:"Id Proof"},{docname:"isApplicationFormDoc",label:"Application Form"},{docname:"isSaleDeedDoc",label:"Sale Deed"},{docname:"isMeasurementDoc",label:"Measurement"},{docname:"isLayoutSactionMapDoc",label:"Layout Saction Map"},{docname:"isNaOrderDoc",label:"NA Order"},{docname:"isNamunaDDoc",label:"7/12/Namuna D"},{docname:"isOthersDoc",label:"Others"}];function ze(r){var z,K,Q,M,O,_,H,V;const{AutoFocusErrorField:x}=je();he();const{mutateAsync:g,isLoading:c}=k({}),L=k({});k({});const t=ue({validationSchema:ae().shape({name:u().required("Name is required"),mobile:u().required("Mobile is required"),zoneId:u().required("Zone is required"),wardId:u().required().label("Ward"),address:u().required("Address is required"),propertyType:u().required("Property Type is required"),plotArea:u().required("Plot Area is required"),consumerNo:u().when("isConsumer",{is:a=>a==="yes",then:()=>u().required("Consumer No is required")}),licenseNo:u().when("isLicense",{is:a=>a==="yes",then:()=>u().required("License No is required")}),waterHarvestingDate:u().when("isWaterHarvesting",{is:a=>a==="yes",then:()=>u().required("Date is required")})}),initialValues:r==null?void 0:r.data,onSubmit:async(a,{})=>{console.log(a),r==null||r.next({...r==null?void 0:r.data,...a},!1)}}),{values:m,submitCount:f,isSubmitting:E,errors:S,isValid:F}=t,{data:y,isPending:P,isError:se,error:b,isLoading:n}=Y({api:q.getWardByZone,config:{zoneId:m==null?void 0:m.zoneId},value:[m==null?void 0:m.zoneId],options:{enabled:!!(m!=null&&m.zoneId)}}),R=Y({api:q.masterSaf,config:{},options:{enabled:!0}}),W=Y({api:q.getAptByWard,config:{wardMstrId:m==null?void 0:m.wardId},value:[m==null?void 0:m.wardId],options:{enabled:((z=t.values)==null?void 0:z.propertyType)==3}}),U=async()=>{var a,p,T;try{const o=await L.mutateAsync({api:q.consumerVerify,data:{consumerNo:(a=t==null?void 0:t.values)==null?void 0:a.consumerNo}});(p=o==null?void 0:o.data)!=null&&p.status?(r==null||r.setConsumerDetails((T=o==null?void 0:o.data)==null?void 0:T.data),D.success("Consumer Verified")):D.error("Consumer not found")}catch(o){D.error(o.message)}},J=async()=>{var a,p,T;try{const o=await L.mutateAsync({api:q.tradeVerify,data:{licenseNo:(a=t==null?void 0:t.values)==null?void 0:a.licenseNo}});(p=o==null?void 0:o.data)!=null&&p.status?(r==null||r.setLicenseDetails((T=o==null?void 0:o.data)==null?void 0:T.data),D.success("License Verified")):(console.log(o==null?void 0:o.data),D.error("License not found"))}catch(o){D.error(o.message)}};return w.useEffect(()=>{x({submitCount:f,isSubmitting:E,errors:S,isValid:F})},[S,f,E]),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-row justify-between mb-3",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Basic Details"})}),e.jsx(j.Card,{children:e.jsx("div",{className:"p-4",children:e.jsx(ye,{formik:t,children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{children:e.jsx(I,{isRequiredLabel:!0,label:"Property Owner Name",name:"name",type:"text",formik:t,placeholder:"Enter property owner name"})}),e.jsx(I,{isRequiredLabel:!0,label:"Mobile",name:"mobile",type:"text",formik:t,placeholder:"Enter your mobile number",onInput:a=>{a.target.value.length>10?a.target.value=a.target.value.slice(0,10):a.target.value=a.target.value.replace(/[^0-9]/g,"")}}),e.jsxs(B,{label:"Zone",name:"zoneId",formik:t,isRequiredLabel:!0,children:[e.jsx("option",{value:"",children:"select"}),Re.map(a=>e.jsx("option",{value:a==null?void 0:a.value,children:a==null?void 0:a.label},a==null?void 0:a.id))]}),e.jsxs("div",{children:[e.jsxs(B,{isRequiredLabel:!0,label:"Ward",formik:t,name:"wardId",disabled:n,children:[e.jsx("option",{value:"",children:"select"}),(K=y==null?void 0:y.data)==null?void 0:K.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.ward_name},a==null?void 0:a.id))]}),e.jsx("small",{className:"text-blue-500",children:n?"Please wait...":""})]}),e.jsxs(B,{isRequiredLabel:!0,label:"Property Type",name:"propertyType",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),(O=(M=(Q=R==null?void 0:R.data)==null?void 0:Q.data)==null?void 0:M.property_type)==null?void 0:O.map(a=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.property_type},a==null?void 0:a.id))]}),((_=t==null?void 0:t.values)==null?void 0:_.propertyType)==3&&e.jsxs(B,{label:"Apartment",name:"apartmentId",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),(V=(H=W==null?void 0:W.data)==null?void 0:H.data)==null?void 0:V.map((a,p)=>e.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.apartment_name},p+1))]}),e.jsx(I,{label:"Area of Plot",name:"plotArea",type:"number",onInput:a=>{a.target.value.length>10?a.target.value=a.target.value.slice(0,10):a.target.value=a.target.value.replace(/[^0-9]/g,"")},formik:t,placeholder:"Enter area of plot"}),e.jsx(I,{isRequiredLabel:!0,label:"Address",name:"address",type:"text",formik:t,placeholder:"Enter your address"}),e.jsx(B,{label:"Is Water Connection?",name:"isConsumer",formik:t,children:ee.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isConsumer==="yes"&&e.jsx(I,{isRequiredLabel:!0,onBlur:U,label:"Consumer No",name:"consumerNo",type:"text",formik:t,placeholder:"Enter your consumer number"}),e.jsx(B,{label:"Is Trade License?",name:"isLicense",formik:t,children:ee.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isLicense==="yes"&&e.jsx(I,{isRequiredLabel:!0,label:"License No",onBlur:J,name:"licenseNo",type:"text",formik:t,placeholder:"Enter your license number"}),e.jsx(B,{label:"Is Water Harvesting?",name:"isWaterHarvesting",formik:t,children:ee.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),t.values.isWaterHarvesting==="yes"&&e.jsx(I,{isRequiredLabel:!0,label:"Water Harvesting Date",name:"waterHarvestingDate",type:"date",formik:t}),e.jsx("h1",{className:"text-xs font-semibold",children:"Please select the document you have"}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:We.map(a=>{var p,T,o,$,Z;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"checkbox",name:a.docname,value:(p=t==null?void 0:t.values)==null?void 0:p[a.docname],checked:((T=t==null?void 0:t.values)==null?void 0:T[a.docname])==="yes",onChange:X=>{t.setFieldValue(a.docname,X.target.checked?"yes":"no")}}),e.jsxs("h1",{className:"text-xs font-semibold",children:[a.label,(a.docname==="isPhotoDoc"||(a==null?void 0:a.docname)=="isIdProofDoc"||(a==null?void 0:a.docname)=="isApplicationFormDoc"||(a==null?void 0:a.docname)=="isSaleDeedDoc")&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-red-500 text-[10px]",children:((o=t==null?void 0:t.errors)==null?void 0:o[a.docname])&&(($=t==null?void 0:t.touched)==null?void 0:$[a.docname])&&((Z=t==null?void 0:t.errors)==null?void 0:Z[a.docname])})})]})]},a.docname)})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(j.Button,{size:"sm",type:"submit",color:"blue",loading:c,formik:t,fullWidth:!0,label:"Submit",children:"Next"})})]})})})})]})}function ca(){const[r,x]=w.useState(0),[g,c]=w.useState({name:"",mobile:"",zoneId:"",wardId:"",address:"",isConsumer:"no",isLicense:"no",consumerNo:"",licenseNo:"",propertyType:"",apartmentId:"",plotArea:"",isWaterHarvesting:"no",waterHarvestingDate:"",comment:"",isApplicationFormDoc:"no",isSaleDeedDoc:"no",isLayoutSactionMapDoc:"no",isNaOrderDoc:"no",isNamunaDDoc:"no",isOthersDoc:"no",isMeasurementDoc:"no",isPhotoDoc:"no",isIdProofDoc:"no",geoTagged:[{latitude:"",longitude:"",altitude:"",accuracy:"",imagePath:"",directionType:"",rainWaterHarvesting:""}]}),[L,t]=w.useState({}),[m,f]=w.useState({});w.useState(""),w.useState("");const E=y=>{console.log(y)},S=(y,P=!1)=>{if(c({...g,...y}),P){E(y);return}x(r+1)},F=y=>{c({...g,...y}),x(r-1)};return e.jsx(Ae,{title:"New Survey Form",children:e.jsx("div",{className:"px-4 py-6 flex-1",children:e.jsx("div",{children:{0:e.jsx(ze,{next:S,data:g,setData:c,setConsumerDetails:t,setLicenseDetails:f}),1:e.jsx(Ee,{next:S,prev:F,data:g,setData:c,setConsumerDetails:t,consumerDetails:L,licenseDetails:m,setLicenseDetails:f}),2:e.jsx(Be,{next:S,prev:F,data:g,setData:c,setConsumerDetails:t,consumerDetails:L,setLicenseDetails:f})}[r]})})})}export{ca as default};
