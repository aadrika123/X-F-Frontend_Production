import{j as e,b as Fa,d as Aa,c as ls,p as Me,w as Va,S as ia,Q as G,I as Ba}from"./index-WOneArS1.js";import{d as He,u as Ca,f as qa,e as Sa,r as va}from"./router-5yjtezO8.js";import{u as fa,F as ka}from"./formik.esm-BnzrXcQN.js";import{c as rs,a as y,e as Ra,b as Na}from"./index.esm-uHa2PMRf.js";import{F as wa}from"./FormProvider-tYY_NSo-.js";import{T as C}from"./TextField-tvzB3N7x.js";import{S as q}from"./SelectField-rb2Pwzy0.js";import{R as k}from"./RadioButton-U1no-N6N.js";import"./index-iFVn5AxS.js";import{r as F}from"./tailwind-6U-kYQAu.js";import{P as Ta}from"./index-Yzt4p7RF.js";import{u as $a}from"./useErrorFocusFields-mwtEYYKc.js";import{O as za}from"./OverLayLoader-9RMtcuZj.js";import{u as Ia}from"./usePathWisePermission-d1eKVfxg.js";import"./reactQuery-QTVGT_ni.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./customInputValidation-jhKsg103.js";import"./module-BfMCOiBc.js";const La=rs().shape({floorNo:y().required("Floor No is required"),usagesTypeId:y().required("Usages Type is required"),occupancyTypeId:y().required("Occupancy Type is required"),isRentAgreement:y().when("occupancyTypeId",{is:A=>A==="2",then:()=>y().required("Rent Agreement is required")}),rentAmount:y().when("isRentAgreement",{is:A=>A==="1",then:()=>y().required("Rent Amount is required")}),rentAgreementDate:y().when("isRentAgreement",{is:A=>A==="1",then:()=>y().required("Rent Agreement Date is required")}),constructionTypeId:y().required("Construction Type is required"),builtUpArea:y().required("Built Up Area is required"),dateFrom:y().required("Date From is required")});function Ya({open:A,setOpen:Pe,addFloorData:j,masterData:S,safData:R}){var Ze,fe,ie,ve,f,Q,l,i,Ne,V,we,a,De,me,Fe,Ae,Ve,es,w,ss,Be,Ce;const J=()=>Pe(!A),B=fa({enableReinitialize:!0,initialValues:{floorNo:"",floorName:"",usagesTypeId:"",usagesTypeName:"",occupancyTypeId:"",occupancyTypeName:"",isRentAgreement:"",rentAmount:"",rentAgreementDate:"",constructionTypeId:"",constructionTypeName:"",builtUpArea:"",dateFrom:"",dateTo:""},validationSchema:La,onSubmit:(x,{resetForm:as})=>{var qe;j.setFieldValue("addFloor",[...(qe=j==null?void 0:j.values)==null?void 0:qe.addFloor,x]),as(),J()}});return e.jsxs(wa,{formik:B,children:[A&&e.jsx("div",{onClick:J,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(A?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Floor"}),e.jsxs("button",{onClick:J,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"p-4 md:p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsxs(q,{name:"floorNo",selectedText:"floorName",label:"Floor No",formik:B,children:[e.jsx("option",{value:"",children:"Select Floor No"}),(ie=(fe=(Ze=S==null?void 0:S.data)==null?void 0:Ze.data)==null?void 0:fe.floor_type)==null?void 0:ie.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.floor_name},x==null?void 0:x.id))]})}),e.jsx("div",{children:e.jsxs(q,{name:"usagesTypeId",selectedText:"usagesTypeName",label:"Usages Type",formik:B,children:[e.jsx("option",{value:"",children:"Select Usages Type"}),(Q=(f=(ve=S==null?void 0:S.data)==null?void 0:ve.data)==null?void 0:f.usage_type)==null?void 0:Q.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.usage_type},x==null?void 0:x.id))]})}),e.jsx("div",{children:e.jsxs(q,{name:"occupancyTypeId",selectedText:"occupancyTypeName",label:"Occupancy Type",formik:B,children:[e.jsx("option",{value:"",children:"Select Occupancy Type"}),(Ne=(i=(l=S==null?void 0:S.data)==null?void 0:l.data)==null?void 0:i.occupancy_type)==null?void 0:Ne.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.occupancy_type},x==null?void 0:x.id))]})}),((V=B==null?void 0:B.values)==null?void 0:V.occupancyTypeId)==="2"&&e.jsx("div",{className:"mt-2",children:e.jsxs(q,{name:"isRentAgreement",label:"Is Rent Agreement",formik:B,children:[e.jsx("option",{value:"",children:"Select Rent Agreement"}),["0","1"].map(x=>e.jsx("option",{value:x,children:x==="0"?"No":"Yes"},x))]})}),((we=B==null?void 0:B.values)==null?void 0:we.isRentAgreement)==="1"&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(C,{type:"number",name:"rentAmount",label:"Rent Amount",formik:B})}),e.jsx("div",{children:e.jsx(C,{name:"rentAgreementDate",label:"Rent Agreement Date",formik:B,type:"date"})})]}),e.jsx("div",{children:e.jsxs(q,{name:"constructionTypeId",selectedText:"constructionTypeName",label:"Construction Type",formik:B,children:[e.jsx("option",{value:"",children:"Select Construction Type"}),(me=(De=(a=S==null?void 0:S.data)==null?void 0:a.data)==null?void 0:De.construction_type)==null?void 0:me.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.construction_type},x==null?void 0:x.id))]})}),e.jsx("div",{children:e.jsx(C,{type:"number",name:"builtUpArea",label:"Built Up Area",formik:B})}),e.jsx("div",{children:e.jsx(C,{name:"dateFrom",label:"Date From",formik:B,type:"date",max:(Ae=(Fe=R==null?void 0:R.data)==null?void 0:Fe.data)!=null&&Ae.application_date?(es=(Ve=R==null?void 0:R.data)==null?void 0:Ve.data)==null?void 0:es.application_date:""})}),e.jsx("div",{children:e.jsx(C,{name:"dateTo",label:"Date To",formik:B,type:"date",max:(ss=(w=R==null?void 0:R.data)==null?void 0:w.data)!=null&&ss.application_date?(Ce=(Be=R==null?void 0:R.data)==null?void 0:Be.data)==null?void 0:Ce.application_date:""})})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[e.jsx(F.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:J,className:"mr-1 bg-gray-300",children:e.jsx("span",{children:"Cancel"})}),e.jsx(F.Button,{type:"submit",size:"sm",children:e.jsx("span",{children:"Add"})})]})]})]})})})]})}const Wa=rs().shape({zoneId:y().required("Required"),wardNo:y().required("Required"),propertyType:y().required("Required"),areaOfPlot:y().required("Required"),category:y().required("Required"),isHoardingBoard:y().required("Required").oneOf(["yes","no"]),hoardingArea:y().when("isHoardingBoard",{is:"yes",then:()=>y().required("Required")}),hoardingInstallationDate:y().when("isHoardingBoard",{is:"yes",then:()=>y().required("Required")}),isMobileTower:y().required("Required").oneOf(["yes","no"]),mobileTowerArea:y().when("isMobileTower",{is:"yes",then:()=>y().required("Required")}),mobileTowerInstallationDate:y().when("isMobileTower",{is:"yes",then:()=>y().required("Required")}),isPetrolPump:y().required("Required").oneOf(["yes","no"]),petrolPumpArea:y().when("isPetrolPump",{is:"yes",then:()=>y().required("Required")}),petrolPumpInstallationDate:y().when("isPetrolPump",{is:"yes",then:()=>y().required("Required")}),isRainWaterHarvesting:y().required("Required").oneOf(["yes","no"]),isFloorFromDB:Ra().required(),floorFromDB:Na().when(["isFloorFromDB"],{is:A=>A==!0,then:()=>Na().of(rs().shape({floorNo:y().required("Required"),usageTypeId:y().required("Required"),constructionTypeId:y().required("Required"),occupancyTypeId:y().required("Required"),isRentAgreement:y().when("occupancyTypeId",{is:A=>A=="2",then:()=>y().required("Required")}),rentAmount:y().when("isRentAgreement",{is:A=>A=="1",then:()=>y().required("Required")}),rentAgreementDate:y().when("isRentAgreement",{is:A=>A=="1",then:()=>y().required("Required")}),builtUpArea:y().required("Required"),dateFrom:y().required("Required")}))})});function nl(){var Be,Ce,x,as,qe,ds,ns,cs,os,hs,us,ts,ps,xs,js,ys,bs,gs,_s,is,vs,Ns,fs,ws,Fs,As,Vs,Bs,Cs,qs,Ss,ks,Rs,Ts,$s,zs,Is,Ls,Ys,Ws,Es,Us,Ks,Qs,Gs,Js,Xs,Os,Ms,Hs,Ps,Zs,Ds,ms,ea,sa,aa,la,ra,da,na,ca,oa,ha,ua,ta,pa,xa;const[A,Pe]=He.useState("FORWARD"),j=Fa(),S=Ca(),{AutoFocusErrorField:R}=$a(),[J,B]=He.useState([]),[Ze,fe]=He.useState(!1),ie=Aa({}),{pathname:ve}=qa(),{result:f}=Ia((Ce=(Be=ve==null?void 0:ve.split("/"))==null?void 0:Be.slice(0,-1))==null?void 0:Ce.join("/")),{id:Q}=Sa(),l=ls({api:Me.staticSafDetailForVerification,config:{applicationId:Q},value:[Q],options:{enabled:!!Q}}),i=ls({api:Me.masterSaf,config:{},options:{enabled:!!Q}}),Ne=ls({api:Va.workFlowInfo,config:{workflowId:(as=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:as.workflow_id},value:[(ds=(qe=l==null?void 0:l.data)==null?void 0:qe.data)==null?void 0:ds.workflow_id],options:{enabled:!!((cs=(ns=l==null?void 0:l.data)==null?void 0:ns.data)!=null&&cs.workflow_id)}});He.useEffect(()=>{var r,b,N,v,n,o,T,$,z,I,L,Y,W,E,U,K,c,h,X,O,M,H,P,Z,D,m,ee,se,ae,le,re,de,ne,ce,oe,he,ue,te,pe,xe,je,ye,be,s,u,t,p,ge,_e,Se,ke,Re,Te,$e,ze,Ie,Le,Ye,We,Ee,Ue,Ke,Qe,Ge,Je,Xe,Oe,d,g,_,ja,ya,ba,ga,_a;(r=l==null?void 0:l.data)!=null&&r.data&&B([{id:1,title:"Zone",assessedLabel:"Self Assessed",selfAssessedValue:(v=V("zone",(N=(b=l==null?void 0:l.data)==null?void 0:b.data)==null?void 0:N.zone_mstr_id))==null?void 0:v.zone_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:(($=V("zone",(T=(o=(n=l==null?void 0:l.data)==null?void 0:n.data)==null?void 0:o.lastTcVerificationData)==null?void 0:T.zone_mstr_id))==null?void 0:$.zone_name)||"--",headerName:"basicDetail"},{id:2,title:"Ward No",assessedLabel:"Self Assessed",selfAssessedValue:(L=V("ward_master",(I=(z=l==null?void 0:l.data)==null?void 0:z.data)==null?void 0:I.ward_mstr_id))==null?void 0:L.ward_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((U=V("ward_master",(E=(W=(Y=l==null?void 0:l.data)==null?void 0:Y.data)==null?void 0:W.lastTcVerificationData)==null?void 0:E.ward_id))==null?void 0:U.ward_name)||"--",headerName:"basicDetail"},{id:3,title:"Property Type",assessedLabel:"Self Assessed",selfAssessedValue:(h=V("property_type",(c=(K=l==null?void 0:l.data)==null?void 0:K.data)==null?void 0:c.prop_type_mstr_id))==null?void 0:h.property_type,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((H=V("property_type",(M=(O=(X=l==null?void 0:l.data)==null?void 0:X.data)==null?void 0:O.lastTcVerificationData)==null?void 0:M.prop_type_id))==null?void 0:H.property_type)||"--",headerName:"basicDetail"},{id:4,title:"Area of plot(In decimal)",assessedLabel:"Self Assessed",selfAssessedValue:(Z=(P=l==null?void 0:l.data)==null?void 0:P.data)==null?void 0:Z.area_of_plot,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((ee=(m=(D=l==null?void 0:l.data)==null?void 0:D.data)==null?void 0:m.lastTcVerificationData)==null?void 0:ee.area_of_plot)||"--",headerName:"basicDetail"},{id:5,title:"Category",assessedLabel:"Self Assessed",selfAssessedValue:(le=V("categories",(ae=(se=l==null?void 0:l.data)==null?void 0:se.data)==null?void 0:ae.category_id))==null?void 0:le.category,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((ce=V("categories",(ne=(de=(re=l==null?void 0:l.data)==null?void 0:re.data)==null?void 0:de.lastTcVerificationData)==null?void 0:ne.category_id))==null?void 0:ce.category)||"--",headerName:"basicDetail"},{id:6,title:"Hoarding Board(s)?",assessedLabel:"Self Assessed",selfAssessedValue:(he=(oe=l==null?void 0:l.data)==null?void 0:oe.data)!=null&&he.is_hoarding_board?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(pe=(te=(ue=l==null?void 0:l.data)==null?void 0:ue.data)==null?void 0:te.lastTcVerificationData)!=null&&pe.has_hoarding?"Yes":"No",area:((ye=(je=(xe=l==null?void 0:l.data)==null?void 0:xe.data)==null?void 0:je.lastTcVerificationData)==null?void 0:ye.hoarding_area)||"--",installationDate:(u=(s=(be=l==null?void 0:l.data)==null?void 0:be.data)==null?void 0:s.lastTcVerificationData)==null?void 0:u.hoarding_installation_date},{id:7,title:"Mobile Tower?",assessedLabel:"Self Assessed",selfAssessedValue:(p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_mobile_tower?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Se=(_e=(ge=l==null?void 0:l.data)==null?void 0:ge.data)==null?void 0:_e.lastTcVerificationData)!=null&&Se.has_mobile_tower?"Yes":"No",area:((Te=(Re=(ke=l==null?void 0:l.data)==null?void 0:ke.data)==null?void 0:Re.lastTcVerificationData)==null?void 0:Te.tower_area)||"--",installationDate:(Ie=(ze=($e=l==null?void 0:l.data)==null?void 0:$e.data)==null?void 0:ze.lastTcVerificationData)==null?void 0:Ie.tower_installation_date},{id:8,title:"Petrol Pump?",assessedLabel:"Self Assessed",selfAssessedValue:(Ye=(Le=l==null?void 0:l.data)==null?void 0:Le.data)!=null&&Ye.is_petrol_pump?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ue=(Ee=(We=l==null?void 0:l.data)==null?void 0:We.data)==null?void 0:Ee.lastTcVerificationData)!=null&&Ue.has_petrol_pump?"Yes":"No",area:((Ge=(Qe=(Ke=l==null?void 0:l.data)==null?void 0:Ke.data)==null?void 0:Qe.lastTcVerificationData)==null?void 0:Ge.underground_area)||"--",installationDate:(Oe=(Xe=(Je=l==null?void 0:l.data)==null?void 0:Je.data)==null?void 0:Xe.lastTcVerificationData)==null?void 0:Oe.petrol_pump_completion_date},{id:9,title:"Rain Water Harvesting?",assessedLabel:"Self Assessed",selfAssessedValue:(g=(d=l==null?void 0:l.data)==null?void 0:d.data)!=null&&g.is_water_harvesting?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(ya=(ja=(_=l==null?void 0:l.data)==null?void 0:_.data)==null?void 0:ja.lastTcVerificationData)!=null&&ya.has_water_harvesting?"Yes":"No",installationDate:((_a=(ga=(ba=l==null?void 0:l.data)==null?void 0:ba.data)==null?void 0:ga.lastTcVerificationData)==null?void 0:_a.rwh_date_from)||""}])},[(os=l==null?void 0:l.data)==null?void 0:os.data,(hs=i==null?void 0:i.data)==null?void 0:hs.data]);const V=(r,b)=>{var N,v,n;return(n=(v=(N=i==null?void 0:i.data)==null?void 0:N.data)==null?void 0:v[r])==null?void 0:n.filter(o=>o.id==b)[0]},we=()=>{var r,b,N,v,n,o,T,$,z,I,L,Y,W,E,U,K;if(((b=(r=j==null?void 0:j.user)==null?void 0:r.roleWithId[0])==null?void 0:b.role_id)==5)return[...((n=(v=(N=l==null?void 0:l.data)==null?void 0:N.data)==null?void 0:v.floors)==null?void 0:n.length)>0?($=(T=(o=l==null?void 0:l.data)==null?void 0:o.data)==null?void 0:T.floors)==null?void 0:$.map(h=>({floorId:(h==null?void 0:h.id)||"",checkFloorNo:"1",floorNo:(h==null?void 0:h.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(h==null?void 0:h.usage_type_mstr_id)||"",checkConstructionTypeId:"1",constructionTypeId:(h==null?void 0:h.const_type_mstr_id)||"",checkOccupancyType:"1",occupancyTypeId:(h==null?void 0:h.occupancy_type_mstr_id)||"",rentAmount:(h==null?void 0:h.rent_amount)||"",rentAgreementDate:(h==null?void 0:h.rent_agreement_date)||"",isRentAgreement:(h==null?void 0:h.rent_amount)==""?"0":"1",checkBuiltUpArea:"1",builtUpArea:(h==null?void 0:h.builtup_area)||"",checkDateFrom:"1",dateFrom:(h==null?void 0:h.date_from)||"",checkDateTo:"1",dateTo:(h==null?void 0:h.date_upto)||""})):[]];if(((I=(z=j==null?void 0:j.user)==null?void 0:z.roleWithId[0])==null?void 0:I.role_id)==7)return[...((W=(Y=(L=l==null?void 0:l.data)==null?void 0:L.data)==null?void 0:Y.lastTcFloorVerificationData)==null?void 0:W.length)>0?(K=(U=(E=l==null?void 0:l.data)==null?void 0:E.data)==null?void 0:U.lastTcFloorVerificationData)==null?void 0:K.map(h=>({floorId:(h==null?void 0:h.saf_floor_id)||"",checkFloorNo:"1",floorNo:(h==null?void 0:h.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(h==null?void 0:h.usage_type_id)||"",checkConstructionTypeId:"1",constructionTypeId:(h==null?void 0:h.construction_type_id)||"",checkOccupancyType:"1",occupancyTypeId:(h==null?void 0:h.occupancy_type_id)||"",rentAmount:(h==null?void 0:h.rent_amount)||"",rentAgreementDate:(h==null?void 0:h.rent_agreement_date)||"",isRentAgreement:(h==null?void 0:h.rent_amount)==""?"0":"1",checkBuiltUpArea:"1",builtUpArea:(h==null?void 0:h.builtup_area)||"",checkDateFrom:"1",dateFrom:(h==null?void 0:h.date_from)||"",checkDateTo:"1",dateTo:(h==null?void 0:h.date_upto)||""})):[]]},a=fa({enableReinitialize:!0,initialValues:{isFloorFromDB:!1,zoneCheck:"1",zoneId:((ts=(us=l==null?void 0:l.data)==null?void 0:us.data)==null?void 0:ts.zone_mstr_id)||"",wardNoCheck:"1",wardNo:((xs=(ps=l==null?void 0:l.data)==null?void 0:ps.data)==null?void 0:xs.ward_mstr_id)||"",propertyTypeCheck:"1",propertyType:((ys=(js=l==null?void 0:l.data)==null?void 0:js.data)==null?void 0:ys.prop_type_mstr_id)||"",areaOfPlotCheck:"1",areaOfPlot:((gs=(bs=l==null?void 0:l.data)==null?void 0:bs.data)==null?void 0:gs.area_of_plot)||"",categoryCheck:"1",category:((is=(_s=l==null?void 0:l.data)==null?void 0:_s.data)==null?void 0:is.category_id)||"",isHoardingBoardCheck:"1",isHoardingBoard:(Ns=(vs=l==null?void 0:l.data)==null?void 0:vs.data)!=null&&Ns.is_hoarding_board?"yes":"no",hoardingArea:((ws=(fs=l==null?void 0:l.data)==null?void 0:fs.data)==null?void 0:ws.hoarding_area)||"",hoardingInstallationDate:((As=(Fs=l==null?void 0:l.data)==null?void 0:Fs.data)==null?void 0:As.hoarding_installation_date)||"",isMobileTowerCheck:"1",isMobileTower:(Bs=(Vs=l==null?void 0:l.data)==null?void 0:Vs.data)!=null&&Bs.is_mobile_tower?"yes":"no",mobileTowerArea:((qs=(Cs=l==null?void 0:l.data)==null?void 0:Cs.data)==null?void 0:qs.tower_area)||"",mobileTowerInstallationDate:((ks=(Ss=l==null?void 0:l.data)==null?void 0:Ss.data)==null?void 0:ks.tower_installation_date)||"",isPetrolPumpCheck:"1",isPetrolPump:(Ts=(Rs=l==null?void 0:l.data)==null?void 0:Rs.data)!=null&&Ts.is_petrol_pump?"yes":"no",petrolPumpArea:((zs=($s=l==null?void 0:l.data)==null?void 0:$s.data)==null?void 0:zs.under_ground_area)||"",petrolPumpInstallationDate:((Ls=(Is=l==null?void 0:l.data)==null?void 0:Is.data)==null?void 0:Ls.petrol_pump_completion_date)||"",isRainWaterHarvestingCheck:"1",isRainWaterHarvesting:(Ws=(Ys=l==null?void 0:l.data)==null?void 0:Ys.data)!=null&&Ws.is_water_harvesting?"yes":"no",rainWaterHarvestingInstallationDate:((Us=(Es=l==null?void 0:l.data)==null?void 0:Es.data)==null?void 0:Us.rwh_date_from)||"",addFloor:[],floorFromDB:we(),remark:""},validationSchema:Wa,onSubmit:async r=>{if(A==="FORWARD"){ia.fire({title:"Are you sure?",text:"You are going to verify of this property ",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(b=>{b.isConfirmed&&me(r)}).catch(b=>{var N,v;console.log(b),G.error((v=(N=b==null?void 0:b.response)==null?void 0:N.data)==null?void 0:v.message)});return}if(A==="BACKWARD"){if((r==null?void 0:r.remark)=="")return G.error("Please enter the remark for backward!");ia.fire({title:"Are you sure?",text:"You are going to backward of this application",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(b=>{b.isConfirmed&&De(r)}).catch(b=>{var N,v;console.log(b),G.error((v=(N=b==null?void 0:b.response)==null?void 0:N.data)==null?void 0:v.message)});return}}}),De=async r=>{var b,N,v;try{const n=await ie.mutateAsync({api:Me.safLevel,data:{applicationId:Q,receiverRoleId1:"",action:"backward",comment:(r==null?void 0:r.comment)||"No Comment"}});(b=n==null?void 0:n.data)!=null&&b.status?(G.success((N=n==null?void 0:n.data)==null?void 0:N.message),S("/amc-app/property/saf-verification-list",{replace:!0})):G.error(((v=n==null?void 0:n.data)==null?void 0:v.message)||"Something went wrong, Please try again")}catch(n){G.error(n==null?void 0:n.message),console.log(n)}},me=async r=>{var n,o,T,$,z,I,L,Y,W,E,U,K;const b=(n=r==null?void 0:r.floorFromDB)==null?void 0:n.map(c=>({floorId:(c==null?void 0:c.floorId)||0,floorNo:c==null?void 0:c.floorNo,useType:c==null?void 0:c.usageTypeId,constructionType:c==null?void 0:c.constructionTypeId,occupancyType:c==null?void 0:c.occupancyTypeId,isRentAgreement:(c==null?void 0:c.rentAmount)==""?"0":"1",rentAmount:c==null?void 0:c.rentAmount,rentAgreementDate:c==null?void 0:c.rentAgreementDate,buildupArea:c==null?void 0:c.builtUpArea,dateFrom:c==null?void 0:c.dateFrom,dateUpto:c==null?void 0:c.dateTo})),N=(o=r==null?void 0:r.addFloor)==null?void 0:o.map(c=>({floorId:0,floorNo:c==null?void 0:c.floorNo,useType:c==null?void 0:c.usagesTypeId,constructionType:c==null?void 0:c.constructionTypeId,occupancyType:c==null?void 0:c.occupancyTypeId,rentAmount:(c==null?void 0:c.rentAmount)==""?"0":"1",rentAgreementDate:c==null?void 0:c.rentAgreementDate,buildupArea:c==null?void 0:c.builtUpArea,dateFrom:c==null?void 0:c.dateFrom,dateUpto:c==null?void 0:c.dateTo})),v={safId:parseInt(Q),propertyType:parseInt(r==null?void 0:r.propertyType),category:parseInt(r==null?void 0:r.category),areaOfPlot:parseInt(r==null?void 0:r.areaOfPlot),wardId:parseInt(r==null?void 0:r.wardNo),isMobileTower:(r==null?void 0:r.isMobileTower)=="yes"?1:0,mobileTower:{area:parseInt(r==null?void 0:r.mobileTowerArea),dateFrom:r==null?void 0:r.mobileTowerInstallationDate},isPetrolPump:(r==null?void 0:r.isPetrolPump)=="yes"?1:0,petrolPump:{area:parseInt(r==null?void 0:r.petrolPumpArea),dateFrom:r==null?void 0:r.petrolPumpInstallationDate},isHoardingBoard:(r==null?void 0:r.isHoardingBoard)=="yes"?1:0,hoardingBoard:{area:parseInt(r==null?void 0:r.hoardingArea),dateFrom:r==null?void 0:r.hoardingInstallationDate},isWaterHarvesting:(r==null?void 0:r.isRainWaterHarvesting)=="yes"?1:0,rainWaterHarvestingInstallationDate:r==null?void 0:r.rainWaterHarvestingInstallationDate,zone:r==null?void 0:r.zoneId,floor:[...b,...N]};if(f!=null&&f.create||(($=(T=j==null?void 0:j.user)==null?void 0:T.roleWithId[0])==null?void 0:$.role_id)==5)try{const c=await ie.mutateAsync({api:Me.safSiteVerification,data:v});(z=c==null?void 0:c.data)!=null&&z.status?(S("/amc-app/property/geo-tagging/".concat(Q),{replace:!0}),G.success((I=c==null?void 0:c.data)==null?void 0:I.message)):G.error(((Y=(L=c==null?void 0:c.data)==null?void 0:L.message)==null?void 0:Y.response)||"Something went wrong, Please try again")}catch(c){G.error(c==null?void 0:c.message),console.log(c)}if(f!=null&&f.update||((E=(W=j==null?void 0:j.user)==null?void 0:W.roleWithId[0])==null?void 0:E.role_id)==7)try{const c=await ie.mutateAsync({api:Me.safSiteVerification,data:v});(U=c==null?void 0:c.data)!=null&&U.status?S("/amc-app/property/naksha-verification/".concat(Q),{replace:!0}):G.error(((K=c==null?void 0:c.data)==null?void 0:K.message)||"Something went wrong, Please try again")}catch(c){G.error(c==null?void 0:c.message),console.log(c)}},{submitCount:Fe,isSubmitting:Ae,errors:Ve,isValid:es}=a,w=[{id:1,title:"Correct",value:"1"},{id:2,title:"Incorrect",value:"0"}],ss=r=>{var b,N,v,n,o,T,$,z,I,L,Y,W,E,U,K,c,h,X,O,M,H,P,Z,D,m,ee,se,ae,le,re,de,ne,ce,oe,he,ue,te,pe,xe,je,ye,be;if((r==null?void 0:r.id)===1)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"zoneCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.zoneCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p,ge,_e;a.setFieldValue("zoneId",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.zone_mstr_id),a.setFieldValue("zoneCheck",s==null?void 0:s.value),a.setFieldValue("wardNoCheck","1"),a.setFieldValue("wardNo",(_e=(ge=l==null?void 0:l.data)==null?void 0:ge.data)==null?void 0:_e.ward_mstr_id)}:()=>{a.setFieldValue("zoneId",""),a.setFieldValue("zoneCheck",s==null?void 0:s.value),a.setFieldValue("wardNoCheck","0"),a.setFieldValue("wardNo","")}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"zoneId",disabled:((b=a==null?void 0:a.values)==null?void 0:b.zoneCheck)=="1",formik:a,children:[e.jsx("option",{value:"",children:"Select"}),(n=(v=(N=i==null?void 0:i.data)==null?void 0:N.data)==null?void 0:v.zone)==null?void 0:n.map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.id,selected:((u=a==null?void 0:a.values)==null?void 0:u.zoneCheck)=="1"&&s.id==((p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.zone_mstr_id),children:s==null?void 0:s.zone_name},s==null?void 0:s.id)})]})]});if((r==null?void 0:r.id)===2)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"wardNoCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.wardNoCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("wardNo",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.ward_mstr_id),a.setFieldValue("wardNoCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("wardNo",""),a.setFieldValue("wardNoCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"wardNo",disabled:((o=a==null?void 0:a.values)==null?void 0:o.wardNoCheck)=="1",formik:a,children:[e.jsx("option",{value:"",children:"Select"}),(I=(z=($=(T=i==null?void 0:i.data)==null?void 0:T.data)==null?void 0:$.ward_master)==null?void 0:z.filter(s=>{var u;return(s==null?void 0:s.zone)==((u=a==null?void 0:a.values)==null?void 0:u.zoneId)}))==null?void 0:I.map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.id,selected:((u=a==null?void 0:a.values)==null?void 0:u.wardNoCheck)=="1"&&s.id==((p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.ward_mstr_id),children:s==null?void 0:s.ward_name},s==null?void 0:s.id)})]})]});if((r==null?void 0:r.id)===3)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"propertyTypeCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.propertyTypeCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("propertyType",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.prop_type_mstr_id),a.setFieldValue("propertyTypeCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("propertyType",""),a.setFieldValue("propertyTypeCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"propertyType",formik:a,disabled:((L=a==null?void 0:a.values)==null?void 0:L.propertyTypeCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(E=(W=(Y=i==null?void 0:i.data)==null?void 0:Y.data)==null?void 0:W.property_type)==null?void 0:E.map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.id,selected:((u=a==null?void 0:a.values)==null?void 0:u.propertyTypeCheck)=="1"&&s.id==((p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.prop_type_mstr_id),children:s==null?void 0:s.property_type},s==null?void 0:s.id)})]})]});if((r==null?void 0:r.id)===4)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"areaOfPlotCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.areaOfPlotCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("areaOfPlot",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.area_of_plot),a.setFieldValue("areaOfPlotCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("areaOfPlot",""),a.setFieldValue("areaOfPlotCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsx(C,{type:"number",name:"areaOfPlot",formik:a,disabled:((U=a==null?void 0:a.values)==null?void 0:U.areaOfPlotCheck)=="1"})]});if((r==null?void 0:r.id)===5)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"categoryCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.categoryCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("category",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.category_id),a.setFieldValue("categoryCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("category",""),a.setFieldValue("categoryCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"category",formik:a,disabled:((K=a==null?void 0:a.values)==null?void 0:K.categoryCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(X=(h=(c=i==null?void 0:i.data)==null?void 0:c.data)==null?void 0:h.categories)==null?void 0:X.map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.id,selected:((u=a==null?void 0:a.values)==null?void 0:u.categoryCheck)=="1"&&s.id==((p=(t=l==null?void 0:l.data)==null?void 0:t.data)==null?void 0:p.category_id),children:s==null?void 0:s.category},s==null?void 0:s.id)})]})]});if((r==null?void 0:r.id)===6)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"isHoardingBoardCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.isHoardingBoardCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("isHoardingBoard",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_hoarding_board?"yes":"no"),a.setFieldValue("isHoardingBoardCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isHoardingBoard",""),a.setFieldValue("isHoardingBoardCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"isHoardingBoard",formik:a,disabled:((O=a==null?void 0:a.values)==null?void 0:O.isHoardingBoardCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.value,selected:((u=a==null?void 0:a.values)==null?void 0:u.isHoardingBoardCheck)=="1"&&((p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_hoarding_board?"yes":s.value=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((M=a==null?void 0:a.values)==null?void 0:M.isHoardingBoard)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{type:"number",label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"hoardingArea",formik:a}),e.jsx(C,{type:"date",max:(P=(H=l==null?void 0:l.data)==null?void 0:H.data)!=null&&P.application_date?(D=(Z=l==null?void 0:l.data)==null?void 0:Z.data)==null?void 0:D.application_date:"",label:"Hoarding Installation Date",name:"hoardingInstallationDate",formik:a})]})]});if((r==null?void 0:r.id)===7)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w==null?void 0:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"isMobileTowerCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.isMobileTowerCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("isMobileTower",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_mobile_tower?"yes":"no"),a.setFieldValue("isMobileTowerCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isMobileTower",""),a.setFieldValue("isMobileTowerCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"isMobileTower",formik:a,disabled:((m=a==null?void 0:a.values)==null?void 0:m.isMobileTowerCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.value,selected:((u=a==null?void 0:a.values)==null?void 0:u.isMobileTowerCheck)=="1"&&((p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_mobile_tower?"yes":(s==null?void 0:s.value)=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((ee=a==null?void 0:a.values)==null?void 0:ee.isMobileTower)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{type:"number",label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"mobileTowerArea",formik:a}),e.jsx(C,{type:"date",label:"Installation Date",name:"mobileTowerInstallationDate",formik:a,max:(ae=(se=l==null?void 0:l.data)==null?void 0:se.data)!=null&&ae.application_date?(re=(le=l==null?void 0:l.data)==null?void 0:le.data)==null?void 0:re.application_date:""})]})]});if((r==null?void 0:r.id)===8)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"isPetrolPumpCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.isPetrolPumpCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("isPetrolPump",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_petrol_pump?"yes":"no"),a.setFieldValue("isPetrolPumpCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isPetrolPump",""),a.setFieldValue("isPetrolPumpCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"isPetrolPump",formik:a,disabled:((de=a==null?void 0:a.values)==null?void 0:de.isPetrolPumpCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.value,selected:((u=a==null?void 0:a.values)==null?void 0:u.isPetrolPumpCheck)=="1"&&((p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_petrol_pump?"yes":(s==null?void 0:s.value)=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((ne=a==null?void 0:a.values)==null?void 0:ne.isPetrolPump)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{type:"number",label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"petrolPumpArea",formik:a}),e.jsx(C,{type:"date",label:"Installation Date",name:"petrolPumpInstallationDate",formik:a,max:(oe=(ce=l==null?void 0:l.data)==null?void 0:ce.data)!=null&&oe.application_date?(ue=(he=l==null?void 0:l.data)==null?void 0:he.data)==null?void 0:ue.application_date:""})]})]});if((r==null?void 0:r.id)===9)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w==null?void 0:w.map(s=>{var u;return e.jsx(k,{formik:a,name:"isRainWaterHarvestingCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((u=a==null?void 0:a.values)==null?void 0:u.isRainWaterHarvestingCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var t,p;a.setFieldValue("isRainWaterHarvesting",(p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_water_harvesting?"yes":"no"),a.setFieldValue("isRainWaterHarvestingCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isRainWaterHarvesting",""),a.setFieldValue("isRainWaterHarvestingCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(q,{name:"isRainWaterHarvesting",formik:a,disabled:((te=a==null?void 0:a.values)==null?void 0:te.isRainWaterHarvestingCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var u,t,p;return e.jsx("option",{value:s==null?void 0:s.value,selected:((u=a==null?void 0:a.values)==null?void 0:u.isRainWaterHarvestingCheck)=="1"&&((p=(t=l==null?void 0:l.data)==null?void 0:t.data)!=null&&p.is_water_harvesting?"yes":s.value=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((pe=a==null?void 0:a.values)==null?void 0:pe.isRainWaterHarvesting)=="yes"&&e.jsx("div",{className:"mt-5",children:e.jsx(C,{type:"date",label:"Installation Date",name:"rainWaterHarvestingInstallationDate",formik:a,max:(je=(xe=l==null?void 0:l.data)==null?void 0:xe.data)!=null&&je.application_date?(be=(ye=l==null?void 0:l.data)==null?void 0:ye.data)==null?void 0:be.application_date:""})})]})};return va.useEffect(()=>{var r,b,N,v;(b=(r=l==null?void 0:l.data)==null?void 0:r.data)!=null&&b.is_agency_verified&&(f!=null&&f.create||((v=(N=j==null?void 0:j.user)==null?void 0:N.roleWithId[0])==null?void 0:v.role_id)==5)&&S("/amc-app/property/geo-tagging/".concat(Q),{replace:!0})},[(Qs=(Ks=l==null?void 0:l.data)==null?void 0:Ks.data)==null?void 0:Qs.is_agency_verified]),va.useEffect(()=>{var r;((r=a.values)==null?void 0:r.propertyType)==4?(a.setFieldValue("floorFromDB",[]),a.setFieldValue("isFloorFromDB",!1)):(a.setFieldValue("floorFromDB",we()),a.setFieldValue("isFloorFromDB",!0))},[(Gs=a.values)==null?void 0:Gs.propertyType,(Xs=(Js=l==null?void 0:l.data)==null?void 0:Js.data)==null?void 0:Xs.floors]),He.useEffect(()=>{R({submitCount:Fe,isSubmitting:Ae,errors:Ve,isValid:es})},[Ve,Fe,Ae]),l!=null&&l.isLoading||i!=null&&i.isLoading?e.jsx(Ba,{}):e.jsxs(Ta,{title:"Saf Site Verification",children:[ie.isLoading&&e.jsx(za,{}),e.jsx(Ya,{open:Ze,setOpen:fe,addFloorData:a,safData:l,masterData:i}),e.jsxs("div",{className:"p-4 ",children:[e.jsx(F.Card,{className:"w-full",children:e.jsxs(F.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-base font-semibold",children:"Details"})}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),e.jsx("h1",{className:"text-sm",children:(Ms=(Os=l==null?void 0:l.data)==null?void 0:Os.data)==null?void 0:Ms.saf_no}),e.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),e.jsx("h1",{className:"text-sm",children:(Ps=(Hs=l==null?void 0:l.data)==null?void 0:Hs.data)==null?void 0:Ps.assessment_type}),e.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),e.jsx("h1",{className:"text-sm",children:(Ds=(Zs=l==null?void 0:l.data)==null?void 0:Zs.data)==null?void 0:Ds.application_date}),e.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),e.jsx("h1",{className:"text-sm",children:(ea=(ms=l==null?void 0:l.data)==null?void 0:ms.data)==null?void 0:ea.applicant_name}),e.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),e.jsx("div",{className:"w-20 truncate",children:e.jsx("h1",{className:"text-sm",children:(la=(aa=(sa=l==null?void 0:l.data)==null?void 0:sa.data)==null?void 0:aa.owners)==null?void 0:la.map(r=>r==null?void 0:r.mobile_no).join(", ")})})]})]})}),e.jsxs(wa,{formik:a,children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:J==null?void 0:J.map((r,b)=>{var N,v;return e.jsxs(F.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:r==null?void 0:r.title})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:r==null?void 0:r.selfAssessedValue})]}),((f==null?void 0:f.update)||((v=(N=j==null?void 0:j.user)==null?void 0:N.roleWithId[0])==null?void 0:v.role_id)==7)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Tc Verified :"," "]}),e.jsx("h1",{className:"text-sm mt-2",children:r==null?void 0:r.tcVerifiedValue})]}),(r==null?void 0:r.area)&&e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Area ",e.jsx("small",{children:"(Tc Verified)"})," -:"]}),e.jsx("h1",{className:"text-sm mt-2",children:r==null?void 0:r.area})]}),(r==null?void 0:r.installationDate)&&e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Date ",e.jsx("small",{children:"(Tc Verified)"})," -:"]}),e.jsx("h1",{className:"text-sm mt-2",children:r==null?void 0:r.installationDate})]}),r!=null&&r.has_hoarding||r!=null&&r.has_mobile_tower||r!=null&&r.has_petrol_pump||r!=null&&r.has_water_harvesting?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Area-: "}),e.jsx("h1",{className:"text-sm",children:r==null?void 0:r.area})]}),e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Date-: "}),e.jsx("h1",{className:"text-sm",children:r==null?void 0:r.installationDate})]})]}):null]}),ss(r)]})]},b)})}),e.jsx("div",{className:"border border-gray-300 w-full my-5"}),((ra=a==null?void 0:a.values)==null?void 0:ra.propertyType)!=4?e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("h1",{className:"text-sm font-semibold text-center",children:"Floor Details"}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx(ka,{name:"floorFromDB",children:r=>{var b,N,v;return e.jsx(e.Fragment,{children:(v=(N=(b=l==null?void 0:l.data)==null?void 0:b.data)==null?void 0:N.floors)==null?void 0:v.map((n,o)=>{var T,$,z,I,L,Y,W,E,U,K,c,h,X,O,M,H,P,Z,D,m,ee,se,ae,le,re,de,ne,ce,oe,he,ue,te,pe,xe,je,ye,be,s,u,t,p,ge,_e,Se,ke,Re,Te,$e,ze,Ie,Le,Ye,We,Ee,Ue,Ke,Qe,Ge,Je,Xe,Oe;return e.jsx("div",{className:"py-3",children:e.jsxs(F.Card,{className:"w-full ",children:[e.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:(T=V("floor_type",n==null?void 0:n.floor_mstr_id))==null?void 0:T.floor_name}),(n==null?void 0:n.id)==0&&e.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-gray-200  rounded-md select-none whitespace-nowrap bg-blue-900/50",children:[e.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:e.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-blue-900 content-['']"})}),e.jsx("span",{className:"ml-4",children:"Add new floor by TC"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Floor"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:($=V("floor_type",n==null?void 0:n.floor_mstr_id))==null?void 0:$.floor_name})]}),((f==null?void 0:f.update)||((I=(z=j==null?void 0:j.user)==null?void 0:z.roleWithId[0])==null?void 0:I.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-3 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-xs",children:(L=V("floor_type",n==null?void 0:n.tc_verified_floor_mstr_id))==null?void 0:L.floor_name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkFloorNo"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkFloorNo)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkFloorNo"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].floorNo"),n==null?void 0:n.floor_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkFloorNo"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].floorNo"),"")}},d==null?void 0:d.id)})}),e.jsxs(q,{isDynamic:!0,name:"floorFromDB.".concat(o,".floorNo"),formik:a,disabled:((W=(Y=a==null?void 0:a.values)==null?void 0:Y.floorFromDB[o])==null?void 0:W.checkFloorNo)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(K=(U=(E=i==null?void 0:i.data)==null?void 0:E.data)==null?void 0:U.floor_type)==null?void 0:K.map(d=>{var g,_;return e.jsx("option",{value:d==null?void 0:d.id,selected:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkFloorNo)=="1"&&(d==null?void 0:d.id)==(n==null?void 0:n.floor_mstr_id),children:d==null?void 0:d.floor_name},d==null?void 0:d.id)})]})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Usages Type"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(c=V("usage_type",n==null?void 0:n.usage_type_mstr_id))==null?void 0:c.usage_type})]}),((f==null?void 0:f.update)||((X=(h=j==null?void 0:j.user)==null?void 0:h.roleWithId[0])==null?void 0:X.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(O=V("usage_type",n==null?void 0:n.tc_verified_usage_type_mstr_id))==null?void 0:O.usage_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w==null?void 0:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkUsagesType"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkUsagesType)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkUsagesType"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].usageTypeId"),n==null?void 0:n.usage_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkUsagesType"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].usageTypeId"),"")}},d==null?void 0:d.id)})}),e.jsxs(q,{isDynamic:!0,name:"floorFromDB.".concat(o,".usageTypeId"),formik:a,disabled:((H=(M=a==null?void 0:a.values)==null?void 0:M.floorFromDB[o])==null?void 0:H.checkUsagesType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(D=(Z=(P=i==null?void 0:i.data)==null?void 0:P.data)==null?void 0:Z.usage_type)==null?void 0:D.map(d=>{var g,_;return e.jsx("option",{value:d==null?void 0:d.id,selected:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkUsagesType)=="1"&&(d==null?void 0:d.id)==(n==null?void 0:n.usage_type_mstr_id),children:d==null?void 0:d.usage_type},d==null?void 0:d.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Occupancy Type"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(m=V("occupancy_type",n==null?void 0:n.occupancy_type_mstr_id))==null?void 0:m.occupancy_type})]}),((f==null?void 0:f.update)||((se=(ee=j==null?void 0:j.user)==null?void 0:ee.roleWithId[0])==null?void 0:se.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(ae=V("occupancy_type",n==null?void 0:n.tc_verified_occupancy_type_mstr_id))==null?void 0:ae.occupancy_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkOccupancyType"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkOccupancyType)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkOccupancyType"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].occupancyTypeId"),n==null?void 0:n.occupancy_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkOccupancyType"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].occupancyTypeId"),"")}},d==null?void 0:d.id)})}),e.jsx("div",{children:e.jsxs(q,{isDynamic:!0,onChange:d=>{a.setFieldValue("floorFromDB[".concat(o,"].occupancyTypeId"),d.target.value),d.target.value==1&&a.setFieldValue("floorFromDB[".concat(o,"].isRentAgreement"),"0")},value:(re=(le=a==null?void 0:a.values)==null?void 0:le.floorFromDB[o])==null?void 0:re.occupancyTypeId,disabled:((ne=(de=a==null?void 0:a.values)==null?void 0:de.floorFromDB[o])==null?void 0:ne.checkOccupancyType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(he=(oe=(ce=i==null?void 0:i.data)==null?void 0:ce.data)==null?void 0:oe.occupancy_type)==null?void 0:he.map(d=>{var g,_;return e.jsx("option",{value:d==null?void 0:d.id,selected:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkOccupancyType)=="1"&&(d==null?void 0:d.id)==(n==null?void 0:n.occupancy_type_mstr_id),children:d==null?void 0:d.occupancy_type},d==null?void 0:d.id)})]})}),((te=(ue=a==null?void 0:a.values)==null?void 0:ue.floorFromDB[o])==null?void 0:te.occupancyTypeId)==2&&e.jsx("div",{children:e.jsxs(q,{isDynamic:!0,name:"floorFromDB.".concat(o,".isRentAgreement"),formik:a,children:[e.jsx("option",{value:"",children:"Select"}),["0","1"].map(d=>{var g,_;return e.jsx("option",{value:d,selected:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.isRentAgreement)==d,children:d=="0"?"No":"Yes"},d)})]})}),((xe=(pe=a==null?void 0:a.values)==null?void 0:pe.floorFromDB[o])==null?void 0:xe.isRentAgreement)=="1"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{children:e.jsx(C,{type:"number",label:"Rent amount",placeholder:"Rent amount",name:"floorFromDB[".concat(o,"].rentAmount"),formik:a})}),e.jsx("div",{children:e.jsx(C,{type:"date",max:new Date().toISOString().split("T")[0],label:"Rent Agreement Date",placeholder:"Rent Agreement Date",name:"floorFromDB[".concat(o,"].rentAgreementDate"),formik:a})})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Construction Type"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(je=V("construction_type",n==null?void 0:n.const_type_mstr_id))==null?void 0:je.construction_type})]}),((f==null?void 0:f.update)||((be=(ye=j==null?void 0:j.user)==null?void 0:ye.roleWithId[0])==null?void 0:be.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(s=V("construction_type",n==null?void 0:n.tc_verified_const_type_mstr_id))==null?void 0:s.construction_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w==null?void 0:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkConstructionTypeId"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkConstructionTypeId)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkConstructionTypeId"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].constructionTypeId"),n==null?void 0:n.const_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkConstructionTypeId"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].constructionTypeId"),"")}},d==null?void 0:d.id)})}),e.jsxs(q,{isDynamic:!0,name:"floorFromDB.".concat(o,".constructionTypeId"),formik:a,disabled:((t=(u=a==null?void 0:a.values)==null?void 0:u.floorFromDB[o])==null?void 0:t.checkConstructionTypeId)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(_e=(ge=(p=i==null?void 0:i.data)==null?void 0:p.data)==null?void 0:ge.construction_type)==null?void 0:_e.map(d=>{var g,_;return e.jsx("option",{value:d==null?void 0:d.id,selected:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkConstructionTypeId)=="1"&&(d==null?void 0:d.id)==(n==null?void 0:n.const_type_mstr_id),children:d==null?void 0:d.construction_type},d==null?void 0:d.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Build Up Area (in Sq.Ft)"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.builtup_area})]}),((f==null?void 0:f.update)||((ke=(Se=j==null?void 0:j.user)==null?void 0:Se.roleWithId[0])==null?void 0:ke.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.tc_verified_builtup_area})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkBuiltUpArea"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkBuiltUpArea)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="0"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkBuiltUpArea"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].builtUpArea"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkBuiltUpArea"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].builtUpArea"),n==null?void 0:n.builtup_area)}},d==null?void 0:d.id)})}),e.jsx(C,{isDynamic:!0,type:"number",name:"floorFromDB.".concat(o,".builtUpArea"),formik:a,disabled:((Te=(Re=a==null?void 0:a.values)==null?void 0:Re.floorFromDB[o])==null?void 0:Te.checkBuiltUpArea)=="1"})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date From"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.date_from})]}),((f==null?void 0:f.update)||((ze=($e=j==null?void 0:j.user)==null?void 0:$e.roleWithId[0])==null?void 0:ze.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.tc_verified_date_from})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkDateFrom"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkDateFrom)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="0"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateFrom"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].dateFrom"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateFrom"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].dateFrom"),n==null?void 0:n.date_from)}},d==null?void 0:d.id)})}),e.jsx(C,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(o,".dateFrom"),formik:a,disabled:((Le=(Ie=a==null?void 0:a.values)==null?void 0:Ie.floorFromDB[o])==null?void 0:Le.checkDateFrom)=="1",max:(We=(Ye=l==null?void 0:l.data)==null?void 0:Ye.data)!=null&&We.application_date?(Ue=(Ee=l==null?void 0:l.data)==null?void 0:Ee.data)==null?void 0:Ue.application_date:""})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(F.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date Upto"})}),e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.date_upto})]}),e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.tc_verified_date_upto})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:w==null?void 0:w.map(d=>{var g,_;return e.jsx(k,{formik:a,name:"floorFromDB[".concat(o,"].checkDateTo"),label:d==null?void 0:d.title,value:d==null?void 0:d.value,checked:((_=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:_.checkDateTo)==(d==null?void 0:d.value),onChange:(d==null?void 0:d.value)=="0"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateTo"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].dateTo"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateTo"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].dateTo"),n==null?void 0:n.date_upto)}},d==null?void 0:d.id)})}),e.jsx(C,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(o,".dateTo"),formik:a,disabled:((Qe=(Ke=a==null?void 0:a.values)==null?void 0:Ke.floorFromDB[o])==null?void 0:Qe.checkDateTo)=="1",max:(Je=(Ge=l==null?void 0:l.data)==null?void 0:Ge.data)!=null&&Je.application_date?(Oe=(Xe=l==null?void 0:l.data)==null?void 0:Xe.data)==null?void 0:Oe.application_date:""})]})]})]})]})},o)})})}}),e.jsx(F.Card,{className:"w-full",children:e.jsxs(F.CardBody,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Add Floor"}),e.jsx(F.Button,{size:"sm",onClick:()=>fe(!0),children:"Add Floor"})]}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx("div",{className:"relative overflow-x-auto  sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left  border-slate-400 border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm",children:[e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Floor No"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Usage Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Occupancy Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Construction Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Build Up Area"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date From"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date Upto"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Action"})]})}),e.jsx("tbody",{children:(na=(da=a==null?void 0:a.values)==null?void 0:da.addFloor)==null?void 0:na.map((r,b)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.floorName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.usagesTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.occupancyTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.constructionTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.builtUpArea}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.dateFrom}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:r==null?void 0:r.dateTo}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:e.jsx("button",{onClick:()=>{var N,v;a.setFieldValue("addFloor",(v=(N=a==null?void 0:a.values)==null?void 0:N.addFloor)==null?void 0:v.filter((n,o)=>o!==b))},type:"button",className:"text-xs font-semibold p-1 border border-slate-300 rounded-md bg-red-600 text-white",children:"Remove"})})]},b))})]})})]})})]}):null,e.jsx("div",{className:"border border-gray-300 w-full my-5"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:e.jsx(F.Card,{className:"w-full",children:e.jsxs(F.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsx("div",{className:"flex justify-start items-center gap-2 mb-1",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Remark"})})})}),e.jsx(C,{name:"remark",formik:a,placeholder:"Remark"})]})})}),e.jsx("div",{className:"border border-gray-300 w-full mt-5"}),e.jsxs("div",{className:"flex justify-center items-center py-5 gap-2",children:[e.jsx(F.Button,{size:"sm",type:"submit",className:"bg-red-500 text-white px-4 py-2 rounded-md mt-4",onClick:()=>Pe("BACKWARD"),children:((oa=(ca=j==null?void 0:j.user)==null?void 0:ca.roleWithId[0])==null?void 0:oa.role_id)==7?e.jsx("small",{children:" Back To Agency Engineer"}):((ua=(ha=j==null?void 0:j.user)==null?void 0:ha.roleWithId[0])==null?void 0:ua.role_id)==5?e.jsx("small",{children:"Back To Back Office"}):e.jsx("small",{children:"Backward"})}),((xa=(pa=(ta=Ne==null?void 0:Ne.data)==null?void 0:ta.data)==null?void 0:pa.permissions)==null?void 0:xa.can_forward)&&e.jsx(F.Button,{size:"sm",type:"submit",onClick:()=>Pe("FORWARD"),className:"bg-blue-500 text-white px-4 py-2 rounded-md mt-4 ",children:e.jsx("small",{children:"Save & Next"})})]})]})]})]})}export{nl as default};
