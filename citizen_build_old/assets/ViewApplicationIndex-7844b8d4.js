import{w as we,b3 as Ie,r,b4 as Le,a as We,u as De,h as _e,A as ue,j as e,ct as Ae,cp as Me,cz as ke,bp as ne,cA as i,cr as ce}from"./index-8610f755.js";const Ve=N=>{var v,y,w,I,L,W,D,_,u,A,M,k,P,T,V,C,S,E,O,R,U,Y,$,B,z,q,G,H,J,K,Q,X,Z,F,ee,se,ae,te,de,re,le;const{t}=we(),[Pe,oe]=Ie.useState(!1),[s,he]=r.useState(),[be,ie]=r.useState(0),[Ne,je]=r.useState(),[l,j]=r.useState(!1),[me,m]=r.useState(!1),{api_waterViewPendingApplication:pe,header:fe}=Le(),p=We(),{id:f}=De(),{setBreadCrumbData:ge}=r.useContext(_e);r.useEffect(()=>{ge(["Water Dashboard","View Applications"])},[]),r.useEffect(()=>{N.openModal>0&&oe(!0)},[N.openModal]),r.useEffect(()=>{j(!0),ue.post(pe,{applicationId:f},fe).then(a=>{console.log("Application Full Data",a.data.data),he(a.data.data),j(!1)}).catch(a=>{console.log("ERROR : Pending Application Data",a),j(!1)})},[N.openModal]);const g=a=>{ie(d=>d+1),je(a)},ve=()=>{m(!0)},ye=(v=s==null?void 0:s.applicationDetails)==null?void 0:v.connection_type;return e.jsxs(e.Fragment,{children:[me&&e.jsx(Ae,{category:ye,openPaymentModal:m,paymentData:s==null?void 0:s.documentDetails}),e.jsx(Me,{openDocviewModal:be,documentUrl:Ne}),e.jsx("div",{className:"mt-8",children:e.jsx(ke,{active:"application",title:`${t("tranWaterDashboardIndex.waterApplicationDetailsLabel.label")}`,applicationNo:(y=s==null?void 0:s.applicationDetails)==null?void 0:y.application_no})}),e.jsx("div",{className:"grid grid-cols-12 mb-20",children:e.jsxs("div",{className:"rounded-md col-span-12",children:[((w=s==null?void 0:s.applicationDetails)==null?void 0:w.current_role_name)&&e.jsxs("p",{className:"text-center text-green-600 font-semibold",children:[" ",t("tranWaterDashboardIndex.applicationSubmittedLabel.label"),(I=s==null?void 0:s.applicationDetails)==null?void 0:I.current_role_name]}),((L=s==null?void 0:s.applicationDetails)==null?void 0:L.scheduledDate)&&((W=s==null?void 0:s.applicationDetails)==null?void 0:W.scheduledTime)&&e.jsxs("p",{className:"text-center",children:[" ",t("tranWaterDashboardIndex.scheduledInspectionDateLabel.label"),e.jsxs("span",{className:"font-semibold",children:["  ",ne((D=s==null?void 0:s.applicationDetails)==null?void 0:D.scheduledDate,"YYYY-MM-DD").format("DD-MMM-yy")]}),"  ",t("tranWaterDashboardIndex.timeLabel.label"),": ",e.jsx("span",{className:"font-semibold",children:ne((_=s==null?void 0:s.applicationDetails)==null?void 0:_.scheduledTime,"h:mm:ss A").format("hh:mm A")})]}),e.jsxs("div",{className:"overflow-y-auto",children:[e.jsx("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs  text-[#37517e] ",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/6592/6592963.png",alt:"pin",className:"w-5 inline"})," ",t("tranWaterDashboardIndex.basicDetailsLabel.label")]}),l?e.jsx(i,{}):e.jsxs("div",{className:"mt-2 bg-white",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.ulbNameLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(u=s==null?void 0:s.applicationDetails)!=null&&u.ulb_name?(A=s==null?void 0:s.applicationDetails)==null?void 0:A.ulb_name:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.wardNoLabel.label")}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(M=s==null?void 0:s.applicationDetails)!=null&&M.ward_no?(k=s==null?void 0:s.applicationDetails)==null?void 0:k.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.connectionTypeLabel.label")}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(P=s==null?void 0:s.applicationDetails)!=null&&P.connection_type?(T=s==null?void 0:s.applicationDetails)==null?void 0:T.connection_type:"N/A"})]})]}),e.jsxs("div",{className:"flex space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.propertyTypeLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(V=s==null?void 0:s.applicationDetails)!=null&&V.property_type?(C=s==null?void 0:s.applicationDetails)==null?void 0:C.property_type:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.categoryTypeLabel.label")}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(S=s==null?void 0:s.applicationDetails)!=null&&S.category?(E=s==null?void 0:s.applicationDetails)==null?void 0:E.category:"N/A"})]}),e.jsx("div",{className:"flex-1 text-xs"})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-3",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/609/609803.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.propertyAddressDetailsLabel.label")]}),l?e.jsx(i,{}):e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.wardNoLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(O=s==null?void 0:s.applicationDetails)!=null&&O.ward_no?(R=s==null?void 0:s.applicationDetails)==null?void 0:R.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.pincodeLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(U=s==null?void 0:s.applicationDetails)!=null&&U.pin?(Y=s==null?void 0:s.applicationDetails)==null?void 0:Y.pin:"N/A"})]}),(($=s==null?void 0:s.applicationDetails)==null?void 0:$.holding_no)&&e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.holdingNoLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(B=s==null?void 0:s.applicationDetails)!=null&&B.holding_no?(z=s==null?void 0:s.applicationDetails)==null?void 0:z.holding_no:"N/A"})]}),((q=s==null?void 0:s.applicationDetails)==null?void 0:q.saf_no)&&e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.safNoLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(G=s==null?void 0:s.applicationDetails)!=null&&G.saf_no?(H=s==null?void 0:s.applicationDetails)==null?void 0:H.saf_no:"N/A"})]})]}),e.jsx("div",{}),e.jsxs("div",{className:"col-span-4 grid grid-cols-5 justify-center items-center",children:[e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-gray-400"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("small",{className:"block mt-1 text-xs text-gray-400 inline md:px-4 font-mono text-center",children:t("tranWaterDashboardIndex.completeAddressLabel.label")})]})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-gray-400"})]}),e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"flex text-xs",children:e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.addressLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(J=s==null?void 0:s.applicationDetails)!=null&&J.address?(K=s==null?void 0:s.applicationDetails)==null?void 0:K.address:"N/A"})]})})})]})]}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8948/8948774.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.paymentDetailsLabel.label")]}),l?e.jsx(i,{}):((Q=s==null?void 0:s.documentDetails)==null?void 0:Q.doc_upload_status)==!1?e.jsx("div",{className:"text-center text-indigo-600",children:t("tranWaterDashboardIndex.paymentPendingLabel.label")}):(Z=(X=s==null?void 0:s.documentDetails)==null?void 0:X.connectionCharges)!=null&&Z.paid_status?e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsx("div",{className:"text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.slLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.transactionNoLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.amountLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.paymentModeLabel.label")})}),e.jsx("div",{className:" text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.statusLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.paymentDateTimeLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.actionLabel.label")})})]}),((F=s==null?void 0:s.waterTransDetail)==null?void 0:F.length)>0&&((ee=s==null?void 0:s.waterTransDetail)==null?void 0:ee.map((a,d)=>e.jsxs("div",{className:"flex space-x-10 pl-4 my-2 border-b border-y-gray-200",children:[e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[d+1,"."]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(a==null?void 0:a.tran_no)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(a==null?void 0:a.amount)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(a==null?void 0:a.payment_mode)||"N/A"})}),e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[(a==null?void 0:a.verify_status)==1&&"Paid",(a==null?void 0:a.verify_status)==2&&"Processing"]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-xs text-[#37517e]",children:(a==null?void 0:a.created_at)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:e.jsx("button",{className:"hover:border-b-2 border-blue-500 hover:text-blue-500",onClick:()=>p(`/waterConnReceipt/${a==null?void 0:a.tran_no}`),children:t("tranWaterDashboardIndex.printReceiptLabel.label")})})})]},d)))]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{children:t("tranWaterDashboardIndex.makePaymentLabel.label")})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>ve(),className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:t("tranWaterDashboardIndex.payNowLabel.label")})})]})]}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.documentDetailsLabel.label")]}),l?e.jsx(i,{}):(se=s==null?void 0:s.documentDetails)!=null&&se.doc_upload_status?e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.documentNameLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.statusLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.previewLabel.label")}),e.jsxs("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:[" ",t("tranWaterDashboardIndex.viewLabel.label")]})]})}),e.jsxs("tbody",{className:"text-sm",children:[e.jsx(e.Fragment,{children:(te=(ae=s==null?void 0:s.documentDetails)==null?void 0:ae.documentsList)==null?void 0:te.map((a,d)=>{var x,n,c,o,h;return e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.docName?a==null?void 0:a.docName:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(a==null?void 0:a.uploadDoc)==""?e.jsx("p",{className:"text-red-400 font-semibold",children:t("tranWaterDashboardIndex.notUploadLabel.label")}):e.jsx("p",{className:"text-green-400 font-semibold",children:t("tranWaterDashboardIndex.uploadedLabel.label")})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:((n=(x=a==null?void 0:a.uploadDoc)==null?void 0:x.doc_path)==null?void 0:n.split(".").pop())=="pdf"?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:ce}):(c=a==null?void 0:a.uploadDoc)!=null&&c.doc_path?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:(o=a==null?void 0:a.uploadDoc)==null?void 0:o.doc_path}):"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(h=a==null?void 0:a.uploadDoc)!=null&&h.doc_path?e.jsx("button",{onClick:()=>{var b,xe;return g((b=a==null?void 0:a.uploadDoc)==null?void 0:b.doc_path,(xe=a==null?void 0:a.uploadDoc)==null?void 0:xe.docName)},className:"bg-indigo-600 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")}):e.jsx("button",{disabled:!0,className:"bg-indigo-200 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")})})]})})}),e.jsx(e.Fragment,{children:(re=(de=s==null?void 0:s.documentDetails)==null?void 0:de.ownersDocList)==null?void 0:re.map((a,d)=>{var x,n,c,o,h;return e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.docName?(a==null?void 0:a.ownerName)+" ( "+(a==null?void 0:a.docName)+")":"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(a==null?void 0:a.uploadDoc)==""?e.jsx("p",{className:"text-red-400 font-semibold",children:t("tranWaterDashboardIndex.notUploadLabel.label")}):e.jsx("p",{className:"text-green-400 font-semibold",children:t("tranWaterDashboardIndex.uploadedLabel.label")})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:((n=(x=a==null?void 0:a.uploadDoc)==null?void 0:x.doc_path)==null?void 0:n.split(".").pop())=="pdf"?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:ce}):(c=a==null?void 0:a.uploadDoc)!=null&&c.doc_path?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:(o=a==null?void 0:a.uploadDoc)==null?void 0:o.doc_path}):"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(h=a==null?void 0:a.uploadDoc)!=null&&h.doc_path?e.jsx("button",{onClick:()=>{var b;return g((b=a==null?void 0:a.uploadDoc)==null?void 0:b.doc_path)},className:"bg-indigo-600 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")}):e.jsx("button",{disabled:!0,className:"bg-indigo-200 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")})})]})})})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{children:t("tranWaterDashboardIndex.uploadDocumentLabel.label")})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>p(`/water-doc-upload/${f}`),className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:t("tranWaterDashboardIndex.uploadDocumentLabel.label")})})]})]}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.ownerDetailsLabel.label")]}),l?e.jsx(i,{}):e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.ownerNameLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.fatherNameLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.mobileNoLabel.label")}),e.jsxs("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:[t("tranWaterDashboardIndex.emailLabel.label")," "]})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(le=s==null?void 0:s.ownerDetails)==null?void 0:le.map((a,d)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.applicant_name?a==null?void 0:a.applicant_name:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.guardian_name?a==null?void 0:a.guardian_name:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.mobile_no?a==null?void 0:a.mobile_no:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.email?a==null?void 0:a.email:"N/A"})]}))})})]})]})]})]})})]})};export{Ve as default};
