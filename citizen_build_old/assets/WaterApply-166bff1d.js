import{aJ as L,t as D,j as e,a as P,r as d,M as de,bO as Se,bP as Te,g as ie,aK as ce,c as Fe,d as W,b as $e,A,o as Ce,bQ as ne,m as re,av as oe,H as ke,l as Ae}from"./index-5aadcf5b.js";import{S as _e}from"./react-select.esm-6040b526.js";const Oe=()=>{const{t:n}=D();return e.jsxs(Pe,{children:[e.jsx(_,{toggle:"panel-1",className:"bg-indigo-500 text-white",children:n("tranWaterDashboardIndex.howToApplyLabel.label")}),e.jsx(O,{id:"panel-1",children:e.jsxs("p",{className:"mb-4 space-y-3",children:[e.jsx("li",{children:n("tranWaterDashboardIndex.applyWaterConnectionLabel.label")}),e.jsx("li",{children:n("tranWaterDashboardIndex.selectConnectionThroughLabel.label")})]})}),e.jsx(_,{toggle:"panel-2",className:"bg-indigo-500 text-white",children:n("tranWaterDashboardIndex.requiredDocumentsLabel.label")}),e.jsx(O,{id:"panel-2",children:e.jsxs("p",{className:"mb-4",children:[e.jsx("li",{children:n("tranWaterDashboardIndex.addressProofLabel.label")}),e.jsx("li",{children:n("tranWaterDashboardIndex.holdingSafProofLabel.label")}),e.jsx("li",{children:n("tranWaterDashboardIndex.consumerDocumentsLabel.label")}),e.jsx("li",{children:n("tranWaterDashboardIndex.meterBillLabel.label")})]})}),e.jsx(_,{toggle:"panel-3",className:"bg-indigo-500 text-white",children:n("tranWaterDashboardIndex.applicationProcessLabel.label")}),e.jsxs(O,{id:"panel-3",children:[e.jsx("p",{className:"mb-4",children:n("tranWaterDashboardIndex.step1Label.label")}),e.jsx("p",{className:"mb-4",children:n("tranWaterDashboardIndex.step2Label.label")}),e.jsx("p",{className:"mb-4",children:n("tranWaterDashboardIndex.step3Label.label")})]})]})},xe=L.createContext({});function Pe({children:n}){const[s,c]=L.useState(),x=L.useCallback(h=>()=>{c(i=>i!==h?h:"")},[]);return e.jsx(xe.Provider,{value:{selected:s,toggleItem:x},children:n})}const he=()=>L.useContext(xe),be={item:"block focus:outline-none border-b my-2 p-3",panel:"overflow-hidden md:overflow-x-hidden transition-height ease duration-300 text-gray-600"};function _({toggle:n,children:s,className:c}){const{selected:x,toggleItem:h}=he();return e.jsxs("div",{role:"button",onClick:h(n),className:`${be.item} ${c}`,children:[s,e.jsx("span",{className:"float-right",children:x===n?e.jsx(Ve,{}):e.jsx(Me,{})})]})}function O({children:n,id:s}){var i;const{selected:c}=he(),x=L.useRef(),h=c===s?{height:(i=x.current)==null?void 0:i.scrollHeight}:{height:0};return e.jsx("div",{ref:x,id:s,className:be.panel,style:h,children:n})}const Ve=()=>e.jsx("svg",{fill:"white",strokeWidth:"0",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",className:"mt-1 h-4",children:e.jsx("path",{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"})}),Me=()=>e.jsx("svg",{stroke:"currentColor",fill:"white",strokeWidth:"0",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",className:"mt-1 h-4",children:e.jsx("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"})});function Ue(n){var x;const{t:s}=D(),c=P();return console.log("props in waterAfterSubmit",n),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mt-8 mb-2 font-serif font-semibold text-gray-600"}),e.jsx("div",{className:"block p-4 md:py-6 shadow-lg bg-indigo-100 border border-indigo-300 rounded  mx-auto ",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"font-semibold",children:s("tranWaterDashboardIndex.applicationSubmittedLabel.label")}),e.jsxs("p",{children:[e.jsxs("span",{className:"text-sm",children:[" ",s("tranWaterDashboardIndex.applicationNoLabel.label")," "]}),e.jsx("span",{className:"text-indigo-600 font-semibold",children:(x=n==null?void 0:n.data)==null?void 0:x.applicationNo})]}),e.jsx("button",{onClick:()=>c("/water-dashboard"),className:"bg-white hover:bg-indigo-600 hover:text-white text-indigo-700  border border-indigo-600 mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:s("tranWaterDashboardIndex.dashboardLabel.label")}),e.jsx("button",{onClick:()=>{var h;return c(`/water-doc-upload/${(h=n==null?void 0:n.data)==null?void 0:h.applicationId}`)},className:"bg-indigo-600 hover:bg-indigo-700 text-white mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:s("tranWaterDashboardIndex.uploadDocumentLabel.label")})]})})]})}const Re={content:{top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function qe(n){const[s,c]=L.useState(!1);function x(){}function h(){c(!1)}return d.useEffect(()=>{n!=null&&n.message&&c(!0)},[n==null?void 0:n.message]),e.jsx("div",{className:"",children:e.jsx(de,{isOpen:s,onAfterOpen:x,onRequestClose:h,style:Re,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!1,children:e.jsxs("div",{className:"p-10 py-8 border border-indigo-300 bg-white rounded-lg shadow-lg",children:[e.jsx("p",{onClick:h,className:"absolute right-8 top-8 cursor-pointer capitalize text-black hover:bg-red-300 font-light hover:underline",children:e.jsx(Se,{})}),e.jsx("h1",{className:"text-5xl flex justify-center text-red-500 mx-auto",children:e.jsx(Te,{})}),e.jsx("div",{className:"font-normal text-gray-500",children:n==null?void 0:n.message}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white rounded-md px-4 py-2 mt-6 flex justify-center",onClick:h,children:"Close"})})]})})})}function He(n){var R,q,H;const{t:s}=D(),[c,x]=d.useState(!1),[h,i]=d.useState(!1),[r,f]=d.useState(),[p,I]=d.useState([]),[S,w]=d.useState(),[b,v]=d.useState(),[C,j]=d.useState(!1),[T,ue]=d.useState(),[V,F]=d.useState(!1),[me,M]=d.useState(!1),[ge,$]=d.useState(!1),{notify:N}=d.useContext(ie),u="form-group col-span-4 md:col-span-1 mb-6 md:px-4",g="form-label inline-block mb-1 text-gray-600 text-sm font-semibold",m="form-control block w-full px-3 py-2 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-sm",{api_NewWaterConnection:pe,header:k,api_getHoldingSafOfLogin:je,api_getSafHoldingDetails:fe,api_userProfileDetails:ze}=ce(),Ne=a=>{$(!0);const t={ulbId:n==null?void 0:n.selectedUlbId,connectionTypeId:a==null?void 0:a.typeofConnection,propertyTypeId:a==null?void 0:a.propertyType,ownerType:a==null?void 0:a.ownerType,category:a==null?void 0:a.categoryType,pipelineTypeId:a==null?void 0:a.pipelineType,connection_through:a==null?void 0:a.connectionThrough,landmark:"Landmark",safNo:a==null?void 0:a.selectedSafHol,holdingNo:a==null?void 0:a.selectedSafHol,wardId:a==null?void 0:a.new_ward_mstr_id,areaSqft:a==null?void 0:a.totalArea,address:a==null?void 0:a.address,pin:a==null?void 0:a.pincode,tenant:p,owners:r==null?void 0:r.owners};console.log("Payload Data",a),console.log("Final Payload",t),A.post(pe,t,k).then(o=>{var y;o.data.status==!0?($(!1),console.log("Data Really Saved",o),n.screen1Data(o.data.data),N("Application Applied Successfully","success")):($(!1),console.log("False While Water Apply",o),w("Error While Apply : "+((y=o==null?void 0:o.data)==null?void 0:y.message)),N("Error While Apply Form","error"))}).catch(o=>{$(!1),console.log("Error while Water Apply",o),w("Exception While Apply"),N("Something Went Wrong","error")}),console.log("Final Payload",t)},ve=Fe({typeofConnection:W().required("Require"),connectionThrough:W().required("Require"),ownerType:W().required("Require"),propertyType:W().required("Require"),selectedSafHol:W().required("Require")}),ye=P(),l=$e({initialValues:{typeofConnection:"",connectionThrough:"",ownerType:"",propertyType:"",categoryType:"",pipelineType:"",wardNo:"",totalArea:"",pincode:"",address:"",safNo:"",holdingNo:"",selectedSafHol:""},enableReinitialize:!0,onSubmit:(a,t)=>{console.log("Value.....",a),Ne(a)},validationSchema:ve}),we=a=>{let t=a.target.name,o=a.target.value;w(""),t==="propertyType"&&(o=="1"?x(!0):x(!1)),t==="ownerType"&&(o=="2"?j(!0):j(!1)),t=="pincode"&&l.setFieldValue("pincode",re(o,l.values.pincode,6)),t=="ownerName"&&l.setFieldValue("ownerName",oe(o,l.values.ownerName,60)),t=="guardianName"&&l.setFieldValue("guardianName",oe(o,l.values.guardianName,60)),t=="mobileNo"&&l.setFieldValue("mobileNo",re(o,l.values.mobileNo,10))},Le=()=>{if(l.setFieldValue("selectedSafHol",""),console.log("formik.values.connectionThrough",l.values.connectionThrough),l.values.connectionThrough==1)var a="holding";else if(l.values.connectionThrough==2)var a="saf";else return F(!1);i(!0),A.post(je,{type:a,ulbId:n==null?void 0:n.selectedUlbId},k).then(t=>{var o;t.data.status?(F(!0),console.log("List of Holding SAF",t),ue((o=t==null?void 0:t.data)==null?void 0:o.data),N(t.data.data.length+" "+a+" Found","success"),i(!1)):(F(!1),N("No "+a+" found against this account","error"),console.log("Error/No "+a+" Found",t),M("No "+a+" found against this account"),i(!1),w("No "+a+" found against this account"))}).catch(t=>{N("Something Went Wrong","error"),F(!1),console.log("Error while getting holding saf",t),i(!1)})};d.useEffect(()=>{Le()},[l.values.connectionThrough]),d.useEffect(()=>{Ie()},[l.values.selectedSafHol]);const Ie=()=>{I([]),U(),i(!0);const a={connectionThrough:l.values.connectionThrough,id:l.values.selectedSafHol,ulbId:n==null?void 0:n.selectedUlbId};A.post(fe,a,k).then(t=>{var o,y,B,E,z,G,J,K,Q,X,Y,Z,ee,ae,le,se,te;console.log("Response of holding/saf",t),t.data.status==!0&&(i(!1),f((o=t==null?void 0:t.data)==null?void 0:o.data),l.setFieldValue("totalArea",(B=(y=t==null?void 0:t.data)==null?void 0:y.data)==null?void 0:B.areaInSqFt),l.setFieldValue("address",(z=(E=t==null?void 0:t.data)==null?void 0:E.data)==null?void 0:z.prop_address),l.setFieldValue("pincode",(J=(G=t==null?void 0:t.data)==null?void 0:G.data)==null?void 0:J.prop_pin_code),l.setFieldValue("new_ward_mstr_id",(Q=(K=t==null?void 0:t.data)==null?void 0:K.data)==null?void 0:Q.new_ward_mstr_id),l.setFieldValue("new_ward_no",(Y=(X=t==null?void 0:t.data)==null?void 0:X.data)==null?void 0:Y.new_ward_no),l.setFieldValue("ownerName",(ee=(Z=t==null?void 0:t.data)==null?void 0:Z.data)==null?void 0:ee.owner_name),l.setFieldValue("guardianName",(le=(ae=t==null?void 0:t.data)==null?void 0:ae.data)==null?void 0:le.guardian_name),l.setFieldValue("mobileNo",(te=(se=t==null?void 0:t.data)==null?void 0:se.data)==null?void 0:te.mobile_no),l.setFieldValue("ownerType",1)),t.data.status==!1&&(console.log("NO data......"+l.values.connectionThrough),w("No Data found against : "+l.values.selectedSafHol,"error"),N("No Data found against : "+l.values.selectedSafHol,"error"),M("No Data found against : "+l.values.selectedSafHol),f({message:"Please enter valid no."}),i(!1))}).catch(t=>{console.log("Failed to Saf Holding ",t),f({message:"Error While Fetching Data"}),i(!1)})};d.useEffect(()=>{U()},[l.values.connectionThrough]);const U=()=>{f(""),j(""),l.setFieldValue("totalArea",""),l.setFieldValue("address",""),l.setFieldValue("pincode",""),l.setFieldValue("new_ward_no",""),l.setFieldValue("new_ward_mstr_id",""),l.setFieldValue("ownerName",""),l.setFieldValue("guardianName",""),l.setFieldValue("mobileNo","")},We=a=>{const t=window.confirm("Are you sure you want to delete this tenant?");console.log("key ",a),t&&(I(o=>o.filter(y=>{if(o.indexOf(y)==a)console.log("value matched at ",a);else return y})),N("Tenant deleted","info"))},De=()=>{if(console.log("formik.values.ownerName ",l.values.ownerName,", Type",typeof l.values.ownerName),l.values.ownerName==""||l.values.ownerName==null)return v({ownerName:"Require"});if(l.values.guardianName==""||l.values.guardianName==null)return v({guardianName:"Require"});if(l.values.mobileNo==""||l.values.mobileNo==null)return v({mobileNo:"Require"});const a={ownerName:l.values.ownerName,guardianName:l.values.guardianName,email:l.values.email,mobileNo:l.values.mobileNo};I([...p,a]),N("Tenant Added","info"),v(),l.setFieldValue("ownerName",""),l.setFieldValue("guardianName",""),l.setFieldValue("email",""),l.setFieldValue("mobileNo","")};return e.jsxs(e.Fragment,{children:[h&&e.jsx(Ce,{}),e.jsx(qe,{message:me}),e.jsx("p",{className:"mt-6"}),e.jsx("div",{className:"block p-4 md:py-6 shadow-lg bg-white border border-gray-200 rounded-md mx-auto",children:e.jsx("form",{onSubmit:l.handleSubmit,onChange:we,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.connectionThroughLabel.label")]}),e.jsxs("select",{...l.getFieldProps("connectionThrough"),className:`${m} cursor-pointer `,children:[e.jsxs("option",{value:"",children:[" ",s("tranWaterDashboardIndex.selectUlbOptionLabel.label")]}),e.jsx("option",{value:"1",children:s("tranWaterDashboardIndex.holdingNoLabel.label")}),e.jsx("option",{value:"2",children:s("tranWaterDashboardIndex.safNoLabel.label")})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.connectionThrough&&l.errors.connectionThrough?l.errors.connectionThrough:null})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.selectHoldingSafLabel.label")]}),e.jsxs("select",{disabled:!V,...l.getFieldProps("selectedSafHol"),className:`${m} ${V?"cursor-pointer":"cursor-not-allowed"}  `,children:[e.jsxs("option",{value:"",children:[s("tranWaterDashboardIndex.selectUlbOptionLabel.label")," "]}),T&&(T==null?void 0:T.map((a,t)=>e.jsx("option",{value:(a==null?void 0:a.new_holding_no)||(a==null?void 0:a.saf_no),children:(a==null?void 0:a.new_holding_no)||(a==null?void 0:a.saf_no)},t)))]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.selectedSafHol&&l.errors.selectedSafHol?l.errors.selectedSafHol:null})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.typeOfRequestLabel.label")]}),e.jsxs("select",{...l.getFieldProps("typeofConnection"),className:`${m} cursor-pointer `,children:[e.jsx("option",{value:"",children:s("tranWaterDashboardIndex.selectUlbOptionLabel.label")}),e.jsx("option",{value:"1",children:s("tranWaterDashboardIndex.newConnectionLabel.label")}),e.jsx("option",{value:"2",children:s("tranWaterDashboardIndex.regularizationLabel.label")})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.typeofConnection&&l.errors.typeofConnection?l.errors.typeofConnection:null})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.ownerTypeLabel.label")]}),r!=null&&r.tenanted?e.jsxs("select",{...l.getFieldProps("ownerType"),className:`${m} `,children:[e.jsx("option",{value:"",children:s("tranWaterDashboardIndex.selectUlbOptionLabel.label")}),e.jsx("option",{value:"1",children:s("tranWaterDashboardIndex.ownerLabel.label")}),e.jsx("option",{value:"2",children:s("tranWaterDashboardIndex.tenantLabel.label")})]}):e.jsx("div",{children:e.jsx("input",{type:"text",disabled:!0,value:"Owner",className:`${m} bg-gray-100`})}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.ownerType&&l.errors.ownerType?l.errors.ownerType:null})]})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-3",children:[e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.propertyTypeLabel.label")]}),e.jsxs("select",{...l.getFieldProps("propertyType"),className:`${m} cursor-pointer `,children:[e.jsx("option",{value:"",children:s("tranWaterDashboardIndex.selectUlbOptionLabel.label")}),((R=r==null?void 0:r.usageType)==null?void 0:R.length)>0&&((q=r==null?void 0:r.usageType)==null?void 0:q.map(a=>e.jsx("option",{value:a.id,children:a.usageType})))]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.propertyType&&l.errors.propertyType?l.errors.propertyType:null})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.categoryTypeLabel.label")]}),e.jsxs("select",{disabled:!c,...l.getFieldProps("categoryType"),type:"text",className:`${m} ${!c&&"bg-gray-300 opacity-30"}`,children:[e.jsx("option",{value:"",children:s("tranWaterDashboardIndex.selectUlbOptionLabel.label")}),e.jsx("option",{value:"APL",children:s("tranWaterDashboardIndex.aplLabel.label")}),e.jsx("option",{value:"BPL",children:s("tranWaterDashboardIndex.bplLabel.label")})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.categoryType&&l.errors.categoryType?l.errors.categoryType:null})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"block mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.pipelineTypeLabel.label")]}),e.jsxs("select",{disabled:!c,...l.getFieldProps("pipelineType"),type:"date",className:`${m} ${!c&&"bg-gray-300 opacity-30"}`,children:[e.jsx("option",{value:"",children:s("tranWaterDashboardIndex.selectUlbOptionLabel.label")}),e.jsx("option",{value:"2",children:s("tranWaterDashboardIndex.newPipelineLabel.label")}),e.jsx("option",{value:"1",children:s("tranWaterDashboardIndex.oldPipelineLabel.label")})]}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.pipelineType&&l.errors.pipelineType?l.errors.pipelineType:null})]})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-3",children:[e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.wardNoLabel.label")]}),e.jsxs("div",{children:[e.jsx("input",{disabled:!0,type:"text",...l.getFieldProps("new_ward_no"),className:`${m} bg-gray-100 `}),e.jsx("input",{type:"hidden",...l.getFieldProps("wardNo"),className:`${m} bg-gray-100 `})]})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.totalAreaLabel.label")]}),e.jsx("input",{disabled:!0,type:"text",...l.getFieldProps("totalArea"),className:`${m} bg-gray-100 `}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.totalArea&&l.errors.totalArea?l.errors.totalArea:null})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.pincodeLabel.label")]}),e.jsx("input",{type:"text",disabled:!0,...l.getFieldProps("pincode"),className:`${m} bg-gray-100`}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.pincode&&l.errors.pincode?l.errors.pincode:null})]})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),s("tranWaterDashboardIndex.addressLabel.label")]}),e.jsx("textarea",{type:"text",disabled:!0,...l.getFieldProps("address"),className:`${m} bg-gray-100`}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.address&&l.errors.address?l.errors.address:null})]})}),(r==null?void 0:r.owners)&&e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:e.jsxs("div",{className:`${u}`,children:[e.jsx("div",{className:"p-2 bg-indigo-500 rounded text-white",children:e.jsxs("p",{className:"font-semibold text-gray-200 flex text-xs",children:[" ",e.jsx("span",{className:"mt-0.5 mr-1",children:e.jsx(ne,{})})," ",s("tranWaterDashboardIndex.listOfOwnersLabel.label")]})}),e.jsxs("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e.jsx("thead",{class:"text-xs text-left text-gray-900 bg-indigo-300",children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.slLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.applicantNameLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.guardianNameLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.mobileNoLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.emailLabel.label")})})]})}),e.jsx("tbody",{class:"text-sm divide-y divide-gray-100",children:e.jsx(e.Fragment,{children:(H=r==null?void 0:r.owners)==null?void 0:H.map((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[t+1,"."]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:a!=null&&a.ownerName?a==null?void 0:a.ownerName:"N/A"})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left",children:a!=null&&a.guardianName?a==null?void 0:a.guardianName:"N/A"})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left font-medium text-gray-800  text-xs",children:a!=null&&a.mobileNo?a==null?void 0:a.mobileNo:"N/A"})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:a!=null&&a.email?a==null?void 0:a.email:"N/A"})})]}))})})]})]})}),e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:p.length==0?e.jsx("p",{className:"text-center font-semibold text-sm  text-red-500"}):e.jsxs("div",{className:`${u}`,children:[e.jsxs("div",{className:"p-2 bg-yellow-200 rounded",children:[e.jsxs("p",{className:"font-semibold text-gray-800 flex",children:[" ",e.jsx("span",{className:"mt-0.5 mr-1",children:e.jsx(ne,{})})," ",s("tranWaterDashboardIndex.listOfTenantsLabel.label")]}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:s("tranWaterDashboardIndex.addOrRemoveTenantLabel.label")})]}),e.jsxs("table",{class:"table-auto w-full mt-4 border rounded-md shadow-md",children:[e.jsx("thead",{class:"text-xs text-left text-gray-900 bg-sky-300",children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.slLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.applicantNameLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.guardianFatherLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.mobileNoLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:"",children:s("tranWaterDashboardIndex.emailLabel.label")})}),e.jsx("th",{class:"p-2",children:e.jsx("div",{class:" text-center",children:s("tranWaterDashboardIndex.deleteLabel.label")})})]})}),e.jsx("tbody",{class:"text-sm divide-y divide-gray-100",children:e.jsx(e.Fragment,{children:p==null?void 0:p.map((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{class:"p-2",children:e.jsxs("div",{class:"font-semibold text-gray-800 text-left text-xs",children:[t+1,"."]})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:a==null?void 0:a.ownerName})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left",children:a==null?void 0:a.guardianName})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"text-left font-medium text-gray-800  text-xs",children:a==null?void 0:a.mobileNo})}),e.jsx("td",{class:"p-2",children:e.jsx("div",{class:"font-medium text-gray-800 text-left text-xs",children:a==null?void 0:a.email})}),e.jsx("td",{class:"",children:e.jsx("div",{class:"flex justify-center",children:e.jsx("button",{type:"button",onClick:()=>We(t),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 text-red-500 hover:text-red-700",children:e.jsx("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})})})})})]}))})})]})]})}),C&&e.jsxs("div",{className:"col-span-4 grid grid-cols-4",children:[e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[s("tranWaterDashboardIndex.applicantNameLabel.label")," ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",...l.getFieldProps("ownerName"),className:`${m} `,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:(b==null?void 0:b.ownerName)&&(b==null?void 0:b.ownerName)})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[s("tranWaterDashboardIndex.guardianNameLabel.label")," ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",...l.getFieldProps("guardianName"),className:`${m}`,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:(b==null?void 0:b.guardianName)&&(b==null?void 0:b.guardianName)})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[s("tranWaterDashboardIndex.mobileNoLabel.label")," ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{type:"text",...l.getFieldProps("mobileNo"),className:`${m}`,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:(b==null?void 0:b.mobileNo)&&(b==null?void 0:b.mobileNo)})]}),e.jsxs("div",{className:`${u}`,children:[e.jsxs("label",{className:`${g}`,children:[" ",s("tranWaterDashboardIndex.emailLabel.label")]}),e.jsx("input",{...l.getFieldProps("email"),className:`${m}`,onChange:l.handleChange}),e.jsx("p",{className:"text-red-500 text-xs",children:l.touched.email&&l.errors.email?l.errors.email:null})]}),e.jsx("div",{className:"col-span-4 grid grid-cols-1",children:e.jsx("div",{className:"col-span-4",children:e.jsx("div",{className:"float-right mr-4 -mt-4 mb-5",children:e.jsx("button",{type:"button",onClick:De,className:"bg-cyan-500 hover:bg-cyan-400 text-sm text-white px-3 py-1 rounded",children:s("tranWaterDashboardIndex.addLabel.label")})})})})]}),e.jsx("div",{className:"col-span-4 mb-3",children:e.jsx("div",{className:"text-center text-red-600 font-semibold",children:S&&"Error : "+S})}),e.jsx("div",{className:"col-span-4",children:e.jsx("div",{className:"flex justify-center",children:ge?e.jsx("p",{className:"font-medium",children:s("tranWaterDashboardIndex.submittingFormLabel.label")}):e.jsxs("div",{className:"space-x-8",children:[e.jsx("button",{type:"button",onClick:()=>ye(-1),className:" px-12 py-2.5 bg-red-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",children:s("tranWaterDashboardIndex.cancelLabel.label")}),e.jsx("button",{type:"submit",className:" px-12 py-2.5 bg-indigo-600 text-white font-medium text-sm leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:s("tranWaterDashboardIndex.submitFormLabel.label")})]})})})]})})})]})}const Be={overlay:{background:"#e6e6fc"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"transparent",border:"none",height:"600px"}};function Ee(n){const{t:s}=D(),[c,x]=L.useState(!1),[h,i]=d.useState(),[r,f]=d.useState(null),{api_ulbList:p}=ce(),{notify:I}=d.useContext(ie),S=P(),w=ke().brand_tag;console.log("ULB Brand Tag",w),d.useEffect(()=>{n.openUlbModal==0&&x(!0)},[n.openUlbModal]),d.useEffect(()=>{Ae.get(p).then(j=>{console.log("ULB LIsts...",j.data.data),i([{id:2,ulb_name:` ${s("tranWaterDashboardIndex.selectUlbOptionsAMC.label")}`}])}).catch(j=>console.log("Error while fetching ulblist",j))},[]);function b(){}function v(){x(!1),S(-1)}const C=()=>{if(r.id)I("ULB Selected","success"),console.log("Start Button Clicked.."),n.nextScreen(),n.setSelectedUlb(r),x(!1);else return f(null)};return console.log("selectedOption",r),e.jsx("div",{className:"",children:e.jsx(de,{isOpen:c,onAfterOpen:b,onRequestClose:v,style:Be,contentLabel:"Example Modal",children:e.jsx("div",{className:"container",children:e.jsx("div",{class:"relative w-full h-full max-w-3xl md:h-auto border-indigo-600 shadow-indigo-200 shadow-sm rounded",children:e.jsxs("div",{class:"relative bg-white rounded-lg shadow ",children:[e.jsxs("div",{class:"flex items-start justify-between p-4 border-b rounded-t darks:border-gray-600",children:[e.jsxs("h3",{class:"text-base md:text-xl font-semibold text-gray-900 darks:text-white",children:[" ",s("tranWaterDashboardIndex.applyingForWaterConnectionLabel.label")]}),e.jsxs("button",{onClick:v,class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-600 darks:hover:text-white","data-modal-hide":"defaultModal",children:[e.jsx("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),e.jsx("span",{class:"sr-only",children:s("tranWaterDashboardIndex.closeModalLabel.label")})]})]}),e.jsxs("div",{class:"p-6 space-y-5",children:[e.jsx("p",{class:"md:text-sm leading-relaxed text-gray-500 text-xs",children:s("tranWaterDashboardIndex.welcomeMessageLabel.label")}),e.jsx("p",{class:"md:text-sm leading-relaxed text-gray-500 text-xs",children:s("tranWaterDashboardIndex.processApplicationLabel.label")}),e.jsx("p",{class:"md:text-sm leading-relaxed text-gray-500 text-xs",children:s("tranWaterDashboardIndex.readInstructionsLabel.label")})]}),e.jsxs("div",{className:"block md:flex justify-center space-x-4",children:[e.jsx("div",{className:"font-semibold text-center",children:s("tranWaterDashboardIndex.selectUlbtLabel.label")}),e.jsx("div",{className:"md:w-1/2 w-auto mr-5",children:e.jsx(_e,{defaultValue:r,onChange:f,getOptionLabel:j=>j.ulb_name,getOptionValue:j=>j.id,options:h,isClearable:!0,isLoading:!h})})]}),e.jsx("div",{className:"text-center",children:r&&(r==null?void 0:r.id)!=""?e.jsxs("p",{children:[s("tranWaterDashboardIndex.applyingForLabel.label"),e.jsx("span",{className:"text-indigo-500 mx-2",children:r==null?void 0:r.ulb_name})]}):e.jsxs("p",{className:"text-red-500 py-2 mx-2",children:[" ",s("tranWaterDashboardIndex.selectUlbtLabel.label")]})}),e.jsxs("div",{class:"flex flex-row-reverse items-center p-6 border-t border-gray-200 rounded-b",children:[e.jsx("button",{onClick:C,disabled:!(r!=null&&r.id),class:"mx-2 text-white disabled:bg-gray-500 disabled:scale-100 bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center darks:bg-indigo-600 darks:hover:bg-indigo-700 darks:focus:ring-indigo-800",children:s("tranWaterDashboardIndex.startLabel.label")}),e.jsx("button",{onClick:v,class:"mx-2 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg border border-red-200 text-sm font-medium px-5 py-2.5 focus:z-10 ",children:s("tranWaterDashboardIndex.cancelLabel.label")})]})]})})})})})}function Qe(){const{t:n}=D(),[s,c]=d.useState(0),[x,h]=d.useState(),[i,r]=d.useState(),f=p=>{console.log("Screen 1 Data After Apply Water",p),h(p),c(2)};return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{openUlbModal:s,nextScreen:()=>c(1),setSelectedUlb:p=>r(p)}),e.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[e.jsxs("div",{className:"md:col-span-9 col-span-12",children:[e.jsxs("p",{className:"border p-2 bg-indigo-500 text-gray-200 rounded shadow-md",children:[n("tranWaterDashboardIndex.applyingForLabel.label")," ",e.jsx("span",{className:"font-semibold text-gray-100",children:i==null?void 0:i.ulb_name})]}),e.jsxs("div",{className:`${s==1?"block":"hidden"} `,children:["   ",e.jsx(He,{screen1Data:f,selectedUlbId:i==null?void 0:i.id})]}),e.jsxs("div",{className:`${s==2?"block":"hidden"} `,children:["   ",e.jsx(Ue,{data:x})]})]}),e.jsxs("div",{className:"md:col-span-3 col-span-12",children:[e.jsxs("p",{className:"border-2 border-indigo-400 p-2 text-center bg-white text-xl shadow-md",children:[" ",n("tranWaterDashboardIndex.faqLabel.label")," "]}),e.jsx(Oe,{})]})]})]})}export{Qe as default};
