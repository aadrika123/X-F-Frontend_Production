import{w as Le,b3 as We,r,b4 as De,a as _e,u as ue,h as Ae,A as Me,j as e,ct as ke,cp as Pe,cz as Te,bp as ce,cA as i,cr as oe}from"./index-f28bac82.js";const Ce=N=>{var g,y,w,I,L,W,D,_,u,A,M,k,P,T,S,V,C,E,O,R,z,U,Y,$,B,q,G,H,J,K,Q,X,Z,F,ee,se,ae,te,de,re,le,xe;const{t}=Le(),[Se,he]=We.useState(!1),[s,be]=r.useState(),[ie,Ne]=r.useState(0),[je,me]=r.useState(),[l,j]=r.useState(!1),[pe,m]=r.useState(!1),{api_waterViewPendingApplication:fe,header:ve}=De(),p=_e(),{id:f}=ue(),{setBreadCrumbData:ge}=r.useContext(Ae);r.useEffect(()=>{ge(["Water Dashboard","View Applications"])},[]),r.useEffect(()=>{N.openModal>0&&he(!0)},[N.openModal]),r.useEffect(()=>{j(!0),Me.post(fe,{applicationId:f},ve).then(a=>{console.log("Application Full Data",a.data.data),be(a.data.data),j(!1)}).catch(a=>{console.log("ERROR : Pending Application Data",a),j(!1)})},[N.openModal]);const v=a=>{Ne(d=>d+1),me(a)},ye=()=>{m(!0)},we=(g=s==null?void 0:s.applicationDetails)==null?void 0:g.connection_type,Ie=(y=s==null?void 0:s.applicationDetails)==null?void 0:y.connection_type;return e.jsxs(e.Fragment,{children:[pe&&e.jsx(ke,{category:we,openPaymentModal:m,paymentData:s==null?void 0:s.documentDetails}),e.jsx(Pe,{openDocviewModal:ie,documentUrl:je}),e.jsx("div",{className:"mt-8",children:e.jsx(Te,{active:"application",title:`${t("tranWaterDashboardIndex.waterApplicationDetailsLabel.label")}`,applicationNo:(w=s==null?void 0:s.applicationDetails)==null?void 0:w.application_no})}),e.jsx("div",{className:"grid grid-cols-12 mb-20",children:e.jsxs("div",{className:"rounded-md col-span-12",children:[((I=s==null?void 0:s.applicationDetails)==null?void 0:I.current_role_name)&&e.jsxs("p",{className:"text-center text-green-600 font-semibold",children:[" ",t("tranWaterDashboardIndex.applicationSubmittedLabel.label"),(L=s==null?void 0:s.applicationDetails)==null?void 0:L.current_role_name]}),((W=s==null?void 0:s.applicationDetails)==null?void 0:W.scheduledDate)&&((D=s==null?void 0:s.applicationDetails)==null?void 0:D.scheduledTime)&&e.jsxs("p",{className:"text-center",children:[" ",t("tranWaterDashboardIndex.scheduledInspectionDateLabel.label"),e.jsxs("span",{className:"font-semibold",children:["  ",ce((_=s==null?void 0:s.applicationDetails)==null?void 0:_.scheduledDate,"YYYY-MM-DD").format("DD-MMM-yy")]}),"  ",t("tranWaterDashboardIndex.timeLabel.label"),": ",e.jsx("span",{className:"font-semibold",children:ce((u=s==null?void 0:s.applicationDetails)==null?void 0:u.scheduledTime,"h:mm:ss A").format("hh:mm A")})]}),e.jsxs("div",{className:"overflow-y-auto",children:[e.jsx("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs  text-[#37517e] ",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/6592/6592963.png",alt:"pin",className:"w-5 inline"})," ",t("tranWaterDashboardIndex.basicDetailsLabel.label")]}),l?e.jsx(i,{}):e.jsxs("div",{className:"mt-2 bg-white",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.ulbNameLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(A=s==null?void 0:s.applicationDetails)!=null&&A.ulb_name?(M=s==null?void 0:s.applicationDetails)==null?void 0:M.ulb_name:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.wardNoLabel.label")}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(k=s==null?void 0:s.applicationDetails)!=null&&k.ward_no?(P=s==null?void 0:s.applicationDetails)==null?void 0:P.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Faucet Size/Tap Size"}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(T=s==null?void 0:s.applicationDetails)!=null&&T.tab_size?(S=s==null?void 0:s.applicationDetails)==null?void 0:S.tab_size:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.connectionTypeLabel.label")}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:Ie===1?"Meter":"Fixed"})]})]}),e.jsxs("div",{className:"flex space-x-10  pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.propertyTypeLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(V=s==null?void 0:s.applicationDetails)!=null&&V.property_type?(C=s==null?void 0:s.applicationDetails)==null?void 0:C.property_type:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.categoryTypeLabel.label")}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(E=s==null?void 0:s.applicationDetails)!=null&&E.category?(O=s==null?void 0:s.applicationDetails)==null?void 0:O.category:"N/A"})]}),e.jsx("div",{className:"flex-1 text-xs"})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-3",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/609/609803.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.propertyAddressDetailsLabel.label")]}),l?e.jsx(i,{}):e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.wardNoLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(R=s==null?void 0:s.applicationDetails)!=null&&R.ward_no?(z=s==null?void 0:s.applicationDetails)==null?void 0:z.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.pincodeLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(U=s==null?void 0:s.applicationDetails)!=null&&U.pin?(Y=s==null?void 0:s.applicationDetails)==null?void 0:Y.pin:"N/A"})]}),(($=s==null?void 0:s.applicationDetails)==null?void 0:$.holding_no)&&e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.holdingNoLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(B=s==null?void 0:s.applicationDetails)!=null&&B.holding_no?(q=s==null?void 0:s.applicationDetails)==null?void 0:q.holding_no:"N/A"})]}),((G=s==null?void 0:s.applicationDetails)==null?void 0:G.saf_no)&&e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.safNoLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(H=s==null?void 0:s.applicationDetails)!=null&&H.saf_no?(J=s==null?void 0:s.applicationDetails)==null?void 0:J.saf_no:"N/A"})]})]}),e.jsx("div",{}),e.jsxs("div",{className:"col-span-4 grid grid-cols-5 justify-center items-center",children:[e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-gray-400"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("small",{className:"block mt-1 text-xs text-gray-400 inline md:px-4 font-mono text-center",children:t("tranWaterDashboardIndex.completeAddressLabel.label")})]})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-gray-400"})]}),e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"flex text-xs",children:e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.addressLabel.label")}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(K=s==null?void 0:s.applicationDetails)!=null&&K.address?(Q=s==null?void 0:s.applicationDetails)==null?void 0:Q.address:"N/A"})]})})})]})]}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8948/8948774.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.paymentDetailsLabel.label")]}),l?e.jsx(i,{}):((X=s==null?void 0:s.documentDetails)==null?void 0:X.doc_upload_status)==!1?e.jsx("div",{className:"text-center text-indigo-600",children:t("tranWaterDashboardIndex.paymentPendingLabel.label")}):(F=(Z=s==null?void 0:s.documentDetails)==null?void 0:Z.connectionCharges)!=null&&F.paid_status?e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsx("div",{className:"text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.slLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.transactionNoLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.amountLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.paymentModeLabel.label")})}),e.jsx("div",{className:" text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.statusLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.paymentDateTimeLabel.label")})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:t("tranWaterDashboardIndex.actionLabel.label")})})]}),((ee=s==null?void 0:s.waterTransDetail)==null?void 0:ee.length)>0&&((se=s==null?void 0:s.waterTransDetail)==null?void 0:se.map((a,d)=>e.jsxs("div",{className:"flex space-x-10 pl-4 my-2 border-b border-y-gray-200",children:[e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[d+1,"."]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(a==null?void 0:a.tran_no)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(a==null?void 0:a.amount)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(a==null?void 0:a.payment_mode)||"N/A"})}),e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[(a==null?void 0:a.verify_status)==1&&"Paid",(a==null?void 0:a.verify_status)==2&&"Processing"]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-xs text-[#37517e]",children:(a==null?void 0:a.created_at)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:e.jsx("button",{className:"hover:border-b-2 border-blue-500 hover:text-blue-500",onClick:()=>p(`/waterConnReceipt/${a==null?void 0:a.tran_no}`),children:t("tranWaterDashboardIndex.printReceiptLabel.label")})})})]},d)))]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{children:t("tranWaterDashboardIndex.makePaymentLabel.label")})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>ye(),className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:t("tranWaterDashboardIndex.payNowLabel.label")})})]})]}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.documentDetailsLabel.label")]}),l?e.jsx(i,{}):(ae=s==null?void 0:s.documentDetails)!=null&&ae.doc_upload_status?e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.documentNameLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.statusLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.previewLabel.label")}),e.jsxs("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:[" ",t("tranWaterDashboardIndex.viewLabel.label")]})]})}),e.jsxs("tbody",{className:"text-sm",children:[e.jsx(e.Fragment,{children:(de=(te=s==null?void 0:s.documentDetails)==null?void 0:te.documentsList)==null?void 0:de.map((a,d)=>{var x,n,c,o,h;return e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.docName?a==null?void 0:a.docName:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(a==null?void 0:a.uploadDoc)==""?e.jsx("p",{className:"text-red-400 font-semibold",children:t("tranWaterDashboardIndex.notUploadLabel.label")}):e.jsx("p",{className:"text-green-400 font-semibold",children:t("tranWaterDashboardIndex.uploadedLabel.label")})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:((n=(x=a==null?void 0:a.uploadDoc)==null?void 0:x.doc_path)==null?void 0:n.split(".").pop())=="pdf"?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:oe}):(c=a==null?void 0:a.uploadDoc)!=null&&c.doc_path?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:(o=a==null?void 0:a.uploadDoc)==null?void 0:o.doc_path}):"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(h=a==null?void 0:a.uploadDoc)!=null&&h.doc_path?e.jsx("button",{onClick:()=>{var b,ne;return v((b=a==null?void 0:a.uploadDoc)==null?void 0:b.doc_path,(ne=a==null?void 0:a.uploadDoc)==null?void 0:ne.docName)},className:"bg-indigo-600 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")}):e.jsx("button",{disabled:!0,className:"bg-indigo-200 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")})})]})})}),e.jsx(e.Fragment,{children:(le=(re=s==null?void 0:s.documentDetails)==null?void 0:re.ownersDocList)==null?void 0:le.map((a,d)=>{var x,n,c,o,h;return e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.docName?(a==null?void 0:a.ownerName)+" ( "+(a==null?void 0:a.docName)+")":"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(a==null?void 0:a.uploadDoc)==""?e.jsx("p",{className:"text-red-400 font-semibold",children:t("tranWaterDashboardIndex.notUploadLabel.label")}):e.jsx("p",{className:"text-green-400 font-semibold",children:t("tranWaterDashboardIndex.uploadedLabel.label")})}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:((n=(x=a==null?void 0:a.uploadDoc)==null?void 0:x.doc_path)==null?void 0:n.split(".").pop())=="pdf"?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:oe}):(c=a==null?void 0:a.uploadDoc)!=null&&c.doc_path?e.jsx("img",{className:"h-10 w-10 border rounded shadow-md",src:(o=a==null?void 0:a.uploadDoc)==null?void 0:o.doc_path}):"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(h=a==null?void 0:a.uploadDoc)!=null&&h.doc_path?e.jsx("button",{onClick:()=>{var b;return v((b=a==null?void 0:a.uploadDoc)==null?void 0:b.doc_path)},className:"bg-indigo-600 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")}):e.jsx("button",{disabled:!0,className:"bg-indigo-200 text-white px-2 py-1 rounded",children:t("tranWaterDashboardIndex.viewLabel.label")})})]})})})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{children:t("tranWaterDashboardIndex.uploadDocumentLabel.label")})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>p(`/water-doc-upload/${f}`),className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:t("tranWaterDashboardIndex.uploadDocumentLabel.label")})})]})]}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," ",t("tranWaterDashboardIndex.ownerDetailsLabel.label")]}),l?e.jsx(i,{}):e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.ownerNameLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.fatherNameLabel.label")}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:t("tranWaterDashboardIndex.mobileNoLabel.label")}),e.jsxs("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:[t("tranWaterDashboardIndex.emailLabel.label")," "]})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(xe=s==null?void 0:s.ownerDetails)==null?void 0:xe.map((a,d)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:d+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.applicant_name?a==null?void 0:a.applicant_name:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.guardian_name?a==null?void 0:a.guardian_name:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.mobile_no?a==null?void 0:a.mobile_no:"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a!=null&&a.email?a==null?void 0:a.email:"N/A"})]}))})})]})]})]})]})})]})};export{Ce as default};
