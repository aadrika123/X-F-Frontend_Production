import{x as E,l as c,v as C,m as T,z as H,W as S,j as e,o as y,k as l,G as k,q as N}from"./index-25d015de.js";const $=()=>{var x,h,b,m,g;const{t:a}=E(),[r,w]=c.useState(),[s,f]=c.useState(""),[u,n]=c.useState(!1);c.useState();const[i,v]=c.useState(),{id:o}=C(),d=T();H(`${a("tranWaterViewApplicationPage.waterApplicationPaymentHistoryLabel.label")}`);const{api_waterApplicationPaymentHistory:A,api_WaterGetDetailsById:P,header:p}=S(),W=()=>{n(!0),N.post(P,{applicationId:o},p).then(function(t){console.log("water application Details",t.data.data),w(t.data.data.applicationDetails),v(t.data.data.calculation),n(!1)}).catch(function(t){console.log("Error : water Approved Application Details",t),n(!1)})},V=()=>{n(!0),N.post(A,{applicationId:o},p).then(function(t){console.log("water payment history",t.data.data),f(t.data.data),n(!1)}).catch(function(t){console.log("Error : water payment history",t),n(!1)})};c.useEffect(()=>{W(),V()},[o]);const _=(x=r==null?void 0:r.applicationDetails)==null?void 0:x.connection_type;return e(y,{children:e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:l("div",{className:"col-span-12 rounded-lg p-4",children:[l("div",{className:"flex py-2 justify-center items-center",children:[l("div",{className:"flex-1 flex pl-2 font-bold text-2xl text-gray-700",children:[" ",a("tranWaterViewApplicationPage.applicationNoLabel.label")," - ",r==null?void 0:r.application_no]}),l("div",{className:"flex justify-right items-center",children:[e("button",{onClick:()=>d(`/waterViewApplication/${o}`),className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:a("tranWaterViewApplicationPage.applicationDetailsLabel.label")}),e("button",{className:"mr-4 bg-indigo-500  text-white px-4 py-1 shadow-lg hover:scale-105 rounded-sm",children:a("tranWaterViewApplicationPage.paymentHistoryLabel.label")})]})]}),e("div",{className:"",children:l("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[l("div",{className:"flex space-x-5 pl-4 ",children:[l("div",{className:"flex-1",children:[l("div",{className:"font-semibold text-md",children:[_===1?"Meter":"Fixed"," "]}),e("div",{className:"text-gray-500 text-xs",children:a("tranWaterViewApplicationPage.connectionTypeLabel.label")})]}),l("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:r!=null&&r.zone_name?r==null?void 0:r.zone_name:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Zone"})]}),l("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:r!=null&&r.ward_name?r==null?void 0:r.ward_name:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:a("tranWaterViewApplicationPage.wardNoLabel.label")})]}),l("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:r!=null&&r.property_type?r==null?void 0:r.property_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:a("tranWaterViewApplicationPage.propertyTypeLabel.label")})]})]}),l("div",{className:"flex space-x-10  pl-4 mt-4",children:[l("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:r!=null&&r.holding_no?r==null?void 0:r.holding_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:a("tranWaterViewApplicationPage.holdingNoLabel.label")})]}),l("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:r!=null&&r.category?r==null?void 0:r.category:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:a("tranWaterViewApplicationPage.categoryLabel.label")})]})]})]})}),u&&e(k,{}),s&&(s==null?void 0:s.length)==0&&e("div",{className:"text-center mt-10",children:l("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl ",children:[" ",a("tranWaterViewApplicationPage.noPaymentsFoundLabel.label")]})}),s!=null&&s.transactionHistory?e("div",{className:"mt-10 bg-white shadow-xl  rounded-lg",children:l("table",{className:"min-w-full leading-normal mt-2",children:[e("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:l("tr",{children:[e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.transactionNoLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.paymentModeLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.dateLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.typeLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.amountLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.actionLabel.label")})]})}),e("tbody",{className:"text-sm",children:(h=s==null?void 0:s.transactionHistory)==null?void 0:h.map((t,L)=>l("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e("td",{className:"px-2 py-2 text-sm text-left",children:L+1}),e("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_no}),e("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.payment_mode}),e("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_date}),e("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_type}),e("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.amount}),l("td",{className:"px-2 py-2 text-sm text-left",children:[(t==null?void 0:t.tran_type)==="NEW_CONNECTION"&&e("button",{onClick:()=>d(`/water-payment-receipt/${t==null?void 0:t.tran_no}/consumer`),type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:a("tranWaterViewApplicationPage.viewReceiptLabel.label")}),(t==null?void 0:t.tran_type)==="WATER RECONNENCTION"&&e("button",{onClick:()=>d(`/water-paymentreconnect-receipt/${t==null?void 0:t.tran_no}/consumer`),type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:a("tranWaterViewApplicationPage.viewReceiptLabel.label")})]})]}))})]})}):e("div",{className:"mt-10",children:l("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[e("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-white",children:l("tr",{children:[e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.chargeCategoryLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.connectionFeeLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.penaltyLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.totalAmountLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.actionLabel.label")})]})}),e("tbody",{className:"text-sm",children:e(y,{children:l("tr",{className:"bg-white shadow-xl border-b border-gray-200",children:[e("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:1}),e("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:i==null?void 0:i.chargeCatagory}),e("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:i==null?void 0:i.connectionFee}),e("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:i==null?void 0:i.penalty}),e("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:i==null?void 0:i.totalAmount}),e("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e("button",{onClick:()=>d(`/water-application-payment/${o}`),type:"button",className:" px-5 py-2.5 border border-indigo-500 hover:text-indigo-100 font-medium text-xs leading-tight uppercase rounded shadow-xl bg-indigo-700 hover:bg-indigo-800 text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:a("tranWaterViewApplicationPage.payNowLabel.label")})})]})})})]})}),((b=s==null?void 0:s.paymentList)==null?void 0:b.penaltyPaymentStatus)==!1&&e("div",{className:"mt-10 h-20 bg-white shadow-xl rounded-lg",children:l("div",{className:"mt-10 bg-white shadow-xl  rounded-lg",children:[e("p",{className:"text-red-600 font-semibold text-center border bg-blue-50",children:a("tranWaterViewApplicationPage.paymentDueAgainstWaterConnectionLabel.label")}),l("table",{className:"min-w-full leading-normal mt-2",children:[e("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:l("tr",{children:[e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.paymentForLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.amountDueLabel.label")}),e("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:a("tranWaterViewApplicationPage.actionLabel.label")})]})}),e("tbody",{className:"text-sm",children:l("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e("td",{className:"px-2 py-2 text-sm text-left",children:1}),e("td",{className:"px-2 py-2 text-sm text-left",children:(m=s==null?void 0:s.paymentList)==null?void 0:m.chargeCatagory}),l("td",{className:"px-2 py-2 text-sm text-left font-semibold",children:["â‚¹",(g=s==null?void 0:s.paymentList)==null?void 0:g.penaltyAmount]}),e("td",{className:"px-2 py-2 text-sm text-left",children:e("button",{onClick:()=>d(`/water-application-payment/${o}`),type:"button",className:" px-5 py-2.5 border border-indigo-500 hover:text-indigo-100 font-medium text-xs leading-tight uppercase rounded shadow-xl bg-indigo-700 hover:bg-indigo-800 text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:a("tranWaterViewApplicationPage.payNowLabel.label")})})]})})]})]})}),e("div",{className:"w-full h-40"})]})})})};export{$ as default};
