var Ha=Object.defineProperty;var Ua=(A,$,V)=>$ in A?Ha(A,$,{enumerable:!0,configurable:!0,writable:!0,value:V}):A[$]=V;var Cn=(A,$,V)=>(Ua(A,typeof $!="symbol"?$+"":$,V),V),Vr=(A,$,V)=>{if(!$.has(A))throw TypeError("Cannot "+V)};var ve=(A,$,V)=>(Vr(A,$,"read from private field"),V?V.call(A):$.get(A)),st=(A,$,V)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,V)},At=(A,$,V,B)=>(Vr(A,$,"write to private field"),B?B.call(A,V):$.set(A,V),V);var Hr=(A,$,V,B)=>({set _(O){At(A,$,O,V)},get _(){return ve(A,$,B)}}),ht=(A,$,V)=>(Vr(A,$,"access private method"),V);import{j as jsxRuntimeExports,b as usePostMutation,a as useApiPost,p as propertyApi,g as workFlow,S as Swal,Q,f as InitialLoader}from"./index-lMcsV8Au.js";import{m as getAugmentedNamespace,r as reactExports,a as reactDomExports,u as useNavigate,R as React,h as useParams,e as react}from"./react-HXRlOr-l.js";import{u as useFormik}from"./formik.esm-BYe_KACy.js";import{c as create$3,f as create$8,a as create$6}from"./index.esm-yBrOrWJe.js";import{F as FormProvider}from"./FormProvider-PhcMxUfb.js";import{T as TextAreaField}from"./TextAreaField-u4MNlDkN.js";import"./index-mWJwE1Yp.js";import{P as Page}from"./index-6eOMPSAj.js";import{r as resizeFile}from"./resizeImage-k5m5hnnZ.js";import{O as OverLayLoader}from"./OverLayLoader-edqopWjZ.js";import"./module-R57d9XXC.js";var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,V){module.exports=V()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Ae,$.bytesToString=Xe,$.createPromiseCapability=jt,$.createValidAbsoluteUrl=ie,$.getModificationDate=Vt,$.getVerbosityLevel=Oe,$.info=De,$.isArrayBuffer=St,$.isArrayEqual=It,$.objectFromMap=ke,$.objectSize=ye,$.setVerbosityLevel=Be,$.shadow=me,$.string32=he,$.stringToBytes=se,$.stringToPDFString=ft,$.stringToUTF8String=dt,$.unreachable=tt,$.utf8StringToString=_t,$.warn=et;const V=[1,0,0,1,0,0];$.IDENTITY_MATRIX=V;const B=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=B;const O=1.35;$.LINE_FACTOR=O;const R=.35;$.LINE_DESCENT_FACTOR=R;const re=R/O;$.BASELINE_FACTOR=re;const le={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=le;const pe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=pe;const ae="pdfjs_internal_editor_";$.AnnotationEditorPrefix=ae;const ne={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=ne;const be={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=be;const oe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=oe;const ee={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=ee;const te={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=te;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=G;const U={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=U;const J={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=J;const K={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=K;const W={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=W;const q={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=q;const H={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=H;const X={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=X;const ue={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ue;const ge={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=ge;const Ee={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Ee;const we={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=we;const de={NONE:0,BINARY:1};$.CMapCompressionType=de;const Te={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Te;const it={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=it;const Ve={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Ve;let qe=we.WARNINGS;function Be(Me){Number.isInteger(Me)&&(qe=Me)}function Oe(){return qe}function De(Me){qe>=we.INFOS&&console.log("Info: ".concat(Me))}function et(Me){qe>=we.WARNINGS&&console.log("Warning: ".concat(Me))}function tt(Me){throw new Error(Me)}function Ae(Me,Ie){Me||tt(Ie)}function ce(Me){if(!Me)return!1;switch(Me.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ie(Me,Ie=null,je=null){if(!Me)return null;try{if(je&&typeof Me=="string"){if(je.addDefaultProtocol&&Me.startsWith("www.")){const Dt=Me.match(/\./g);Dt&&Dt.length>=2&&(Me="http://".concat(Me))}if(je.tryConvertEncoding)try{Me=dt(Me)}catch(Dt){}}const pt=Ie?new URL(Me,Ie):new URL(Me);if(ce(pt))return pt}catch(pt){}return null}function me(Me,Ie,je,pt=!1){return Object.defineProperty(Me,Ie,{value:je,enumerable:!pt,configurable:!0,writable:!1}),je}const Se=function(){function Ie(je,pt){this.constructor===Ie&&tt("Cannot initialize BaseException."),this.message=je,this.name=pt}return Ie.prototype=new Error,Ie.constructor=Ie,Ie}();$.BaseException=Se;class Ce extends Se{constructor(Ie,je){super(Ie,"PasswordException"),this.code=je}}$.PasswordException=Ce;class xe extends Se{constructor(Ie,je){super(Ie,"UnknownErrorException"),this.details=je}}$.UnknownErrorException=xe;class Re extends Se{constructor(Ie){super(Ie,"InvalidPDFException")}}$.InvalidPDFException=Re;class Ue extends Se{constructor(Ie){super(Ie,"MissingPDFException")}}$.MissingPDFException=Ue;class nt extends Se{constructor(Ie,je){super(Ie,"UnexpectedResponseException"),this.status=je}}$.UnexpectedResponseException=nt;class We extends Se{constructor(Ie){super(Ie,"FormatError")}}$.FormatError=We;class Qe extends Se{constructor(Ie){super(Ie,"AbortException")}}$.AbortException=Qe;function Xe(Me){(typeof Me!="object"||Me===null||Me.length===void 0)&&tt("Invalid argument for bytesToString");const Ie=Me.length,je=8192;if(Ie<je)return String.fromCharCode.apply(null,Me);const pt=[];for(let Dt=0;Dt<Ie;Dt+=je){const Zt=Math.min(Dt+je,Ie),Ze=Me.subarray(Dt,Zt);pt.push(String.fromCharCode.apply(null,Ze))}return pt.join("")}function se(Me){typeof Me!="string"&&tt("Invalid argument for stringToBytes");const Ie=Me.length,je=new Uint8Array(Ie);for(let pt=0;pt<Ie;++pt)je[pt]=Me.charCodeAt(pt)&255;return je}function he(Me){return String.fromCharCode(Me>>24&255,Me>>16&255,Me>>8&255,Me&255)}function ye(Me){return Object.keys(Me).length}function ke(Me){const Ie=Object.create(null);for(const[je,pt]of Me)Ie[je]=pt;return Ie}function _e(){const Me=new Uint8Array(4);return Me[0]=1,new Uint32Array(Me.buffer,0,1)[0]===1}function $e(){try{return new Function(""),!0}catch(Me){return!1}}class rt{static get isLittleEndian(){return me(this,"isLittleEndian",_e())}static get isEvalSupported(){return me(this,"isEvalSupported",$e())}static get isOffscreenCanvasSupported(){return me(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?me(this,"platform",{isWin:!1,isMac:!1}):me(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}$.FeatureTest=rt;const ot=[...Array(256).keys()].map(Me=>Me.toString(16).padStart(2,"0"));class at{static makeHexColor(Ie,je,pt){return"#".concat(ot[Ie]).concat(ot[je]).concat(ot[pt])}static scaleMinMax(Ie,je){let pt;Ie[0]?(Ie[0]<0&&(pt=je[0],je[0]=je[1],je[1]=pt),je[0]*=Ie[0],je[1]*=Ie[0],Ie[3]<0&&(pt=je[2],je[2]=je[3],je[3]=pt),je[2]*=Ie[3],je[3]*=Ie[3]):(pt=je[0],je[0]=je[2],je[2]=pt,pt=je[1],je[1]=je[3],je[3]=pt,Ie[1]<0&&(pt=je[2],je[2]=je[3],je[3]=pt),je[2]*=Ie[1],je[3]*=Ie[1],Ie[2]<0&&(pt=je[0],je[0]=je[1],je[1]=pt),je[0]*=Ie[2],je[1]*=Ie[2]),je[0]+=Ie[4],je[1]+=Ie[4],je[2]+=Ie[5],je[3]+=Ie[5]}static transform(Ie,je){return[Ie[0]*je[0]+Ie[2]*je[1],Ie[1]*je[0]+Ie[3]*je[1],Ie[0]*je[2]+Ie[2]*je[3],Ie[1]*je[2]+Ie[3]*je[3],Ie[0]*je[4]+Ie[2]*je[5]+Ie[4],Ie[1]*je[4]+Ie[3]*je[5]+Ie[5]]}static applyTransform(Ie,je){const pt=Ie[0]*je[0]+Ie[1]*je[2]+je[4],Dt=Ie[0]*je[1]+Ie[1]*je[3]+je[5];return[pt,Dt]}static applyInverseTransform(Ie,je){const pt=je[0]*je[3]-je[1]*je[2],Dt=(Ie[0]*je[3]-Ie[1]*je[2]+je[2]*je[5]-je[4]*je[3])/pt,Zt=(-Ie[0]*je[1]+Ie[1]*je[0]+je[4]*je[1]-je[5]*je[0])/pt;return[Dt,Zt]}static getAxialAlignedBoundingBox(Ie,je){const pt=at.applyTransform(Ie,je),Dt=at.applyTransform(Ie.slice(2,4),je),Zt=at.applyTransform([Ie[0],Ie[3]],je),Ze=at.applyTransform([Ie[2],Ie[1]],je);return[Math.min(pt[0],Dt[0],Zt[0],Ze[0]),Math.min(pt[1],Dt[1],Zt[1],Ze[1]),Math.max(pt[0],Dt[0],Zt[0],Ze[0]),Math.max(pt[1],Dt[1],Zt[1],Ze[1])]}static inverseTransform(Ie){const je=Ie[0]*Ie[3]-Ie[1]*Ie[2];return[Ie[3]/je,-Ie[1]/je,-Ie[2]/je,Ie[0]/je,(Ie[2]*Ie[5]-Ie[4]*Ie[3])/je,(Ie[4]*Ie[1]-Ie[5]*Ie[0])/je]}static singularValueDecompose2dScale(Ie){const je=[Ie[0],Ie[2],Ie[1],Ie[3]],pt=Ie[0]*je[0]+Ie[1]*je[2],Dt=Ie[0]*je[1]+Ie[1]*je[3],Zt=Ie[2]*je[0]+Ie[3]*je[2],Ze=Ie[2]*je[1]+Ie[3]*je[3],mt=(pt+Ze)/2,Et=Math.sqrt((pt+Ze)**2-4*(pt*Ze-Zt*Dt))/2,Ct=mt+Et||1,Gt=mt-Et||1;return[Math.sqrt(Ct),Math.sqrt(Gt)]}static normalizeRect(Ie){const je=Ie.slice(0);return Ie[0]>Ie[2]&&(je[0]=Ie[2],je[2]=Ie[0]),Ie[1]>Ie[3]&&(je[1]=Ie[3],je[3]=Ie[1]),je}static intersect(Ie,je){const pt=Math.max(Math.min(Ie[0],Ie[2]),Math.min(je[0],je[2])),Dt=Math.min(Math.max(Ie[0],Ie[2]),Math.max(je[0],je[2]));if(pt>Dt)return null;const Zt=Math.max(Math.min(Ie[1],Ie[3]),Math.min(je[1],je[3])),Ze=Math.min(Math.max(Ie[1],Ie[3]),Math.max(je[1],je[3]));return Zt>Ze?null:[pt,Zt,Dt,Ze]}static bezierBoundingBox(Ie,je,pt,Dt,Zt,Ze,mt,Et){const Ct=[],Gt=[[],[]];let sn,Yt,Jt,Xt,nn,xn,En,yn;for(let Dn=0;Dn<2;++Dn){if(Dn===0?(Yt=6*Ie-12*pt+6*Zt,sn=-3*Ie+9*pt-9*Zt+3*mt,Jt=3*pt-3*Ie):(Yt=6*je-12*Dt+6*Ze,sn=-3*je+9*Dt-9*Ze+3*Et,Jt=3*Dt-3*je),Math.abs(sn)<1e-12){if(Math.abs(Yt)<1e-12)continue;Xt=-Jt/Yt,0<Xt&&Xt<1&&Ct.push(Xt);continue}En=Yt*Yt-4*Jt*sn,yn=Math.sqrt(En),!(En<0)&&(nn=(-Yt+yn)/(2*sn),0<nn&&nn<1&&Ct.push(nn),xn=(-Yt-yn)/(2*sn),0<xn&&xn<1&&Ct.push(xn))}let Sn=Ct.length,mn;const In=Sn;for(;Sn--;)Xt=Ct[Sn],mn=1-Xt,Gt[0][Sn]=mn*mn*mn*Ie+3*mn*mn*Xt*pt+3*mn*Xt*Xt*Zt+Xt*Xt*Xt*mt,Gt[1][Sn]=mn*mn*mn*je+3*mn*mn*Xt*Dt+3*mn*Xt*Xt*Ze+Xt*Xt*Xt*Et;return Gt[0][In]=Ie,Gt[1][In]=je,Gt[0][In+1]=mt,Gt[1][In+1]=Et,Gt[0].length=Gt[1].length=In+2,[Math.min(...Gt[0]),Math.min(...Gt[1]),Math.max(...Gt[0]),Math.max(...Gt[1])]}}$.Util=at;const Je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ft(Me){if(Me[0]>="ï"){let je;if(Me[0]==="þ"&&Me[1]==="ÿ"?je="utf-16be":Me[0]==="ÿ"&&Me[1]==="þ"?je="utf-16le":Me[0]==="ï"&&Me[1]==="»"&&Me[2]==="¿"&&(je="utf-8"),je)try{const pt=new TextDecoder(je,{fatal:!0}),Dt=se(Me);return pt.decode(Dt)}catch(pt){et('stringToPDFString: "'.concat(pt,'".'))}}const Ie=[];for(let je=0,pt=Me.length;je<pt;je++){const Dt=Je[Me.charCodeAt(je)];Ie.push(Dt?String.fromCharCode(Dt):Me.charAt(je))}return Ie.join("")}function dt(Me){return decodeURIComponent(escape(Me))}function _t(Me){return unescape(encodeURIComponent(Me))}function St(Me){return typeof Me=="object"&&Me!==null&&Me.byteLength!==void 0}function It(Me,Ie){if(Me.length!==Ie.length)return!1;for(let je=0,pt=Me.length;je<pt;je++)if(Me[je]!==Ie[je])return!1;return!0}function Vt(Me=new Date){return[Me.getUTCFullYear().toString(),(Me.getUTCMonth()+1).toString().padStart(2,"0"),Me.getUTCDate().toString().padStart(2,"0"),Me.getUTCHours().toString().padStart(2,"0"),Me.getUTCMinutes().toString().padStart(2,"0"),Me.getUTCSeconds().toString().padStart(2,"0")].join("")}function jt(){const Me=Object.create(null);let Ie=!1;return Object.defineProperty(Me,"settled",{get(){return Ie}}),Me.promise=new Promise(function(je,pt){Me.resolve=function(Dt){Ie=!0,je(Dt)},Me.reject=function(Dt){Ie=!0,pt(Dt)}}),Me}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,$,B,O,R,re,le,pe,ae,ne,Ur,oe,ee,Wr,G,U;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:K,NodeCMapReaderFactory:W,NodeStandardFontDataFactory:q}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=K,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=W,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=q}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:K}=__w_pdfjs_require__(21);createPDFNetworkStream=W=>new K(W)}else{const{PDFNetworkStream:K}=__w_pdfjs_require__(24),{PDFFetchStream:W}=__w_pdfjs_require__(25);createPDFNetworkStream=q=>(0,_display_utils.isValidFetchUrl)(q.url)?new W(q):new K(q)}function getDocument(K){var $e,rt;if(typeof K=="string"||K instanceof URL)K={url:K};else if((0,_util.isArrayBuffer)(K))K={data:K};else if(K instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),K={range:K};else if(typeof K!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!K.url&&!K.data&&!K.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const W=new PDFDocumentLoadingTask,q=K.url?getUrlProp(K.url):null,H=K.data?getDataProp(K.data):null,X=K.httpHeaders||null,ue=K.withCredentials===!0,ge=($e=K.password)!=null?$e:null,Ee=K.range instanceof PDFDataRangeTransport?K.range:null,we=Number.isInteger(K.rangeChunkSize)&&K.rangeChunkSize>0?K.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let de=K.worker instanceof PDFWorker?K.worker:null;const Te=K.verbosity,it=typeof K.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(K.docBaseUrl)?K.docBaseUrl:null,Ve=typeof K.cMapUrl=="string"?K.cMapUrl:null,qe=K.cMapPacked!==!1,Be=K.CMapReaderFactory||DefaultCMapReaderFactory,Oe=typeof K.standardFontDataUrl=="string"?K.standardFontDataUrl:null,De=K.StandardFontDataFactory||DefaultStandardFontDataFactory,et=K.stopAtErrors!==!0,tt=Number.isInteger(K.maxImageSize)&&K.maxImageSize>-1?K.maxImageSize:-1,Ae=K.isEvalSupported!==!1,ce=typeof K.isOffscreenCanvasSupported=="boolean"?K.isOffscreenCanvasSupported:!_is_node.isNodeJS,ie=typeof K.disableFontFace=="boolean"?K.disableFontFace:_is_node.isNodeJS,me=K.fontExtraProperties===!0,Se=K.enableXfa===!0,Ce=K.ownerDocument||globalThis.document,xe=K.disableRange===!0,Re=K.disableStream===!0,Ue=K.disableAutoFetch===!0,nt=K.pdfBug===!0,We=Ee?Ee.length:(rt=K.length)!=null?rt:NaN,Qe=typeof K.useSystemFonts=="boolean"?K.useSystemFonts:!_is_node.isNodeJS&&!ie,Xe=typeof K.useWorkerFetch=="boolean"?K.useWorkerFetch:Be===_display_utils.DOMCMapReaderFactory&&De===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(Ve,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Oe,document.baseURI),se=null;(0,_util.setVerbosityLevel)(Te);const he=Xe?null:{cMapReaderFactory:new Be({baseUrl:Ve,isCompressed:qe}),standardFontDataFactory:new De({baseUrl:Oe})};if(!de){const ot={verbosity:Te,port:_worker_options.GlobalWorkerOptions.workerPort};de=ot.port?PDFWorker.fromPort(ot):new PDFWorker(ot),W._worker=de}const ye=W.docId,ke={docId:ye,apiVersion:"3.4.120",data:H,password:ge,disableAutoFetch:Ue,rangeChunkSize:we,length:We,docBaseUrl:it,enableXfa:Se,evaluatorOptions:{maxImageSize:tt,disableFontFace:ie,ignoreErrors:et,isEvalSupported:Ae,isOffscreenCanvasSupported:ce,fontExtraProperties:me,useSystemFonts:Qe,cMapUrl:Xe?Ve:null,standardFontDataUrl:Xe?Oe:null}},_e={ignoreErrors:et,isEvalSupported:Ae,disableFontFace:ie,fontExtraProperties:me,enableXfa:Se,ownerDocument:Ce,disableAutoFetch:Ue,pdfBug:nt,styleElement:se};return de.promise.then(function(){if(W.destroyed)throw new Error("Loading aborted");const ot=_fetchDocument(de,ke),at=new Promise(function(Je){let ft;Ee?ft=new _transport_stream.PDFDataTransportStream({length:We,initialData:Ee.initialData,progressiveDone:Ee.progressiveDone,contentDispositionFilename:Ee.contentDispositionFilename,disableRange:xe,disableStream:Re},Ee):H||(ft=createPDFNetworkStream({url:q,length:We,httpHeaders:X,withCredentials:ue,rangeChunkSize:we,disableRange:xe,disableStream:Re})),Je(ft)});return Promise.all([ot,at]).then(function([Je,ft]){if(W.destroyed)throw new Error("Loading aborted");const dt=new _message_handler.MessageHandler(ye,Je,de.port),_t=new WorkerTransport(dt,W,ft,_e,he);W._transport=_t,dt.send("Ready",null)})}).catch(W._capability.reject),W}async function _fetchDocument(K,W){if(K.destroyed)throw new Error("Worker was destroyed");const q=await K.messageHandler.sendWithPromise("GetDocRequest",W,W.data?[W.data.buffer]:null);if(K.destroyed)throw new Error("Worker was destroyed");return q}function getUrlProp(K){if(K instanceof URL)return K.href;try{return new URL(K,window.location).href}catch(W){if(_is_node.isNodeJS&&typeof K=="string")return K}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(K){if(_is_node.isNodeJS&&typeof Buffer<"u"&&K instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(K);if(K instanceof Uint8Array&&K.byteLength===K.buffer.byteLength)return K;if(typeof K=="string")return(0,_util.stringToBytes)(K);if(typeof K=="object"&&!isNaN(K==null?void 0:K.length)||(0,_util.isArrayBuffer)(K))return new Uint8Array(K);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const V=class V{constructor(){st(this,$,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(Hr(V,A)._++),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return ve(this,$)}set onUnsupportedFeature(W){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),At(this,$,W)}get promise(){return this._capability.promise}async destroy(){var W;this.destroyed=!0,await((W=this._transport)==null?void 0:W.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,$=new WeakMap,st(V,A,0);let PDFDocumentLoadingTask=V;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(W,q,H=!1,X=null){this.length=W,this.initialData=q,this.progressiveDone=H,this.contentDispositionFilename=X,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(W){this._rangeListeners.push(W)}addProgressListener(W){this._progressListeners.push(W)}addProgressiveReadListener(W){this._progressiveReadListeners.push(W)}addProgressiveDoneListener(W){this._progressiveDoneListeners.push(W)}onDataRange(W,q){for(const H of this._rangeListeners)H(W,q)}onDataProgress(W,q){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(W,q)})}onDataProgressiveRead(W){this._readyCapability.promise.then(()=>{for(const q of this._progressiveReadListeners)q(W)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const W of this._progressiveDoneListeners)W()})}transportReady(){this._readyCapability.resolve()}requestDataRange(W,q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(W,q){this._pdfInfo=W,this._transport=q}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(W){return this._transport.getPage(W)}getPageIndex(W){return this._transport.getPageIndex(W)}getDestinations(){return this._transport.getDestinations()}getDestination(W){return this._transport.getDestination(W)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(W=!1){return this._transport.startCleanup(W||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(W,q,H,X,ue=!1){this._pageIndex=W,this._pageInfo=q,this._ownerDocument=X,this._transport=H,this._stats=ue?new _display_utils.StatTimer:null,this._pdfBug=ue,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:W,rotation:q=this.rotate,offsetX:H=0,offsetY:X=0,dontFlip:ue=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:W,rotation:q,offsetX:H,offsetY:X,dontFlip:ue})}getAnnotations({intent:W="display"}={}){const q=this._transport.getRenderingIntent(W);return this._transport.getAnnotations(this._pageIndex,q.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var W;return((W=this._transport._htmlForXfa)==null?void 0:W.children[this._pageIndex])||null}render({canvasContext:W,viewport:q,intent:H="display",annotationMode:X=_util.AnnotationMode.ENABLE,transform:ue=null,canvasFactory:ge=null,background:Ee=null,optionalContentConfigPromise:we=null,annotationCanvasMap:de=null,pageColors:Te=null,printAnnotationStorage:it=null}){var Ae,ce;(Ae=this._stats)==null||Ae.time("Overall");const Ve=this._transport.getRenderingIntent(H,X,it);this.pendingCleanup=!1,we||(we=this._transport.getOptionalContentConfig());let qe=this._intentStates.get(Ve.cacheKey);qe||(qe=Object.create(null),this._intentStates.set(Ve.cacheKey,qe)),qe.streamReaderCancelTimeout&&(clearTimeout(qe.streamReaderCancelTimeout),qe.streamReaderCancelTimeout=null);const Be=ge||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Oe=!!(Ve.renderingIntent&_util.RenderingIntentFlag.PRINT);qe.displayReadyCapability||(qe.displayReadyCapability=(0,_util.createPromiseCapability)(),qe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ce=this._stats)==null||ce.time("Page Request"),this._pumpOperatorList(Ve));const De=ie=>{var me,Se;qe.renderTasks.delete(et),(this.cleanupAfterRender||Oe)&&(this.pendingCleanup=!0),this._tryCleanup(),ie?(et.capability.reject(ie),this._abortOperatorList({intentState:qe,reason:ie instanceof Error?ie:new Error(ie)})):et.capability.resolve(),(me=this._stats)==null||me.timeEnd("Rendering"),(Se=this._stats)==null||Se.timeEnd("Overall")},et=new InternalRenderTask({callback:De,params:{canvasContext:W,viewport:q,transform:ue,background:Ee},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:de,operatorList:qe.operatorList,pageIndex:this._pageIndex,canvasFactory:Be,useRequestAnimationFrame:!Oe,pdfBug:this._pdfBug,pageColors:Te});(qe.renderTasks||(qe.renderTasks=new Set)).add(et);const tt=et.task;return Promise.all([qe.displayReadyCapability.promise,we]).then(([ie,me])=>{var Se;if(this.pendingCleanup){De();return}(Se=this._stats)==null||Se.time("Rendering"),et.initializeGraphics({transparency:ie,optionalContentConfig:me}),et.operatorListChanged()}).catch(De),tt}getOperatorList({intent:W="display",annotationMode:q=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var we;function X(){ge.operatorList.lastChunk&&(ge.opListReadCapability.resolve(ge.operatorList),ge.renderTasks.delete(Ee))}const ue=this._transport.getRenderingIntent(W,q,H,!0);let ge=this._intentStates.get(ue.cacheKey);ge||(ge=Object.create(null),this._intentStates.set(ue.cacheKey,ge));let Ee;return ge.opListReadCapability||(Ee=Object.create(null),Ee.operatorListChanged=X,ge.opListReadCapability=(0,_util.createPromiseCapability)(),(ge.renderTasks||(ge.renderTasks=new Set)).add(Ee),ge.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(we=this._stats)==null||we.time("Page Request"),this._pumpOperatorList(ue)),ge.opListReadCapability.promise}streamTextContent({disableCombineTextItems:W=!1,includeMarkedContent:q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:W!==!0,includeMarkedContent:q===!0},{highWaterMark:100,size(X){return X.items.length}})}getTextContent(W={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const q=this.streamTextContent(W);return new Promise(function(H,X){function ue(){ge.read().then(function({value:we,done:de}){if(de){H(Ee);return}Object.assign(Ee.styles,we.styles),Ee.items.push(...we.items),ue()},X)}const ge=q.getReader(),Ee={items:[],styles:Object.create(null)};ue()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const W=[];for(const q of this._intentStates.values())if(this._abortOperatorList({intentState:q,reason:new Error("Page was destroyed."),force:!0}),!q.opListReadCapability)for(const H of q.renderTasks)W.push(H.completed),H.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(W)}cleanup(W=!1){return this.pendingCleanup=!0,this._tryCleanup(W)}_tryCleanup(W=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:q,operatorList:H}of this._intentStates.values())if(q.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),W&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(W,q){var X,ue;const H=this._intentStates.get(q);H&&((X=this._stats)==null||X.timeEnd("Page Request"),(ue=H.displayReadyCapability)==null||ue.resolve(W))}_renderPageChunk(W,q){for(let H=0,X=W.length;H<X;H++)q.operatorList.fnArray.push(W.fnArray[H]),q.operatorList.argsArray.push(W.argsArray[H]);q.operatorList.lastChunk=W.lastChunk,q.operatorList.separateAnnots=W.separateAnnots;for(const H of q.renderTasks)H.operatorListChanged();W.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:W,cacheKey:q,annotationStorageMap:H}){const ue=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:W,cacheKey:q,annotationStorage:H}).getReader(),ge=this._intentStates.get(q);ge.streamReader=ue;const Ee=()=>{ue.read().then(({value:we,done:de})=>{if(de){ge.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(we,ge),Ee())},we=>{if(ge.streamReader=null,!this._transport.destroyed){if(ge.operatorList){ge.operatorList.lastChunk=!0;for(const de of ge.renderTasks)de.operatorListChanged();this._tryCleanup()}if(ge.displayReadyCapability)ge.displayReadyCapability.reject(we);else if(ge.opListReadCapability)ge.opListReadCapability.reject(we);else throw we}})};Ee()}_abortOperatorList({intentState:W,reason:q,force:H=!1}){if(W.streamReader){if(W.streamReaderCancelTimeout&&(clearTimeout(W.streamReaderCancelTimeout),W.streamReaderCancelTimeout=null),!H){if(W.renderTasks.size>0)return;if(q instanceof _display_utils.RenderingCancelledException){let X=RENDERING_CANCELLED_TIMEOUT;q.extraDelay>0&&q.extraDelay<1e3&&(X+=q.extraDelay),W.streamReaderCancelTimeout=setTimeout(()=>{W.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:W,reason:q,force:!0})},X);return}}if(W.streamReader.cancel(new _util.AbortException(q.message)).catch(()=>{}),W.streamReader=null,!this._transport.destroyed){for(const[X,ue]of this._intentStates)if(ue===W){this._intentStates.delete(X);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){st(this,B,new Set);st(this,O,Promise.resolve())}postMessage(W,q){const H={data:structuredClone(W,q)};ve(this,O).then(()=>{for(const X of ve(this,B))X.call(this,H)})}addEventListener(W,q){ve(this,B).add(q)}removeEventListener(W,q){ve(this,B).delete(q)}terminate(){ve(this,B).clear()}}B=new WeakMap,O=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const K=(R=document==null?void 0:document.currentScript)==null?void 0:R.src;K&&(PDFWorkerUtil.fallbackWorkerSrc=K.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(K,W){let q;try{if(q=new URL(K),!q.origin||q.origin==="null")return!1}catch(X){return!1}const H=new URL(W,q);return q.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(K){const W='importScripts("'.concat(K,'");');return URL.createObjectURL(new Blob([W]))}}const _PDFWorker=class _PDFWorker{constructor({name:K=null,port:W=null,verbosity:q=(0,_util.getVerbosityLevel)()}={}){if(W&&ve(_PDFWorker,re).has(W))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=K,this.destroyed=!1,this.verbosity=q,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,W){ve(_PDFWorker,re).set(W,this),this._initializeFromPort(W);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(K){this._port=K,this._messageHandler=new _message_handler.MessageHandler("main","worker",K),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:K}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,K)||(K=PDFWorkerUtil.createCDNWrapper(new URL(K,window.location).href));const W=new Worker(K),q=new _message_handler.MessageHandler("main","worker",W),H=()=>{W.removeEventListener("error",X),q.destroy(),W.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},X=()=>{this._webWorker||H()};W.addEventListener("error",X),q.on("test",ge=>{if(W.removeEventListener("error",X),this.destroyed){H();return}ge?(this._messageHandler=q,this._port=W,this._webWorker=W,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),q.destroy(),W.terminate())}),q.on("ready",ge=>{if(W.removeEventListener("error",X),this.destroyed){H();return}try{ue()}catch(Ee){this._setupFakeWorker()}});const ue=()=>{const ge=new Uint8Array;q.send("test",ge,[ge.buffer])};ue();return}catch(W){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(K=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const W=new LoopbackPort;this._port=W;const q="fake".concat(PDFWorkerUtil.fakeWorkerId++),H=new _message_handler.MessageHandler(q+"_worker",q,W);K.setup(H,W);const X=new _message_handler.MessageHandler(q,q+"_worker",W);this._messageHandler=X,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})}).catch(K=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(K.message,'".')))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ve(_PDFWorker,re).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(K){if(!(K!=null&&K.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ve(this,re).has(K.port)?ve(this,re).get(K.port):new _PDFWorker(K)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var K;try{return((K=globalThis.pdfjsWorker)==null?void 0:K.WorkerMessageHandler)||null}catch(W){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};re=new WeakMap,st(_PDFWorker,re,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(W,q,H,X,ue){st(this,ne);st(this,le,new Map);st(this,pe,new Map);st(this,ae,new Map);this.messageHandler=W,this.loadingTask=q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:X.ownerDocument,styleElement:X.styleElement}),this._params=X,this.cMapReaderFactory=ue==null?void 0:ue.cMapReaderFactory,this.standardFontDataFactory=ue==null?void 0:ue.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(W,q=_util.AnnotationMode.ENABLE,H=null,X=!1){let ue=_util.RenderingIntentFlag.DISPLAY,ge=null;switch(W){case"any":ue=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ue=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(W))}switch(q){case _util.AnnotationMode.DISABLE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ue+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ge=(ue&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(q))}return X&&(ue+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ue,cacheKey:"".concat(ue,"_").concat(_annotation_storage.AnnotationStorage.getHash(ge)),annotationStorageMap:ge}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const W=[];for(const H of ve(this,pe).values())W.push(H._destroy());ve(this,pe).clear(),ve(this,ae).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return W.push(q),Promise.all(W).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ve(this,le).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:W,loadingTask:q}=this;W.on("GetReader",(H,X)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ue=>{this._lastProgress={loaded:ue.loaded,total:ue.total}},X.onPull=()=>{this._fullReader.read().then(function({value:ue,done:ge}){if(ge){X.close();return}(0,_util.assert)(ue instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(ue),1,[ue])}).catch(ue=>{X.error(ue)})},X.onCancel=ue=>{this._fullReader.cancel(ue),X.ready.catch(ge=>{if(!this.destroyed)throw ge})}}),W.on("ReaderHeadersReady",H=>{const X=(0,_util.createPromiseCapability)(),ue=this._fullReader;return ue.headersReady.then(()=>{var ge;(!ue.isStreamingSupported||!ue.isRangeSupported)&&(this._lastProgress&&((ge=q.onProgress)==null||ge.call(q,this._lastProgress)),ue.onProgress=Ee=>{var we;(we=q.onProgress)==null||we.call(q,{loaded:Ee.loaded,total:Ee.total})}),X.resolve({isStreamingSupported:ue.isStreamingSupported,isRangeSupported:ue.isRangeSupported,contentLength:ue.contentLength})},X.reject),X.promise}),W.on("GetRangeReader",(H,X)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ue=this._networkStream.getRangeReader(H.begin,H.end);if(!ue){X.close();return}X.onPull=()=>{ue.read().then(function({value:ge,done:Ee}){if(Ee){X.close();return}(0,_util.assert)(ge instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(ge),1,[ge])}).catch(ge=>{X.error(ge)})},X.onCancel=ge=>{ue.cancel(ge),X.ready.catch(Ee=>{if(!this.destroyed)throw Ee})}}),W.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,q._capability.resolve(new PDFDocumentProxy(H,this))}),W.on("DocException",function(H){let X;switch(H.name){case"PasswordException":X=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":X=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":X=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":X=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":X=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}q._capability.reject(X)}),W.on("PasswordRequest",H=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),q.onPassword){const X=ue=>{ue instanceof Error?this._passwordCapability.reject(ue):this._passwordCapability.resolve({password:ue})};try{q.onPassword(X,H.code)}catch(ue){this._passwordCapability.reject(ue)}}else this._passwordCapability.reject(new _util.PasswordException(H.message,H.code));return this._passwordCapability.promise}),W.on("DataLoaded",H=>{var X;(X=q.onProgress)==null||X.call(q,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),W.on("StartRenderPage",H=>{if(this.destroyed)return;ve(this,pe).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),W.on("commonobj",([H,X,ue])=>{var ge;if(!this.destroyed&&!this.commonObjs.has(H))switch(X){case"Font":const Ee=this._params;if("error"in ue){const Te=ue.error;(0,_util.warn)("Error during font loading: ".concat(Te)),this.commonObjs.resolve(H,Te);break}let we=null;Ee.pdfBug&&((ge=globalThis.FontInspector)!=null&&ge.enabled)&&(we={registerFont(Te,it){globalThis.FontInspector.fontAdded(Te,it)}});const de=new _font_loader.FontFaceObject(ue,{isEvalSupported:Ee.isEvalSupported,disableFontFace:Ee.disableFontFace,ignoreErrors:Ee.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:we});this.fontLoader.bind(de).catch(Te=>W.sendWithPromise("FontFallback",{id:H})).finally(()=>{!Ee.fontExtraProperties&&de.data&&(de.data=null),this.commonObjs.resolve(H,de)});break;case"FontPath":case"Image":this.commonObjs.resolve(H,ue);break;default:throw new Error("Got unknown common object type ".concat(X))}}),W.on("obj",([H,X,ue,ge])=>{var we;if(this.destroyed)return;const Ee=ve(this,pe).get(X);if(!Ee.objs.has(H))switch(ue){case"Image":Ee.objs.resolve(H,ge);const de=8e6;if(ge){let Te;if(ge.bitmap){const{width:it,height:Ve}=ge;Te=it*Ve*4}else Te=((we=ge.data)==null?void 0:we.length)||0;Te>de&&(Ee.cleanupAfterRender=!0)}break;case"Pattern":Ee.objs.resolve(H,ge);break;default:throw new Error("Got unknown object type ".concat(ue))}}),W.on("DocProgress",H=>{var X;this.destroyed||(X=q.onProgress)==null||X.call(q,{loaded:H.loaded,total:H.total})}),W.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),W.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),W.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:W}){var q,H;this.destroyed||(H=(q=this.loadingTask).onUnsupportedFeature)==null||H.call(q,W)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var W,q;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(q=(W=this._fullReader)==null?void 0:W.filename)!=null?q:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(W){if(!Number.isInteger(W)||W<=0||W>this._numPages)return Promise.reject(new Error("Invalid page request."));const q=W-1,H=ve(this,ae).get(q);if(H)return H;const X=this.messageHandler.sendWithPromise("GetPage",{pageIndex:q}).then(ue=>{if(this.destroyed)throw new Error("Transport destroyed");const ge=new PDFPageProxy(q,ue,this,this._params.ownerDocument,this._params.pdfBug);return ve(this,pe).set(q,ge),ge});return ve(this,ae).set(q,X),X}getPageIndex(W){return typeof W!="object"||W===null||!Number.isInteger(W.num)||W.num<0||!Number.isInteger(W.gen)||W.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:W.num,gen:W.gen})}getAnnotations(W,q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:W,intent:q})}getFieldObjects(){return ht(this,ne,Ur).call(this,"GetFieldObjects")}hasJSActions(){return ht(this,ne,Ur).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(W){return typeof W!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:W})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(W){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:W})}getStructTree(W){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:W})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(W=>new _optional_content_config.OptionalContentConfig(W))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const W="GetMetadata",q=ve(this,le).get(W);if(q)return q;const H=this.messageHandler.sendWithPromise(W,null).then(X=>{var ue,ge,Ee,we;return{info:X[0],metadata:X[1]?new _metadata.Metadata(X[1]):null,contentDispositionFilename:(ge=(ue=this._fullReader)==null?void 0:ue.filename)!=null?ge:null,contentLength:(we=(Ee=this._fullReader)==null?void 0:Ee.contentLength)!=null?we:null}});return ve(this,le).set(W,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(W=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const q of ve(this,pe).values())if(!q.cleanup())throw new Error("startCleanup: Page ".concat(q.pageNumber," is currently rendering."));this.commonObjs.clear(),W||this.fontLoader.clear(),ve(this,le).clear()}}get loadingParams(){const{disableAutoFetch:W,enableXfa:q}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:W,enableXfa:q})}}le=new WeakMap,pe=new WeakMap,ae=new WeakMap,ne=new WeakSet,Ur=function(W,q=null){const H=ve(this,le).get(W);if(H)return H;const X=this.messageHandler.sendWithPromise(W,q);return ve(this,le).set(W,X),X};class PDFObjects{constructor(){st(this,ee);st(this,oe,Object.create(null))}get(W,q=null){if(q){const X=ht(this,ee,Wr).call(this,W);return X.capability.promise.then(()=>q(X.data)),null}const H=ve(this,oe)[W];if(!(H!=null&&H.capability.settled))throw new Error("Requesting object that isn't resolved yet ".concat(W,"."));return H.data}has(W){const q=ve(this,oe)[W];return(q==null?void 0:q.capability.settled)||!1}resolve(W,q=null){const H=ht(this,ee,Wr).call(this,W);H.data=q,H.capability.resolve()}clear(){var W;for(const q in ve(this,oe)){const{data:H}=ve(this,oe)[q];(W=H==null?void 0:H.bitmap)==null||W.close()}At(this,oe,Object.create(null))}}oe=new WeakMap,ee=new WeakSet,Wr=function(W){const q=ve(this,oe)[W];return q||(ve(this,oe)[W]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(W){st(this,G,null);At(this,G,W),this.onContinue=null}get promise(){return ve(this,G).capability.promise}cancel(W=0){ve(this,G).cancel(null,W)}get separateAnnots(){const{separateAnnots:W}=ve(this,G).operatorList;if(!W)return!1;const{annotationCanvasMap:q}=ve(this,G);return W.form||W.canvas&&(q==null?void 0:q.size)>0}}G=new WeakMap,exports.RenderTask=RenderTask;const J=class J{constructor({callback:W,params:q,objs:H,commonObjs:X,annotationCanvasMap:ue,operatorList:ge,pageIndex:Ee,canvasFactory:we,useRequestAnimationFrame:de=!1,pdfBug:Te=!1,pageColors:it=null}){this.callback=W,this.params=q,this.objs=H,this.commonObjs=X,this.annotationCanvasMap=ue,this.operatorListIdx=null,this.operatorList=ge,this._pageIndex=Ee,this.canvasFactory=we,this._pdfBug=Te,this.pageColors=it,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=de===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:W=!1,optionalContentConfig:q}){var Ee,we;if(this.cancelled)return;if(this._canvas){if(ve(J,U).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ve(J,U).add(this._canvas)}this._pdfBug&&((Ee=globalThis.StepperManager)!=null&&Ee.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:X,transform:ue,background:ge}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:q},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ue,viewport:X,transparency:W,background:ge}),this.operatorListIdx=0,this.graphicsReady=!0,(we=this.graphicsReadyCallback)==null||we.call(this)}cancel(W=null,q=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),this._canvas&&ve(J,U).delete(this._canvas),this.callback(W||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas",q))}operatorListChanged(){var W;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(W=this.stepper)==null||W.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ve(J,U).delete(this._canvas),this.callback())))}};U=new WeakMap,st(J,U,new WeakSet);let InternalRenderTask=J;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(A,$,V)=>{var pe,ae,ne,ki,oe;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var B=V(1),O=V(4),R=V(8);class re{constructor(){st(this,ne);st(this,pe,!1);st(this,ae,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(te,G){const U=ve(this,ae).get(te);return U===void 0?G:Object.assign(G,U)}getRawValue(te){return ve(this,ae).get(te)}remove(te){if(ve(this,ae).delete(te),ve(this,ae).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of ve(this,ae).values())if(G instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(te,G){const U=ve(this,ae).get(te);let J=!1;if(U!==void 0)for(const[K,W]of Object.entries(G))U[K]!==W&&(J=!0,U[K]=W);else J=!0,ve(this,ae).set(te,G);J&&ht(this,ne,ki).call(this),G instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(te){return ve(this,ae).has(te)}getAll(){return ve(this,ae).size>0?(0,B.objectFromMap)(ve(this,ae)):null}setAll(te){for(const[G,U]of Object.entries(te))this.setValue(G,U)}get size(){return ve(this,ae).size}resetModified(){ve(this,pe)&&(At(this,pe,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new le(this)}get serializable(){if(ve(this,ae).size===0)return null;const te=new Map;for(const[G,U]of ve(this,ae)){const J=U instanceof O.AnnotationEditor?U.serialize():U;J&&te.set(G,J)}return te}static getHash(te){if(!te)return"";const G=new R.MurmurHash3_64;for(const[U,J]of te)G.update("".concat(U,":").concat(JSON.stringify(J)));return G.hexdigest()}}pe=new WeakMap,ae=new WeakMap,ne=new WeakSet,ki=function(){ve(this,pe)||(At(this,pe,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=re;class le extends re{constructor(G){super();st(this,oe,null);At(this,oe,structuredClone(G.serializable))}get print(){(0,B.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ve(this,oe)}}oe=new WeakMap,$.PrintAnnotationStorage=le},(A,$,V)=>{var re,le,pe,ae,ne,be;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var B=V(5),O=V(1);const oe=class oe{constructor(te){st(this,re,this.focusin.bind(this));st(this,le,this.focusout.bind(this));st(this,pe,!1);st(this,ae,!1);st(this,ne,!1);Cn(this,"_uiManager",null);st(this,be,oe._zIndex++);this.constructor===oe&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=te.parent,this.id=te.id,this.width=this.height=null,this.pageIndex=te.parent.pageIndex,this.name=te.name,this.div=null,this._uiManager=te.uiManager;const{rotation:G,rawDims:{pageWidth:U,pageHeight:J,pageX:K,pageY:W}}=this.parent.viewport;this.rotation=G,this.pageDimensions=[U,J],this.pageTranslation=[K,W];const[q,H]=this.parentDimensions;this.x=te.x/q,this.y=te.y/H,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(te){this._uiManager.addCommands(te)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ve(this,be)}setParent(te){te!==null&&(this.pageIndex=te.pageIndex,this.pageDimensions=te.pageDimensions),this.parent=te}focusin(te){ve(this,pe)?At(this,pe,!1):this.parent.setSelected(this)}focusout(te){var U;if(!this.isAttachedToDOM)return;const G=te.relatedTarget;G!=null&&G.closest("#".concat(this.id))||(te.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(te){const G=this.parent.div.getBoundingClientRect();this.startX=te.clientX-G.x,this.startY=te.clientY-G.y,te.dataTransfer.setData("text/plain",this.id),te.dataTransfer.effectAllowed="move"}setAt(te,G,U,J){const[K,W]=this.parentDimensions;[U,J]=this.screenToPageTranslation(U,J),this.x=(te+U)/K,this.y=(G+J)/W,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}translate(te,G){const[U,J]=this.parentDimensions;[te,G]=this.screenToPageTranslation(te,G),this.x+=te/U,this.y+=G/J,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}screenToPageTranslation(te,G){switch(this.parentRotation){case 90:return[G,-te];case 180:return[-te,-G];case 270:return[-G,te];default:return[te,G]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:te}=this._uiManager.viewParameters,[G,U]=this.pageDimensions;return[G*te,U*te]}setDims(te,G){const[U,J]=this.parentDimensions;this.div.style.width="".concat(100*te/U,"%"),this.div.style.height="".concat(100*G/J,"%")}fixDims(){const{style:te}=this.div,{height:G,width:U}=te,J=U.endsWith("%"),K=G.endsWith("%");if(J&&K)return;const[W,q]=this.parentDimensions;J||(te.width="".concat(100*parseFloat(U)/W,"%")),K||(te.height="".concat(100*parseFloat(G)/q,"%"))}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ve(this,re)),this.div.addEventListener("focusout",ve(this,le));const[te,G]=this.getInitialTranslation();return this.translate(te,G),(0,B.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(te){const{isMac:G}=O.FeatureTest.platform;if(te.button!==0||te.ctrlKey&&G){te.preventDefault();return}te.ctrlKey&&!G||te.shiftKey||te.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this),At(this,pe,!0)}getRect(te,G){const U=this.parentScale,[J,K]=this.pageDimensions,[W,q]=this.pageTranslation,H=te/U,X=G/U,ue=this.x*J,ge=this.y*K,Ee=this.width*J,we=this.height*K;switch(this.rotation){case 0:return[ue+H+W,K-ge-X-we+q,ue+H+Ee+W,K-ge-X+q];case 90:return[ue+X+W,K-ge+H+q,ue+X+we+W,K-ge+H+Ee+q];case 180:return[ue-H-Ee+W,K-ge+X+q,ue-H+W,K-ge+X+we+q];case 270:return[ue-X-we+W,K-ge-H-Ee+q,ue-X+W,K-ge-H+q];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(te,G){const[U,J,K,W]=te,q=K-U,H=W-J;switch(this.rotation){case 0:return[U,G-W,q,H];case 90:return[U,G-J,H,q];case 180:return[K,G-J,q,H];case 270:return[K,G-W,H,q];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){At(this,ne,!0)}disableEditMode(){At(this,ne,!1)}isInEditMode(){return ve(this,ne)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var te;(te=this.div)==null||te.addEventListener("focusin",ve(this,re))}serialize(){(0,O.unreachable)("An editor must be serializable")}static deserialize(te,G,U){const J=new this.prototype.constructor({parent:G,id:G.getNextId(),uiManager:U});J.rotation=te.rotation;const[K,W]=J.pageDimensions,[q,H,X,ue]=J.getRectInCurrentCoords(te.rect,W);return J.x=q/K,J.y=H/W,J.width=X/K,J.height=ue/W,J}remove(){this.div.removeEventListener("focusin",ve(this,re)),this.div.removeEventListener("focusout",ve(this,le)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var te;(te=this.div)==null||te.classList.add("selectedEditor")}unselect(){var te;(te=this.div)==null||te.classList.remove("selectedEditor")}updateParams(te,G){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ve(this,ae)}set isEditing(te){At(this,ae,te),te?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};re=new WeakMap,le=new WeakMap,pe=new WeakMap,ae=new WeakMap,ne=new WeakMap,be=new WeakMap,Cn(oe,"_colorManager",new B.ColorManager),Cn(oe,"_zIndex",1);let R=oe;$.AnnotationEditor=R},(A,$,V)=>{var oe,ee,te,G,U,J,xi,q,H,X,ue,ge,Ee,we,de,Te,it,Ve,qe,Be,Oe,De,et,tt,Ae,ce,ie,me,Se,Ce,xe,$i,Ue,qr,We,Mi,Xe,Ti,he,Hn,ke,mr,$e,Ri,ot,Fi,Je,Gr,dt,gr,St,Xr;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=R,$.opacityToHex=re;var B=V(1),O=V(6);function R(jt,Me,Ie){for(const je of Ie)Me.addEventListener(je,jt[je].bind(jt))}function re(jt){return Math.round(Math.min(255,Math.max(1,255*jt))).toString(16).padStart(2,"0")}class le{constructor(){st(this,oe,0)}getId(){return"".concat(B.AnnotationEditorPrefix).concat(Hr(this,oe)._++)}}oe=new WeakMap;class pe{constructor(Me=128){st(this,ee,[]);st(this,te,!1);st(this,G,void 0);st(this,U,-1);At(this,G,Me)}add({cmd:Me,undo:Ie,mustExec:je,type:pt=NaN,overwriteIfSameType:Dt=!1,keepUndo:Zt=!1}){if(je&&Me(),ve(this,te))return;const Ze={cmd:Me,undo:Ie,type:pt};if(ve(this,U)===-1){ve(this,ee).length>0&&(ve(this,ee).length=0),At(this,U,0),ve(this,ee).push(Ze);return}if(Dt&&ve(this,ee)[ve(this,U)].type===pt){Zt&&(Ze.undo=ve(this,ee)[ve(this,U)].undo),ve(this,ee)[ve(this,U)]=Ze;return}const mt=ve(this,U)+1;mt===ve(this,G)?ve(this,ee).splice(0,1):(At(this,U,mt),mt<ve(this,ee).length&&ve(this,ee).splice(mt)),ve(this,ee).push(Ze)}undo(){ve(this,U)!==-1&&(At(this,te,!0),ve(this,ee)[ve(this,U)].undo(),At(this,te,!1),At(this,U,ve(this,U)-1))}redo(){ve(this,U)<ve(this,ee).length-1&&(At(this,U,ve(this,U)+1),At(this,te,!0),ve(this,ee)[ve(this,U)].cmd(),At(this,te,!1))}hasSomethingToUndo(){return ve(this,U)!==-1}hasSomethingToRedo(){return ve(this,U)<ve(this,ee).length-1}destroy(){At(this,ee,null)}}ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,$.CommandManager=pe;class ae{constructor(Me){st(this,J);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ie}=B.FeatureTest.platform;for(const[je,pt]of Me)for(const Dt of je){const Zt=Dt.startsWith("mac+");Ie&&Zt?(this.callbacks.set(Dt.slice(4),pt),this.allKeys.add(Dt.split("+").at(-1))):!Ie&&!Zt&&(this.callbacks.set(Dt,pt),this.allKeys.add(Dt.split("+").at(-1)))}}exec(Me,Ie){if(!this.allKeys.has(Ie.key))return;const je=this.callbacks.get(ht(this,J,xi).call(this,Ie));je&&(je.bind(Me)(),Ie.stopPropagation(),Ie.preventDefault())}}J=new WeakSet,xi=function(Me){Me.altKey&&this.buffer.push("alt"),Me.ctrlKey&&this.buffer.push("ctrl"),Me.metaKey&&this.buffer.push("meta"),Me.shiftKey&&this.buffer.push("shift"),this.buffer.push(Me.key);const Ie=this.buffer.join("+");return this.buffer.length=0,Ie},$.KeyboardManager=ae;const W=class W{get _colors(){const Me=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)(Me),(0,B.shadow)(this,"_colors",Me)}convert(Me){const Ie=(0,O.getRGB)(Me);if(!window.matchMedia("(forced-colors: active)").matches)return Ie;for(const[je,pt]of this._colors)if(pt.every((Dt,Zt)=>Dt===Ie[Zt]))return W._colorsMapping.get(je);return Ie}getHexCode(Me){const Ie=this._colors.get(Me);return Ie?B.Util.makeHexColor(...Ie):Me}};Cn(W,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ne=W;$.ColorManager=ne;const Vt=class Vt{constructor(Me,Ie,je){st(this,xe);st(this,Ue);st(this,We);st(this,Xe);st(this,he);st(this,ke);st(this,$e);st(this,ot);st(this,Je);st(this,dt);st(this,St);st(this,q,null);st(this,H,new Map);st(this,X,new Map);st(this,ue,null);st(this,ge,new pe);st(this,Ee,0);st(this,we,null);st(this,de,new Set);st(this,Te,null);st(this,it,new le);st(this,Ve,!1);st(this,qe,B.AnnotationEditorType.NONE);st(this,Be,new Set);st(this,Oe,this.copy.bind(this));st(this,De,this.cut.bind(this));st(this,et,this.paste.bind(this));st(this,tt,this.keydown.bind(this));st(this,Ae,this.onEditingAction.bind(this));st(this,ce,this.onPageChanging.bind(this));st(this,ie,this.onScaleChanging.bind(this));st(this,me,this.onRotationChanging.bind(this));st(this,Se,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});st(this,Ce,null);At(this,Ce,Me),At(this,Te,Ie),ve(this,Te)._on("editingaction",ve(this,Ae)),ve(this,Te)._on("pagechanging",ve(this,ce)),ve(this,Te)._on("scalechanging",ve(this,ie)),ve(this,Te)._on("rotationchanging",ve(this,me)),At(this,ue,je),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ht(this,Ue,qr).call(this),ve(this,Te)._off("editingaction",ve(this,Ae)),ve(this,Te)._off("pagechanging",ve(this,ce)),ve(this,Te)._off("scalechanging",ve(this,ie)),ve(this,Te)._off("rotationchanging",ve(this,me));for(const Me of ve(this,X).values())Me.destroy();ve(this,X).clear(),ve(this,H).clear(),ve(this,de).clear(),At(this,q,null),ve(this,Be).clear(),ve(this,ge).destroy()}onPageChanging({pageNumber:Me}){At(this,Ee,Me-1)}focusMainContainer(){ve(this,Ce).focus()}addShouldRescale(Me){ve(this,de).add(Me)}removeShouldRescale(Me){ve(this,de).delete(Me)}onScaleChanging({scale:Me}){this.commitOrRemove(),this.viewParameters.realScale=Me*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ie of ve(this,de))Ie.onScaleChanging()}onRotationChanging({pagesRotation:Me}){this.commitOrRemove(),this.viewParameters.rotation=Me}addToAnnotationStorage(Me){!Me.isEmpty()&&ve(this,ue)&&!ve(this,ue).has(Me.id)&&ve(this,ue).setValue(Me.id,Me)}copy(Me){if(Me.preventDefault(),ve(this,q)&&ve(this,q).commitOrRemove(),!this.hasSelection)return;const Ie=[];for(const je of ve(this,Be))je.isEmpty()||Ie.push(je.serialize());Ie.length!==0&&Me.clipboardData.setData("application/pdfjs",JSON.stringify(Ie))}cut(Me){this.copy(Me),this.delete()}paste(Me){Me.preventDefault();let Ie=Me.clipboardData.getData("application/pdfjs");if(!Ie)return;try{Ie=JSON.parse(Ie)}catch(pt){(0,B.warn)('paste: "'.concat(pt.message,'".'));return}if(!Array.isArray(Ie))return;this.unselectAll();const je=ve(this,X).get(ve(this,Ee));try{const pt=[];for(const Ze of Ie){const mt=je.deserialize(Ze);if(!mt)return;pt.push(mt)}const Dt=()=>{for(const Ze of pt)ht(this,Je,Gr).call(this,Ze);ht(this,St,Xr).call(this,pt)},Zt=()=>{for(const Ze of pt)Ze.remove()};this.addCommands({cmd:Dt,undo:Zt,mustExec:!0})}catch(pt){(0,B.warn)('paste: "'.concat(pt.message,'".'))}}keydown(Me){var Ie;(Ie=this.getActive())!=null&&Ie.shouldGetKeyboardEvents()||Vt._keyboardManager.exec(this,Me)}onEditingAction(Me){["undo","redo","delete","selectAll"].includes(Me.name)&&this[Me.name]()}setEditingState(Me){Me?(ht(this,xe,$i).call(this),ht(this,We,Mi).call(this),ht(this,he,Hn).call(this,{isEditing:ve(this,qe)!==B.AnnotationEditorType.NONE,isEmpty:ht(this,dt,gr).call(this),hasSomethingToUndo:ve(this,ge).hasSomethingToUndo(),hasSomethingToRedo:ve(this,ge).hasSomethingToRedo(),hasSelectedEditor:!1})):(ht(this,Ue,qr).call(this),ht(this,Xe,Ti).call(this),ht(this,he,Hn).call(this,{isEditing:!1}))}registerEditorTypes(Me){if(!ve(this,we)){At(this,we,Me);for(const Ie of ve(this,we))ht(this,ke,mr).call(this,Ie.defaultPropertiesToUpdate)}}getId(){return ve(this,it).getId()}get currentLayer(){return ve(this,X).get(ve(this,Ee))}get currentPageIndex(){return ve(this,Ee)}addLayer(Me){ve(this,X).set(Me.pageIndex,Me),ve(this,Ve)?Me.enable():Me.disable()}removeLayer(Me){ve(this,X).delete(Me.pageIndex)}updateMode(Me){if(At(this,qe,Me),Me===B.AnnotationEditorType.NONE)this.setEditingState(!1),ht(this,ot,Fi).call(this);else{this.setEditingState(!0),ht(this,$e,Ri).call(this);for(const Ie of ve(this,X).values())Ie.updateMode(Me)}}updateToolbar(Me){Me!==ve(this,qe)&&ve(this,Te).dispatch("switchannotationeditormode",{source:this,mode:Me})}updateParams(Me,Ie){if(ve(this,we)){for(const je of ve(this,Be))je.updateParams(Me,Ie);for(const je of ve(this,we))je.updateDefaultParams(Me,Ie)}}getEditors(Me){const Ie=[];for(const je of ve(this,H).values())je.pageIndex===Me&&Ie.push(je);return Ie}getEditor(Me){return ve(this,H).get(Me)}addEditor(Me){ve(this,H).set(Me.id,Me)}removeEditor(Me){var Ie;ve(this,H).delete(Me.id),this.unselect(Me),(Ie=ve(this,ue))==null||Ie.remove(Me.id)}setActiveEditor(Me){ve(this,q)!==Me&&(At(this,q,Me),Me&&ht(this,ke,mr).call(this,Me.propertiesToUpdate))}toggleSelected(Me){if(ve(this,Be).has(Me)){ve(this,Be).delete(Me),Me.unselect(),ht(this,he,Hn).call(this,{hasSelectedEditor:this.hasSelection});return}ve(this,Be).add(Me),Me.select(),ht(this,ke,mr).call(this,Me.propertiesToUpdate),ht(this,he,Hn).call(this,{hasSelectedEditor:!0})}setSelected(Me){for(const Ie of ve(this,Be))Ie!==Me&&Ie.unselect();ve(this,Be).clear(),ve(this,Be).add(Me),Me.select(),ht(this,ke,mr).call(this,Me.propertiesToUpdate),ht(this,he,Hn).call(this,{hasSelectedEditor:!0})}isSelected(Me){return ve(this,Be).has(Me)}unselect(Me){Me.unselect(),ve(this,Be).delete(Me),ht(this,he,Hn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ve(this,Be).size!==0}undo(){ve(this,ge).undo(),ht(this,he,Hn).call(this,{hasSomethingToUndo:ve(this,ge).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ht(this,dt,gr).call(this)})}redo(){ve(this,ge).redo(),ht(this,he,Hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ve(this,ge).hasSomethingToRedo(),isEmpty:ht(this,dt,gr).call(this)})}addCommands(Me){ve(this,ge).add(Me),ht(this,he,Hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ht(this,dt,gr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Me=[...ve(this,Be)],Ie=()=>{for(const pt of Me)pt.remove()},je=()=>{for(const pt of Me)ht(this,Je,Gr).call(this,pt)};this.addCommands({cmd:Ie,undo:je,mustExec:!0})}commitOrRemove(){var Me;(Me=ve(this,q))==null||Me.commitOrRemove()}selectAll(){for(const Me of ve(this,Be))Me.commit();ht(this,St,Xr).call(this,ve(this,H).values())}unselectAll(){if(ve(this,q)){ve(this,q).commitOrRemove();return}if(ve(this,Be).size!==0){for(const Me of ve(this,Be))Me.unselect();ve(this,Be).clear(),ht(this,he,Hn).call(this,{hasSelectedEditor:!1})}}isActive(Me){return ve(this,q)===Me}getActive(){return ve(this,q)}getMode(){return ve(this,qe)}};q=new WeakMap,H=new WeakMap,X=new WeakMap,ue=new WeakMap,ge=new WeakMap,Ee=new WeakMap,we=new WeakMap,de=new WeakMap,Te=new WeakMap,it=new WeakMap,Ve=new WeakMap,qe=new WeakMap,Be=new WeakMap,Oe=new WeakMap,De=new WeakMap,et=new WeakMap,tt=new WeakMap,Ae=new WeakMap,ce=new WeakMap,ie=new WeakMap,me=new WeakMap,Se=new WeakMap,Ce=new WeakMap,xe=new WeakSet,$i=function(){ve(this,Ce).addEventListener("keydown",ve(this,tt))},Ue=new WeakSet,qr=function(){ve(this,Ce).removeEventListener("keydown",ve(this,tt))},We=new WeakSet,Mi=function(){document.addEventListener("copy",ve(this,Oe)),document.addEventListener("cut",ve(this,De)),document.addEventListener("paste",ve(this,et))},Xe=new WeakSet,Ti=function(){document.removeEventListener("copy",ve(this,Oe)),document.removeEventListener("cut",ve(this,De)),document.removeEventListener("paste",ve(this,et))},he=new WeakSet,Hn=function(Me){Object.entries(Me).some(([je,pt])=>ve(this,Se)[je]!==pt)&&ve(this,Te).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ve(this,Se),Me)})},ke=new WeakSet,mr=function(Me){ve(this,Te).dispatch("annotationeditorparamschanged",{source:this,details:Me})},$e=new WeakSet,Ri=function(){if(!ve(this,Ve)){At(this,Ve,!0);for(const Me of ve(this,X).values())Me.enable()}},ot=new WeakSet,Fi=function(){if(this.unselectAll(),ve(this,Ve)){At(this,Ve,!1);for(const Me of ve(this,X).values())Me.disable()}},Je=new WeakSet,Gr=function(Me){const Ie=ve(this,X).get(Me.pageIndex);Ie?Ie.addOrRebuild(Me):this.addEditor(Me)},dt=new WeakSet,gr=function(){if(ve(this,H).size===0)return!0;if(ve(this,H).size===1)for(const Me of ve(this,H).values())return Me.isEmpty();return!1},St=new WeakSet,Xr=function(Me){ve(this,Be).clear();for(const Ie of Me)Ie.isEmpty()||(ve(this,Be).add(Ie),Ie.select());ht(this,he,Hn).call(this,{hasSelectedEditor:!0})},Cn(Vt,"_keyboardManager",new ae([[["ctrl+a","mac+meta+a"],Vt.prototype.selectAll],[["ctrl+z","mac+meta+z"],Vt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Vt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Vt.prototype.delete],[["Escape","mac+Escape"],Vt.prototype.unselectAll]]));let be=Vt;$.AnnotationEditorUIManager=be},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=X,$.getColorValues=de,$.getCurrentTransform=Te,$.getCurrentTransformInverse=it,$.getFilenameFromUrl=J,$.getPdfFilenameFromUrl=K,$.getRGB=we,$.getXfaPageViewport=Ee,$.isDataScheme=G,$.isPdfFile=U,$.isValidFetchUrl=q,$.loadScript=H,$.setLayerDimensions=Ve;var B=V(7),O=V(1);const R="http://www.w3.org/2000/svg",re="pdfjs_internal_id_";$.AnnotationPrefix=re;const qe=class qe{};Cn(qe,"CSS",96),Cn(qe,"PDF",72),Cn(qe,"PDF_TO_CSS_UNITS",qe.CSS/qe.PDF);let le=qe;$.PixelsPerInch=le;class pe extends B.BaseCanvasFactory{constructor({ownerDocument:Oe=globalThis.document}={}){super(),this._document=Oe}_createCanvas(Oe,De){const et=this._document.createElement("canvas");return et.width=Oe,et.height=De,et}}$.DOMCanvasFactory=pe;async function ae(Be,Oe=!1){if(q(Be,document.baseURI)){const De=await fetch(Be);if(!De.ok)throw new Error(De.statusText);return Oe?new Uint8Array(await De.arrayBuffer()):(0,O.stringToBytes)(await De.text())}return new Promise((De,et)=>{const tt=new XMLHttpRequest;tt.open("GET",Be,!0),Oe&&(tt.responseType="arraybuffer"),tt.onreadystatechange=()=>{if(tt.readyState===XMLHttpRequest.DONE){if(tt.status===200||tt.status===0){let Ae;if(Oe&&tt.response?Ae=new Uint8Array(tt.response):!Oe&&tt.responseText&&(Ae=(0,O.stringToBytes)(tt.responseText)),Ae){De(Ae);return}}et(new Error(tt.statusText))}},tt.send(null)})}class ne extends B.BaseCMapReaderFactory{_fetchData(Oe,De){return ae(Oe,this.isCompressed).then(et=>({cMapData:et,compressionType:De}))}}$.DOMCMapReaderFactory=ne;class be extends B.BaseStandardFontDataFactory{_fetchData(Oe){return ae(Oe,!0)}}$.DOMStandardFontDataFactory=be;class oe extends B.BaseSVGFactory{_createSVG(Oe){return document.createElementNS(R,Oe)}}$.DOMSVGFactory=oe;class ee{constructor({viewBox:Oe,scale:De,rotation:et,offsetX:tt=0,offsetY:Ae=0,dontFlip:ce=!1}){this.viewBox=Oe,this.scale=De,this.rotation=et,this.offsetX=tt,this.offsetY=Ae;const ie=(Oe[2]+Oe[0])/2,me=(Oe[3]+Oe[1])/2;let Se,Ce,xe,Re;switch(et%=360,et<0&&(et+=360),et){case 180:Se=-1,Ce=0,xe=0,Re=1;break;case 90:Se=0,Ce=1,xe=1,Re=0;break;case 270:Se=0,Ce=-1,xe=-1,Re=0;break;case 0:Se=1,Ce=0,xe=0,Re=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ce&&(xe=-xe,Re=-Re);let Ue,nt,We,Qe;Se===0?(Ue=Math.abs(me-Oe[1])*De+tt,nt=Math.abs(ie-Oe[0])*De+Ae,We=(Oe[3]-Oe[1])*De,Qe=(Oe[2]-Oe[0])*De):(Ue=Math.abs(ie-Oe[0])*De+tt,nt=Math.abs(me-Oe[1])*De+Ae,We=(Oe[2]-Oe[0])*De,Qe=(Oe[3]-Oe[1])*De),this.transform=[Se*De,Ce*De,xe*De,Re*De,Ue-Se*De*ie-xe*De*me,nt-Ce*De*ie-Re*De*me],this.width=We,this.height=Qe}get rawDims(){const{viewBox:Oe}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Oe[2]-Oe[0],pageHeight:Oe[3]-Oe[1],pageX:Oe[0],pageY:Oe[1]})}clone({scale:Oe=this.scale,rotation:De=this.rotation,offsetX:et=this.offsetX,offsetY:tt=this.offsetY,dontFlip:Ae=!1}={}){return new ee({viewBox:this.viewBox.slice(),scale:Oe,rotation:De,offsetX:et,offsetY:tt,dontFlip:Ae})}convertToViewportPoint(Oe,De){return O.Util.applyTransform([Oe,De],this.transform)}convertToViewportRectangle(Oe){const De=O.Util.applyTransform([Oe[0],Oe[1]],this.transform),et=O.Util.applyTransform([Oe[2],Oe[3]],this.transform);return[De[0],De[1],et[0],et[1]]}convertToPdfPoint(Oe,De){return O.Util.applyInverseTransform([Oe,De],this.transform)}}$.PageViewport=ee;class te extends O.BaseException{constructor(Oe,De,et=0){super(Oe,"RenderingCancelledException"),this.type=De,this.extraDelay=et}}$.RenderingCancelledException=te;function G(Be){const Oe=Be.length;let De=0;for(;De<Oe&&Be[De].trim()==="";)De++;return Be.substring(De,De+5).toLowerCase()==="data:"}function U(Be){return typeof Be=="string"&&/\.pdf$/i.test(Be)}function J(Be,Oe=!1){return Oe||([Be]=Be.split(/[#?]/,1)),Be.substring(Be.lastIndexOf("/")+1)}function K(Be,Oe="document.pdf"){if(typeof Be!="string")return Oe;if(G(Be))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Oe;const De=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tt=De.exec(Be);let Ae=et.exec(tt[1])||et.exec(tt[2])||et.exec(tt[3]);if(Ae&&(Ae=Ae[0],Ae.includes("%")))try{Ae=et.exec(decodeURIComponent(Ae))[0]}catch(ce){}return Ae||Oe}class W{constructor(){Cn(this,"started",Object.create(null));Cn(this,"times",[])}time(Oe){Oe in this.started&&(0,O.warn)("Timer is already running for ".concat(Oe)),this.started[Oe]=Date.now()}timeEnd(Oe){Oe in this.started||(0,O.warn)("Timer has not been started for ".concat(Oe)),this.times.push({name:Oe,start:this.started[Oe],end:Date.now()}),delete this.started[Oe]}toString(){const Oe=[];let De=0;for(const{name:et}of this.times)De=Math.max(et.length,De);for(const{name:et,start:tt,end:Ae}of this.times)Oe.push("".concat(et.padEnd(De)," ").concat(Ae-tt,"ms\n"));return Oe.join("")}}$.StatTimer=W;function q(Be,Oe){try{const{protocol:De}=Oe?new URL(Be,Oe):new URL(Be);return De==="http:"||De==="https:"}catch(De){return!1}}function H(Be,Oe=!1){return new Promise((De,et)=>{const tt=document.createElement("script");tt.src=Be,tt.onload=function(Ae){Oe&&tt.remove(),De(Ae)},tt.onerror=function(){et(new Error("Cannot load script at: ".concat(tt.src)))},(document.head||document.documentElement).append(tt)})}function X(Be){console.log("Deprecated API usage: "+Be)}let ue;class ge{static toDateObject(Oe){if(!Oe||typeof Oe!="string")return null;ue||(ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const De=ue.exec(Oe);if(!De)return null;const et=parseInt(De[1],10);let tt=parseInt(De[2],10);tt=tt>=1&&tt<=12?tt-1:0;let Ae=parseInt(De[3],10);Ae=Ae>=1&&Ae<=31?Ae:1;let ce=parseInt(De[4],10);ce=ce>=0&&ce<=23?ce:0;let ie=parseInt(De[5],10);ie=ie>=0&&ie<=59?ie:0;let me=parseInt(De[6],10);me=me>=0&&me<=59?me:0;const Se=De[7]||"Z";let Ce=parseInt(De[8],10);Ce=Ce>=0&&Ce<=23?Ce:0;let xe=parseInt(De[9],10)||0;return xe=xe>=0&&xe<=59?xe:0,Se==="-"?(ce+=Ce,ie+=xe):Se==="+"&&(ce-=Ce,ie-=xe),new Date(Date.UTC(et,tt,Ae,ce,ie,me))}}$.PDFDateString=ge;function Ee(Be,{scale:Oe=1,rotation:De=0}){const{width:et,height:tt}=Be.attributes.style,Ae=[0,0,parseInt(et),parseInt(tt)];return new ee({viewBox:Ae,scale:Oe,rotation:De})}function we(Be){if(Be.startsWith("#")){const Oe=parseInt(Be.slice(1),16);return[(Oe&16711680)>>16,(Oe&65280)>>8,Oe&255]}return Be.startsWith("rgb(")?Be.slice(4,-1).split(",").map(Oe=>parseInt(Oe)):Be.startsWith("rgba(")?Be.slice(5,-1).split(",").map(Oe=>parseInt(Oe)).slice(0,3):((0,O.warn)('Not a valid color format: "'.concat(Be,'"')),[0,0,0])}function de(Be){const Oe=document.createElement("span");Oe.style.visibility="hidden",document.body.append(Oe);for(const De of Be.keys()){Oe.style.color=De;const et=window.getComputedStyle(Oe).color;Be.set(De,we(et))}Oe.remove()}function Te(Be){const{a:Oe,b:De,c:et,d:tt,e:Ae,f:ce}=Be.getTransform();return[Oe,De,et,tt,Ae,ce]}function it(Be){const{a:Oe,b:De,c:et,d:tt,e:Ae,f:ce}=Be.getTransform().invertSelf();return[Oe,De,et,tt,Ae,ce]}function Ve(Be,Oe,De=!1,et=!0){if(Oe instanceof ee){const{pageWidth:tt,pageHeight:Ae}=Oe.rawDims,{style:ce}=Be,ie="calc(var(--scale-factor) * ".concat(tt,"px)"),me="calc(var(--scale-factor) * ".concat(Ae,"px)");!De||Oe.rotation%180===0?(ce.width=ie,ce.height=me):(ce.width=me,ce.height=ie)}et&&Be.setAttribute("data-main-rotation",Oe.rotation)}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var B=V(1);class O{constructor(){this.constructor===O&&(0,B.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ae,ne){if(ae<=0||ne<=0)throw new Error("Invalid canvas size");const be=this._createCanvas(ae,ne);return{canvas:be,context:be.getContext("2d")}}reset(ae,ne,be){if(!ae.canvas)throw new Error("Canvas is not specified");if(ne<=0||be<=0)throw new Error("Invalid canvas size");ae.canvas.width=ne,ae.canvas.height=be}destroy(ae){if(!ae.canvas)throw new Error("Canvas is not specified");ae.canvas.width=0,ae.canvas.height=0,ae.canvas=null,ae.context=null}_createCanvas(ae,ne){(0,B.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=O;class R{constructor({baseUrl:ae=null,isCompressed:ne=!0}){this.constructor===R&&(0,B.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ae,this.isCompressed=ne}async fetch({name:ae}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ae)throw new Error("CMap name must be specified.");const ne=this.baseUrl+ae+(this.isCompressed?".bcmap":""),be=this.isCompressed?B.CMapCompressionType.BINARY:B.CMapCompressionType.NONE;return this._fetchData(ne,be).catch(oe=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(ne))})}_fetchData(ae,ne){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=R;class re{constructor({baseUrl:ae=null}){this.constructor===re&&(0,B.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ae}async fetch({filename:ae}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ae)throw new Error("Font filename must be specified.");const ne="".concat(this.baseUrl).concat(ae);return this._fetchData(ne).catch(be=>{throw new Error("Unable to load font data at: ".concat(ne))})}_fetchData(ae){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=re;class le{constructor(){this.constructor===le&&(0,B.unreachable)("Cannot initialize BaseSVGFactory.")}create(ae,ne,be=!1){if(ae<=0||ne<=0)throw new Error("Invalid SVG dimensions");const oe=this._createSVG("svg:svg");return oe.setAttribute("version","1.1"),be||(oe.setAttribute("width","".concat(ae,"px")),oe.setAttribute("height","".concat(ne,"px"))),oe.setAttribute("preserveAspectRatio","none"),oe.setAttribute("viewBox","0 0 ".concat(ae," ").concat(ne)),oe}createElement(ae){if(typeof ae!="string")throw new Error("Invalid SVG element type");return this._createSVG(ae)}_createSVG(ae){(0,B.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=le},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var B=V(1);const O=3285377520,R=4294901760,re=65535;class le{constructor(ae){this.h1=ae?ae&4294967295:O,this.h2=ae?ae&4294967295:O}update(ae){let ne,be;if(typeof ae=="string"){ne=new Uint8Array(ae.length*2),be=0;for(let ue=0,ge=ae.length;ue<ge;ue++){const Ee=ae.charCodeAt(ue);Ee<=255?ne[be++]=Ee:(ne[be++]=Ee>>>8,ne[be++]=Ee&255)}}else if((0,B.isArrayBuffer)(ae))ne=ae.slice(),be=ne.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const oe=be>>2,ee=be-oe*4,te=new Uint32Array(ne.buffer,0,oe);let G=0,U=0,J=this.h1,K=this.h2;const W=3432918353,q=461845907,H=W&re,X=q&re;for(let ue=0;ue<oe;ue++)ue&1?(G=te[ue],G=G*W&R|G*H&re,G=G<<15|G>>>17,G=G*q&R|G*X&re,J^=G,J=J<<13|J>>>19,J=J*5+3864292196):(U=te[ue],U=U*W&R|U*H&re,U=U<<15|U>>>17,U=U*q&R|U*X&re,K^=U,K=K<<13|K>>>19,K=K*5+3864292196);switch(G=0,ee){case 3:G^=ne[oe*4+2]<<16;case 2:G^=ne[oe*4+1]<<8;case 1:G^=ne[oe*4],G=G*W&R|G*H&re,G=G<<15|G>>>17,G=G*q&R|G*X&re,oe&1?J^=G:K^=G}this.h1=J,this.h2=K}hexdigest(){let ae=this.h1,ne=this.h2;return ae^=ne>>>1,ae=ae*3981806797&R|ae*36045&re,ne=ne*4283543511&R|((ne<<16|ae>>>16)*2950163797&R)>>>16,ae^=ne>>>1,ae=ae*444984403&R|ae*60499&re,ne=ne*3301882366&R|((ne<<16|ae>>>16)*3120437893&R)>>>16,ae^=ne>>>1,(ae>>>0).toString(16).padStart(8,"0")+(ne>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=le},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var B=V(1),O=V(10);class R{constructor({onUnsupportedFeature:pe,ownerDocument:ae=globalThis.document,styleElement:ne=null}){this._onUnsupportedFeature=pe,this._document=ae,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(pe){this.nativeFontFaces.push(pe),this._document.fonts.add(pe)}insertRule(pe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ae=this.styleElement.sheet;ae.insertRule(pe,ae.cssRules.length)}clear(){for(const pe of this.nativeFontFaces)this._document.fonts.delete(pe);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(pe){if(pe.attached||pe.missingFile)return;if(pe.attached=!0,this.isFontLoadingAPISupported){const ne=pe.createNativeFontFace();if(ne){this.addNativeFontFace(ne);try{await ne.loaded}catch(be){throw this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,B.warn)("Failed to load font '".concat(ne.family,"': '").concat(be,"'.")),pe.disableFontFace=!0,be}}return}const ae=pe.createFontFaceRule();if(ae){if(this.insertRule(ae),this.isSyncFontLoadingSupported)return;await new Promise(ne=>{const be=this._queueLoadingCallback(ne);this._prepareFontLoadEvent(pe,be)})}}get isFontLoadingAPISupported(){var ae;const pe=!!((ae=this._document)!=null&&ae.fonts);return(0,B.shadow)(this,"isFontLoadingAPISupported",pe)}get isSyncFontLoadingSupported(){let pe=!1;return(O.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(pe=!0),(0,B.shadow)(this,"isSyncFontLoadingSupported",pe)}_queueLoadingCallback(pe){function ae(){for((0,B.assert)(!be.done,"completeRequest() cannot be called twice."),be.done=!0;ne.length>0&&ne[0].done;){const oe=ne.shift();setTimeout(oe.callback,0)}}const{loadingRequests:ne}=this,be={done:!1,complete:ae,callback:pe};return ne.push(be),be}get _loadTestFont(){const pe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,B.shadow)(this,"_loadTestFont",pe)}_prepareFontLoadEvent(pe,ae){function ne(de,Te){return de.charCodeAt(Te)<<24|de.charCodeAt(Te+1)<<16|de.charCodeAt(Te+2)<<8|de.charCodeAt(Te+3)&255}function be(de,Te,it,Ve){const qe=de.substring(0,Te),Be=de.substring(Te+it);return qe+Ve+Be}let oe,ee;const te=this._document.createElement("canvas");te.width=1,te.height=1;const G=te.getContext("2d");let U=0;function J(de,Te){if(++U>30){(0,B.warn)("Load test font never loaded."),Te();return}if(G.font="30px "+de,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){Te();return}setTimeout(J.bind(null,de,Te))}const K="lt".concat(Date.now()).concat(this.loadTestFontId++);let W=this._loadTestFont;W=be(W,976,K.length,K);const H=16,X=1482184792;let ue=ne(W,H);for(oe=0,ee=K.length-3;oe<ee;oe+=4)ue=ue-X+ne(K,oe)|0;oe<K.length&&(ue=ue-X+ne(K+"XXX",oe)|0),W=be(W,H,4,(0,B.string32)(ue));const ge="url(data:font/opentype;base64,".concat(btoa(W),");"),Ee='@font-face {font-family:"'.concat(K,'";src:').concat(ge,"}");this.insertRule(Ee);const we=this._document.createElement("div");we.style.visibility="hidden",we.style.width=we.style.height="10px",we.style.position="absolute",we.style.top=we.style.left="0px";for(const de of[pe.loadedName,K]){const Te=this._document.createElement("span");Te.textContent="Hi",Te.style.fontFamily=de,we.append(Te)}this._document.body.append(we),J(K,()=>{we.remove(),ae.complete()})}}$.FontLoader=R;class re{constructor(pe,{isEvalSupported:ae=!0,disableFontFace:ne=!1,ignoreErrors:be=!1,onUnsupportedFeature:oe,fontRegistry:ee=null}){this.compiledGlyphs=Object.create(null);for(const te in pe)this[te]=pe[te];this.isEvalSupported=ae!==!1,this.disableFontFace=ne===!0,this.ignoreErrors=be===!0,this._onUnsupportedFeature=oe,this.fontRegistry=ee}createNativeFontFace(){var ae;if(!this.data||this.disableFontFace)return null;let pe;if(!this.cssFontInfo)pe=new FontFace(this.loadedName,this.data,{});else{const ne={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ne.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),pe=new FontFace(this.cssFontInfo.fontFamily,this.data,ne)}return(ae=this.fontRegistry)==null||ae.registerFont(this),pe}createFontFaceRule(){var be;if(!this.data||this.disableFontFace)return null;const pe=(0,B.bytesToString)(this.data),ae="url(data:".concat(this.mimetype,";base64,").concat(btoa(pe),");");let ne;if(!this.cssFontInfo)ne='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(ae,"}");else{let oe="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(oe+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),ne='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(oe,"src:").concat(ae,"}")}return(be=this.fontRegistry)==null||be.registerFont(this,ae),ne}getPathGenerator(pe,ae){if(this.compiledGlyphs[ae]!==void 0)return this.compiledGlyphs[ae];let ne;try{ne=pe.get(this.loadedName+"_path_"+ae)}catch(be){if(!this.ignoreErrors)throw be;return this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,B.warn)('getPathGenerator - ignoring character: "'.concat(be,'".')),this.compiledGlyphs[ae]=function(oe,ee){}}if(this.isEvalSupported&&B.FeatureTest.isEvalSupported){const be=[];for(const oe of ne){const ee=oe.args!==void 0?oe.args.join(","):"";be.push("c.",oe.cmd,"(",ee,");\n")}return this.compiledGlyphs[ae]=new Function("c","size",be.join(""))}return this.compiledGlyphs[ae]=function(be,oe){for(const ee of ne)ee.cmd==="scale"&&(ee.args=[oe,-oe]),be[ee.cmd].apply(be,ee.args)}}}$.FontFaceObject=re},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const V=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=V},(A,$,V)=>{var De,Kr;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var B=V(1),O=V(6),R=V(12),re=V(13);const le=16,pe=100,ae=4096,ne=15,be=10,oe=1e3,ee=16;function te(Ae,ce){if(Ae._removeMirroring)throw new Error("Context is already forwarding operations.");Ae.__originalSave=Ae.save,Ae.__originalRestore=Ae.restore,Ae.__originalRotate=Ae.rotate,Ae.__originalScale=Ae.scale,Ae.__originalTranslate=Ae.translate,Ae.__originalTransform=Ae.transform,Ae.__originalSetTransform=Ae.setTransform,Ae.__originalResetTransform=Ae.resetTransform,Ae.__originalClip=Ae.clip,Ae.__originalMoveTo=Ae.moveTo,Ae.__originalLineTo=Ae.lineTo,Ae.__originalBezierCurveTo=Ae.bezierCurveTo,Ae.__originalRect=Ae.rect,Ae.__originalClosePath=Ae.closePath,Ae.__originalBeginPath=Ae.beginPath,Ae._removeMirroring=()=>{Ae.save=Ae.__originalSave,Ae.restore=Ae.__originalRestore,Ae.rotate=Ae.__originalRotate,Ae.scale=Ae.__originalScale,Ae.translate=Ae.__originalTranslate,Ae.transform=Ae.__originalTransform,Ae.setTransform=Ae.__originalSetTransform,Ae.resetTransform=Ae.__originalResetTransform,Ae.clip=Ae.__originalClip,Ae.moveTo=Ae.__originalMoveTo,Ae.lineTo=Ae.__originalLineTo,Ae.bezierCurveTo=Ae.__originalBezierCurveTo,Ae.rect=Ae.__originalRect,Ae.closePath=Ae.__originalClosePath,Ae.beginPath=Ae.__originalBeginPath,delete Ae._removeMirroring},Ae.save=function(){ce.save(),this.__originalSave()},Ae.restore=function(){ce.restore(),this.__originalRestore()},Ae.translate=function(me,Se){ce.translate(me,Se),this.__originalTranslate(me,Se)},Ae.scale=function(me,Se){ce.scale(me,Se),this.__originalScale(me,Se)},Ae.transform=function(me,Se,Ce,xe,Re,Ue){ce.transform(me,Se,Ce,xe,Re,Ue),this.__originalTransform(me,Se,Ce,xe,Re,Ue)},Ae.setTransform=function(me,Se,Ce,xe,Re,Ue){ce.setTransform(me,Se,Ce,xe,Re,Ue),this.__originalSetTransform(me,Se,Ce,xe,Re,Ue)},Ae.resetTransform=function(){ce.resetTransform(),this.__originalResetTransform()},Ae.rotate=function(me){ce.rotate(me),this.__originalRotate(me)},Ae.clip=function(me){ce.clip(me),this.__originalClip(me)},Ae.moveTo=function(ie,me){ce.moveTo(ie,me),this.__originalMoveTo(ie,me)},Ae.lineTo=function(ie,me){ce.lineTo(ie,me),this.__originalLineTo(ie,me)},Ae.bezierCurveTo=function(ie,me,Se,Ce,xe,Re){ce.bezierCurveTo(ie,me,Se,Ce,xe,Re),this.__originalBezierCurveTo(ie,me,Se,Ce,xe,Re)},Ae.rect=function(ie,me,Se,Ce){ce.rect(ie,me,Se,Ce),this.__originalRect(ie,me,Se,Ce)},Ae.closePath=function(){ce.closePath(),this.__originalClosePath()},Ae.beginPath=function(){ce.beginPath(),this.__originalBeginPath()}}class G{constructor(ce){this.canvasFactory=ce,this.cache=Object.create(null)}getCanvas(ce,ie,me){let Se;return this.cache[ce]!==void 0?(Se=this.cache[ce],this.canvasFactory.reset(Se,ie,me)):(Se=this.canvasFactory.create(ie,me),this.cache[ce]=Se),Se}delete(ce){delete this.cache[ce]}clear(){for(const ce in this.cache){const ie=this.cache[ce];this.canvasFactory.destroy(ie),delete this.cache[ce]}}}function U(Ae,ce,ie,me,Se,Ce,xe,Re,Ue,nt){const[We,Qe,Xe,se,he,ye]=(0,O.getCurrentTransform)(Ae);if(Qe===0&&Xe===0){const $e=xe*We+he,rt=Math.round($e),ot=Re*se+ye,at=Math.round(ot),Je=(xe+Ue)*We+he,ft=Math.abs(Math.round(Je)-rt)||1,dt=(Re+nt)*se+ye,_t=Math.abs(Math.round(dt)-at)||1;return Ae.setTransform(Math.sign(We),0,0,Math.sign(se),rt,at),Ae.drawImage(ce,ie,me,Se,Ce,0,0,ft,_t),Ae.setTransform(We,Qe,Xe,se,he,ye),[ft,_t]}if(We===0&&se===0){const $e=Re*Xe+he,rt=Math.round($e),ot=xe*Qe+ye,at=Math.round(ot),Je=(Re+nt)*Xe+he,ft=Math.abs(Math.round(Je)-rt)||1,dt=(xe+Ue)*Qe+ye,_t=Math.abs(Math.round(dt)-at)||1;return Ae.setTransform(0,Math.sign(Qe),Math.sign(Xe),0,rt,at),Ae.drawImage(ce,ie,me,Se,Ce,0,0,_t,ft),Ae.setTransform(We,Qe,Xe,se,he,ye),[_t,ft]}Ae.drawImage(ce,ie,me,Se,Ce,xe,Re,Ue,nt);const ke=Math.hypot(We,Qe),_e=Math.hypot(Xe,se);return[ke*Ue,_e*nt]}function J(Ae){const{width:ce,height:ie}=Ae;if(ce>oe||ie>oe)return null;const me=1e3,Se=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ce=ce+1;let xe=new Uint8Array(Ce*(ie+1)),Re,Ue,nt;const We=ce+7&-8;let Qe=new Uint8Array(We*ie),Xe=0;for(const _e of Ae.data){let $e=128;for(;$e>0;)Qe[Xe++]=_e&$e?0:255,$e>>=1}let se=0;for(Xe=0,Qe[Xe]!==0&&(xe[0]=1,++se),Ue=1;Ue<ce;Ue++)Qe[Xe]!==Qe[Xe+1]&&(xe[Ue]=Qe[Xe]?2:1,++se),Xe++;for(Qe[Xe]!==0&&(xe[Ue]=2,++se),Re=1;Re<ie;Re++){Xe=Re*We,nt=Re*Ce,Qe[Xe-We]!==Qe[Xe]&&(xe[nt]=Qe[Xe]?1:8,++se);let _e=(Qe[Xe]?4:0)+(Qe[Xe-We]?8:0);for(Ue=1;Ue<ce;Ue++)_e=(_e>>2)+(Qe[Xe+1]?4:0)+(Qe[Xe-We+1]?8:0),Se[_e]&&(xe[nt+Ue]=Se[_e],++se),Xe++;if(Qe[Xe-We]!==Qe[Xe]&&(xe[nt+Ue]=Qe[Xe]?2:4,++se),se>me)return null}for(Xe=We*(ie-1),nt=Re*Ce,Qe[Xe]!==0&&(xe[nt]=8,++se),Ue=1;Ue<ce;Ue++)Qe[Xe]!==Qe[Xe+1]&&(xe[nt+Ue]=Qe[Xe]?4:8,++se),Xe++;if(Qe[Xe]!==0&&(xe[nt+Ue]=4,++se),se>me)return null;const he=new Int32Array([0,Ce,-1,0,-Ce,0,0,0,1]),ye=new Path2D;for(Re=0;se&&Re<=ie;Re++){let _e=Re*Ce;const $e=_e+ce;for(;_e<$e&&!xe[_e];)_e++;if(_e===$e)continue;ye.moveTo(_e%Ce,Re);const rt=_e;let ot=xe[_e];do{const at=he[ot];do _e+=at;while(!xe[_e]);const Je=xe[_e];Je!==5&&Je!==10?(ot=Je,xe[_e]=0):(ot=Je&51*ot>>4,xe[_e]&=ot>>2|ot<<2),ye.lineTo(_e%Ce,_e/Ce|0),xe[_e]||--se}while(rt!==_e);--Re}return Qe=null,xe=null,function(_e){_e.save(),_e.scale(1/ce,-1/ie),_e.translate(0,-ie),_e.fill(ye),_e.beginPath(),_e.restore()}}class K{constructor(ce,ie){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=B.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=B.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ce,ie])}clone(){const ce=Object.create(this);return ce.clipBox=this.clipBox.slice(),ce}setCurrentPoint(ce,ie){this.x=ce,this.y=ie}updatePathMinMax(ce,ie,me){[ie,me]=B.Util.applyTransform([ie,me],ce),this.minX=Math.min(this.minX,ie),this.minY=Math.min(this.minY,me),this.maxX=Math.max(this.maxX,ie),this.maxY=Math.max(this.maxY,me)}updateRectMinMax(ce,ie){const me=B.Util.applyTransform(ie,ce),Se=B.Util.applyTransform(ie.slice(2),ce);this.minX=Math.min(this.minX,me[0],Se[0]),this.minY=Math.min(this.minY,me[1],Se[1]),this.maxX=Math.max(this.maxX,me[0],Se[0]),this.maxY=Math.max(this.maxY,me[1],Se[1])}updateScalingPathMinMax(ce,ie){B.Util.scaleMinMax(ce,ie),this.minX=Math.min(this.minX,ie[0]),this.maxX=Math.max(this.maxX,ie[1]),this.minY=Math.min(this.minY,ie[2]),this.maxY=Math.max(this.maxY,ie[3])}updateCurvePathMinMax(ce,ie,me,Se,Ce,xe,Re,Ue,nt,We){const Qe=B.Util.bezierBoundingBox(ie,me,Se,Ce,xe,Re,Ue,nt);if(We){We[0]=Math.min(We[0],Qe[0],Qe[2]),We[1]=Math.max(We[1],Qe[0],Qe[2]),We[2]=Math.min(We[2],Qe[1],Qe[3]),We[3]=Math.max(We[3],Qe[1],Qe[3]);return}this.updateRectMinMax(ce,Qe)}getPathBoundingBox(ce=R.PathType.FILL,ie=null){const me=[this.minX,this.minY,this.maxX,this.maxY];if(ce===R.PathType.STROKE){ie||(0,B.unreachable)("Stroke bounding box must include transform.");const Se=B.Util.singularValueDecompose2dScale(ie),Ce=Se[0]*this.lineWidth/2,xe=Se[1]*this.lineWidth/2;me[0]-=Ce,me[1]-=xe,me[2]+=Ce,me[3]+=xe}return me}updateClipFromPath(){const ce=B.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ce||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ce){this.clipBox=ce,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ce=R.PathType.FILL,ie=null){return B.Util.intersect(this.clipBox,this.getPathBoundingBox(ce,ie))}}function W(Ae,ce,ie=null){if(typeof ImageData<"u"&&ce instanceof ImageData){Ae.putImageData(ce,0,0);return}const me=ce.height,Se=ce.width,Ce=me%ee,xe=(me-Ce)/ee,Re=Ce===0?xe:xe+1,Ue=Ae.createImageData(Se,ee);let nt=0,We;const Qe=ce.data,Xe=Ue.data;let se,he,ye,ke,_e,$e,rt,ot;if(ie)switch(ie.length){case 1:_e=ie[0],$e=ie[0],rt=ie[0],ot=ie[0];break;case 4:_e=ie[0],$e=ie[1],rt=ie[2],ot=ie[3];break}if(ce.kind===B.ImageKind.GRAYSCALE_1BPP){const at=Qe.byteLength,Je=new Uint32Array(Xe.buffer,0,Xe.byteLength>>2),ft=Je.length,dt=Se+7>>3;let _t=4294967295,St=B.FeatureTest.isLittleEndian?4278190080:255;for(ot&&ot[0]===255&&ot[255]===0&&([_t,St]=[St,_t]),se=0;se<Re;se++){for(ye=se<xe?ee:Ce,We=0,he=0;he<ye;he++){const It=at-nt;let Vt=0;const jt=It>dt?Se:It*8-7,Me=jt&-8;let Ie=0,je=0;for(;Vt<Me;Vt+=8)je=Qe[nt++],Je[We++]=je&128?_t:St,Je[We++]=je&64?_t:St,Je[We++]=je&32?_t:St,Je[We++]=je&16?_t:St,Je[We++]=je&8?_t:St,Je[We++]=je&4?_t:St,Je[We++]=je&2?_t:St,Je[We++]=je&1?_t:St;for(;Vt<jt;Vt++)Ie===0&&(je=Qe[nt++],Ie=128),Je[We++]=je&Ie?_t:St,Ie>>=1}for(;We<ft;)Je[We++]=0;Ae.putImageData(Ue,0,se*ee)}}else if(ce.kind===B.ImageKind.RGBA_32BPP){const at=!!(_e||$e||rt);for(he=0,ke=Se*ee*4,se=0;se<xe;se++){if(Xe.set(Qe.subarray(nt,nt+ke)),nt+=ke,at)for(let Je=0;Je<ke;Je+=4)_e&&(Xe[Je+0]=_e[Xe[Je+0]]),$e&&(Xe[Je+1]=$e[Xe[Je+1]]),rt&&(Xe[Je+2]=rt[Xe[Je+2]]);Ae.putImageData(Ue,0,he),he+=ee}if(se<Re){if(ke=Se*Ce*4,Xe.set(Qe.subarray(nt,nt+ke)),at)for(let Je=0;Je<ke;Je+=4)_e&&(Xe[Je+0]=_e[Xe[Je+0]]),$e&&(Xe[Je+1]=$e[Xe[Je+1]]),rt&&(Xe[Je+2]=rt[Xe[Je+2]]);Ae.putImageData(Ue,0,he)}}else if(ce.kind===B.ImageKind.RGB_24BPP){const at=!!(_e||$e||rt);for(ye=ee,ke=Se*ye,se=0;se<Re;se++){for(se>=xe&&(ye=Ce,ke=Se*ye),We=0,he=ke;he--;)Xe[We++]=Qe[nt++],Xe[We++]=Qe[nt++],Xe[We++]=Qe[nt++],Xe[We++]=255;if(at)for(let Je=0;Je<We;Je+=4)_e&&(Xe[Je+0]=_e[Xe[Je+0]]),$e&&(Xe[Je+1]=$e[Xe[Je+1]]),rt&&(Xe[Je+2]=rt[Xe[Je+2]]);Ae.putImageData(Ue,0,se*ee)}}else throw new Error("bad image kind: ".concat(ce.kind))}function q(Ae,ce){if(ce.bitmap){Ae.drawImage(ce.bitmap,0,0);return}const ie=ce.height,me=ce.width,Se=ie%ee,Ce=(ie-Se)/ee,xe=Se===0?Ce:Ce+1,Re=Ae.createImageData(me,ee);let Ue=0;const nt=ce.data,We=Re.data;for(let Qe=0;Qe<xe;Qe++){const Xe=Qe<Ce?ee:Se;({srcPos:Ue}=(0,re.applyMaskImageData)({src:nt,srcPos:Ue,dest:We,width:me,height:Xe})),Ae.putImageData(Re,0,Qe*ee)}}function H(Ae,ce){const ie=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const me of ie)Ae[me]!==void 0&&(ce[me]=Ae[me]);Ae.setLineDash!==void 0&&(ce.setLineDash(Ae.getLineDash()),ce.lineDashOffset=Ae.lineDashOffset)}function X(Ae,ce){Ae.strokeStyle=Ae.fillStyle=ce||"#000000",Ae.fillRule="nonzero",Ae.globalAlpha=1,Ae.lineWidth=1,Ae.lineCap="butt",Ae.lineJoin="miter",Ae.miterLimit=10,Ae.globalCompositeOperation="source-over",Ae.font="10px sans-serif",Ae.setLineDash!==void 0&&(Ae.setLineDash([]),Ae.lineDashOffset=0)}function ue(Ae,ce,ie,me){const Se=Ae.length;for(let Ce=3;Ce<Se;Ce+=4){const xe=Ae[Ce];if(xe===0)Ae[Ce-3]=ce,Ae[Ce-2]=ie,Ae[Ce-1]=me;else if(xe<255){const Re=255-xe;Ae[Ce-3]=Ae[Ce-3]*xe+ce*Re>>8,Ae[Ce-2]=Ae[Ce-2]*xe+ie*Re>>8,Ae[Ce-1]=Ae[Ce-1]*xe+me*Re>>8}}}function ge(Ae,ce,ie){const me=Ae.length,Se=1/255;for(let Ce=3;Ce<me;Ce+=4){const xe=ie?ie[Ae[Ce]]:Ae[Ce];ce[Ce]=ce[Ce]*xe*Se|0}}function Ee(Ae,ce,ie){const me=Ae.length;for(let Se=3;Se<me;Se+=4){const Ce=Ae[Se-3]*77+Ae[Se-2]*152+Ae[Se-1]*28;ce[Se]=ie?ce[Se]*ie[Ce>>8]>>8:ce[Se]*Ce>>16}}function we(Ae,ce,ie,me,Se,Ce,xe,Re,Ue,nt,We){const Qe=!!Ce,Xe=Qe?Ce[0]:0,se=Qe?Ce[1]:0,he=Qe?Ce[2]:0;let ye;Se==="Luminosity"?ye=Ee:ye=ge;const _e=Math.min(me,Math.ceil(1048576/ie));for(let $e=0;$e<me;$e+=_e){const rt=Math.min(_e,me-$e),ot=Ae.getImageData(Re-nt,$e+(Ue-We),ie,rt),at=ce.getImageData(Re,$e+Ue,ie,rt);Qe&&ue(ot.data,Xe,se,he),ye(ot.data,at.data,xe),ce.putImageData(at,Re,$e+Ue)}}function de(Ae,ce,ie,me){const Se=me[0],Ce=me[1],xe=me[2]-Se,Re=me[3]-Ce;xe===0||Re===0||(we(ce.context,ie,xe,Re,ce.subtype,ce.backdrop,ce.transferMap,Se,Ce,ce.offsetX,ce.offsetY),Ae.save(),Ae.globalAlpha=1,Ae.globalCompositeOperation="source-over",Ae.setTransform(1,0,0,1,0,0),Ae.drawImage(ie.canvas,0,0),Ae.restore())}function Te(Ae,ce){const ie=B.Util.singularValueDecompose2dScale(Ae);ie[0]=Math.fround(ie[0]),ie[1]=Math.fround(ie[1]);const me=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return ce!==void 0?ce:ie[0]<=me||ie[1]<=me}const it=["butt","round","square"],Ve=["miter","round","bevel"],qe={},Be={},tt=class tt{constructor(ce,ie,me,Se,{optionalContentConfig:Ce,markedContentStack:xe=null},Re,Ue){st(this,De);this.ctx=ce,this.current=new K(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ie,this.objs=me,this.canvasFactory=Se,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=xe||[],this.optionalContentConfig=Ce,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ue==null?void 0:Ue.background)||null,this.foregroundColor=(Ue==null?void 0:Ue.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ce,ie=null){return typeof ce=="string"?ce.startsWith("g_")?this.commonObjs.get(ce):this.objs.get(ce):ie}beginDrawing({transform:ce,viewport:ie,transparency:me=!1,background:Se=null}){const Ce=this.ctx.canvas.width,xe=this.ctx.canvas.height,Re=Se||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ue=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const nt=this.backgroundColor=this.ctx.fillStyle;let We=!0,Qe=Re;if(this.ctx.fillStyle=Re,Qe=this.ctx.fillStyle,We=typeof Qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Qe),Ue==="#000000"&&nt==="#ffffff"||Ue===nt||!We)this.foregroundColor=this.backgroundColor=null;else{const[Xe,se,he]=(0,O.getRGB)(Qe),ye=_e=>(_e/=255,_e<=.03928?_e/12.92:((_e+.055)/1.055)**2.4),ke=Math.round(.2126*ye(Xe)+.7152*ye(se)+.0722*ye(he));this.selectColor=(_e,$e,rt)=>{const ot=.2126*ye(_e)+.7152*ye($e)+.0722*ye(rt);return Math.round(ot)===ke?nt:Ue}}}if(this.ctx.fillStyle=this.backgroundColor||Re,this.ctx.fillRect(0,0,Ce,xe),this.ctx.restore(),me){const Ue=this.cachedCanvases.getCanvas("transparent",Ce,xe);this.compositeCtx=this.ctx,this.transparentCanvas=Ue.canvas,this.ctx=Ue.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),X(this.ctx,this.foregroundColor),ce&&(this.ctx.transform(...ce),this.outputScaleX=ce[0],this.outputScaleY=ce[0]),this.ctx.transform(...ie.transform),this.viewportScale=ie.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(ce,ie,me,Se){const Ce=ce.argsArray,xe=ce.fnArray;let Re=ie||0;const Ue=Ce.length;if(Ue===Re)return Re;const nt=Ue-Re>be&&typeof me=="function",We=nt?Date.now()+ne:0;let Qe=0;const Xe=this.commonObjs,se=this.objs;let he;for(;;){if(Se!==void 0&&Re===Se.nextBreakPoint)return Se.breakIt(Re,me),Re;if(he=xe[Re],he!==B.OPS.dependency)this[he].apply(this,Ce[Re]);else for(const ye of Ce[Re]){const ke=ye.startsWith("g_")?Xe:se;if(!ke.has(ye))return ke.get(ye,me),Re}if(Re++,Re===Ue)return Re;if(nt&&++Qe>be){if(Date.now()>We)return me(),Re;Qe=0}}}endDrawing(){ht(this,De,Kr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ce of this._cachedBitmapsMap.values()){for(const ie of ce.values())typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement&&(ie.width=ie.height=0);ce.clear()}this._cachedBitmapsMap.clear()}_scaleImage(ce,ie){const me=ce.width,Se=ce.height;let Ce=Math.max(Math.hypot(ie[0],ie[1]),1),xe=Math.max(Math.hypot(ie[2],ie[3]),1),Re=me,Ue=Se,nt="prescale1",We,Qe;for(;Ce>2&&Re>1||xe>2&&Ue>1;){let Xe=Re,se=Ue;Ce>2&&Re>1&&(Xe=Math.ceil(Re/2),Ce/=Re/Xe),xe>2&&Ue>1&&(se=Math.ceil(Ue/2),xe/=Ue/se),We=this.cachedCanvases.getCanvas(nt,Xe,se),Qe=We.context,Qe.clearRect(0,0,Xe,se),Qe.drawImage(ce,0,0,Re,Ue,0,0,Xe,se),ce=We.canvas,Re=Xe,Ue=se,nt=nt==="prescale1"?"prescale2":"prescale1"}return{img:ce,paintWidth:Re,paintHeight:Ue}}_createMaskCanvas(ce){const ie=this.ctx,{width:me,height:Se}=ce,Ce=this.current.fillColor,xe=this.current.patternFill,Re=(0,O.getCurrentTransform)(ie);let Ue,nt,We,Qe;if((ce.bitmap||ce.data)&&ce.count>1){const ft=ce.bitmap||ce.data.buffer;nt=JSON.stringify(xe?Re:[Re.slice(0,4),Ce]),Ue=this._cachedBitmapsMap.get(ft),Ue||(Ue=new Map,this._cachedBitmapsMap.set(ft,Ue));const dt=Ue.get(nt);if(dt&&!xe){const _t=Math.round(Math.min(Re[0],Re[2])+Re[4]),St=Math.round(Math.min(Re[1],Re[3])+Re[5]);return{canvas:dt,offsetX:_t,offsetY:St}}We=dt}We||(Qe=this.cachedCanvases.getCanvas("maskCanvas",me,Se),q(Qe.context,ce));let Xe=B.Util.transform(Re,[1/me,0,0,-1/Se,0,0]);Xe=B.Util.transform(Xe,[1,0,0,1,0,-Se]);const se=B.Util.applyTransform([0,0],Xe),he=B.Util.applyTransform([me,Se],Xe),ye=B.Util.normalizeRect([se[0],se[1],he[0],he[1]]),ke=Math.round(ye[2]-ye[0])||1,_e=Math.round(ye[3]-ye[1])||1,$e=this.cachedCanvases.getCanvas("fillCanvas",ke,_e),rt=$e.context,ot=Math.min(se[0],he[0]),at=Math.min(se[1],he[1]);rt.translate(-ot,-at),rt.transform(...Xe),We||(We=this._scaleImage(Qe.canvas,(0,O.getCurrentTransformInverse)(rt)),We=We.img,Ue&&xe&&Ue.set(nt,We)),rt.imageSmoothingEnabled=Te((0,O.getCurrentTransform)(rt),ce.interpolate),U(rt,We,0,0,We.width,We.height,0,0,me,Se),rt.globalCompositeOperation="source-in";const Je=B.Util.transform((0,O.getCurrentTransformInverse)(rt),[1,0,0,1,-ot,-at]);return rt.fillStyle=xe?Ce.getPattern(ie,this,Je,R.PathType.FILL):Ce,rt.fillRect(0,0,me,Se),Ue&&!xe&&(this.cachedCanvases.delete("fillCanvas"),Ue.set(nt,$e.canvas)),{canvas:$e.canvas,offsetX:Math.round(ot),offsetY:Math.round(at)}}setLineWidth(ce){ce!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=ce,this.ctx.lineWidth=ce}setLineCap(ce){this.ctx.lineCap=it[ce]}setLineJoin(ce){this.ctx.lineJoin=Ve[ce]}setMiterLimit(ce){this.ctx.miterLimit=ce}setDash(ce,ie){const me=this.ctx;me.setLineDash!==void 0&&(me.setLineDash(ce),me.lineDashOffset=ie)}setRenderingIntent(ce){}setFlatness(ce){}setGState(ce){for(const[ie,me]of ce)switch(ie){case"LW":this.setLineWidth(me);break;case"LC":this.setLineCap(me);break;case"LJ":this.setLineJoin(me);break;case"ML":this.setMiterLimit(me);break;case"D":this.setDash(me[0],me[1]);break;case"RI":this.setRenderingIntent(me);break;case"FL":this.setFlatness(me);break;case"Font":this.setFont(me[0],me[1]);break;case"CA":this.current.strokeAlpha=me;break;case"ca":this.current.fillAlpha=me,this.ctx.globalAlpha=me;break;case"BM":this.ctx.globalCompositeOperation=me;break;case"SMask":this.current.activeSMask=me?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=me}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ce=this.inSMaskMode;this.current.activeSMask&&!ce?this.beginSMaskMode():!this.current.activeSMask&&ce&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ce=this.ctx.canvas.width,ie=this.ctx.canvas.height,me="smaskGroupAt"+this.groupLevel,Se=this.cachedCanvases.getCanvas(me,ce,ie);this.suspendedCtx=this.ctx,this.ctx=Se.context;const Ce=this.ctx;Ce.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),H(this.suspendedCtx,Ce),te(Ce,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),H(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ce){if(!this.current.activeSMask)return;ce?(ce[0]=Math.floor(ce[0]),ce[1]=Math.floor(ce[1]),ce[2]=Math.ceil(ce[2]),ce[3]=Math.ceil(ce[3])):ce=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ie=this.current.activeSMask,me=this.suspendedCtx;de(me,ie,this.ctx,ce),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(H(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ce=this.current;this.stateStack.push(ce),this.current=ce.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),H(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(ce,ie,me,Se,Ce,xe){this.ctx.transform(ce,ie,me,Se,Ce,xe),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(ce,ie,me){const Se=this.ctx,Ce=this.current;let xe=Ce.x,Re=Ce.y,Ue,nt;const We=(0,O.getCurrentTransform)(Se),Qe=We[0]===0&&We[3]===0||We[1]===0&&We[2]===0,Xe=Qe?me.slice(0):null;for(let se=0,he=0,ye=ce.length;se<ye;se++)switch(ce[se]|0){case B.OPS.rectangle:xe=ie[he++],Re=ie[he++];const ke=ie[he++],_e=ie[he++],$e=xe+ke,rt=Re+_e;Se.moveTo(xe,Re),ke===0||_e===0?Se.lineTo($e,rt):(Se.lineTo($e,Re),Se.lineTo($e,rt),Se.lineTo(xe,rt)),Qe||Ce.updateRectMinMax(We,[xe,Re,$e,rt]),Se.closePath();break;case B.OPS.moveTo:xe=ie[he++],Re=ie[he++],Se.moveTo(xe,Re),Qe||Ce.updatePathMinMax(We,xe,Re);break;case B.OPS.lineTo:xe=ie[he++],Re=ie[he++],Se.lineTo(xe,Re),Qe||Ce.updatePathMinMax(We,xe,Re);break;case B.OPS.curveTo:Ue=xe,nt=Re,xe=ie[he+4],Re=ie[he+5],Se.bezierCurveTo(ie[he],ie[he+1],ie[he+2],ie[he+3],xe,Re),Ce.updateCurvePathMinMax(We,Ue,nt,ie[he],ie[he+1],ie[he+2],ie[he+3],xe,Re,Xe),he+=6;break;case B.OPS.curveTo2:Ue=xe,nt=Re,Se.bezierCurveTo(xe,Re,ie[he],ie[he+1],ie[he+2],ie[he+3]),Ce.updateCurvePathMinMax(We,Ue,nt,xe,Re,ie[he],ie[he+1],ie[he+2],ie[he+3],Xe),xe=ie[he+2],Re=ie[he+3],he+=4;break;case B.OPS.curveTo3:Ue=xe,nt=Re,xe=ie[he+2],Re=ie[he+3],Se.bezierCurveTo(ie[he],ie[he+1],xe,Re,xe,Re),Ce.updateCurvePathMinMax(We,Ue,nt,ie[he],ie[he+1],xe,Re,xe,Re,Xe),he+=4;break;case B.OPS.closePath:Se.closePath();break}Qe&&Ce.updateScalingPathMinMax(We,Xe),Ce.setCurrentPoint(xe,Re)}closePath(){this.ctx.closePath()}stroke(ce=!0){const ie=this.ctx,me=this.current.strokeColor;ie.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof me=="object"&&(me!=null&&me.getPattern)?(ie.save(),ie.strokeStyle=me.getPattern(ie,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.STROKE),this.rescaleAndStroke(!1),ie.restore()):this.rescaleAndStroke(!0)),ce&&this.consumePath(this.current.getClippedPathBoundingBox()),ie.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ce=!0){const ie=this.ctx,me=this.current.fillColor,Se=this.current.patternFill;let Ce=!1;Se&&(ie.save(),ie.fillStyle=me.getPattern(ie,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.FILL),Ce=!0);const xe=this.current.getClippedPathBoundingBox();this.contentVisible&&xe!==null&&(this.pendingEOFill?(ie.fill("evenodd"),this.pendingEOFill=!1):ie.fill()),Ce&&ie.restore(),ce&&this.consumePath(xe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=qe}eoClip(){this.pendingClip=Be}beginText(){this.current.textMatrix=B.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ce=this.pendingTextPaths,ie=this.ctx;if(ce===void 0){ie.beginPath();return}ie.save(),ie.beginPath();for(const me of ce)ie.setTransform(...me.transform),ie.translate(me.x,me.y),me.addToPath(ie,me.fontSize);ie.restore(),ie.clip(),ie.beginPath(),delete this.pendingTextPaths}setCharSpacing(ce){this.current.charSpacing=ce}setWordSpacing(ce){this.current.wordSpacing=ce}setHScale(ce){this.current.textHScale=ce/100}setLeading(ce){this.current.leading=-ce}setFont(ce,ie){const me=this.commonObjs.get(ce),Se=this.current;if(!me)throw new Error("Can't find font for ".concat(ce));if(Se.fontMatrix=me.fontMatrix||B.FONT_IDENTITY_MATRIX,(Se.fontMatrix[0]===0||Se.fontMatrix[3]===0)&&(0,B.warn)("Invalid font matrix for font "+ce),ie<0?(ie=-ie,Se.fontDirection=-1):Se.fontDirection=1,this.current.font=me,this.current.fontSize=ie,me.isType3Font)return;const Ce=me.loadedName||"sans-serif";let xe="normal";me.black?xe="900":me.bold&&(xe="bold");const Re=me.italic?"italic":"normal",Ue='"'.concat(Ce,'", ').concat(me.fallbackName);let nt=ie;ie<le?nt=le:ie>pe&&(nt=pe),this.current.fontSizeScale=ie/nt,this.ctx.font="".concat(Re," ").concat(xe," ").concat(nt,"px ").concat(Ue)}setTextRenderingMode(ce){this.current.textRenderingMode=ce}setTextRise(ce){this.current.textRise=ce}moveText(ce,ie){this.current.x=this.current.lineX+=ce,this.current.y=this.current.lineY+=ie}setLeadingMoveText(ce,ie){this.setLeading(-ie),this.moveText(ce,ie)}setTextMatrix(ce,ie,me,Se,Ce,xe){this.current.textMatrix=[ce,ie,me,Se,Ce,xe],this.current.textMatrixScale=Math.hypot(ce,ie),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ce,ie,me,Se){const Ce=this.ctx,xe=this.current,Re=xe.font,Ue=xe.textRenderingMode,nt=xe.fontSize/xe.fontSizeScale,We=Ue&B.TextRenderingMode.FILL_STROKE_MASK,Qe=!!(Ue&B.TextRenderingMode.ADD_TO_PATH_FLAG),Xe=xe.patternFill&&!Re.missingFile;let se;(Re.disableFontFace||Qe||Xe)&&(se=Re.getPathGenerator(this.commonObjs,ce)),Re.disableFontFace||Xe?(Ce.save(),Ce.translate(ie,me),Ce.beginPath(),se(Ce,nt),Se&&Ce.setTransform(...Se),(We===B.TextRenderingMode.FILL||We===B.TextRenderingMode.FILL_STROKE)&&Ce.fill(),(We===B.TextRenderingMode.STROKE||We===B.TextRenderingMode.FILL_STROKE)&&Ce.stroke(),Ce.restore()):((We===B.TextRenderingMode.FILL||We===B.TextRenderingMode.FILL_STROKE)&&Ce.fillText(ce,ie,me),(We===B.TextRenderingMode.STROKE||We===B.TextRenderingMode.FILL_STROKE)&&Ce.strokeText(ce,ie,me)),Qe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(Ce),x:ie,y:me,fontSize:nt,addToPath:se})}get isFontSubpixelAAEnabled(){const{context:ce}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ce.scale(1.5,1),ce.fillText("I",0,10);const ie=ce.getImageData(0,0,10,10).data;let me=!1;for(let Se=3;Se<ie.length;Se+=4)if(ie[Se]>0&&ie[Se]<255){me=!0;break}return(0,B.shadow)(this,"isFontSubpixelAAEnabled",me)}showText(ce){const ie=this.current,me=ie.font;if(me.isType3Font)return this.showType3Text(ce);const Se=ie.fontSize;if(Se===0)return;const Ce=this.ctx,xe=ie.fontSizeScale,Re=ie.charSpacing,Ue=ie.wordSpacing,nt=ie.fontDirection,We=ie.textHScale*nt,Qe=ce.length,Xe=me.vertical,se=Xe?1:-1,he=me.defaultVMetrics,ye=Se*ie.fontMatrix[0],ke=ie.textRenderingMode===B.TextRenderingMode.FILL&&!me.disableFontFace&&!ie.patternFill;Ce.save(),Ce.transform(...ie.textMatrix),Ce.translate(ie.x,ie.y+ie.textRise),nt>0?Ce.scale(We,-1):Ce.scale(We,1);let _e;if(ie.patternFill){Ce.save();const Je=ie.fillColor.getPattern(Ce,this,(0,O.getCurrentTransformInverse)(Ce),R.PathType.FILL);_e=(0,O.getCurrentTransform)(Ce),Ce.restore(),Ce.fillStyle=Je}let $e=ie.lineWidth;const rt=ie.textMatrixScale;if(rt===0||$e===0){const Je=ie.textRenderingMode&B.TextRenderingMode.FILL_STROKE_MASK;(Je===B.TextRenderingMode.STROKE||Je===B.TextRenderingMode.FILL_STROKE)&&($e=this.getSinglePixelWidth())}else $e/=rt;if(xe!==1&&(Ce.scale(xe,xe),$e/=xe),Ce.lineWidth=$e,me.isInvalidPDFjsFont){const Je=[];let ft=0;for(const dt of ce)Je.push(dt.unicode),ft+=dt.width;Ce.fillText(Je.join(""),0,0),ie.x+=ft*ye*We,Ce.restore(),this.compose();return}let ot=0,at;for(at=0;at<Qe;++at){const Je=ce[at];if(typeof Je=="number"){ot+=se*Je*Se/1e3;continue}let ft=!1;const dt=(Je.isSpace?Ue:0)+Re,_t=Je.fontChar,St=Je.accent;let It,Vt,jt=Je.width;if(Xe){const Ie=Je.vmetric||he,je=-(Je.vmetric?Ie[1]:jt*.5)*ye,pt=Ie[2]*ye;jt=Ie?-Ie[0]:jt,It=je/xe,Vt=(ot+pt)/xe}else It=ot/xe,Vt=0;if(me.remeasure&&jt>0){const Ie=Ce.measureText(_t).width*1e3/Se*xe;if(jt<Ie&&this.isFontSubpixelAAEnabled){const je=jt/Ie;ft=!0,Ce.save(),Ce.scale(je,1),It/=je}else jt!==Ie&&(It+=(jt-Ie)/2e3*Se/xe)}if(this.contentVisible&&(Je.isInFont||me.missingFile)){if(ke&&!St)Ce.fillText(_t,It,Vt);else if(this.paintChar(_t,It,Vt,_e),St){const Ie=It+Se*St.offset.x/xe,je=Vt-Se*St.offset.y/xe;this.paintChar(St.fontChar,Ie,je,_e)}}let Me;Xe?Me=jt*ye-dt*nt:Me=jt*ye+dt*nt,ot+=Me,ft&&Ce.restore()}Xe?ie.y-=ot:ie.x+=ot*We,Ce.restore(),this.compose()}showType3Text(ce){const ie=this.ctx,me=this.current,Se=me.font,Ce=me.fontSize,xe=me.fontDirection,Re=Se.vertical?1:-1,Ue=me.charSpacing,nt=me.wordSpacing,We=me.textHScale*xe,Qe=me.fontMatrix||B.FONT_IDENTITY_MATRIX,Xe=ce.length,se=me.textRenderingMode===B.TextRenderingMode.INVISIBLE;let he,ye,ke,_e;if(!(se||Ce===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ie.save(),ie.transform(...me.textMatrix),ie.translate(me.x,me.y),ie.scale(We,xe),he=0;he<Xe;++he){if(ye=ce[he],typeof ye=="number"){_e=Re*ye*Ce/1e3,this.ctx.translate(_e,0),me.x+=_e*We;continue}const $e=(ye.isSpace?nt:0)+Ue,rt=Se.charProcOperatorList[ye.operatorListId];if(!rt){(0,B.warn)('Type3 character "'.concat(ye.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=ye,this.save(),ie.scale(Ce,Ce),ie.transform(...Qe),this.executeOperatorList(rt),this.restore()),ke=B.Util.applyTransform([ye.width,0],Qe)[0]*Ce+$e,ie.translate(ke,0),me.x+=ke*We}ie.restore(),this.processingType3=null}}setCharWidth(ce,ie){}setCharWidthAndBounds(ce,ie,me,Se,Ce,xe){this.ctx.rect(me,Se,Ce-me,xe-Se),this.ctx.clip(),this.endPath()}getColorN_Pattern(ce){let ie;if(ce[0]==="TilingPattern"){const me=ce[1],Se=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),Ce={createCanvasGraphics:xe=>new tt(xe,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ie=new R.TilingPattern(ce,me,this.ctx,Ce,Se)}else ie=this._getPattern(ce[1],ce[2]);return ie}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ce,ie,me){var Ce;const Se=((Ce=this.selectColor)==null?void 0:Ce.call(this,ce,ie,me))||B.Util.makeHexColor(ce,ie,me);this.ctx.strokeStyle=Se,this.current.strokeColor=Se}setFillRGBColor(ce,ie,me){var Ce;const Se=((Ce=this.selectColor)==null?void 0:Ce.call(this,ce,ie,me))||B.Util.makeHexColor(ce,ie,me);this.ctx.fillStyle=Se,this.current.fillColor=Se,this.current.patternFill=!1}_getPattern(ce,ie=null){let me;return this.cachedPatterns.has(ce)?me=this.cachedPatterns.get(ce):(me=(0,R.getShadingPattern)(this.objs.get(ce)),this.cachedPatterns.set(ce,me)),ie&&(me.matrix=ie),me}shadingFill(ce){if(!this.contentVisible)return;const ie=this.ctx;this.save();const me=this._getPattern(ce);ie.fillStyle=me.getPattern(ie,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.SHADING);const Se=(0,O.getCurrentTransformInverse)(ie);if(Se){const Ce=ie.canvas,xe=Ce.width,Re=Ce.height,Ue=B.Util.applyTransform([0,0],Se),nt=B.Util.applyTransform([0,Re],Se),We=B.Util.applyTransform([xe,0],Se),Qe=B.Util.applyTransform([xe,Re],Se),Xe=Math.min(Ue[0],nt[0],We[0],Qe[0]),se=Math.min(Ue[1],nt[1],We[1],Qe[1]),he=Math.max(Ue[0],nt[0],We[0],Qe[0]),ye=Math.max(Ue[1],nt[1],We[1],Qe[1]);this.ctx.fillRect(Xe,se,he-Xe,ye-se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,B.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,B.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ce,ie){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ce)&&ce.length===6&&this.transform(...ce),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),ie)){const me=ie[2]-ie[0],Se=ie[3]-ie[1];this.ctx.rect(ie[0],ie[1],me,Se),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),ie),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ce){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ie=this.ctx;ce.isolated||(0,B.info)("TODO: Support non-isolated groups."),ce.knockout&&(0,B.warn)("Knockout groups not supported.");const me=(0,O.getCurrentTransform)(ie);if(ce.matrix&&ie.transform(...ce.matrix),!ce.bbox)throw new Error("Bounding box is required.");let Se=B.Util.getAxialAlignedBoundingBox(ce.bbox,(0,O.getCurrentTransform)(ie));const Ce=[0,0,ie.canvas.width,ie.canvas.height];Se=B.Util.intersect(Se,Ce)||[0,0,0,0];const xe=Math.floor(Se[0]),Re=Math.floor(Se[1]);let Ue=Math.max(Math.ceil(Se[2])-xe,1),nt=Math.max(Math.ceil(Se[3])-Re,1),We=1,Qe=1;Ue>ae&&(We=Ue/ae,Ue=ae),nt>ae&&(Qe=nt/ae,nt=ae),this.current.startNewPathAndClipBox([0,0,Ue,nt]);let Xe="groupAt"+this.groupLevel;ce.smask&&(Xe+="_smask_"+this.smaskCounter++%2);const se=this.cachedCanvases.getCanvas(Xe,Ue,nt),he=se.context;he.scale(1/We,1/Qe),he.translate(-xe,-Re),he.transform(...me),ce.smask?this.smaskStack.push({canvas:se.canvas,context:he,offsetX:xe,offsetY:Re,scaleX:We,scaleY:Qe,subtype:ce.smask.subtype,backdrop:ce.smask.backdrop,transferMap:ce.smask.transferMap||null,startTransformInverse:null}):(ie.setTransform(1,0,0,1,0,0),ie.translate(xe,Re),ie.scale(We,Qe),ie.save()),H(ie,he),this.ctx=he,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ie),this.groupLevel++}endGroup(ce){if(!this.contentVisible)return;this.groupLevel--;const ie=this.ctx,me=this.groupStack.pop();if(this.ctx=me,this.ctx.imageSmoothingEnabled=!1,ce.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Se=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Se);const Ce=B.Util.getAxialAlignedBoundingBox([0,0,ie.canvas.width,ie.canvas.height],Se);this.ctx.drawImage(ie.canvas,0,0),this.ctx.restore(),this.compose(Ce)}}beginAnnotation(ce,ie,me,Se,Ce){if(ht(this,De,Kr).call(this),X(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ie)&&ie.length===4){const xe=ie[2]-ie[0],Re=ie[3]-ie[1];if(Ce&&this.annotationCanvasMap){me=me.slice(),me[4]-=ie[0],me[5]-=ie[1],ie=ie.slice(),ie[0]=ie[1]=0,ie[2]=xe,ie[3]=Re;const[Ue,nt]=B.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:We}=this,Qe=Math.ceil(xe*this.outputScaleX*We),Xe=Math.ceil(Re*this.outputScaleY*We);this.annotationCanvas=this.canvasFactory.create(Qe,Xe);const{canvas:se,context:he}=this.annotationCanvas;this.annotationCanvasMap.set(ce,se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=he,this.ctx.setTransform(Ue,0,0,-nt,0,Re*nt),X(this.ctx,this.foregroundColor)}else X(this.ctx,this.foregroundColor),this.ctx.rect(ie[0],ie[1],xe,Re),this.ctx.clip(),this.endPath()}this.current=new K(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...me),this.transform(...Se)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ce){if(!this.contentVisible)return;const ie=ce.count;ce=this.getObject(ce.data,ce),ce.count=ie;const me=this.ctx,Se=this.processingType3;if(Se&&(Se.compiled===void 0&&(Se.compiled=J(ce)),Se.compiled)){Se.compiled(me);return}const Ce=this._createMaskCanvas(ce),xe=Ce.canvas;me.save(),me.setTransform(1,0,0,1,0,0),me.drawImage(xe,Ce.offsetX,Ce.offsetY),me.restore(),this.compose()}paintImageMaskXObjectRepeat(ce,ie,me=0,Se=0,Ce,xe){if(!this.contentVisible)return;ce=this.getObject(ce.data,ce);const Re=this.ctx;Re.save();const Ue=(0,O.getCurrentTransform)(Re);Re.transform(ie,me,Se,Ce,0,0);const nt=this._createMaskCanvas(ce);Re.setTransform(1,0,0,1,nt.offsetX-Ue[4],nt.offsetY-Ue[5]);for(let We=0,Qe=xe.length;We<Qe;We+=2){const Xe=B.Util.transform(Ue,[ie,me,Se,Ce,xe[We],xe[We+1]]),[se,he]=B.Util.applyTransform([0,0],Xe);Re.drawImage(nt.canvas,se,he)}Re.restore(),this.compose()}paintImageMaskXObjectGroup(ce){if(!this.contentVisible)return;const ie=this.ctx,me=this.current.fillColor,Se=this.current.patternFill;for(const Ce of ce){const{data:xe,width:Re,height:Ue,transform:nt}=Ce,We=this.cachedCanvases.getCanvas("maskCanvas",Re,Ue),Qe=We.context;Qe.save();const Xe=this.getObject(xe,Ce);q(Qe,Xe),Qe.globalCompositeOperation="source-in",Qe.fillStyle=Se?me.getPattern(Qe,this,(0,O.getCurrentTransformInverse)(ie),R.PathType.FILL):me,Qe.fillRect(0,0,Re,Ue),Qe.restore(),ie.save(),ie.transform(...nt),ie.scale(1,-1),U(ie,We.canvas,0,0,Re,Ue,0,-1,1,1),ie.restore()}this.compose()}paintImageXObject(ce){if(!this.contentVisible)return;const ie=this.getObject(ce);if(!ie){(0,B.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ie)}paintImageXObjectRepeat(ce,ie,me,Se){if(!this.contentVisible)return;const Ce=this.getObject(ce);if(!Ce){(0,B.warn)("Dependent image isn't ready yet");return}const xe=Ce.width,Re=Ce.height,Ue=[];for(let nt=0,We=Se.length;nt<We;nt+=2)Ue.push({transform:[ie,0,0,me,Se[nt],Se[nt+1]],x:0,y:0,w:xe,h:Re});this.paintInlineImageXObjectGroup(Ce,Ue)}paintInlineImageXObject(ce){if(!this.contentVisible)return;const ie=ce.width,me=ce.height,Se=this.ctx;this.save(),Se.scale(1/ie,-1/me);let Ce;if(typeof HTMLElement=="function"&&ce instanceof HTMLElement||!ce.data)Ce=ce;else{const Re=this.cachedCanvases.getCanvas("inlineImage",ie,me),Ue=Re.context;W(Ue,ce,this.current.transferMaps),Ce=Re.canvas}const xe=this._scaleImage(Ce,(0,O.getCurrentTransformInverse)(Se));Se.imageSmoothingEnabled=Te((0,O.getCurrentTransform)(Se),ce.interpolate),U(Se,xe.img,0,0,xe.paintWidth,xe.paintHeight,0,-me,ie,me),this.compose(),this.restore()}paintInlineImageXObjectGroup(ce,ie){if(!this.contentVisible)return;const me=this.ctx,Se=ce.width,Ce=ce.height,xe=this.cachedCanvases.getCanvas("inlineImage",Se,Ce),Re=xe.context;W(Re,ce,this.current.transferMaps);for(const Ue of ie)me.save(),me.transform(...Ue.transform),me.scale(1,-1),U(me,xe.canvas,Ue.x,Ue.y,Ue.w,Ue.h,0,-1,1,1),me.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ce){}markPointProps(ce,ie){}beginMarkedContent(ce){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ce,ie){ce==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ie)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ce){const ie=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ce);const me=this.ctx;this.pendingClip&&(ie||(this.pendingClip===Be?me.clip("evenodd"):me.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),me.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ce=(0,O.getCurrentTransform)(this.ctx);if(ce[1]===0&&ce[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ce[0]),Math.abs(ce[3]));else{const ie=Math.abs(ce[0]*ce[3]-ce[2]*ce[1]),me=Math.hypot(ce[0],ce[2]),Se=Math.hypot(ce[1],ce[3]);this._cachedGetSinglePixelWidth=Math.max(me,Se)/ie}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:ce}=this.current,ie=(0,O.getCurrentTransform)(this.ctx);let me,Se;if(ie[1]===0&&ie[2]===0){const Ce=Math.abs(ie[0]),xe=Math.abs(ie[3]);if(ce===0)me=1/Ce,Se=1/xe;else{const Re=Ce*ce,Ue=xe*ce;me=Re<1?1/Re:1,Se=Ue<1?1/Ue:1}}else{const Ce=Math.abs(ie[0]*ie[3]-ie[2]*ie[1]),xe=Math.hypot(ie[0],ie[1]),Re=Math.hypot(ie[2],ie[3]);if(ce===0)me=Re/Ce,Se=xe/Ce;else{const Ue=ce*Ce;me=Re>Ue?Re/Ue:1,Se=xe>Ue?xe/Ue:1}}this._cachedScaleForStroking=[me,Se]}return this._cachedScaleForStroking}rescaleAndStroke(ce){const{ctx:ie}=this,{lineWidth:me}=this.current,[Se,Ce]=this.getScaleForStroking();if(ie.lineWidth=me||1,Se===1&&Ce===1){ie.stroke();return}let xe,Re,Ue;ce&&(xe=(0,O.getCurrentTransform)(ie),Re=ie.getLineDash().slice(),Ue=ie.lineDashOffset),ie.scale(Se,Ce);const nt=Math.max(Se,Ce);ie.setLineDash(ie.getLineDash().map(We=>We/nt)),ie.lineDashOffset/=nt,ie.stroke(),ce&&(ie.setTransform(...xe),ie.setLineDash(Re),ie.lineDashOffset=Ue)}isContentVisible(){for(let ce=this.markedContentStack.length-1;ce>=0;ce--)if(!this.markedContentStack[ce].visible)return!1;return!0}};De=new WeakSet,Kr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Oe=tt;$.CanvasGraphics=Oe;for(const Ae in B.OPS)Oe.prototype[Ae]!==void 0&&(Oe.prototype[B.OPS[Ae]]=Oe.prototype[Ae])},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ee;var B=V(1),O=V(6);const R={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=R;function re(U,J){if(!J)return;const K=J[2]-J[0],W=J[3]-J[1],q=new Path2D;q.rect(J[0],J[1],K,W),U.clip(q)}class le{constructor(){this.constructor===le&&(0,B.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,B.unreachable)("Abstract method `getPattern` called.")}}class pe extends le{constructor(J){super(),this._type=J[1],this._bbox=J[2],this._colorStops=J[3],this._p0=J[4],this._p1=J[5],this._r0=J[6],this._r1=J[7],this.matrix=null}_createGradient(J){let K;this._type==="axial"?K=J.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(K=J.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const W of this._colorStops)K.addColorStop(W[0],W[1]);return K}getPattern(J,K,W,q){let H;if(q===R.STROKE||q===R.FILL){const X=K.current.getClippedPathBoundingBox(q,(0,O.getCurrentTransform)(J))||[0,0,0,0],ue=Math.ceil(X[2]-X[0])||1,ge=Math.ceil(X[3]-X[1])||1,Ee=K.cachedCanvases.getCanvas("pattern",ue,ge,!0),we=Ee.context;we.clearRect(0,0,we.canvas.width,we.canvas.height),we.beginPath(),we.rect(0,0,we.canvas.width,we.canvas.height),we.translate(-X[0],-X[1]),W=B.Util.transform(W,[1,0,0,1,X[0],X[1]]),we.transform(...K.baseTransform),this.matrix&&we.transform(...this.matrix),re(we,this._bbox),we.fillStyle=this._createGradient(we),we.fill(),H=J.createPattern(Ee.canvas,"no-repeat");const de=new DOMMatrix(W);H.setTransform(de)}else re(J,this._bbox),H=this._createGradient(J);return H}}function ae(U,J,K,W,q,H,X,ue){const ge=J.coords,Ee=J.colors,we=U.data,de=U.width*4;let Te;ge[K+1]>ge[W+1]&&(Te=K,K=W,W=Te,Te=H,H=X,X=Te),ge[W+1]>ge[q+1]&&(Te=W,W=q,q=Te,Te=X,X=ue,ue=Te),ge[K+1]>ge[W+1]&&(Te=K,K=W,W=Te,Te=H,H=X,X=Te);const it=(ge[K]+J.offsetX)*J.scaleX,Ve=(ge[K+1]+J.offsetY)*J.scaleY,qe=(ge[W]+J.offsetX)*J.scaleX,Be=(ge[W+1]+J.offsetY)*J.scaleY,Oe=(ge[q]+J.offsetX)*J.scaleX,De=(ge[q+1]+J.offsetY)*J.scaleY;if(Ve>=De)return;const et=Ee[H],tt=Ee[H+1],Ae=Ee[H+2],ce=Ee[X],ie=Ee[X+1],me=Ee[X+2],Se=Ee[ue],Ce=Ee[ue+1],xe=Ee[ue+2],Re=Math.round(Ve),Ue=Math.round(De);let nt,We,Qe,Xe,se,he,ye,ke;for(let _e=Re;_e<=Ue;_e++){if(_e<Be){let Je;_e<Ve?Je=0:Je=(Ve-_e)/(Ve-Be),nt=it-(it-qe)*Je,We=et-(et-ce)*Je,Qe=tt-(tt-ie)*Je,Xe=Ae-(Ae-me)*Je}else{let Je;_e>De?Je=1:Be===De?Je=0:Je=(Be-_e)/(Be-De),nt=qe-(qe-Oe)*Je,We=ce-(ce-Se)*Je,Qe=ie-(ie-Ce)*Je,Xe=me-(me-xe)*Je}let $e;_e<Ve?$e=0:_e>De?$e=1:$e=(Ve-_e)/(Ve-De),se=it-(it-Oe)*$e,he=et-(et-Se)*$e,ye=tt-(tt-Ce)*$e,ke=Ae-(Ae-xe)*$e;const rt=Math.round(Math.min(nt,se)),ot=Math.round(Math.max(nt,se));let at=de*_e+rt*4;for(let Je=rt;Je<=ot;Je++)$e=(nt-Je)/(nt-se),$e<0?$e=0:$e>1&&($e=1),we[at++]=We-(We-he)*$e|0,we[at++]=Qe-(Qe-ye)*$e|0,we[at++]=Xe-(Xe-ke)*$e|0,we[at++]=255}}function ne(U,J,K){const W=J.coords,q=J.colors;let H,X;switch(J.type){case"lattice":const ue=J.verticesPerRow,ge=Math.floor(W.length/ue)-1,Ee=ue-1;for(H=0;H<ge;H++){let we=H*ue;for(let de=0;de<Ee;de++,we++)ae(U,K,W[we],W[we+1],W[we+ue],q[we],q[we+1],q[we+ue]),ae(U,K,W[we+ue+1],W[we+1],W[we+ue],q[we+ue+1],q[we+1],q[we+ue])}break;case"triangles":for(H=0,X=W.length;H<X;H+=3)ae(U,K,W[H],W[H+1],W[H+2],q[H],q[H+1],q[H+2]);break;default:throw new Error("illegal figure")}}class be extends le{constructor(J){super(),this._coords=J[2],this._colors=J[3],this._figures=J[4],this._bounds=J[5],this._bbox=J[7],this._background=J[8],this.matrix=null}_createMeshCanvas(J,K,W){const ue=Math.floor(this._bounds[0]),ge=Math.floor(this._bounds[1]),Ee=Math.ceil(this._bounds[2])-ue,we=Math.ceil(this._bounds[3])-ge,de=Math.min(Math.ceil(Math.abs(Ee*J[0]*1.1)),3e3),Te=Math.min(Math.ceil(Math.abs(we*J[1]*1.1)),3e3),it=Ee/de,Ve=we/Te,qe={coords:this._coords,colors:this._colors,offsetX:-ue,offsetY:-ge,scaleX:1/it,scaleY:1/Ve},Be=de+2*2,Oe=Te+2*2,De=W.getCanvas("mesh",Be,Oe,!1),et=De.context,tt=et.createImageData(de,Te);if(K){const ce=tt.data;for(let ie=0,me=ce.length;ie<me;ie+=4)ce[ie]=K[0],ce[ie+1]=K[1],ce[ie+2]=K[2],ce[ie+3]=255}for(const ce of this._figures)ne(tt,ce,qe);return et.putImageData(tt,2,2),{canvas:De.canvas,offsetX:ue-2*it,offsetY:ge-2*Ve,scaleX:it,scaleY:Ve}}getPattern(J,K,W,q){re(J,this._bbox);let H;if(q===R.SHADING)H=B.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(J));else if(H=B.Util.singularValueDecompose2dScale(K.baseTransform),this.matrix){const ue=B.Util.singularValueDecompose2dScale(this.matrix);H=[H[0]*ue[0],H[1]*ue[1]]}const X=this._createMeshCanvas(H,q===R.SHADING?null:this._background,K.cachedCanvases);return q!==R.SHADING&&(J.setTransform(...K.baseTransform),this.matrix&&J.transform(...this.matrix)),J.translate(X.offsetX,X.offsetY),J.scale(X.scaleX,X.scaleY),J.createPattern(X.canvas,"no-repeat")}}class oe extends le{getPattern(){return"hotpink"}}function ee(U){switch(U[0]){case"RadialAxial":return new pe(U);case"Mesh":return new be(U);case"Dummy":return new oe}throw new Error("Unknown IR type: ".concat(U[0]))}const te={COLORED:1,UNCOLORED:2};class G{static get MAX_PATTERN_SIZE(){return(0,B.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(J,K,W,q,H){this.operatorList=J[2],this.matrix=J[3]||[1,0,0,1,0,0],this.bbox=J[4],this.xstep=J[5],this.ystep=J[6],this.paintType=J[7],this.tilingType=J[8],this.color=K,this.ctx=W,this.canvasGraphicsFactory=q,this.baseTransform=H}createPatternCanvas(J){const K=this.operatorList,W=this.bbox,q=this.xstep,H=this.ystep,X=this.paintType,ue=this.tilingType,ge=this.color,Ee=this.canvasGraphicsFactory;(0,B.info)("TilingType: "+ue);const we=W[0],de=W[1],Te=W[2],it=W[3],Ve=B.Util.singularValueDecompose2dScale(this.matrix),qe=B.Util.singularValueDecompose2dScale(this.baseTransform),Be=[Ve[0]*qe[0],Ve[1]*qe[1]],Oe=this.getSizeAndScale(q,this.ctx.canvas.width,Be[0]),De=this.getSizeAndScale(H,this.ctx.canvas.height,Be[1]),et=J.cachedCanvases.getCanvas("pattern",Oe.size,De.size,!0),tt=et.context,Ae=Ee.createCanvasGraphics(tt);Ae.groupLevel=J.groupLevel,this.setFillAndStrokeStyleToContext(Ae,X,ge);let ce=we,ie=de,me=Te,Se=it;return we<0&&(ce=0,me+=Math.abs(we)),de<0&&(ie=0,Se+=Math.abs(de)),tt.translate(-(Oe.scale*ce),-(De.scale*ie)),Ae.transform(Oe.scale,0,0,De.scale,0,0),tt.save(),this.clipBbox(Ae,ce,ie,me,Se),Ae.baseTransform=(0,O.getCurrentTransform)(Ae.ctx),Ae.executeOperatorList(K),Ae.endDrawing(),{canvas:et.canvas,scaleX:Oe.scale,scaleY:De.scale,offsetX:ce,offsetY:ie}}getSizeAndScale(J,K,W){J=Math.abs(J);const q=Math.max(G.MAX_PATTERN_SIZE,K);let H=Math.ceil(J*W);return H>=q?H=q:W=H/J,{scale:W,size:H}}clipBbox(J,K,W,q,H){const X=q-K,ue=H-W;J.ctx.rect(K,W,X,ue),J.current.updateRectMinMax((0,O.getCurrentTransform)(J.ctx),[K,W,q,H]),J.clip(),J.endPath()}setFillAndStrokeStyleToContext(J,K,W){const q=J.ctx,H=J.current;switch(K){case te.COLORED:const X=this.ctx;q.fillStyle=X.fillStyle,q.strokeStyle=X.strokeStyle,H.fillColor=X.fillStyle,H.strokeColor=X.strokeStyle;break;case te.UNCOLORED:const ue=B.Util.makeHexColor(W[0],W[1],W[2]);q.fillStyle=ue,q.strokeStyle=ue,H.fillColor=ue,H.strokeColor=ue;break;default:throw new B.FormatError("Unsupported paint type: ".concat(K))}}getPattern(J,K,W,q){let H=W;q!==R.SHADING&&(H=B.Util.transform(H,K.baseTransform),this.matrix&&(H=B.Util.transform(H,this.matrix)));const X=this.createPatternCanvas(K);let ue=new DOMMatrix(H);ue=ue.translate(X.offsetX,X.offsetY),ue=ue.scale(1/X.scaleX,1/X.scaleY);const ge=J.createPattern(X.canvas,"repeat");return ge.setTransform(ue),ge}}$.TilingPattern=G},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=O;var B=V(1);function O({src:R,srcPos:re=0,dest:le,destPos:pe=0,width:ae,height:ne,inverseDecode:be=!1}){const oe=B.FeatureTest.isLittleEndian?4278190080:255,[ee,te]=be?[0,oe]:[oe,0],G=ae>>3,U=ae&7,J=R.length;le=new Uint32Array(le.buffer);for(let K=0;K<ne;K++){for(const q=re+G;re<q;re++){const H=re<J?R[re]:255;le[pe++]=H&128?te:ee,le[pe++]=H&64?te:ee,le[pe++]=H&32?te:ee,le[pe++]=H&16?te:ee,le[pe++]=H&8?te:ee,le[pe++]=H&4?te:ee,le[pe++]=H&2?te:ee,le[pe++]=H&1?te:ee}if(U===0)continue;const W=re<J?R[re++]:255;for(let q=0;q<U;q++)le[pe++]=W&1<<7-q?te:ee}return{srcPos:re,destPos:pe}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const V=Object.create(null);$.GlobalWorkerOptions=V,V.workerPort=null,V.workerSrc=""},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var B=V(1);const O={UNKNOWN:0,DATA:1,ERROR:2},R={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function re(pe){switch(pe instanceof Error||typeof pe=="object"&&pe!==null||(0,B.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),pe.name){case"AbortException":return new B.AbortException(pe.message);case"MissingPDFException":return new B.MissingPDFException(pe.message);case"PasswordException":return new B.PasswordException(pe.message,pe.code);case"UnexpectedResponseException":return new B.UnexpectedResponseException(pe.message,pe.status);case"UnknownErrorException":return new B.UnknownErrorException(pe.message,pe.details);default:return new B.UnknownErrorException(pe.message,pe.toString())}}class le{constructor(ae,ne,be){this.sourceName=ae,this.targetName=ne,this.comObj=be,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=oe=>{const ee=oe.data;if(ee.targetName!==this.sourceName)return;if(ee.stream){this._processStreamMessage(ee);return}if(ee.callback){const G=ee.callbackId,U=this.callbackCapabilities[G];if(!U)throw new Error("Cannot resolve callback ".concat(G));if(delete this.callbackCapabilities[G],ee.callback===O.DATA)U.resolve(ee.data);else if(ee.callback===O.ERROR)U.reject(re(ee.reason));else throw new Error("Unexpected callback case");return}const te=this.actionHandler[ee.action];if(!te)throw new Error("Unknown action from worker: ".concat(ee.action));if(ee.callbackId){const G=this.sourceName,U=ee.sourceName;new Promise(function(J){J(te(ee.data))}).then(function(J){be.postMessage({sourceName:G,targetName:U,callback:O.DATA,callbackId:ee.callbackId,data:J})},function(J){be.postMessage({sourceName:G,targetName:U,callback:O.ERROR,callbackId:ee.callbackId,reason:re(J)})});return}if(ee.streamId){this._createStreamSink(ee);return}te(ee.data)},be.addEventListener("message",this._onComObjOnMessage)}on(ae,ne){const be=this.actionHandler;if(be[ae])throw new Error('There is already an actionName called "'.concat(ae,'"'));be[ae]=ne}send(ae,ne,be){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ae,data:ne},be)}sendWithPromise(ae,ne,be){const oe=this.callbackId++,ee=(0,B.createPromiseCapability)();this.callbackCapabilities[oe]=ee;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ae,callbackId:oe,data:ne},be)}catch(te){ee.reject(te)}return ee.promise}sendWithStream(ae,ne,be,oe){const ee=this.streamId++,te=this.sourceName,G=this.targetName,U=this.comObj;return new ReadableStream({start:J=>{const K=(0,B.createPromiseCapability)();return this.streamControllers[ee]={controller:J,startCall:K,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:te,targetName:G,action:ae,streamId:ee,data:ne,desiredSize:J.desiredSize},oe),K.promise},pull:J=>{const K=(0,B.createPromiseCapability)();return this.streamControllers[ee].pullCall=K,U.postMessage({sourceName:te,targetName:G,stream:R.PULL,streamId:ee,desiredSize:J.desiredSize}),K.promise},cancel:J=>{(0,B.assert)(J instanceof Error,"cancel must have a valid reason");const K=(0,B.createPromiseCapability)();return this.streamControllers[ee].cancelCall=K,this.streamControllers[ee].isClosed=!0,U.postMessage({sourceName:te,targetName:G,stream:R.CANCEL,streamId:ee,reason:re(J)}),K.promise}},be)}_createStreamSink(ae){const ne=ae.streamId,be=this.sourceName,oe=ae.sourceName,ee=this.comObj,te=this,G=this.actionHandler[ae.action],U={enqueue(J,K=1,W){if(this.isCancelled)return;const q=this.desiredSize;this.desiredSize-=K,q>0&&this.desiredSize<=0&&(this.sinkCapability=(0,B.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ee.postMessage({sourceName:be,targetName:oe,stream:R.ENQUEUE,streamId:ne,chunk:J},W)},close(){this.isCancelled||(this.isCancelled=!0,ee.postMessage({sourceName:be,targetName:oe,stream:R.CLOSE,streamId:ne}),delete te.streamSinks[ne])},error(J){(0,B.assert)(J instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ee.postMessage({sourceName:be,targetName:oe,stream:R.ERROR,streamId:ne,reason:re(J)}))},sinkCapability:(0,B.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ae.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[ne]=U,new Promise(function(J){J(G(ae.data,U))}).then(function(){ee.postMessage({sourceName:be,targetName:oe,stream:R.START_COMPLETE,streamId:ne,success:!0})},function(J){ee.postMessage({sourceName:be,targetName:oe,stream:R.START_COMPLETE,streamId:ne,reason:re(J)})})}_processStreamMessage(ae){const ne=ae.streamId,be=this.sourceName,oe=ae.sourceName,ee=this.comObj,te=this.streamControllers[ne],G=this.streamSinks[ne];switch(ae.stream){case R.START_COMPLETE:ae.success?te.startCall.resolve():te.startCall.reject(re(ae.reason));break;case R.PULL_COMPLETE:ae.success?te.pullCall.resolve():te.pullCall.reject(re(ae.reason));break;case R.PULL:if(!G){ee.postMessage({sourceName:be,targetName:oe,stream:R.PULL_COMPLETE,streamId:ne,success:!0});break}G.desiredSize<=0&&ae.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=ae.desiredSize,new Promise(function(U){U(G.onPull&&G.onPull())}).then(function(){ee.postMessage({sourceName:be,targetName:oe,stream:R.PULL_COMPLETE,streamId:ne,success:!0})},function(U){ee.postMessage({sourceName:be,targetName:oe,stream:R.PULL_COMPLETE,streamId:ne,reason:re(U)})});break;case R.ENQUEUE:if((0,B.assert)(te,"enqueue should have stream controller"),te.isClosed)break;te.controller.enqueue(ae.chunk);break;case R.CLOSE:if((0,B.assert)(te,"close should have stream controller"),te.isClosed)break;te.isClosed=!0,te.controller.close(),this._deleteStreamController(te,ne);break;case R.ERROR:(0,B.assert)(te,"error should have stream controller"),te.controller.error(re(ae.reason)),this._deleteStreamController(te,ne);break;case R.CANCEL_COMPLETE:ae.success?te.cancelCall.resolve():te.cancelCall.reject(re(ae.reason)),this._deleteStreamController(te,ne);break;case R.CANCEL:if(!G)break;new Promise(function(U){U(G.onCancel&&G.onCancel(re(ae.reason)))}).then(function(){ee.postMessage({sourceName:be,targetName:oe,stream:R.CANCEL_COMPLETE,streamId:ne,success:!0})},function(U){ee.postMessage({sourceName:be,targetName:oe,stream:R.CANCEL_COMPLETE,streamId:ne,reason:re(U)})}),G.sinkCapability.reject(re(ae.reason)),G.isCancelled=!0,delete this.streamSinks[ne];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ae,ne){await Promise.allSettled([ae.startCall&&ae.startCall.promise,ae.pullCall&&ae.pullCall.promise,ae.cancelCall&&ae.cancelCall.promise]),delete this.streamControllers[ne]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=le},(A,$,V)=>{var R,re;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var B=V(1);class O{constructor({parsedData:pe,rawData:ae}){st(this,R,void 0);st(this,re,void 0);At(this,R,pe),At(this,re,ae)}getRaw(){return ve(this,re)}get(pe){var ae;return(ae=ve(this,R).get(pe))!=null?ae:null}getAll(){return(0,B.objectFromMap)(ve(this,R))}has(pe){return ve(this,R).has(pe)}}R=new WeakMap,re=new WeakMap,$.Metadata=O},(A,$,V)=>{var pe,ae,ne,be,oe,ee,Yr;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var B=V(1),O=V(8);const R=Symbol("INTERNAL");class re{constructor(U,J){st(this,pe,!0);this.name=U,this.intent=J}get visible(){return ve(this,pe)}_setVisible(U,J){U!==R&&(0,B.unreachable)("Internal method `_setVisible` called."),At(this,pe,J)}}pe=new WeakMap;class le{constructor(U){st(this,ee);st(this,ae,null);st(this,ne,new Map);st(this,be,null);st(this,oe,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,At(this,oe,U.order);for(const J of U.groups)ve(this,ne).set(J.id,new re(J.name,J.intent));if(U.baseState==="OFF")for(const J of ve(this,ne).values())J._setVisible(R,!1);for(const J of U.on)ve(this,ne).get(J)._setVisible(R,!0);for(const J of U.off)ve(this,ne).get(J)._setVisible(R,!1);At(this,be,this.getHash())}}isVisible(U){if(ve(this,ne).size===0)return!0;if(!U)return(0,B.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return ve(this,ne).has(U.id)?ve(this,ne).get(U.id).visible:((0,B.warn)("Optional content group not found: ".concat(U.id)),!0);if(U.type==="OCMD"){if(U.expression)return ht(this,ee,Yr).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(ve(this,ne).get(J).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(!ve(this,ne).get(J).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(!ve(this,ne).get(J).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const J of U.ids){if(!ve(this,ne).has(J))return(0,B.warn)("Optional content group not found: ".concat(J)),!0;if(ve(this,ne).get(J).visible)return!1}return!0}return(0,B.warn)("Unknown optional content policy ".concat(U.policy,".")),!0}return(0,B.warn)("Unknown group type ".concat(U.type,".")),!0}setVisibility(U,J=!0){if(!ve(this,ne).has(U)){(0,B.warn)("Optional content group not found: ".concat(U));return}ve(this,ne).get(U)._setVisible(R,!!J),At(this,ae,null)}get hasInitialVisibility(){return this.getHash()===ve(this,be)}getOrder(){return ve(this,ne).size?ve(this,oe)?ve(this,oe).slice():[...ve(this,ne).keys()]:null}getGroups(){return ve(this,ne).size>0?(0,B.objectFromMap)(ve(this,ne)):null}getGroup(U){return ve(this,ne).get(U)||null}getHash(){if(ve(this,ae)!==null)return ve(this,ae);const U=new O.MurmurHash3_64;for(const[J,K]of ve(this,ne))U.update("".concat(J,":").concat(K.visible));return At(this,ae,U.hexdigest())}}ae=new WeakMap,ne=new WeakMap,be=new WeakMap,oe=new WeakMap,ee=new WeakSet,Yr=function(U){const J=U.length;if(J<2)return!0;const K=U[0];for(let W=1;W<J;W++){const q=U[W];let H;if(Array.isArray(q))H=ht(this,ee,Yr).call(this,q);else if(ve(this,ne).has(q))H=ve(this,ne).get(q).visible;else return(0,B.warn)("Optional content group not found: ".concat(q)),!0;switch(K){case"And":if(!H)return!1;break;case"Or":if(H)return!0;break;case"Not":return!H;default:return!0}}return K==="And"},$.OptionalContentConfig=le},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var B=V(1),O=V(6);class R{constructor({length:ae,initialData:ne,progressiveDone:be=!1,contentDispositionFilename:oe=null,disableRange:ee=!1,disableStream:te=!1},G){if((0,B.assert)(G,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=be,this._contentDispositionFilename=oe,(ne==null?void 0:ne.length)>0){const U=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=G,this._isStreamingSupported=!te,this._isRangeSupported=!ee,this._contentLength=ae,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,J)=>{this._onReceiveData({begin:U,chunk:J})}),this._pdfDataRangeTransport.addProgressListener((U,J)=>{this._onProgress({loaded:U,total:J})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ae,chunk:ne}){const be=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;if(ae===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(be):this._queuedChunks.push(be);else{const oe=this._rangeReaders.some(function(ee){return ee._begin!==ae?!1:(ee._enqueue(be),!0)});(0,B.assert)(oe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ae,ne;return(ne=(ae=this._fullRequestReader)==null?void 0:ae._loaded)!=null?ne:0}_onProgress(ae){var ne,be,oe,ee;ae.total===void 0?(be=(ne=this._rangeReaders[0])==null?void 0:ne.onProgress)==null||be.call(ne,{loaded:ae.loaded}):(ee=(oe=this._fullRequestReader)==null?void 0:oe.onProgress)==null||ee.call(oe,{loaded:ae.loaded,total:ae.total})}_onProgressiveDone(){var ae;(ae=this._fullRequestReader)==null||ae.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ae){const ne=this._rangeReaders.indexOf(ae);ne>=0&&this._rangeReaders.splice(ne,1)}getFullReader(){(0,B.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ae=this._queuedChunks;return this._queuedChunks=null,new re(this,ae,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ae,ne){if(ne<=this._progressiveDataLength)return null;const be=new le(this,ae,ne);return this._pdfDataRangeTransport.requestDataRange(ae,ne),this._rangeReaders.push(be),be}cancelAllRequests(ae){var ne;(ne=this._fullRequestReader)==null||ne.cancel(ae);for(const be of this._rangeReaders.slice(0))be.cancel(ae);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=R;class re{constructor(ae,ne,be=!1,oe=null){this._stream=ae,this._done=be||!1,this._filename=(0,O.isPdfFile)(oe)?oe:null,this._queuedChunks=ne||[],this._loaded=0;for(const ee of this._queuedChunks)this._loaded+=ee.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ae._fullRequestReader=this,this.onProgress=null}_enqueue(ae){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ae,done:!1}):this._queuedChunks.push(ae),this._loaded+=ae.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ae=(0,B.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class le{constructor(ae,ne,be){this._stream=ae,this._begin=ne,this._end=be,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ae){if(!this._done){if(this._requests.length===0)this._queuedChunk=ae;else{this._requests.shift().resolve({value:ae,done:!1});for(const be of this._requests)be.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ne=this._queuedChunk;return this._queuedChunk=null,{value:ne,done:!1}}if(this._done)return{value:void 0,done:!0};const ae=(0,B.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class V{static textContent(O){const R=[],re={items:R,styles:Object.create(null)};function le(pe){var be;if(!pe)return;let ae=null;const ne=pe.name;if(ne==="#text")ae=pe.value;else if(V.shouldBuildText(ne))(be=pe==null?void 0:pe.attributes)!=null&&be.textContent?ae=pe.attributes.textContent:pe.value&&(ae=pe.value);else return;if(ae!==null&&R.push({str:ae}),!!pe.children)for(const oe of pe.children)le(oe)}return le(O),re}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=V},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var B=V(7);const O=function(pe){return new Promise((ae,ne)=>{require$$5.readFile(pe,(oe,ee)=>{if(oe||!ee){ne(new Error(oe));return}ae(new Uint8Array(ee))})})};class R extends B.BaseCanvasFactory{_createCanvas(ae,ne){return require$$5.createCanvas(ae,ne)}}$.NodeCanvasFactory=R;class re extends B.BaseCMapReaderFactory{_fetchData(ae,ne){return O(ae).then(be=>({cMapData:be,compressionType:ne}))}}$.NodeCMapReaderFactory=re;class le extends B.BaseStandardFontDataFactory{_fetchData(ae){return O(ae)}}$.NodeStandardFontDataFactory=le},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var B=V(1),O=V(22);const R=require$$5,re=require$$5,le=require$$5,pe=require$$5,ae=/^file:\/\/\/[a-zA-Z]:\//;function ne(W){const q=pe.parse(W);return q.protocol==="file:"||q.host?q:/^[a-z]:[/\\]/i.test(W)?pe.parse("file:///".concat(W)):(q.host||(q.protocol="file:"),q)}class be{constructor(q){this.source=q,this.url=ne(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q,H;return(H=(q=this._fullRequestReader)==null?void 0:q._loaded)!=null?H:0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new G(this),this._fullRequestReader}getRangeReader(q,H){if(H<=this._progressiveDataLength)return null;const X=this.isFsUrl?new K(this,q,H):new U(this,q,H);return this._rangeRequestReaders.push(X),X}cancelAllRequests(q){var H;(H=this._fullRequestReader)==null||H.cancel(q);for(const X of this._rangeRequestReaders.slice(0))X.cancel(q)}}$.PDFNodeStream=be;class oe{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const H=q.source;this._contentLength=H.length,this._loaded=0,this._filename=null,this._disableRange=H.disableRange||!1,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!H.disableStream,this._isRangeSupported=!H.disableRange,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)(),this._headersCapability=(0,B.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=q.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",H=>{this._error(H)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new B.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ee{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)();const H=q.source;this._isStreamingSupported=!H.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=q.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",H=>{this._error(H)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function te(W,q){return{protocol:W.protocol,auth:W.auth,host:W.hostname,port:W.port,path:W.path,method:"GET",headers:q}}class G extends oe{constructor(q){super(q);const H=X=>{if(X.statusCode===404){const we=new B.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=we,this._headersCapability.reject(we);return}this._headersCapability.resolve(),this._setReadableStream(X);const ue=we=>this._readableStream.headers[we.toLowerCase()],{allowRangeRequests:ge,suggestedLength:Ee}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ge,this._contentLength=Ee||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ue)};this._request=null,this._url.protocol==="http:"?this._request=re.request(te(this._url,q.httpHeaders),H):this._request=le.request(te(this._url,q.httpHeaders),H),this._request.on("error",X=>{this._storedError=X,this._headersCapability.reject(X)}),this._request.end()}}class U extends ee{constructor(q,H,X){super(q),this._httpHeaders={};for(const ge in q.httpHeaders){const Ee=q.httpHeaders[ge];Ee!==void 0&&(this._httpHeaders[ge]=Ee)}this._httpHeaders.Range="bytes=".concat(H,"-").concat(X-1);const ue=ge=>{if(ge.statusCode===404){const Ee=new B.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=Ee;return}this._setReadableStream(ge)};this._request=null,this._url.protocol==="http:"?this._request=re.request(te(this._url,this._httpHeaders),ue):this._request=le.request(te(this._url,this._httpHeaders),ue),this._request.on("error",ge=>{this._storedError=ge}),this._request.end()}}class J extends oe{constructor(q){super(q);let H=decodeURIComponent(this._url.path);ae.test(this._url.href)&&(H=H.replace(/^\//,"")),R.lstat(H,(X,ue)=>{if(X){X.code==="ENOENT"&&(X=new B.MissingPDFException('Missing PDF "'.concat(H,'".'))),this._storedError=X,this._headersCapability.reject(X);return}this._contentLength=ue.size,this._setReadableStream(R.createReadStream(H)),this._headersCapability.resolve()})}}class K extends ee{constructor(q,H,X){super(q);let ue=decodeURIComponent(this._url.path);ae.test(this._url.href)&&(ue=ue.replace(/^\//,"")),this._setReadableStream(R.createReadStream(ue,{start:H,end:X-1}))}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=pe,$.extractFilenameFromHeader=le,$.validateRangeRequestCapabilities=re,$.validateResponseStatus=ae;var B=V(1),O=V(23),R=V(6);function re({getResponseHeader:ne,isHttp:be,rangeChunkSize:oe,disableRange:ee}){const te={allowRangeRequests:!1,suggestedLength:void 0},G=parseInt(ne("Content-Length"),10);return!Number.isInteger(G)||(te.suggestedLength=G,G<=2*oe)||ee||!be||ne("Accept-Ranges")!=="bytes"||(ne("Content-Encoding")||"identity")!=="identity"||(te.allowRangeRequests=!0),te}function le(ne){const be=ne("Content-Disposition");if(be){let oe=(0,O.getFilenameFromContentDispositionHeader)(be);if(oe.includes("%"))try{oe=decodeURIComponent(oe)}catch(ee){}if((0,R.isPdfFile)(oe))return oe}return null}function pe(ne,be){return ne===404||ne===0&&be.startsWith("file:")?new B.MissingPDFException('Missing PDF "'+be+'".'):new B.UnexpectedResponseException("Unexpected server response (".concat(ne,') while retrieving PDF "').concat(be,'".'),ne)}function ae(ne){return ne===200||ne===206}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var B=V(1);function O(R){let re=!0,le=pe("filename\\*","i").exec(R);if(le){le=le[1];let G=oe(le);return G=unescape(G),G=ee(G),G=te(G),ne(G)}if(le=be(R),le){const G=te(le);return ne(G)}if(le=pe("filename","i").exec(R),le){le=le[1];let G=oe(le);return G=te(G),ne(G)}function pe(G,U){return new RegExp("(?:^|;)\\s*"+G+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function ae(G,U){if(G){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const J=new TextDecoder(G,{fatal:!0}),K=(0,B.stringToBytes)(U);U=J.decode(K),re=!1}catch(J){}}return U}function ne(G){return re&&/[\x80-\xff]/.test(G)&&(G=ae("utf-8",G),re&&(G=ae("iso-8859-1",G))),G}function be(G){const U=[];let J;const K=pe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(J=K.exec(G))!==null;){let[,q,H,X]=J;if(q=parseInt(q,10),q in U){if(q===0)break;continue}U[q]=[H,X]}const W=[];for(let q=0;q<U.length&&q in U;++q){let[H,X]=U[q];X=oe(X),H&&(X=unescape(X),q===0&&(X=ee(X))),W.push(X)}return W.join("")}function oe(G){if(G.startsWith('"')){const U=G.slice(1).split('\\"');for(let J=0;J<U.length;++J){const K=U[J].indexOf('"');K!==-1&&(U[J]=U[J].slice(0,K),U.length=J+1),U[J]=U[J].replace(/\\(.)/g,"$1")}G=U.join('"')}return G}function ee(G){const U=G.indexOf("'");if(U===-1)return G;const J=G.slice(0,U),W=G.slice(U+1).replace(/^[^']*'/,"");return ae(J,W)}function te(G){return!G.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(G)?G:G.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,J,K,W){if(K==="q"||K==="Q")return W=W.replace(/_/g," "),W=W.replace(/=([0-9a-fA-F]{2})/g,function(q,H){return String.fromCharCode(parseInt(H,16))}),ae(J,W);try{W=atob(W)}catch(q){}return ae(J,W)})}return""}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var B=V(1),O=V(22);const R=200,re=206;function le(oe){const ee=oe.response;return typeof ee!="string"?ee:(0,B.stringToBytes)(ee).buffer}class pe{constructor(ee,te={}){this.url=ee,this.isHttp=/^https?:/i.test(ee),this.httpHeaders=this.isHttp&&te.httpHeaders||Object.create(null),this.withCredentials=te.withCredentials||!1,this.getXhr=te.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ee,te,G){const U={begin:ee,end:te};for(const J in G)U[J]=G[J];return this.request(U)}requestFull(ee){return this.request(ee)}request(ee){const te=this.getXhr(),G=this.currXhrId++,U=this.pendingRequests[G]={xhr:te};te.open("GET",this.url),te.withCredentials=this.withCredentials;for(const J in this.httpHeaders){const K=this.httpHeaders[J];K!==void 0&&te.setRequestHeader(J,K)}return this.isHttp&&"begin"in ee&&"end"in ee?(te.setRequestHeader("Range","bytes=".concat(ee.begin,"-").concat(ee.end-1)),U.expectedStatus=re):U.expectedStatus=R,te.responseType="arraybuffer",ee.onError&&(te.onerror=function(J){ee.onError(te.status)}),te.onreadystatechange=this.onStateChange.bind(this,G),te.onprogress=this.onProgress.bind(this,G),U.onHeadersReceived=ee.onHeadersReceived,U.onDone=ee.onDone,U.onError=ee.onError,U.onProgress=ee.onProgress,te.send(null),G}onProgress(ee,te){var U;const G=this.pendingRequests[ee];G&&((U=G.onProgress)==null||U.call(G,te))}onStateChange(ee,te){var q,H,X;const G=this.pendingRequests[ee];if(!G)return;const U=G.xhr;if(U.readyState>=2&&G.onHeadersReceived&&(G.onHeadersReceived(),delete G.onHeadersReceived),U.readyState!==4||!(ee in this.pendingRequests))return;if(delete this.pendingRequests[ee],U.status===0&&this.isHttp){(q=G.onError)==null||q.call(G,U.status);return}const J=U.status||R;if(!(J===R&&G.expectedStatus===re)&&J!==G.expectedStatus){(H=G.onError)==null||H.call(G,U.status);return}const W=le(U);if(J===re){const ue=U.getResponseHeader("Content-Range"),ge=/bytes (\d+)-(\d+)\/(\d+)/.exec(ue);G.onDone({begin:parseInt(ge[1],10),chunk:W})}else W?G.onDone({begin:0,chunk:W}):(X=G.onError)==null||X.call(G,U.status)}getRequestXhr(ee){return this.pendingRequests[ee].xhr}isPendingRequest(ee){return ee in this.pendingRequests}abortRequest(ee){const te=this.pendingRequests[ee].xhr;delete this.pendingRequests[ee],te.abort()}}class ae{constructor(ee){this._source=ee,this._manager=new pe(ee.url,{httpHeaders:ee.httpHeaders,withCredentials:ee.withCredentials}),this._rangeChunkSize=ee.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ee){const te=this._rangeRequestReaders.indexOf(ee);te>=0&&this._rangeRequestReaders.splice(te,1)}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ne(this._manager,this._source),this._fullRequestReader}getRangeReader(ee,te){const G=new be(this._manager,ee,te);return G.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(G),G}cancelAllRequests(ee){var te;(te=this._fullRequestReader)==null||te.cancel(ee);for(const G of this._rangeRequestReaders.slice(0))G.cancel(ee)}}$.PDFNetworkStream=ae;class ne{constructor(ee,te){this._manager=ee;const G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._fullRequestId=ee.requestFull(G),this._headersReceivedCapability=(0,B.createPromiseCapability)(),this._disableRange=te.disableRange||!1,this._contentLength=te.length,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ee=this._fullRequestId,te=this._manager.getRequestXhr(ee),G=K=>te.getResponseHeader(K),{allowRangeRequests:U,suggestedLength:J}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=J||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(G),this._isRangeSupported&&this._manager.abortRequest(ee),this._headersReceivedCapability.resolve()}_onDone(ee){if(ee&&(this._requests.length>0?this._requests.shift().resolve({value:ee.chunk,done:!1}):this._cachedChunks.push(ee.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ee){this._storedError=(0,O.createResponseStatusError)(ee,this._url),this._headersReceivedCapability.reject(this._storedError);for(const te of this._requests)te.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ee){var te;(te=this.onProgress)==null||te.call(this,{loaded:ee.loaded,total:ee.lengthComputable?ee.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ee=(0,B.createPromiseCapability)();return this._requests.push(ee),ee.promise}cancel(ee){this._done=!0,this._headersReceivedCapability.reject(ee);for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class be{constructor(ee,te,G){this._manager=ee;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ee.url,this._requestId=ee.requestRange(te,G,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ee;(ee=this.onClosed)==null||ee.call(this,this)}_onDone(ee){const te=ee.chunk;this._requests.length>0?this._requests.shift().resolve({value:te,done:!1}):this._queuedChunk=te,this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ee){this._storedError=(0,O.createResponseStatusError)(ee,this._url);for(const te of this._requests)te.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ee){var te;this.isStreamingSupported||(te=this.onProgress)==null||te.call(this,{loaded:ee.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const te=this._queuedChunk;return this._queuedChunk=null,{value:te,done:!1}}if(this._done)return{value:void 0,done:!0};const ee=(0,B.createPromiseCapability)();return this._requests.push(ee),ee.promise}cancel(ee){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var B=V(1),O=V(22);function R(be,oe,ee){return{method:"GET",headers:be,signal:ee.signal,mode:"cors",credentials:oe?"include":"same-origin",redirect:"follow"}}function re(be){const oe=new Headers;for(const ee in be){const te=be[ee];te!==void 0&&oe.append(ee,te)}return oe}function le(be){return be instanceof Uint8Array?be.buffer:be instanceof ArrayBuffer?be:((0,B.warn)("getArrayBuffer - unexpected data format: ".concat(be)),new Uint8Array(be).buffer)}class pe{constructor(oe){this.source=oe,this.isHttp=/^https?:/i.test(oe.url),this.httpHeaders=this.isHttp&&oe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var oe,ee;return(ee=(oe=this._fullRequestReader)==null?void 0:oe._loaded)!=null?ee:0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ae(this),this._fullRequestReader}getRangeReader(oe,ee){if(ee<=this._progressiveDataLength)return null;const te=new ne(this,oe,ee);return this._rangeRequestReaders.push(te),te}cancelAllRequests(oe){var ee;(ee=this._fullRequestReader)==null||ee.cancel(oe);for(const te of this._rangeRequestReaders.slice(0))te.cancel(oe)}}$.PDFFetchStream=pe;class ae{constructor(oe){this._stream=oe,this._reader=null,this._loaded=0,this._filename=null;const ee=oe.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,B.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=re(this._stream.httpHeaders);const te=ee.url;fetch(te,R(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,O.validateResponseStatus)(G.status))throw(0,O.createResponseStatusError)(G.status,te);this._reader=G.body.getReader(),this._headersCapability.resolve();const U=W=>G.headers.get(W),{allowRangeRequests:J,suggestedLength:K}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=J,this._contentLength=K||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new B.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var te;await this._headersCapability.promise;const{value:oe,done:ee}=await this._reader.read();return ee?{value:oe,done:ee}:(this._loaded+=oe.byteLength,(te=this.onProgress)==null||te.call(this,{loaded:this._loaded,total:this._contentLength}),{value:le(oe),done:!1})}cancel(oe){var ee;(ee=this._reader)==null||ee.cancel(oe),this._abortController.abort()}}class ne{constructor(oe,ee,te){this._stream=oe,this._reader=null,this._loaded=0;const G=oe.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,B.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,this._abortController=new AbortController,this._headers=re(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(ee,"-").concat(te-1));const U=G.url;fetch(U,R(this._headers,this._withCredentials,this._abortController)).then(J=>{if(!(0,O.validateResponseStatus)(J.status))throw(0,O.createResponseStatusError)(J.status,U);this._readCapability.resolve(),this._reader=J.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var te;await this._readCapability.promise;const{value:oe,done:ee}=await this._reader.read();return ee?{value:oe,done:ee}:(this._loaded+=oe.byteLength,(te=this.onProgress)==null||te.call(this,{loaded:this._loaded}),{value:le(oe),done:!1})}cancel(oe){var ee;(ee=this._reader)==null||ee.cancel(oe),this._abortController.abort()}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=G,$.updateTextLayer=U;var B=V(1),O=V(6);const R=1e5,re=30,le=.8,pe=new Map;function ae(J,K){let W;if(K&&B.FeatureTest.isOffscreenCanvasSupported)W=new OffscreenCanvas(J,J).getContext("2d",{alpha:!1});else{const q=document.createElement("canvas");q.width=q.height=J,W=q.getContext("2d",{alpha:!1})}return W}function ne(J,K){const W=pe.get(J);if(W)return W;const q=ae(re,K);q.font="".concat(re,"px ").concat(J);const H=q.measureText("");let X=H.fontBoundingBoxAscent,ue=Math.abs(H.fontBoundingBoxDescent);if(X){const Ee=X/(X+ue);return pe.set(J,Ee),q.canvas.width=q.canvas.height=0,Ee}q.strokeStyle="red",q.clearRect(0,0,re,re),q.strokeText("g",0,0);let ge=q.getImageData(0,0,re,re).data;ue=0;for(let Ee=ge.length-1-3;Ee>=0;Ee-=4)if(ge[Ee]>0){ue=Math.ceil(Ee/4/re);break}q.clearRect(0,0,re,re),q.strokeText("A",0,re),ge=q.getImageData(0,0,re,re).data,X=0;for(let Ee=0,we=ge.length;Ee<we;Ee+=4)if(ge[Ee]>0){X=re-Math.floor(Ee/4/re);break}if(q.canvas.width=q.canvas.height=0,X){const Ee=X/(X+ue);return pe.set(J,Ee),Ee}return pe.set(J,le),le}function be(J,K,W){const q=document.createElement("span"),H={angle:0,canvasWidth:0,hasText:K.str!=="",hasEOL:K.hasEOL,fontSize:0};J._textDivs.push(q);const X=B.Util.transform(J._transform,K.transform);let ue=Math.atan2(X[1],X[0]);const ge=W[K.fontName];ge.vertical&&(ue+=Math.PI/2);const Ee=Math.hypot(X[2],X[3]),we=Ee*ne(ge.fontFamily,J._isOffscreenCanvasSupported);let de,Te;ue===0?(de=X[4],Te=X[5]-we):(de=X[4]+we*Math.sin(ue),Te=X[5]-we*Math.cos(ue));const it="calc(var(--scale-factor)*",Ve=q.style;J._container===J._rootContainer?(Ve.left="".concat((100*de/J._pageWidth).toFixed(2),"%"),Ve.top="".concat((100*Te/J._pageHeight).toFixed(2),"%")):(Ve.left="".concat(it).concat(de.toFixed(2),"px)"),Ve.top="".concat(it).concat(Te.toFixed(2),"px)")),Ve.fontSize="".concat(it).concat(Ee.toFixed(2),"px)"),Ve.fontFamily=ge.fontFamily,H.fontSize=Ee,q.setAttribute("role","presentation"),q.textContent=K.str,q.dir=K.dir,J._fontInspectorEnabled&&(q.dataset.fontName=K.fontName),ue!==0&&(H.angle=ue*(180/Math.PI));let qe=!1;if(K.str.length>1)qe=!0;else if(K.str!==" "&&K.transform[0]!==K.transform[3]){const Be=Math.abs(K.transform[0]),Oe=Math.abs(K.transform[3]);Be!==Oe&&Math.max(Be,Oe)/Math.min(Be,Oe)>1.5&&(qe=!0)}qe&&(H.canvasWidth=ge.vertical?K.height:K.width),J._textDivProperties.set(q,H),J._isReadableStream&&J._layoutText(q)}function oe(J){const{div:K,scale:W,properties:q,ctx:H,prevFontSize:X,prevFontFamily:ue}=J,{style:ge}=K;let Ee="";if(q.canvasWidth!==0&&q.hasText){const{fontFamily:we}=ge,{canvasWidth:de,fontSize:Te}=q;(X!==Te||ue!==we)&&(H.font="".concat(Te*W,"px ").concat(we),J.prevFontSize=Te,J.prevFontFamily=we);const{width:it}=H.measureText(K.textContent);it>0&&(Ee="scaleX(".concat(de*W/it,")"))}q.angle!==0&&(Ee="rotate(".concat(q.angle,"deg) ").concat(Ee)),Ee.length>0&&(ge.transform=Ee)}function ee(J){if(J._canceled)return;const K=J._textDivs,W=J._capability;if(K.length>R){W.resolve();return}if(!J._isReadableStream)for(const H of K)J._layoutText(H);W.resolve()}class te{constructor({textContentSource:K,container:W,viewport:q,textDivs:H,textDivProperties:X,textContentItemsStr:ue,isOffscreenCanvasSupported:ge}){var it;this._textContentSource=K,this._isReadableStream=K instanceof ReadableStream,this._container=this._rootContainer=W,this._textDivs=H||[],this._textContentItemsStr=ue||[],this._isOffscreenCanvasSupported=ge,this._fontInspectorEnabled=!!((it=globalThis.FontInspector)!=null&&it.enabled),this._reader=null,this._textDivProperties=X||new WeakMap,this._canceled=!1,this._capability=(0,B.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ae(0,ge)};const{pageWidth:Ee,pageHeight:we,pageX:de,pageY:Te}=q.rawDims;this._transform=[1,0,0,-1,-de,Te+we],this._pageWidth=Ee,this._pageHeight=we,(0,O.setLayerDimensions)(W,q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new B.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new B.AbortException("TextLayer task cancelled."))}_processItems(K,W){for(const q of K){if(q.str===void 0){if(q.type==="beginMarkedContentProps"||q.type==="beginMarkedContent"){const H=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),q.id!==null&&this._container.setAttribute("id","".concat(q.id)),H.append(this._container)}else q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(q.str),be(this,q,W)}}_layoutText(K){const W=this._layoutTextParams.properties=this._textDivProperties.get(K);if(this._layoutTextParams.div=K,oe(this._layoutTextParams),W.hasText&&this._container.append(K),W.hasEOL){const q=document.createElement("br");q.setAttribute("role","presentation"),this._container.append(q)}}_render(){const K=(0,B.createPromiseCapability)();let W=Object.create(null);if(this._isReadableStream){const q=()=>{this._reader.read().then(({value:H,done:X})=>{if(X){K.resolve();return}Object.assign(W,H.styles),this._processItems(H.items,W),q()},K.reject)};this._reader=this._textContentSource.getReader(),q()}else if(this._textContentSource){const{items:q,styles:H}=this._textContentSource;this._processItems(q,H),K.resolve()}else throw new Error('No "textContentSource" parameter specified.');K.promise.then(()=>{W=null,ee(this)},this._capability.reject)}}$.TextLayerRenderTask=te;function G(J){!J.textContentSource&&(J.textContent||J.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),J.textContentSource=J.textContent||J.textContentStream);const K=new te(J);return K._render(),K}function U({container:J,viewport:K,textDivs:W,textDivProperties:q,isOffscreenCanvasSupported:H,mustRotate:X=!0,mustRescale:ue=!0}){if(X&&(0,O.setLayerDimensions)(J,{rotation:K.rotation}),ue){const ge=ae(0,H),we={prevFontSize:null,prevFontFamily:null,div:null,scale:K.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ge};for(const de of W)we.properties=q.get(de),we.div=de,oe(we)}}},(A,$,V)=>{var ae,ne,be,oe,ee,te,G,U,J,Zr,W,Ii,H,Jr,ue,Qr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var B=V(1),O=V(5),R=V(28),re=V(29),le=V(6);const Ee=class Ee{constructor(de){st(this,J);st(this,W);st(this,H);st(this,ue);st(this,ae,void 0);st(this,ne,!1);st(this,be,this.pointerup.bind(this));st(this,oe,this.pointerdown.bind(this));st(this,ee,new Map);st(this,te,!1);st(this,G,!1);st(this,U,void 0);Ee._initialized||(Ee._initialized=!0,R.FreeTextEditor.initialize(de.l10n),re.InkEditor.initialize(de.l10n)),de.uiManager.registerEditorTypes([R.FreeTextEditor,re.InkEditor]),At(this,U,de.uiManager),this.pageIndex=de.pageIndex,this.div=de.div,At(this,ae,de.accessibilityManager),ve(this,U).addLayer(this)}get isEmpty(){return ve(this,ee).size===0}updateToolbar(de){ve(this,U).updateToolbar(de)}updateMode(de=ve(this,U).getMode()){ht(this,ue,Qr).call(this),de===B.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ve(this,U).unselectAll(),de!==B.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",de===B.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",de===B.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(de){if(!de&&ve(this,U).getMode()!==B.AnnotationEditorType.INK)return;if(!de){for(const it of ve(this,ee).values())if(it.isEmpty()){it.setInBackground();return}}ht(this,H,Jr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(de){ve(this,U).setEditingState(de)}addCommands(de){ve(this,U).addCommands(de)}enable(){this.div.style.pointerEvents="auto";for(const de of ve(this,ee).values())de.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const de of ve(this,ee).values())de.disableEditing();ht(this,ue,Qr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(de){ve(this,U).getActive()!==de&&ve(this,U).setActiveEditor(de)}enableClick(){this.div.addEventListener("pointerdown",ve(this,oe)),this.div.addEventListener("pointerup",ve(this,be))}disableClick(){this.div.removeEventListener("pointerdown",ve(this,oe)),this.div.removeEventListener("pointerup",ve(this,be))}attach(de){ve(this,ee).set(de.id,de)}detach(de){var Te;ve(this,ee).delete(de.id),(Te=ve(this,ae))==null||Te.removePointerInTextLayer(de.contentDiv)}remove(de){ve(this,U).removeEditor(de),this.detach(de),de.div.style.display="none",setTimeout(()=>{de.div.style.display="",de.div.remove(),de.isAttachedToDOM=!1,document.activeElement===document.body&&ve(this,U).focusMainContainer()},0),ve(this,G)||this.addInkEditorIfNeeded(!1)}add(de){if(ht(this,J,Zr).call(this,de),ve(this,U).addEditor(de),this.attach(de),!de.isAttachedToDOM){const Te=de.render();this.div.append(Te),de.isAttachedToDOM=!0}this.moveEditorInDOM(de),de.onceAdded(),ve(this,U).addToAnnotationStorage(de)}moveEditorInDOM(de){var Te;(Te=ve(this,ae))==null||Te.moveElementInDOM(this.div,de.div,de.contentDiv,!0)}addOrRebuild(de){de.needsToBeRebuilt()?de.rebuild():this.add(de)}addANewEditor(de){const Te=()=>{this.addOrRebuild(de)},it=()=>{de.remove()};this.addCommands({cmd:Te,undo:it,mustExec:!0})}addUndoableEditor(de){const Te=()=>{this.addOrRebuild(de)},it=()=>{de.remove()};this.addCommands({cmd:Te,undo:it,mustExec:!1})}getNextId(){return ve(this,U).getId()}deserialize(de){switch(de.annotationType){case B.AnnotationEditorType.FREETEXT:return R.FreeTextEditor.deserialize(de,this,ve(this,U));case B.AnnotationEditorType.INK:return re.InkEditor.deserialize(de,this,ve(this,U))}return null}setSelected(de){ve(this,U).setSelected(de)}toggleSelected(de){ve(this,U).toggleSelected(de)}isSelected(de){return ve(this,U).isSelected(de)}unselect(de){ve(this,U).unselect(de)}pointerup(de){const{isMac:Te}=B.FeatureTest.platform;if(!(de.button!==0||de.ctrlKey&&Te)&&de.target===this.div&&ve(this,te)){if(At(this,te,!1),!ve(this,ne)){At(this,ne,!0);return}ht(this,H,Jr).call(this,de)}}pointerdown(de){const{isMac:Te}=B.FeatureTest.platform;if(de.button!==0||de.ctrlKey&&Te||de.target!==this.div)return;At(this,te,!0);const it=ve(this,U).getActive();At(this,ne,!it||it.isEmpty())}drop(de){const Te=de.dataTransfer.getData("text/plain"),it=ve(this,U).getEditor(Te);if(!it)return;de.preventDefault(),de.dataTransfer.dropEffect="move",ht(this,J,Zr).call(this,it);const Ve=this.div.getBoundingClientRect(),qe=de.clientX-Ve.x,Be=de.clientY-Ve.y;it.translate(qe-it.startX,Be-it.startY),this.moveEditorInDOM(it),it.div.focus()}dragover(de){de.preventDefault()}destroy(){var de,Te;((de=ve(this,U).getActive())==null?void 0:de.parent)===this&&ve(this,U).setActiveEditor(null);for(const it of ve(this,ee).values())(Te=ve(this,ae))==null||Te.removePointerInTextLayer(it.contentDiv),it.setParent(null),it.isAttachedToDOM=!1,it.div.remove();this.div=null,ve(this,ee).clear(),ve(this,U).removeLayer(this)}render({viewport:de}){this.viewport=de,(0,le.setLayerDimensions)(this.div,de),(0,O.bindEvents)(this,this.div,["dragover","drop"]);for(const Te of ve(this,U).getEditors(this.pageIndex))this.add(Te);this.updateMode()}update({viewport:de}){ve(this,U).commitOrRemove(),this.viewport=de,(0,le.setLayerDimensions)(this.div,{rotation:de.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:de,pageHeight:Te}=this.viewport.rawDims;return[de,Te]}};ae=new WeakMap,ne=new WeakMap,be=new WeakMap,oe=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,J=new WeakSet,Zr=function(de){var Te;de.parent!==this&&(this.attach(de),(Te=de.parent)==null||Te.detach(de),de.setParent(this),de.div&&de.isAttachedToDOM&&(de.div.remove(),this.div.append(de.div)))},W=new WeakSet,Ii=function(de){switch(ve(this,U).getMode()){case B.AnnotationEditorType.FREETEXT:return new R.FreeTextEditor(de);case B.AnnotationEditorType.INK:return new re.InkEditor(de)}return null},H=new WeakSet,Jr=function(de){const Te=this.getNextId(),it=ht(this,W,Ii).call(this,{parent:this,id:Te,x:de.offsetX,y:de.offsetY,uiManager:ve(this,U)});return it&&this.add(it),it},ue=new WeakSet,Qr=function(){At(this,G,!0);for(const de of ve(this,ee).values())de.isEmpty()&&de.remove();At(this,G,!1)},Cn(Ee,"_initialized",!1);let pe=Ee;$.AnnotationEditorLayer=pe},(A,$,V)=>{var le,pe,ae,ne,be,oe,ee,te,G,U,Li,K,Oi,q,Di,X,ei;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var B=V(1),O=V(5),R=V(4);const ge=class ge extends R.AnnotationEditor{constructor(de){super({...de,name:"freeTextEditor"});st(this,U);st(this,K);st(this,q);st(this,X);st(this,le,this.editorDivBlur.bind(this));st(this,pe,this.editorDivFocus.bind(this));st(this,ae,this.editorDivInput.bind(this));st(this,ne,this.editorDivKeydown.bind(this));st(this,be,void 0);st(this,oe,"");st(this,ee,"".concat(this.id,"-editor"));st(this,te,!1);st(this,G,void 0);At(this,be,de.color||ge._defaultColor||R.AnnotationEditor._defaultLineColor),At(this,G,de.fontSize||ge._defaultFontSize)}static initialize(de){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(it=>[it,de.get(it)]));const Te=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Te.getPropertyValue("--freetext-padding"))}static updateDefaultParams(de,Te){switch(de){case B.AnnotationEditorParamsType.FREETEXT_SIZE:ge._defaultFontSize=Te;break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:ge._defaultColor=Te;break}}updateParams(de,Te){switch(de){case B.AnnotationEditorParamsType.FREETEXT_SIZE:ht(this,U,Li).call(this,Te);break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:ht(this,K,Oi).call(this,Te);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,ge._defaultFontSize],[B.AnnotationEditorParamsType.FREETEXT_COLOR,ge._defaultColor||R.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,ve(this,G)],[B.AnnotationEditorParamsType.FREETEXT_COLOR,ve(this,be)]]}getInitialTranslation(){const de=this.parentScale;return[-ge._internalPadding*de,-(ge._internalPadding+ve(this,G))*de]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(B.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ve(this,ne)),this.editorDiv.addEventListener("focus",ve(this,pe)),this.editorDiv.addEventListener("blur",ve(this,le)),this.editorDiv.addEventListener("input",ve(this,ae)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ve(this,ee)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ve(this,ne)),this.editorDiv.removeEventListener("focus",ve(this,pe)),this.editorDiv.removeEventListener("blur",ve(this,le)),this.editorDiv.removeEventListener("input",ve(this,ae)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(de){super.focusin(de),de.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ve(this,te)||(At(this,te,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),At(this,oe,ht(this,q,Di).call(this).trimEnd()),ht(this,X,ei).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(de){this.enableEditMode(),this.editorDiv.focus()}keydown(de){de.target===this.div&&de.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(de){ge._keyboardManager.exec(this,de)}editorDivFocus(de){this.isEditing=!0}editorDivBlur(de){this.isEditing=!1}editorDivInput(de){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let de,Te;this.width&&(de=this.x,Te=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ve(this,ee)),this.enableEditing(),ge._l10nPromise.get("editor_free_text2_aria_label").then(Ve=>{var qe;return(qe=this.editorDiv)==null?void 0:qe.setAttribute("aria-label",Ve)}),ge._l10nPromise.get("free_text2_default_content").then(Ve=>{var qe;return(qe=this.editorDiv)==null?void 0:qe.setAttribute("default-content",Ve)}),this.editorDiv.contentEditable=!0;const{style:it}=this.editorDiv;if(it.fontSize="calc(".concat(ve(this,G),"px * var(--scale-factor))"),it.color=ve(this,be),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ve,qe]=this.parentDimensions;this.setAt(de*Ve,Te*qe,this.width*Ve,this.height*qe);for(const Be of ve(this,oe).split("\n")){const Oe=document.createElement("div");Oe.append(Be?document.createTextNode(Be):document.createElement("br")),this.editorDiv.append(Oe)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(de,Te,it){const Ve=super.deserialize(de,Te,it);return At(Ve,G,de.fontSize),At(Ve,be,B.Util.makeHexColor(...de.color)),At(Ve,oe,de.value),Ve}serialize(){if(this.isEmpty())return null;const de=ge._internalPadding*this.parentScale,Te=this.getRect(de,de),it=R.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ve(this,be));return{annotationType:B.AnnotationEditorType.FREETEXT,color:it,fontSize:ve(this,G),value:ve(this,oe),pageIndex:this.pageIndex,rect:Te,rotation:this.rotation}}};le=new WeakMap,pe=new WeakMap,ae=new WeakMap,ne=new WeakMap,be=new WeakMap,oe=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakSet,Li=function(de){const Te=Ve=>{this.editorDiv.style.fontSize="calc(".concat(Ve,"px * var(--scale-factor))"),this.translate(0,-(Ve-ve(this,G))*this.parentScale),At(this,G,Ve),ht(this,X,ei).call(this)},it=ve(this,G);this.addCommands({cmd:()=>{Te(de)},undo:()=>{Te(it)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},K=new WeakSet,Oi=function(de){const Te=ve(this,be);this.addCommands({cmd:()=>{At(this,be,this.editorDiv.style.color=de)},undo:()=>{At(this,be,this.editorDiv.style.color=Te)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},q=new WeakSet,Di=function(){const de=this.editorDiv.getElementsByTagName("div");if(de.length===0)return this.editorDiv.innerText;const Te=[];for(const it of de)Te.push(it.innerText.replace(/\r\n?|\n/,""));return Te.join("\n")},X=new WeakSet,ei=function(){const[de,Te]=this.parentDimensions;let it;if(this.isAttachedToDOM)it=this.div.getBoundingClientRect();else{const{currentLayer:Ve,div:qe}=this,Be=qe.style.display;qe.style.display="hidden",Ve.div.append(this.div),it=qe.getBoundingClientRect(),qe.remove(),qe.style.display=Be}this.width=it.width/de,this.height=it.height/Te},Cn(ge,"_freeTextDefaultContent",""),Cn(ge,"_l10nPromise"),Cn(ge,"_internalPadding",0),Cn(ge,"_defaultColor",null),Cn(ge,"_defaultFontSize",10),Cn(ge,"_keyboardManager",new O.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ge.prototype.commitOrRemove]])),Cn(ge,"_type","freetext");let re=ge;$.FreeTextEditor=re},(A,$,V)=>{var ne,be,oe,ee,te,G,U,J,K,W,q,H,X,ue,ge,Ni,we,ji,Te,Bi,Ve,zi,Be,ti,De,Vi,tt,Hi,ce,Ui,me,qn,Ce,ni,Re,Pr,nt,kr,Qe,dr,se,ri,ye,xr,_e,ii,rt,Wi,at,qi,ft,Gi,_t,ai,It,$r,jt,hr,Ie,oi;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return R.fitCurve}});var B=V(1),O=V(4),R=V(30),re=V(5);const le=16,pe=100,pt=class pt extends O.AnnotationEditor{constructor(Ze){super({...Ze,name:"inkEditor"});st(this,ge);st(this,we);st(this,Te);st(this,Ve);st(this,Be);st(this,De);st(this,tt);st(this,ce);st(this,me);st(this,Ce);st(this,Re);st(this,nt);st(this,Qe);st(this,se);st(this,ye);st(this,rt);st(this,at);st(this,ft);st(this,_t);st(this,It);st(this,jt);st(this,Ie);st(this,ne,0);st(this,be,0);st(this,oe,0);st(this,ee,this.canvasPointermove.bind(this));st(this,te,this.canvasPointerleave.bind(this));st(this,G,this.canvasPointerup.bind(this));st(this,U,this.canvasPointerdown.bind(this));st(this,J,!1);st(this,K,!1);st(this,W,null);st(this,q,null);st(this,H,0);st(this,X,0);st(this,ue,null);this.color=Ze.color||null,this.thickness=Ze.thickness||null,this.opacity=Ze.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ze){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(mt=>[mt,Ze.get(mt)]))}static updateDefaultParams(Ze,mt){switch(Ze){case B.AnnotationEditorParamsType.INK_THICKNESS:pt._defaultThickness=mt;break;case B.AnnotationEditorParamsType.INK_COLOR:pt._defaultColor=mt;break;case B.AnnotationEditorParamsType.INK_OPACITY:pt._defaultOpacity=mt/100;break}}updateParams(Ze,mt){switch(Ze){case B.AnnotationEditorParamsType.INK_THICKNESS:ht(this,ge,Ni).call(this,mt);break;case B.AnnotationEditorParamsType.INK_COLOR:ht(this,we,ji).call(this,mt);break;case B.AnnotationEditorParamsType.INK_OPACITY:ht(this,Te,Bi).call(this,mt);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.INK_THICKNESS,pt._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,pt._defaultColor||O.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(pt._defaultOpacity*100)]]}get propertiesToUpdate(){var Ze;return[[B.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||pt._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,this.color||pt._defaultColor||O.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Ze=this.opacity)!=null?Ze:pt._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ht(this,Re,Pr).call(this),ht(this,nt,kr).call(this)),this.isAttachedToDOM||(this.parent.add(this),ht(this,Qe,dr).call(this)),ht(this,jt,hr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ve(this,q).disconnect(),At(this,q,null),super.remove())}setParent(Ze){!this.parent&&Ze?this._uiManager.removeShouldRescale(this):this.parent&&Ze===null&&this._uiManager.addShouldRescale(this),super.setParent(Ze)}onScaleChanging(){const[Ze,mt]=this.parentDimensions,Et=this.width*Ze,Ct=this.height*mt;this.setDimensions(Et,Ct)}enableEditMode(){ve(this,J)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ve(this,U)),this.canvas.addEventListener("pointerup",ve(this,G)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ve(this,U)),this.canvas.removeEventListener("pointerup",ve(this,G)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ve(this,J)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),At(this,J,!0),this.div.classList.add("disabled"),ht(this,jt,hr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Ze){super.focusin(Ze),this.enableEditMode()}canvasPointerdown(Ze){Ze.button!==0||!this.isInEditMode()||ve(this,J)||(this.setInForeground(),Ze.type!=="mouse"&&this.div.focus(),Ze.stopPropagation(),this.canvas.addEventListener("pointerleave",ve(this,te)),this.canvas.addEventListener("pointermove",ve(this,ee)),ht(this,De,Vi).call(this,Ze.offsetX,Ze.offsetY))}canvasPointermove(Ze){Ze.stopPropagation(),ht(this,tt,Hi).call(this,Ze.offsetX,Ze.offsetY)}canvasPointerup(Ze){Ze.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ze.stopPropagation(),ht(this,Ce,ni).call(this,Ze),this.setInBackground())}canvasPointerleave(Ze){ht(this,Ce,ni).call(this,Ze),this.setInBackground()}render(){if(this.div)return this.div;let Ze,mt;this.width&&(Ze=this.x,mt=this.y),super.render(),pt._l10nPromise.get("editor_ink2_aria_label").then(Yt=>{var Jt;return(Jt=this.div)==null?void 0:Jt.setAttribute("aria-label",Yt)});const[Et,Ct,Gt,sn]=ht(this,Ve,zi).call(this);if(this.setAt(Et,Ct,0,0),this.setDims(Gt,sn),ht(this,Re,Pr).call(this),this.width){const[Yt,Jt]=this.parentDimensions;this.setAt(Ze*Yt,mt*Jt,this.width*Yt,this.height*Jt),At(this,K,!0),ht(this,Qe,dr).call(this),this.setDims(this.width*Yt,this.height*Jt),ht(this,me,qn).call(this),ht(this,Ie,oi).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ht(this,nt,kr).call(this),this.div}setDimensions(Ze,mt){const Et=Math.round(Ze),Ct=Math.round(mt);if(ve(this,H)===Et&&ve(this,X)===Ct)return;At(this,H,Et),At(this,X,Ct),this.canvas.style.visibility="hidden",ve(this,ne)&&Math.abs(ve(this,ne)-Ze/mt)>.01&&(mt=Math.ceil(Ze/ve(this,ne)),this.setDims(Ze,mt));const[Gt,sn]=this.parentDimensions;this.width=Ze/Gt,this.height=mt/sn,ve(this,J)&&ht(this,se,ri).call(this,Ze,mt),ht(this,Qe,dr).call(this),ht(this,me,qn).call(this),this.canvas.style.visibility="visible"}static deserialize(Ze,mt,Et){var En,yn;const Ct=super.deserialize(Ze,mt,Et);Ct.thickness=Ze.thickness,Ct.color=B.Util.makeHexColor(...Ze.color),Ct.opacity=Ze.opacity;const[Gt,sn]=Ct.pageDimensions,Yt=Ct.width*Gt,Jt=Ct.height*sn,Xt=Ct.parentScale,nn=Ze.thickness/2;At(Ct,ne,Yt/Jt),At(Ct,J,!0),At(Ct,H,Math.round(Yt)),At(Ct,X,Math.round(Jt));for(const{bezier:Sn}of Ze.paths){const mn=[];Ct.paths.push(mn);let In=Xt*(Sn[0]-nn),Dn=Xt*(Jt-Sn[1]-nn);for(let jn=2,rr=Sn.length;jn<rr;jn+=6){const ir=Xt*(Sn[jn]-nn),ar=Xt*(Jt-Sn[jn+1]-nn),or=Xt*(Sn[jn+2]-nn),sr=Xt*(Jt-Sn[jn+3]-nn),vr=Xt*(Sn[jn+4]-nn),br=Xt*(Jt-Sn[jn+5]-nn);mn.push([[In,Dn],[ir,ar],[or,sr],[vr,br]]),In=vr,Dn=br}const Gn=ht(this,_e,ii).call(this,mn);Ct.bezierPath2D.push(Gn)}const xn=ht(En=Ct,_t,ai).call(En);return At(Ct,oe,Math.max(le,xn[2]-xn[0])),At(Ct,be,Math.max(le,xn[3]-xn[1])),ht(yn=Ct,se,ri).call(yn,Yt,Jt),Ct}serialize(){if(this.isEmpty())return null;const Ze=this.getRect(0,0),mt=this.rotation%180===0?Ze[3]-Ze[1]:Ze[2]-Ze[0],Et=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:B.AnnotationEditorType.INK,color:Et,thickness:this.thickness,opacity:this.opacity,paths:ht(this,rt,Wi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,mt),pageIndex:this.pageIndex,rect:Ze,rotation:this.rotation}}};ne=new WeakMap,be=new WeakMap,oe=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,J=new WeakMap,K=new WeakMap,W=new WeakMap,q=new WeakMap,H=new WeakMap,X=new WeakMap,ue=new WeakMap,ge=new WeakSet,Ni=function(Ze){const mt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ze,ht(this,jt,hr).call(this)},undo:()=>{this.thickness=mt,ht(this,jt,hr).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},we=new WeakSet,ji=function(Ze){const mt=this.color;this.addCommands({cmd:()=>{this.color=Ze,ht(this,me,qn).call(this)},undo:()=>{this.color=mt,ht(this,me,qn).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Te=new WeakSet,Bi=function(Ze){Ze/=100;const mt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ze,ht(this,me,qn).call(this)},undo:()=>{this.opacity=mt,ht(this,me,qn).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ve=new WeakSet,zi=function(){const{parentRotation:Ze,parentDimensions:[mt,Et]}=this;switch(Ze){case 90:return[0,Et,Et,mt];case 180:return[mt,Et,mt,Et];case 270:return[mt,0,Et,mt];default:return[0,0,mt,Et]}},Be=new WeakSet,ti=function(){const{ctx:Ze,color:mt,opacity:Et,thickness:Ct,parentScale:Gt,scaleFactor:sn}=this;Ze.lineWidth=Ct*Gt/sn,Ze.lineCap="round",Ze.lineJoin="round",Ze.miterLimit=10,Ze.strokeStyle="".concat(mt).concat((0,re.opacityToHex)(Et))},De=new WeakSet,Vi=function(Ze,mt){var Et;this.isEditing=!0,ve(this,K)||(At(this,K,!0),ht(this,Qe,dr).call(this),this.thickness||(this.thickness=pt._defaultThickness),this.color||(this.color=pt._defaultColor||O.AnnotationEditor._defaultLineColor),(Et=this.opacity)!=null||(this.opacity=pt._defaultOpacity)),this.currentPath.push([Ze,mt]),At(this,W,null),ht(this,Be,ti).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ze,mt),At(this,ue,()=>{ve(this,ue)&&(ve(this,W)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ht(this,me,qn).call(this),this.ctx.lineTo(...ve(this,W)),At(this,W,null),this.ctx.stroke()),window.requestAnimationFrame(ve(this,ue)))}),window.requestAnimationFrame(ve(this,ue))},tt=new WeakSet,Hi=function(Ze,mt){const[Et,Ct]=this.currentPath.at(-1);Ze===Et&&mt===Ct||(this.currentPath.push([Ze,mt]),At(this,W,[Ze,mt]))},ce=new WeakSet,Ui=function(Ze,mt){var Xt;this.ctx.closePath(),At(this,ue,null),Ze=Math.min(Math.max(Ze,0),this.canvas.width),mt=Math.min(Math.max(mt,0),this.canvas.height);const[Et,Ct]=this.currentPath.at(-1);(Ze!==Et||mt!==Ct)&&this.currentPath.push([Ze,mt]);let Gt;if(this.currentPath.length!==1)Gt=(0,R.fitCurve)(this.currentPath,30,null);else{const nn=[Ze,mt];Gt=[[nn,nn.slice(),nn.slice(),nn]]}const sn=ht(Xt=pt,_e,ii).call(Xt,Gt);this.currentPath.length=0;const Yt=()=>{this.paths.push(Gt),this.bezierPath2D.push(sn),this.rebuild()},Jt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ht(this,Re,Pr).call(this),ht(this,nt,kr).call(this)),ht(this,jt,hr).call(this))};this.addCommands({cmd:Yt,undo:Jt,mustExec:!0})},me=new WeakSet,qn=function(){if(this.isEmpty()){ht(this,ye,xr).call(this);return}ht(this,Be,ti).call(this);const{canvas:Ze,ctx:mt}=this;mt.setTransform(1,0,0,1,0,0),mt.clearRect(0,0,Ze.width,Ze.height),ht(this,ye,xr).call(this);for(const Et of this.bezierPath2D)mt.stroke(Et)},Ce=new WeakSet,ni=function(Ze){ht(this,ce,Ui).call(this,Ze.offsetX,Ze.offsetY),this.canvas.removeEventListener("pointerleave",ve(this,te)),this.canvas.removeEventListener("pointermove",ve(this,ee)),this.addToAnnotationStorage()},Re=new WeakSet,Pr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",pt._l10nPromise.get("editor_ink_canvas_aria_label").then(Ze=>{var mt;return(mt=this.canvas)==null?void 0:mt.setAttribute("aria-label",Ze)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},nt=new WeakSet,kr=function(){let Ze=null;At(this,q,new ResizeObserver(mt=>{const Et=mt[0].contentRect;Et.width&&Et.height&&(Ze!==null&&clearTimeout(Ze),Ze=setTimeout(()=>{this.fixDims(),Ze=null},pe),this.setDimensions(Et.width,Et.height))})),ve(this,q).observe(this.div)},Qe=new WeakSet,dr=function(){if(!ve(this,K))return;const[Ze,mt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ze),this.canvas.height=Math.ceil(this.height*mt),ht(this,ye,xr).call(this)},se=new WeakSet,ri=function(Ze,mt){const Et=ht(this,It,$r).call(this),Ct=(Ze-Et)/ve(this,oe),Gt=(mt-Et)/ve(this,be);this.scaleFactor=Math.min(Ct,Gt)},ye=new WeakSet,xr=function(){const Ze=ht(this,It,$r).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ze,this.translationY*this.scaleFactor+Ze)},_e=new WeakSet,ii=function(Ze){const mt=new Path2D;for(let Et=0,Ct=Ze.length;Et<Ct;Et++){const[Gt,sn,Yt,Jt]=Ze[Et];Et===0&&mt.moveTo(...Gt),mt.bezierCurveTo(sn[0],sn[1],Yt[0],Yt[1],Jt[0],Jt[1])}return mt},rt=new WeakSet,Wi=function(Ze,mt,Et,Ct){const sn=[],Yt=this.thickness/2;let Jt,Xt;for(const nn of this.paths){Jt=[],Xt=[];for(let xn=0,En=nn.length;xn<En;xn++){const[yn,Sn,mn,In]=nn[xn],Dn=Ze*(yn[0]+mt)+Yt,Gn=Ct-Ze*(yn[1]+Et)-Yt,jn=Ze*(Sn[0]+mt)+Yt,rr=Ct-Ze*(Sn[1]+Et)-Yt,ir=Ze*(mn[0]+mt)+Yt,ar=Ct-Ze*(mn[1]+Et)-Yt,or=Ze*(In[0]+mt)+Yt,sr=Ct-Ze*(In[1]+Et)-Yt;xn===0&&(Jt.push(Dn,Gn),Xt.push(Dn,Gn)),Jt.push(jn,rr,ir,ar,or,sr),ht(this,at,qi).call(this,Dn,Gn,jn,rr,ir,ar,or,sr,4,Xt)}sn.push({bezier:Jt,points:Xt})}return sn},at=new WeakSet,qi=function(Ze,mt,Et,Ct,Gt,sn,Yt,Jt,Xt,nn){if(ht(this,ft,Gi).call(this,Ze,mt,Et,Ct,Gt,sn,Yt,Jt)){nn.push(Yt,Jt);return}for(let xn=1;xn<Xt-1;xn++){const En=xn/Xt,yn=1-En;let Sn=En*Ze+yn*Et,mn=En*mt+yn*Ct,In=En*Et+yn*Gt,Dn=En*Ct+yn*sn;const Gn=En*Gt+yn*Yt,jn=En*sn+yn*Jt;Sn=En*Sn+yn*In,mn=En*mn+yn*Dn,In=En*In+yn*Gn,Dn=En*Dn+yn*jn,Sn=En*Sn+yn*In,mn=En*mn+yn*Dn,nn.push(Sn,mn)}nn.push(Yt,Jt)},ft=new WeakSet,Gi=function(Ze,mt,Et,Ct,Gt,sn,Yt,Jt){const nn=(3*Et-2*Ze-Yt)**2,xn=(3*Ct-2*mt-Jt)**2,En=(3*Gt-Ze-2*Yt)**2,yn=(3*sn-mt-2*Jt)**2;return Math.max(nn,En)+Math.max(xn,yn)<=10},_t=new WeakSet,ai=function(){let Ze=1/0,mt=-1/0,Et=1/0,Ct=-1/0;for(const Gt of this.paths)for(const[sn,Yt,Jt,Xt]of Gt){const nn=B.Util.bezierBoundingBox(...sn,...Yt,...Jt,...Xt);Ze=Math.min(Ze,nn[0]),Et=Math.min(Et,nn[1]),mt=Math.max(mt,nn[2]),Ct=Math.max(Ct,nn[3])}return[Ze,Et,mt,Ct]},It=new WeakSet,$r=function(){return ve(this,J)?Math.ceil(this.thickness*this.parentScale):0},jt=new WeakSet,hr=function(Ze=!1){if(this.isEmpty())return;if(!ve(this,J)){ht(this,me,qn).call(this);return}const mt=ht(this,_t,ai).call(this),Et=ht(this,It,$r).call(this);At(this,oe,Math.max(le,mt[2]-mt[0])),At(this,be,Math.max(le,mt[3]-mt[1]));const Ct=Math.ceil(Et+ve(this,oe)*this.scaleFactor),Gt=Math.ceil(Et+ve(this,be)*this.scaleFactor),[sn,Yt]=this.parentDimensions;this.width=Ct/sn,this.height=Gt/Yt,At(this,ne,Ct/Gt),ht(this,Ie,oi).call(this);const Jt=this.translationX,Xt=this.translationY;this.translationX=-mt[0],this.translationY=-mt[1],ht(this,Qe,dr).call(this),ht(this,me,qn).call(this),At(this,H,Ct),At(this,X,Gt),this.setDims(Ct,Gt);const nn=Ze?Et/this.scaleFactor/2:0;this.translate(Jt-this.translationX-nn,Xt-this.translationY-nn)},Ie=new WeakSet,oi=function(){const{style:Ze}=this.div;ve(this,ne)>=1?(Ze.minHeight="".concat(le,"px"),Ze.minWidth="".concat(Math.round(ve(this,ne)*le),"px")):(Ze.minWidth="".concat(le,"px"),Ze.minHeight="".concat(Math.round(le/ve(this,ne)),"px"))},st(pt,_e),Cn(pt,"_defaultColor",null),Cn(pt,"_defaultOpacity",1),Cn(pt,"_defaultThickness",1),Cn(pt,"_l10nPromise"),Cn(pt,"_type","ink");let ae=pt;$.InkEditor=ae},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const B=V(31);$.fitCurve=B},A=>{function $(te,G,U){if(!Array.isArray(te))throw new TypeError("First argument should be an array");if(te.forEach(q=>{if(!Array.isArray(q)||q.some(H=>typeof H!="number")||q.length!==te[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),te=te.filter((q,H)=>H===0||!q.every((X,ue)=>X===te[H-1][ue])),te.length<2)return[];const J=te.length,K=be(te[1],te[0]),W=be(te[J-2],te[J-1]);return V(te,K,W,G,U)}function V(te,G,U,J,K){var q,H,X,ue,ge,Ee,we,de,Te,it,Ve,qe,Be;if(te.length===2)return qe=oe.vectorLen(oe.subtract(te[0],te[1]))/3,q=[te[0],oe.addArrays(te[0],oe.mulItems(G,qe)),oe.addArrays(te[1],oe.mulItems(U,qe)),te[1]],[q];if(H=le(te),[q,ue,Ee]=B(te,H,H,G,U,K),ue===0||ue<J)return[q];if(ue<J*J)for(X=H,ge=ue,we=Ee,Be=0;Be<20;Be++){if(X=R(q,te,X),[q,ue,Ee]=B(te,H,X,G,U,K),ue<J)return[q];if(Ee===we){let Oe=ue/ge;if(Oe>.9999&&Oe<1.0001)break}ge=ue,we=Ee}return Ve=[],de=oe.subtract(te[Ee-1],te[Ee+1]),de.every(Oe=>Oe===0)&&(de=oe.subtract(te[Ee-1],te[Ee]),[de[0],de[1]]=[-de[1],de[0]]),Te=oe.normalize(de),it=oe.mulItems(Te,-1),Ve=Ve.concat(V(te.slice(0,Ee+1),G,Te,J,K)),Ve=Ve.concat(V(te.slice(Ee),it,U,J,K)),Ve}function B(te,G,U,J,K,W){var q,H,X;return q=O(te,U,J,K),[H,X]=pe(te,q,G),W&&W({bez:q,points:te,params:G,maxErr:H,maxPoint:X}),[q,H,X]}function O(te,G,U,J){var K,W,q,H,X,ue,ge,Ee,we,de,Te,it,Ve,qe,Be,Oe,De,et=te[0],tt=te[te.length-1];for(K=[et,null,null,tt],W=oe.zeros_Xx2x2(G.length),Ve=0,qe=G.length;Ve<qe;Ve++)Oe=G[Ve],De=1-Oe,q=W[Ve],q[0]=oe.mulItems(U,3*Oe*(De*De)),q[1]=oe.mulItems(J,3*De*(Oe*Oe));for(H=[[0,0],[0,0]],X=[0,0],Ve=0,qe=te.length;Ve<qe;Ve++)Oe=G[Ve],q=W[Ve],H[0][0]+=oe.dot(q[0],q[0]),H[0][1]+=oe.dot(q[0],q[1]),H[1][0]+=oe.dot(q[0],q[1]),H[1][1]+=oe.dot(q[1],q[1]),Be=oe.subtract(te[Ve],ee.q([et,et,tt,tt],Oe)),X[0]+=oe.dot(q[0],Be),X[1]+=oe.dot(q[1],Be);return ue=H[0][0]*H[1][1]-H[1][0]*H[0][1],ge=H[0][0]*X[1]-H[1][0]*X[0],Ee=X[0]*H[1][1]-X[1]*H[0][1],we=ue===0?0:Ee/ue,de=ue===0?0:ge/ue,it=oe.vectorLen(oe.subtract(et,tt)),Te=1e-6*it,we<Te||de<Te?(K[1]=oe.addArrays(et,oe.mulItems(U,it/3)),K[2]=oe.addArrays(tt,oe.mulItems(J,it/3))):(K[1]=oe.addArrays(et,oe.mulItems(U,we)),K[2]=oe.addArrays(tt,oe.mulItems(J,de))),K}function R(te,G,U){return U.map((J,K)=>re(te,G[K],J))}function re(te,G,U){var J=oe.subtract(ee.q(te,U),G),K=ee.qprime(te,U),W=oe.mulMatrix(J,K),q=oe.sum(oe.squareItems(K))+2*oe.mulMatrix(J,ee.qprimeprime(te,U));return q===0?U:U-W/q}function le(te){var G=[],U,J,K;return te.forEach((W,q)=>{U=q?J+oe.vectorLen(oe.subtract(W,K)):0,G.push(U),J=U,K=W}),G=G.map(W=>W/J),G}function pe(te,G,U){var J,K,W,q,H,X,ue,ge;K=0,W=Math.floor(te.length/2);const Ee=ae(G,10);for(H=0,X=te.length;H<X;H++)ue=te[H],ge=ne(G,U[H],Ee,10),q=oe.subtract(ee.q(G,ge),ue),J=q[0]*q[0]+q[1]*q[1],J>K&&(K=J,W=H);return[K,W]}var ae=function(te,G){for(var U,J=[0],K=te[0],W=0,q=1;q<=G;q++)U=ee.q(te,q/G),W+=oe.vectorLen(oe.subtract(U,K)),J.push(W),K=U;return J=J.map(H=>H/W),J};function ne(te,G,U,J){if(G<0)return 0;if(G>1)return 1;for(var K,W,q,H,X,ue=1;ue<=J;ue++)if(G<=U[ue]){H=(ue-1)/J,q=ue/J,W=U[ue-1],K=U[ue],X=(G-W)/(K-W)*(q-H)+H;break}return X}function be(te,G){return oe.normalize(oe.subtract(te,G))}class oe{static zeros_Xx2x2(G){for(var U=[];G--;)U.push([0,0]);return U}static mulItems(G,U){return G.map(J=>J*U)}static mulMatrix(G,U){return G.reduce((J,K,W)=>J+K*U[W],0)}static subtract(G,U){return G.map((J,K)=>J-U[K])}static addArrays(G,U){return G.map((J,K)=>J+U[K])}static addItems(G,U){return G.map(J=>J+U)}static sum(G){return G.reduce((U,J)=>U+J)}static dot(G,U){return oe.mulMatrix(G,U)}static vectorLen(G){return Math.hypot(...G)}static divItems(G,U){return G.map(J=>J/U)}static squareItems(G){return G.map(U=>U*U)}static normalize(G){return this.divItems(G,this.vectorLen(G))}}class ee{static q(G,U){var J=1-U,K=oe.mulItems(G[0],J*J*J),W=oe.mulItems(G[1],3*J*J*U),q=oe.mulItems(G[2],3*J*U*U),H=oe.mulItems(G[3],U*U*U);return oe.addArrays(oe.addArrays(K,W),oe.addArrays(q,H))}static qprime(G,U){var J=1-U,K=oe.mulItems(oe.subtract(G[1],G[0]),3*J*J),W=oe.mulItems(oe.subtract(G[2],G[1]),6*J*U),q=oe.mulItems(oe.subtract(G[3],G[2]),3*U*U);return oe.addArrays(oe.addArrays(K,W),q)}static qprimeprime(G,U){return oe.addArrays(oe.mulItems(oe.addArrays(oe.subtract(G[2],oe.mulItems(G[1],2)),G[0]),6*(1-U)),oe.mulItems(oe.addArrays(oe.subtract(G[3],oe.mulItems(G[2],2)),G[1]),6*U))}}A.exports=$,A.exports.fitCubic=V,A.exports.createTangent=be},(A,$,V)=>{var ie,nr,Se,Xi,Re,si,nt,ci;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var B=V(1),O=V(6),R=V(3),re=V(33),le=V(34);const pe=1e3,ae=9,ne=new WeakSet;function be(Xe){return{width:Xe[2]-Xe[0],height:Xe[3]-Xe[1]}}class oe{static create(se){switch(se.data.annotationType){case B.AnnotationType.LINK:return new te(se);case B.AnnotationType.TEXT:return new G(se);case B.AnnotationType.WIDGET:switch(se.data.fieldType){case"Tx":return new J(se);case"Btn":return se.data.radioButton?new W(se):se.data.checkBox?new K(se):new q(se);case"Ch":return new H(se)}return new U(se);case B.AnnotationType.POPUP:return new X(se);case B.AnnotationType.FREETEXT:return new ge(se);case B.AnnotationType.LINE:return new Ee(se);case B.AnnotationType.SQUARE:return new we(se);case B.AnnotationType.CIRCLE:return new de(se);case B.AnnotationType.POLYLINE:return new Te(se);case B.AnnotationType.CARET:return new Ve(se);case B.AnnotationType.INK:return new qe(se);case B.AnnotationType.POLYGON:return new it(se);case B.AnnotationType.HIGHLIGHT:return new Be(se);case B.AnnotationType.UNDERLINE:return new Oe(se);case B.AnnotationType.SQUIGGLY:return new De(se);case B.AnnotationType.STRIKEOUT:return new et(se);case B.AnnotationType.STAMP:return new tt(se);case B.AnnotationType.FILEATTACHMENT:return new Ae(se);default:return new ee(se)}}}class ee{constructor(se,{isRenderable:he=!1,ignoreBorder:ye=!1,createQuadrilaterals:ke=!1}={}){this.isRenderable=he,this.data=se.data,this.layer=se.layer,this.page=se.page,this.viewport=se.viewport,this.linkService=se.linkService,this.downloadManager=se.downloadManager,this.imageResourcesPath=se.imageResourcesPath,this.renderForms=se.renderForms,this.svgFactory=se.svgFactory,this.annotationStorage=se.annotationStorage,this.enableScripting=se.enableScripting,this.hasJSActions=se.hasJSActions,this._fieldObjects=se.fieldObjects,he&&(this.container=this._createContainer(ye)),ke&&(this.quadrilaterals=this._createQuadrilaterals(ye))}_createContainer(se=!1){const{data:he,page:ye,viewport:ke}=this,_e=document.createElement("section");_e.setAttribute("data-annotation-id",he.id);const{pageWidth:$e,pageHeight:rt,pageX:ot,pageY:at}=ke.rawDims,{width:Je,height:ft}=be(he.rect),dt=B.Util.normalizeRect([he.rect[0],ye.view[3]-he.rect[1]+ye.view[1],he.rect[2],ye.view[3]-he.rect[3]+ye.view[1]]);if(!se&&he.borderStyle.width>0){_e.style.borderWidth="".concat(he.borderStyle.width,"px");const St=he.borderStyle.horizontalCornerRadius,It=he.borderStyle.verticalCornerRadius;if(St>0||It>0){const jt="calc(".concat(St,"px * var(--scale-factor)) / calc(").concat(It,"px * var(--scale-factor))");_e.style.borderRadius=jt}else if(this instanceof W){const jt="calc(".concat(Je,"px * var(--scale-factor)) / calc(").concat(ft,"px * var(--scale-factor))");_e.style.borderRadius=jt}switch(he.borderStyle.style){case B.AnnotationBorderStyleType.SOLID:_e.style.borderStyle="solid";break;case B.AnnotationBorderStyleType.DASHED:_e.style.borderStyle="dashed";break;case B.AnnotationBorderStyleType.BEVELED:(0,B.warn)("Unimplemented border style: beveled");break;case B.AnnotationBorderStyleType.INSET:(0,B.warn)("Unimplemented border style: inset");break;case B.AnnotationBorderStyleType.UNDERLINE:_e.style.borderBottomStyle="solid";break}const Vt=he.borderColor||null;Vt?_e.style.borderColor=B.Util.makeHexColor(Vt[0]|0,Vt[1]|0,Vt[2]|0):_e.style.borderWidth=0}_e.style.left="".concat(100*(dt[0]-ot)/$e,"%"),_e.style.top="".concat(100*(dt[1]-at)/rt,"%");const{rotation:_t}=he;return he.hasOwnCanvas||_t===0?(_e.style.width="".concat(100*Je/$e,"%"),_e.style.height="".concat(100*ft/rt,"%")):this.setRotation(_t,_e),_e}setRotation(se,he=this.container){const{pageWidth:ye,pageHeight:ke}=this.viewport.rawDims,{width:_e,height:$e}=be(this.data.rect);let rt,ot;se%180===0?(rt=100*_e/ye,ot=100*$e/ke):(rt=100*$e/ye,ot=100*_e/ke),he.style.width="".concat(rt,"%"),he.style.height="".concat(ot,"%"),he.setAttribute("data-main-rotation",(360-se)%360)}get _commonActions(){const se=(he,ye,ke)=>{const _e=ke.detail[he];ke.target.style[ye]=re.ColorConverters["".concat(_e[0],"_HTML")](_e.slice(1))};return(0,B.shadow)(this,"_commonActions",{display:he=>{const ye=he.detail.display%2===1;this.container.style.visibility=ye?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ye,print:he.detail.display===0||he.detail.display===3})},print:he=>{this.annotationStorage.setValue(this.data.id,{print:he.detail.print})},hidden:he=>{this.container.style.visibility=he.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:he.detail.hidden})},focus:he=>{setTimeout(()=>he.target.focus({preventScroll:!1}),0)},userName:he=>{he.target.title=he.detail.userName},readonly:he=>{he.detail.readonly?he.target.setAttribute("readonly",""):he.target.removeAttribute("readonly")},required:he=>{this._setRequired(he.target,he.detail.required)},bgColor:he=>{se("bgColor","backgroundColor",he)},fillColor:he=>{se("fillColor","backgroundColor",he)},fgColor:he=>{se("fgColor","color",he)},textColor:he=>{se("textColor","color",he)},borderColor:he=>{se("borderColor","borderColor",he)},strokeColor:he=>{se("strokeColor","borderColor",he)},rotation:he=>{const ye=he.detail.rotation;this.setRotation(ye),this.annotationStorage.setValue(this.data.id,{rotation:ye})}})}_dispatchEventFromSandbox(se,he){const ye=this._commonActions;for(const ke of Object.keys(he.detail)){const _e=se[ke]||ye[ke];_e==null||_e(he)}}_setDefaultPropertiesFromJS(se){if(!this.enableScripting)return;const he=this.annotationStorage.getRawValue(this.data.id);if(!he)return;const ye=this._commonActions;for(const[ke,_e]of Object.entries(he)){const $e=ye[ke];if($e){const rt={detail:{[ke]:_e},target:se};$e(rt),delete he[ke]}}}_createQuadrilaterals(se=!1){if(!this.data.quadPoints)return null;const he=[],ye=this.data.rect;for(const ke of this.data.quadPoints)this.data.rect=[ke[2].x,ke[2].y,ke[1].x,ke[1].y],he.push(this._createContainer(se));return this.data.rect=ye,he}_createPopup(se,he){let ye=this.container;this.quadrilaterals&&(se=se||this.quadrilaterals,ye=this.quadrilaterals[0]),se||(se=document.createElement("div"),se.className="popupTriggerArea",ye.append(se));const _e=new ue({container:ye,trigger:se,color:he.color,titleObj:he.titleObj,modificationDate:he.modificationDate,contentsObj:he.contentsObj,richText:he.richText,hideWrapper:!0}).render();_e.style.left="100%",ye.append(_e)}_renderQuadrilaterals(se){for(const he of this.quadrilaterals)he.className=se;return this.quadrilaterals}render(){(0,B.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(se,he=null){const ye=[];if(this._fieldObjects){const ke=this._fieldObjects[se];if(ke)for(const{page:_e,id:$e,exportValues:rt}of ke){if(_e===-1||$e===he)continue;const ot=typeof rt=="string"?rt:null,at=document.querySelector('[data-element-id="'.concat($e,'"]'));if(at&&!ne.has(at)){(0,B.warn)("_getElementsByName - element not allowed: ".concat($e));continue}ye.push({id:$e,exportValue:ot,domElement:at})}return ye}for(const ke of document.getElementsByName(se)){const{exportValue:_e}=ke,$e=ke.getAttribute("data-element-id");$e!==he&&ne.has(ke)&&ye.push({id:$e,exportValue:_e,domElement:ke})}return ye}}class te extends ee{constructor(he,ye=null){super(he,{isRenderable:!0,ignoreBorder:!!(ye!=null&&ye.ignoreBorder),createQuadrilaterals:!0});st(this,ie);st(this,Se);this.isTooltipOnly=he.data.isTooltipOnly}render(){const{data:he,linkService:ye}=this,ke=document.createElement("a");ke.setAttribute("data-element-id",he.id);let _e=!1;return he.url?(ye.addLinkAttributes(ke,he.url,he.newWindow),_e=!0):he.action?(this._bindNamedAction(ke,he.action),_e=!0):he.attachment?(this._bindAttachment(ke,he.attachment),_e=!0):he.setOCGState?(ht(this,Se,Xi).call(this,ke,he.setOCGState),_e=!0):he.dest?(this._bindLink(ke,he.dest),_e=!0):(he.actions&&(he.actions.Action||he.actions["Mouse Up"]||he.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ke,he),_e=!0),he.resetForm?(this._bindResetFormAction(ke,he.resetForm),_e=!0):this.isTooltipOnly&&!_e&&(this._bindLink(ke,""),_e=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(($e,rt)=>{const ot=rt===0?ke:ke.cloneNode();return $e.append(ot),$e}):(this.container.className="linkAnnotation",_e&&this.container.append(ke),this.container)}_bindLink(he,ye){he.href=this.linkService.getDestinationHash(ye),he.onclick=()=>(ye&&this.linkService.goToDestination(ye),!1),(ye||ye==="")&&ht(this,ie,nr).call(this)}_bindNamedAction(he,ye){he.href=this.linkService.getAnchorUrl(""),he.onclick=()=>(this.linkService.executeNamedAction(ye),!1),ht(this,ie,nr).call(this)}_bindAttachment(he,ye){he.href=this.linkService.getAnchorUrl(""),he.onclick=()=>{var ke;return(ke=this.downloadManager)==null||ke.openOrDownloadData(this.container,ye.content,ye.filename),!1},ht(this,ie,nr).call(this)}_bindJSAction(he,ye){he.href=this.linkService.getAnchorUrl("");const ke=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _e of Object.keys(ye.actions)){const $e=ke.get(_e);$e&&(he[$e]=()=>{var rt;return(rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ye.id,name:_e}}),!1})}he.onclick||(he.onclick=()=>!1),ht(this,ie,nr).call(this)}_bindResetFormAction(he,ye){const ke=he.onclick;if(ke||(he.href=this.linkService.getAnchorUrl("")),ht(this,ie,nr).call(this),!this._fieldObjects){(0,B.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ke||(he.onclick=()=>!1);return}he.onclick=()=>{var ft;ke==null||ke();const{fields:_e,refs:$e,include:rt}=ye,ot=[];if(_e.length!==0||$e.length!==0){const dt=new Set($e);for(const _t of _e){const St=this._fieldObjects[_t]||[];for(const{id:It}of St)dt.add(It)}for(const _t of Object.values(this._fieldObjects))for(const St of _t)dt.has(St.id)===rt&&ot.push(St)}else for(const dt of Object.values(this._fieldObjects))ot.push(...dt);const at=this.annotationStorage,Je=[];for(const dt of ot){const{id:_t}=dt;switch(Je.push(_t),dt.type){case"text":{const It=dt.defaultValue||"";at.setValue(_t,{value:It});break}case"checkbox":case"radiobutton":{const It=dt.defaultValue===dt.exportValues;at.setValue(_t,{value:It});break}case"combobox":case"listbox":{const It=dt.defaultValue||"";at.setValue(_t,{value:It});break}default:continue}const St=document.querySelector('[data-element-id="'.concat(_t,'"]'));if(St){if(!ne.has(St)){(0,B.warn)("_bindResetFormAction - element not allowed: ".concat(_t));continue}}else continue;St.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Je,name:"ResetForm"}})),!1}}}ie=new WeakSet,nr=function(){this.container.setAttribute("data-internal-link","")},Se=new WeakSet,Xi=function(he,ye){he.href=this.linkService.getAnchorUrl(""),he.onclick=()=>(this.linkService.executeSetOCGState(ye),!1),ht(this,ie,nr).call(this)};class G extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he})}render(){this.container.className="textAnnotation";const se=document.createElement("img");return se.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",se.alt="[{{type}} Annotation]",se.dataset.l10nId="text_annotation_type",se.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(se,this.data),this.container.append(se),this.container}}class U extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(se){const{isWin:he,isMac:ye}=B.FeatureTest.platform;return he&&se.ctrlKey||ye&&se.metaKey}_setEventListener(se,he,ye,ke){he.includes("mouse")?se.addEventListener(he,_e=>{var $e;($e=this.linkService.eventBus)==null||$e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ye,value:ke(_e),shift:_e.shiftKey,modifier:this._getKeyModifier(_e)}})}):se.addEventListener(he,_e=>{var $e;($e=this.linkService.eventBus)==null||$e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ye,value:ke(_e)}})})}_setEventListeners(se,he,ye){var ke;for(const[_e,$e]of he)($e==="Action"||(ke=this.data.actions)!=null&&ke[$e])&&this._setEventListener(se,_e,$e,ye)}_setBackgroundColor(se){const he=this.data.backgroundColor||null;se.style.backgroundColor=he===null?"transparent":B.Util.makeHexColor(he[0],he[1],he[2])}_setTextStyle(se){const he=["left","center","right"],{fontColor:ye}=this.data.defaultAppearanceData,ke=this.data.defaultAppearanceData.fontSize||ae,_e=se.style;let $e;const rt=2,ot=at=>Math.round(10*at)/10;if(this.data.multiLine){const at=Math.abs(this.data.rect[3]-this.data.rect[1]-rt),Je=Math.round(at/(B.LINE_FACTOR*ke))||1,ft=at/Je;$e=Math.min(ke,ot(ft/B.LINE_FACTOR))}else{const at=Math.abs(this.data.rect[3]-this.data.rect[1]-rt);$e=Math.min(ke,ot(at/B.LINE_FACTOR))}_e.fontSize="calc(".concat($e,"px * var(--scale-factor))"),_e.color=B.Util.makeHexColor(ye[0],ye[1],ye[2]),this.data.textAlignment!==null&&(_e.textAlign=he[this.data.textAlignment])}_setRequired(se,he){he?se.setAttribute("required",!0):se.removeAttribute("required"),se.setAttribute("aria-required",he)}}class J extends U{constructor(se){const he=se.renderForms||!se.data.hasAppearance&&!!se.data.fieldValue;super(se,{isRenderable:he})}setPropertyOnSiblings(se,he,ye,ke){const _e=this.annotationStorage;for(const $e of this._getElementsByName(se.name,se.id))$e.domElement&&($e.domElement[he]=ye),_e.setValue($e.id,{[ke]:ye})}render(){var ke;const se=this.annotationStorage,he=this.data.id;this.container.className="textWidgetAnnotation";let ye=null;if(this.renderForms){const _e=se.getValue(he,{value:this.data.fieldValue});let $e=_e.formattedValue||_e.value||"";const rt=se.getValue(he,{charLimit:this.data.maxLen}).charLimit;rt&&$e.length>rt&&($e=$e.slice(0,rt));const ot={userValue:$e,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ye=document.createElement("textarea"),ye.textContent=$e,this.data.doNotScroll&&(ye.style.overflowY="hidden")):(ye=document.createElement("input"),ye.type="text",ye.setAttribute("value",$e),this.data.doNotScroll&&(ye.style.overflowX="hidden")),ne.add(ye),ye.setAttribute("data-element-id",he),ye.disabled=this.data.readOnly,ye.name=this.data.fieldName,ye.tabIndex=pe,this._setRequired(ye,this.data.required),rt&&(ye.maxLength=rt),ye.addEventListener("input",Je=>{se.setValue(he,{value:Je.target.value}),this.setPropertyOnSiblings(ye,"value",Je.target.value,"value")}),ye.addEventListener("resetform",Je=>{var dt;const ft=(dt=this.data.defaultFieldValue)!=null?dt:"";ye.value=ot.userValue=ft,ot.formattedValue=null});let at=Je=>{const{formattedValue:ft}=ot;ft!=null&&(Je.target.value=ft),Je.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ye.addEventListener("focus",ft=>{const{target:dt}=ft;ot.userValue&&(dt.value=ot.userValue),ot.lastCommittedValue=dt.value,ot.commitKey=1}),ye.addEventListener("updatefromsandbox",ft=>{const dt={value(_t){var St;ot.userValue=(St=_t.detail.value)!=null?St:"",se.setValue(he,{value:ot.userValue.toString()}),_t.target.value=ot.userValue},formattedValue(_t){const{formattedValue:St}=_t.detail;ot.formattedValue=St,St!=null&&_t.target!==document.activeElement&&(_t.target.value=St),se.setValue(he,{formattedValue:St})},selRange(_t){_t.target.setSelectionRange(..._t.detail.selRange)},charLimit:_t=>{var jt;const{charLimit:St}=_t.detail,{target:It}=_t;if(St===0){It.removeAttribute("maxLength");return}It.setAttribute("maxLength",St);let Vt=ot.userValue;!Vt||Vt.length<=St||(Vt=Vt.slice(0,St),It.value=ot.userValue=Vt,se.setValue(he,{value:Vt}),(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:Vt,willCommit:!0,commitKey:1,selStart:It.selectionStart,selEnd:It.selectionEnd}}))}};this._dispatchEventFromSandbox(dt,ft)}),ye.addEventListener("keydown",ft=>{var St;ot.commitKey=1;let dt=-1;if(ft.key==="Escape"?dt=0:ft.key==="Enter"&&!this.data.multiLine?dt=2:ft.key==="Tab"&&(ot.commitKey=3),dt===-1)return;const{value:_t}=ft.target;ot.lastCommittedValue!==_t&&(ot.lastCommittedValue=_t,ot.userValue=_t,(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:_t,willCommit:!0,commitKey:dt,selStart:ft.target.selectionStart,selEnd:ft.target.selectionEnd}}))});const Je=at;at=null,ye.addEventListener("blur",ft=>{var _t;if(!ft.relatedTarget)return;const{value:dt}=ft.target;ot.userValue=dt,ot.lastCommittedValue!==dt&&((_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:dt,willCommit:!0,commitKey:ot.commitKey,selStart:ft.target.selectionStart,selEnd:ft.target.selectionEnd}})),Je(ft)}),(ke=this.data.actions)!=null&&ke.Keystroke&&ye.addEventListener("beforeinput",ft=>{var Ie;ot.lastCommittedValue=null;const{data:dt,target:_t}=ft,{value:St,selectionStart:It,selectionEnd:Vt}=_t;let jt=It,Me=Vt;switch(ft.inputType){case"deleteWordBackward":{const je=St.substring(0,It).match(/\w*[^\w]*$/);je&&(jt-=je[0].length);break}case"deleteWordForward":{const je=St.substring(It).match(/^[^\w]*\w*/);je&&(Me+=je[0].length);break}case"deleteContentBackward":It===Vt&&(jt-=1);break;case"deleteContentForward":It===Vt&&(Me+=1);break}ft.preventDefault(),(Ie=this.linkService.eventBus)==null||Ie.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:St,change:dt||"",willCommit:!1,selStart:jt,selEnd:Me}})}),this._setEventListeners(ye,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ft=>ft.target.value)}if(at&&ye.addEventListener("blur",at),this.data.comb){const ft=(this.data.rect[2]-this.data.rect[0])/rt;ye.classList.add("comb"),ye.style.letterSpacing="calc(".concat(ft,"px * var(--scale-factor) - 1ch)")}}else ye=document.createElement("div"),ye.textContent=this.data.fieldValue,ye.style.verticalAlign="middle",ye.style.display="table-cell";return this._setTextStyle(ye),this._setBackgroundColor(ye),this._setDefaultPropertiesFromJS(ye),this.container.append(ye),this.container}}class K extends U{constructor(se){super(se,{isRenderable:se.renderForms})}render(){const se=this.annotationStorage,he=this.data,ye=he.id;let ke=se.getValue(ye,{value:he.exportValue===he.fieldValue}).value;typeof ke=="string"&&(ke=ke!=="Off",se.setValue(ye,{value:ke})),this.container.className="buttonWidgetAnnotation checkBox";const _e=document.createElement("input");return ne.add(_e),_e.setAttribute("data-element-id",ye),_e.disabled=he.readOnly,this._setRequired(_e,this.data.required),_e.type="checkbox",_e.name=he.fieldName,ke&&_e.setAttribute("checked",!0),_e.setAttribute("exportValue",he.exportValue),_e.tabIndex=pe,_e.addEventListener("change",$e=>{const{name:rt,checked:ot}=$e.target;for(const at of this._getElementsByName(rt,ye)){const Je=ot&&at.exportValue===he.exportValue;at.domElement&&(at.domElement.checked=Je),se.setValue(at.id,{value:Je})}se.setValue(ye,{value:ot})}),_e.addEventListener("resetform",$e=>{const rt=he.defaultFieldValue||"Off";$e.target.checked=rt===he.exportValue}),this.enableScripting&&this.hasJSActions&&(_e.addEventListener("updatefromsandbox",$e=>{const rt={value(ot){ot.target.checked=ot.detail.value!=="Off",se.setValue(ye,{value:ot.target.checked})}};this._dispatchEventFromSandbox(rt,$e)}),this._setEventListeners(_e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$e=>$e.target.checked)),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class W extends U{constructor(se){super(se,{isRenderable:se.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const se=this.annotationStorage,he=this.data,ye=he.id;let ke=se.getValue(ye,{value:he.fieldValue===he.buttonValue}).value;typeof ke=="string"&&(ke=ke!==he.buttonValue,se.setValue(ye,{value:ke}));const _e=document.createElement("input");if(ne.add(_e),_e.setAttribute("data-element-id",ye),_e.disabled=he.readOnly,this._setRequired(_e,this.data.required),_e.type="radio",_e.name=he.fieldName,ke&&_e.setAttribute("checked",!0),_e.tabIndex=pe,_e.addEventListener("change",$e=>{const{name:rt,checked:ot}=$e.target;for(const at of this._getElementsByName(rt,ye))se.setValue(at.id,{value:!1});se.setValue(ye,{value:ot})}),_e.addEventListener("resetform",$e=>{const rt=he.defaultFieldValue;$e.target.checked=rt!=null&&rt===he.buttonValue}),this.enableScripting&&this.hasJSActions){const $e=he.buttonValue;_e.addEventListener("updatefromsandbox",rt=>{const ot={value:at=>{const Je=$e===at.detail.value;for(const ft of this._getElementsByName(at.target.name)){const dt=Je&&ft.id===ye;ft.domElement&&(ft.domElement.checked=dt),se.setValue(ft.id,{value:dt})}}};this._dispatchEventFromSandbox(ot,rt)}),this._setEventListeners(_e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rt=>rt.target.checked)}return this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class q extends te{constructor(se){super(se,{ignoreBorder:se.data.hasAppearance})}render(){const se=super.render();se.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(se.title=this.data.alternativeText);const he=se.lastChild;return this.enableScripting&&this.hasJSActions&&he&&(this._setDefaultPropertiesFromJS(he),he.addEventListener("updatefromsandbox",ye=>{this._dispatchEventFromSandbox({},ye)})),se}}class H extends U{constructor(se){super(se,{isRenderable:se.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const se=this.annotationStorage,he=this.data.id,ye=se.getValue(he,{value:this.data.fieldValue}),ke=document.createElement("select");ne.add(ke),ke.setAttribute("data-element-id",he),ke.disabled=this.data.readOnly,this._setRequired(ke,this.data.required),ke.name=this.data.fieldName,ke.tabIndex=pe;let _e=this.data.combo&&this.data.options.length>0;this.data.combo||(ke.size=this.data.options.length,this.data.multiSelect&&(ke.multiple=!0)),ke.addEventListener("resetform",Je=>{const ft=this.data.defaultFieldValue;for(const dt of ke.options)dt.selected=dt.value===ft});for(const Je of this.data.options){const ft=document.createElement("option");ft.textContent=Je.displayValue,ft.value=Je.exportValue,ye.value.includes(Je.exportValue)&&(ft.setAttribute("selected",!0),_e=!1),ke.append(ft)}let $e=null;if(_e){const Je=document.createElement("option");Je.value=" ",Je.setAttribute("hidden",!0),Je.setAttribute("selected",!0),ke.prepend(Je),$e=()=>{Je.remove(),ke.removeEventListener("input",$e),$e=null},ke.addEventListener("input",$e)}const rt=Je=>{const ft=Je?"value":"textContent",{options:dt,multiple:_t}=ke;return _t?Array.prototype.filter.call(dt,St=>St.selected).map(St=>St[ft]):dt.selectedIndex===-1?null:dt[dt.selectedIndex][ft]};let ot=rt(!1);const at=Je=>{const ft=Je.target.options;return Array.prototype.map.call(ft,dt=>({displayValue:dt.textContent,exportValue:dt.value}))};return this.enableScripting&&this.hasJSActions?(ke.addEventListener("updatefromsandbox",Je=>{const ft={value(dt){$e==null||$e();const _t=dt.detail.value,St=new Set(Array.isArray(_t)?_t:[_t]);for(const It of ke.options)It.selected=St.has(It.value);se.setValue(he,{value:rt(!0)}),ot=rt(!1)},multipleSelection(dt){ke.multiple=!0},remove(dt){const _t=ke.options,St=dt.detail.remove;_t[St].selected=!1,ke.remove(St),_t.length>0&&Array.prototype.findIndex.call(_t,Vt=>Vt.selected)===-1&&(_t[0].selected=!0),se.setValue(he,{value:rt(!0),items:at(dt)}),ot=rt(!1)},clear(dt){for(;ke.length!==0;)ke.remove(0);se.setValue(he,{value:null,items:[]}),ot=rt(!1)},insert(dt){const{index:_t,displayValue:St,exportValue:It}=dt.detail.insert,Vt=ke.children[_t],jt=document.createElement("option");jt.textContent=St,jt.value=It,Vt?Vt.before(jt):ke.append(jt),se.setValue(he,{value:rt(!0),items:at(dt)}),ot=rt(!1)},items(dt){const{items:_t}=dt.detail;for(;ke.length!==0;)ke.remove(0);for(const St of _t){const{displayValue:It,exportValue:Vt}=St,jt=document.createElement("option");jt.textContent=It,jt.value=Vt,ke.append(jt)}ke.options.length>0&&(ke.options[0].selected=!0),se.setValue(he,{value:rt(!0),items:at(dt)}),ot=rt(!1)},indices(dt){const _t=new Set(dt.detail.indices);for(const St of dt.target.options)St.selected=_t.has(St.index);se.setValue(he,{value:rt(!0)}),ot=rt(!1)},editable(dt){dt.target.disabled=!dt.detail.editable}};this._dispatchEventFromSandbox(ft,Je)}),ke.addEventListener("input",Je=>{var dt;const ft=rt(!0);se.setValue(he,{value:ft}),Je.preventDefault(),(dt=this.linkService.eventBus)==null||dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:ot,changeEx:ft,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ke,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Je=>Je.target.value)):ke.addEventListener("input",function(Je){se.setValue(he,{value:rt(!0)})}),this.data.combo&&this._setTextStyle(ke),this._setBackgroundColor(ke),this._setDefaultPropertiesFromJS(ke),this.container.append(ke),this.container}}const xe=class xe extends ee{constructor(se){var ke,_e,$e;const{data:he}=se,ye=!xe.IGNORE_TYPES.has(he.parentType)&&!!((ke=he.titleObj)!=null&&ke.str||(_e=he.contentsObj)!=null&&_e.str||($e=he.richText)!=null&&$e.str);super(se,{isRenderable:ye})}render(){this.container.className="popupAnnotation";const se=this.layer.querySelectorAll('[data-annotation-id="'.concat(this.data.parentId,'"]'));if(se.length===0)return this.container;const he=new ue({container:this.container,trigger:Array.from(se),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ye=this.page,ke=B.Util.normalizeRect([this.data.parentRect[0],ye.view[3]-this.data.parentRect[1]+ye.view[1],this.data.parentRect[2],ye.view[3]-this.data.parentRect[3]+ye.view[1]]),_e=ke[0]+this.data.parentRect[2]-this.data.parentRect[0],$e=ke[1],{pageWidth:rt,pageHeight:ot,pageX:at,pageY:Je}=this.viewport.rawDims;return this.container.style.left="".concat(100*(_e-at)/rt,"%"),this.container.style.top="".concat(100*($e-Je)/ot,"%"),this.container.append(he.render()),this.container}};Cn(xe,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let X=xe;class ue{constructor(se){this.container=se.container,this.trigger=se.trigger,this.color=se.color,this.titleObj=se.titleObj,this.modificationDate=se.modificationDate,this.contentsObj=se.contentsObj,this.richText=se.richText,this.hideWrapper=se.hideWrapper||!1,this.pinned=!1}render(){var rt,ot;const he=document.createElement("div");he.className="popupWrapper",this.hideElement=this.hideWrapper?he:this.container,this.hideElement.hidden=!0;const ye=document.createElement("div");ye.className="popup";const ke=this.color;if(ke){const at=.7*(255-ke[0])+ke[0],Je=.7*(255-ke[1])+ke[1],ft=.7*(255-ke[2])+ke[2];ye.style.backgroundColor=B.Util.makeHexColor(at|0,Je|0,ft|0)}const _e=document.createElement("h1");_e.dir=this.titleObj.dir,_e.textContent=this.titleObj.str,ye.append(_e);const $e=O.PDFDateString.toDateObject(this.modificationDate);if($e){const at=document.createElement("span");at.className="popupDate",at.textContent="{{date}}, {{time}}",at.dataset.l10nId="annotation_date_string",at.dataset.l10nArgs=JSON.stringify({date:$e.toLocaleDateString(),time:$e.toLocaleTimeString()}),ye.append(at)}if((rt=this.richText)!=null&&rt.str&&(!((ot=this.contentsObj)!=null&&ot.str)||this.contentsObj.str===this.richText.str))le.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ye}),ye.lastChild.className="richText popupContent";else{const at=this._formatContents(this.contentsObj);ye.append(at)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const at of this.trigger)at.addEventListener("click",this._toggle.bind(this)),at.addEventListener("mouseover",this._show.bind(this,!1)),at.addEventListener("mouseout",this._hide.bind(this,!1));return ye.addEventListener("click",this._hide.bind(this,!0)),he.append(ye),he}_formatContents({str:se,dir:he}){const ye=document.createElement("p");ye.className="popupContent",ye.dir=he;const ke=se.split(/(?:\r\n?|\n)/);for(let _e=0,$e=ke.length;_e<$e;++_e){const rt=ke[_e];ye.append(document.createTextNode(rt)),_e<$e-1&&ye.append(document.createElement("br"))}return ye}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(se=!1){se&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(se=!0){se&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ge extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0}),this.textContent=se.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const se=document.createElement("div");se.className="annotationTextContent",se.setAttribute("role","comment");for(const he of this.textContent){const ye=document.createElement("span");ye.textContent=he,se.append(ye)}this.container.append(se)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ee extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0),_e=this.svgFactory.createElement("svg:line");return _e.setAttribute("x1",se.rect[2]-se.lineCoordinates[0]),_e.setAttribute("y1",se.rect[3]-se.lineCoordinates[1]),_e.setAttribute("x2",se.rect[2]-se.lineCoordinates[2]),_e.setAttribute("y2",se.rect[3]-se.lineCoordinates[3]),_e.setAttribute("stroke-width",se.borderStyle.width||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),ke.append(_e),this.container.append(ke),this._createPopup(_e,se),this.container}}class we extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0),_e=se.borderStyle.width,$e=this.svgFactory.createElement("svg:rect");return $e.setAttribute("x",_e/2),$e.setAttribute("y",_e/2),$e.setAttribute("width",he-_e),$e.setAttribute("height",ye-_e),$e.setAttribute("stroke-width",_e||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","transparent"),ke.append($e),this.container.append(ke),this._createPopup($e,se),this.container}}class de extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0),_e=se.borderStyle.width,$e=this.svgFactory.createElement("svg:ellipse");return $e.setAttribute("cx",he/2),$e.setAttribute("cy",ye/2),$e.setAttribute("rx",he/2-_e/2),$e.setAttribute("ry",ye/2-_e/2),$e.setAttribute("stroke-width",_e||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","transparent"),ke.append($e),this.container.append(ke),this._createPopup($e,se),this.container}}class Te extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0);let _e=[];for(const rt of se.vertices){const ot=rt.x-se.rect[0],at=se.rect[3]-rt.y;_e.push(ot+","+at)}_e=_e.join(" ");const $e=this.svgFactory.createElement(this.svgElementName);return $e.setAttribute("points",_e),$e.setAttribute("stroke-width",se.borderStyle.width||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","transparent"),ke.append($e),this.container.append(ke),this._createPopup($e,se),this.container}}class it extends Te{constructor(se){super(se),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ve extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class qe extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const se=this.data,{width:he,height:ye}=be(se.rect),ke=this.svgFactory.create(he,ye,!0);for(const _e of se.inkLists){let $e=[];for(const ot of _e){const at=ot.x-se.rect[0],Je=se.rect[3]-ot.y;$e.push("".concat(at,",").concat(Je))}$e=$e.join(" ");const rt=this.svgFactory.createElement(this.svgElementName);rt.setAttribute("points",$e),rt.setAttribute("stroke-width",se.borderStyle.width||1),rt.setAttribute("stroke","transparent"),rt.setAttribute("fill","transparent"),this._createPopup(rt,se),ke.append(rt)}return this.container.append(ke),this.container}}class Be extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Oe extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class De extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class et extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class tt extends ee{constructor(se){var ye,ke,_e;const he=!!(se.data.hasPopup||(ye=se.data.titleObj)!=null&&ye.str||(ke=se.data.contentsObj)!=null&&ke.str||(_e=se.data.richText)!=null&&_e.str);super(se,{isRenderable:he,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ae extends ee{constructor(se){var ke;super(se,{isRenderable:!0});const{filename:he,content:ye}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(he,!0),this.content=ye,(ke=this.linkService.eventBus)==null||ke.dispatch("fileattachmentannotation",{source:this,filename:he,content:ye})}render(){var he,ye;this.container.className="fileAttachmentAnnotation";let se;return this.data.hasAppearance?se=document.createElement("div"):(se=document.createElement("img"),se.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(this.data.name)?"paperclip":"pushpin",".svg")),se.className="popupTriggerArea",se.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((he=this.data.titleObj)!=null&&he.str||(ye=this.data.contentsObj)!=null&&ye.str||this.data.richText)&&this._createPopup(se,this.data),this.container.append(se),this.container}_download(){var se;(se=this.downloadManager)==null||se.openOrDownloadData(this.container,this.content,this.filename)}}const Qe=class Qe{static render(se){var ot,at;const{annotations:he,div:ye,viewport:ke,accessibilityManager:_e}=se;(0,O.setLayerDimensions)(ye,ke);const $e={data:null,layer:ye,page:se.page,viewport:ke,linkService:se.linkService,downloadManager:se.downloadManager,imageResourcesPath:se.imageResourcesPath||"",renderForms:se.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:se.annotationStorage||new R.AnnotationStorage,enableScripting:se.enableScripting===!0,hasJSActions:se.hasJSActions,fieldObjects:se.fieldObjects};let rt=0;for(const Je of he){if(Je.annotationType!==B.AnnotationType.POPUP){const{width:_t,height:St}=be(Je.rect);if(_t<=0||St<=0)continue}$e.data=Je;const ft=oe.create($e);if(!ft.isRenderable)continue;const dt=ft.render();if(Je.hidden&&(dt.style.visibility="hidden"),Array.isArray(dt))for(const _t of dt)_t.style.zIndex=rt++,ht(ot=Qe,Re,si).call(ot,_t,Je.id,ye,_e);else dt.style.zIndex=rt++,ft instanceof X?ye.prepend(dt):ht(at=Qe,Re,si).call(at,dt,Je.id,ye,_e)}ht(this,nt,ci).call(this,ye,se.annotationCanvasMap)}static update(se){const{annotationCanvasMap:he,div:ye,viewport:ke}=se;(0,O.setLayerDimensions)(ye,{rotation:ke.rotation}),ht(this,nt,ci).call(this,ye,he),ye.hidden=!1}};Re=new WeakSet,si=function(se,he,ye,ke){const _e=se.firstChild||se;_e.id="".concat(O.AnnotationPrefix).concat(he),ye.append(se),ke==null||ke.moveElementInDOM(ye,se,_e,!1)},nt=new WeakSet,ci=function(se,he){if(he){for(const[ye,ke]of he){const _e=se.querySelector('[data-annotation-id="'.concat(ye,'"]'));if(!_e)continue;const{firstChild:$e}=_e;$e?$e.nodeName==="CANVAS"?$e.replaceWith(ke):$e.before(ke):_e.append(ke)}he.clear()}},st(Qe,Re),st(Qe,nt);let ce=Qe;$.AnnotationLayer=ce},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function V(O){return Math.floor(Math.max(0,Math.min(1,O))*255).toString(16).padStart(2,"0")}class B{static CMYK_G([R,re,le,pe]){return["G",1-Math.min(1,.3*R+.59*le+.11*re+pe)]}static G_CMYK([R]){return["CMYK",0,0,0,1-R]}static G_RGB([R]){return["RGB",R,R,R]}static G_HTML([R]){const re=V(R);return"#".concat(re).concat(re).concat(re)}static RGB_G([R,re,le]){return["G",.3*R+.59*re+.11*le]}static RGB_HTML([R,re,le]){const pe=V(R),ae=V(re),ne=V(le);return"#".concat(pe).concat(ae).concat(ne)}static T_HTML(){return"#00000000"}static CMYK_RGB([R,re,le,pe]){return["RGB",1-Math.min(1,R+pe),1-Math.min(1,le+pe),1-Math.min(1,re+pe)]}static CMYK_HTML(R){const re=this.CMYK_RGB(R).slice(1);return this.RGB_HTML(re)}static RGB_CMYK([R,re,le]){const pe=1-R,ae=1-re,ne=1-le,be=Math.min(pe,ae,ne);return["CMYK",pe,ae,ne,be]}}$.ColorConverters=B},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var B=V(19);class O{static setupStorage(re,le,pe,ae,ne){const be=ae.getValue(le,{value:null});switch(pe.name){case"textarea":if(be.value!==null&&(re.textContent=be.value),ne==="print")break;re.addEventListener("input",oe=>{ae.setValue(le,{value:oe.target.value})});break;case"input":if(pe.attributes.type==="radio"||pe.attributes.type==="checkbox"){if(be.value===pe.attributes.xfaOn?re.setAttribute("checked",!0):be.value===pe.attributes.xfaOff&&re.removeAttribute("checked"),ne==="print")break;re.addEventListener("change",oe=>{ae.setValue(le,{value:oe.target.checked?oe.target.getAttribute("xfaOn"):oe.target.getAttribute("xfaOff")})})}else{if(be.value!==null&&re.setAttribute("value",be.value),ne==="print")break;re.addEventListener("input",oe=>{ae.setValue(le,{value:oe.target.value})})}break;case"select":if(be.value!==null)for(const oe of pe.children)oe.attributes.value===be.value&&(oe.attributes.selected=!0);re.addEventListener("input",oe=>{const ee=oe.target.options,te=ee.selectedIndex===-1?"":ee[ee.selectedIndex].value;ae.setValue(le,{value:te})});break}}static setAttributes({html:re,element:le,storage:pe=null,intent:ae,linkService:ne}){const{attributes:be}=le,oe=re instanceof HTMLAnchorElement;be.type==="radio"&&(be.name="".concat(be.name,"-").concat(ae));for(const[ee,te]of Object.entries(be))if(te!=null)switch(ee){case"class":te.length&&re.setAttribute(ee,te.join(" "));break;case"dataId":break;case"id":re.setAttribute("data-element-id",te);break;case"style":Object.assign(re.style,te);break;case"textContent":re.textContent=te;break;default:(!oe||ee!=="href"&&ee!=="newWindow")&&re.setAttribute(ee,te)}oe&&ne.addLinkAttributes(re,be.href,be.newWindow),pe&&be.dataId&&this.setupStorage(re,be.dataId,le,pe)}static render(re){var G;const le=re.annotationStorage,pe=re.linkService,ae=re.xfaHtml,ne=re.intent||"display",be=document.createElement(ae.name);ae.attributes&&this.setAttributes({html:be,element:ae,intent:ne,linkService:pe});const oe=[[ae,-1,be]],ee=re.div;if(ee.append(be),re.viewport){const U="matrix(".concat(re.viewport.transform.join(","),")");ee.style.transform=U}ne!=="richText"&&ee.setAttribute("class","xfaLayer xfaFont");const te=[];for(;oe.length>0;){const[U,J,K]=oe.at(-1);if(J+1===U.children.length){oe.pop();continue}const W=U.children[++oe.at(-1)[1]];if(W===null)continue;const{name:q}=W;if(q==="#text"){const X=document.createTextNode(W.value);te.push(X),K.append(X);continue}let H;if((G=W==null?void 0:W.attributes)!=null&&G.xmlns?H=document.createElementNS(W.attributes.xmlns,q):H=document.createElement(q),K.append(H),W.attributes&&this.setAttributes({html:H,element:W,storage:le,intent:ne,linkService:pe}),W.children&&W.children.length>0)oe.push([W,-1,H]);else if(W.value){const X=document.createTextNode(W.value);B.XfaText.shouldBuildText(q)&&te.push(X),H.append(X)}}for(const U of ee.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:te}}static update(re){const le="matrix(".concat(re.viewport.transform.join(","),")");re.div.style.transform=le,re.div.hidden=!1}}$.XfaLayer=O},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var B=V(6),O=V(1),R=V(10);let re=class{constructor(){(0,O.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=re;{let G=function(H){let X=[];const ue=[];for(const ge of H){if(ge.fn==="save"){X.push({fnId:92,fn:"group",items:[]}),ue.push(X),X=X.at(-1).items;continue}ge.fn==="restore"?X=ue.pop():X.push(ge)}return X},U=function(H){if(Number.isInteger(H))return H.toString();const X=H.toFixed(10);let ue=X.length-1;if(X[ue]!=="0")return X;do ue--;while(X[ue]==="0");return X.substring(0,X[ue]==="."?ue:ue+1)},J=function(H){if(H[4]===0&&H[5]===0){if(H[1]===0&&H[2]===0)return H[0]===1&&H[3]===1?"":"scale(".concat(U(H[0])," ").concat(U(H[3]),")");if(H[0]===H[3]&&H[1]===-H[2]){const X=Math.acos(H[0])*180/Math.PI;return"rotate(".concat(U(X),")")}}else if(H[0]===1&&H[1]===0&&H[2]===0&&H[3]===1)return"translate(".concat(U(H[4])," ").concat(U(H[5]),")");return"matrix(".concat(U(H[0])," ").concat(U(H[1])," ").concat(U(H[2])," ").concat(U(H[3])," ").concat(U(H[4])," ")+"".concat(U(H[5]),")")};const le={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},pe="http://www.w3.org/XML/1998/namespace",ae="http://www.w3.org/1999/xlink",ne=["butt","round","square"],be=["miter","round","bevel"],oe=function(H,X="",ue=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([H],{type:X}));const ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ee="data:".concat(X,";base64,");for(let we=0,de=H.length;we<de;we+=3){const Te=H[we]&255,it=H[we+1]&255,Ve=H[we+2]&255,qe=Te>>2,Be=(Te&3)<<4|it>>4,Oe=we+1<de?(it&15)<<2|Ve>>6:64,De=we+2<de?Ve&63:64;Ee+=ge[qe]+ge[Be]+ge[Oe]+ge[De]}return Ee},ee=function(){const H=new Uint8Array([137,80,78,71,13,10,26,10]),X=12,ue=new Int32Array(256);for(let Ve=0;Ve<256;Ve++){let qe=Ve;for(let Be=0;Be<8;Be++)qe&1?qe=3988292384^qe>>1&2147483647:qe=qe>>1&2147483647;ue[Ve]=qe}function ge(Ve,qe,Be){let Oe=-1;for(let De=qe;De<Be;De++){const et=(Oe^Ve[De])&255,tt=ue[et];Oe=Oe>>>8^tt}return Oe^-1}function Ee(Ve,qe,Be,Oe){let De=Oe;const et=qe.length;Be[De]=et>>24&255,Be[De+1]=et>>16&255,Be[De+2]=et>>8&255,Be[De+3]=et&255,De+=4,Be[De]=Ve.charCodeAt(0)&255,Be[De+1]=Ve.charCodeAt(1)&255,Be[De+2]=Ve.charCodeAt(2)&255,Be[De+3]=Ve.charCodeAt(3)&255,De+=4,Be.set(qe,De),De+=qe.length;const tt=ge(Be,Oe+4,De);Be[De]=tt>>24&255,Be[De+1]=tt>>16&255,Be[De+2]=tt>>8&255,Be[De+3]=tt&255}function we(Ve,qe,Be){let Oe=1,De=0;for(let et=qe;et<Be;++et)Oe=(Oe+(Ve[et]&255))%65521,De=(De+Oe)%65521;return De<<16|Oe}function de(Ve){if(!R.isNodeJS)return Te(Ve);try{let qe;parseInt(process.versions.node)>=8?qe=Ve:qe=Buffer.from(Ve);const Be=require$$5.deflateSync(qe,{level:9});return Be instanceof Uint8Array?Be:new Uint8Array(Be)}catch(qe){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+qe)}return Te(Ve)}function Te(Ve){let qe=Ve.length;const Be=65535,Oe=Math.ceil(qe/Be),De=new Uint8Array(2+qe+Oe*5+4);let et=0;De[et++]=120,De[et++]=156;let tt=0;for(;qe>Be;)De[et++]=0,De[et++]=255,De[et++]=255,De[et++]=0,De[et++]=0,De.set(Ve.subarray(tt,tt+Be),et),et+=Be,tt+=Be,qe-=Be;De[et++]=1,De[et++]=qe&255,De[et++]=qe>>8&255,De[et++]=~qe&65535&255,De[et++]=(~qe&65535)>>8&255,De.set(Ve.subarray(tt),et),et+=Ve.length-tt;const Ae=we(Ve,0,Ve.length);return De[et++]=Ae>>24&255,De[et++]=Ae>>16&255,De[et++]=Ae>>8&255,De[et++]=Ae&255,De}function it(Ve,qe,Be,Oe){const De=Ve.width,et=Ve.height;let tt,Ae,ce;const ie=Ve.data;switch(qe){case O.ImageKind.GRAYSCALE_1BPP:Ae=0,tt=1,ce=De+7>>3;break;case O.ImageKind.RGB_24BPP:Ae=2,tt=8,ce=De*3;break;case O.ImageKind.RGBA_32BPP:Ae=6,tt=8,ce=De*4;break;default:throw new Error("invalid format")}const me=new Uint8Array((1+ce)*et);let Se=0,Ce=0;for(let Qe=0;Qe<et;++Qe)me[Se++]=0,me.set(ie.subarray(Ce,Ce+ce),Se),Ce+=ce,Se+=ce;if(qe===O.ImageKind.GRAYSCALE_1BPP&&Oe){Se=0;for(let Qe=0;Qe<et;Qe++){Se++;for(let Xe=0;Xe<ce;Xe++)me[Se++]^=255}}const xe=new Uint8Array([De>>24&255,De>>16&255,De>>8&255,De&255,et>>24&255,et>>16&255,et>>8&255,et&255,tt,Ae,0,0,0]),Re=de(me),Ue=H.length+X*3+xe.length+Re.length,nt=new Uint8Array(Ue);let We=0;return nt.set(H,We),We+=H.length,Ee("IHDR",xe,nt,We),We+=X+xe.length,Ee("IDATA",Re,nt,We),We+=X+Re.length,Ee("IEND",new Uint8Array(0),nt,We),oe(nt,"image/png",Be)}return function(qe,Be,Oe){const De=qe.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:qe.kind;return it(qe,De,Be,Oe)}}();class te{constructor(){this.fontSizeScale=1,this.fontWeight=le.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=le.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(X,ue){this.x=X,this.y=ue}}let K=0,W=0,q=0;$.SVGGraphics=re=class{constructor(H,X,ue=!1){(0,B.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new B.DOMSVGFactory,this.current=new te,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=H,this.objs=X,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ue,this._operatorIdMapping=[];for(const ge in O.OPS)this._operatorIdMapping[O.OPS[ge]]=ge}getObject(H,X=null){return typeof H=="string"?H.startsWith("g_")?this.commonObjs.get(H):this.objs.get(H):X}save(){this.transformStack.push(this.transformMatrix);const H=this.current;this.extraStack.push(H),this.current=H.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(H){this.save(),this.executeOpTree(H),this.restore()}loadDependencies(H){const X=H.fnArray,ue=H.argsArray;for(let ge=0,Ee=X.length;ge<Ee;ge++)if(X[ge]===O.OPS.dependency)for(const we of ue[ge]){const de=we.startsWith("g_")?this.commonObjs:this.objs,Te=new Promise(it=>{de.get(we,it)});this.current.dependencies.push(Te)}return Promise.all(this.current.dependencies)}transform(H,X,ue,ge,Ee,we){const de=[H,X,ue,ge,Ee,we];this.transformMatrix=O.Util.transform(this.transformMatrix,de),this.tgrp=null}getSVG(H,X){this.viewport=X;const ue=this._initialize(X);return this.loadDependencies(H).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(H)),ue))}convertOpList(H){const X=this._operatorIdMapping,ue=H.argsArray,ge=H.fnArray,Ee=[];for(let we=0,de=ge.length;we<de;we++){const Te=ge[we];Ee.push({fnId:Te,fn:X[Te],args:ue[we]})}return G(Ee)}executeOpTree(H){for(const X of H){const ue=X.fn,ge=X.fnId,Ee=X.args;switch(ge|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(Ee);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(Ee[0],Ee[1]);break;case O.OPS.setFont:this.setFont(Ee);break;case O.OPS.showText:this.showText(Ee[0]);break;case O.OPS.showSpacedText:this.showText(Ee[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(Ee[0],Ee[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(Ee[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(Ee[0]);break;case O.OPS.setHScale:this.setHScale(Ee[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]);break;case O.OPS.setTextRise:this.setTextRise(Ee[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(Ee[0]);break;case O.OPS.setLineWidth:this.setLineWidth(Ee[0]);break;case O.OPS.setLineJoin:this.setLineJoin(Ee[0]);break;case O.OPS.setLineCap:this.setLineCap(Ee[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(Ee[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(Ee[0],Ee[1],Ee[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ee[0],Ee[1],Ee[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(Ee);break;case O.OPS.setFillColorN:this.setFillColorN(Ee);break;case O.OPS.shadingFill:this.shadingFill(Ee[0]);break;case O.OPS.setDash:this.setDash(Ee[0],Ee[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(Ee[0]);break;case O.OPS.setFlatness:this.setFlatness(Ee[0]);break;case O.OPS.setGState:this.setGState(Ee[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(Ee[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ee[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ee[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ee[0],Ee[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]);break;case O.OPS.constructPath:this.constructPath(Ee[0],Ee[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(X.items);break;default:(0,O.warn)("Unimplemented operator ".concat(ue));break}}}setWordSpacing(H){this.current.wordSpacing=H}setCharSpacing(H){this.current.charSpacing=H}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(H,X,ue,ge,Ee,we){const de=this.current;de.textMatrix=de.lineMatrix=[H,X,ue,ge,Ee,we],de.textMatrixScale=Math.hypot(H,X),de.x=de.lineX=0,de.y=de.lineY=0,de.xcoords=[],de.ycoords=[],de.tspan=this.svgFactory.createElement("svg:tspan"),de.tspan.setAttributeNS(null,"font-family",de.fontFamily),de.tspan.setAttributeNS(null,"font-size","".concat(U(de.fontSize),"px")),de.tspan.setAttributeNS(null,"y",U(-de.y)),de.txtElement=this.svgFactory.createElement("svg:text"),de.txtElement.append(de.tspan)}beginText(){const H=this.current;H.x=H.lineX=0,H.y=H.lineY=0,H.textMatrix=O.IDENTITY_MATRIX,H.lineMatrix=O.IDENTITY_MATRIX,H.textMatrixScale=1,H.tspan=this.svgFactory.createElement("svg:tspan"),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtgrp=this.svgFactory.createElement("svg:g"),H.xcoords=[],H.ycoords=[]}moveText(H,X){const ue=this.current;ue.x=ue.lineX+=H,ue.y=ue.lineY+=X,ue.xcoords=[],ue.ycoords=[],ue.tspan=this.svgFactory.createElement("svg:tspan"),ue.tspan.setAttributeNS(null,"font-family",ue.fontFamily),ue.tspan.setAttributeNS(null,"font-size","".concat(U(ue.fontSize),"px")),ue.tspan.setAttributeNS(null,"y",U(-ue.y))}showText(H){const X=this.current,ue=X.font,ge=X.fontSize;if(ge===0)return;const Ee=X.fontSizeScale,we=X.charSpacing,de=X.wordSpacing,Te=X.fontDirection,it=X.textHScale*Te,Ve=ue.vertical,qe=Ve?1:-1,Be=ue.defaultVMetrics,Oe=ge*X.fontMatrix[0];let De=0;for(const Ae of H){if(Ae===null){De+=Te*de;continue}else if(typeof Ae=="number"){De+=qe*Ae*ge/1e3;continue}const ce=(Ae.isSpace?de:0)+we,ie=Ae.fontChar;let me,Se,Ce=Ae.width;if(Ve){let Re;const Ue=Ae.vmetric||Be;Re=Ae.vmetric?Ue[1]:Ce*.5,Re=-Re*Oe;const nt=Ue[2]*Oe;Ce=Ue?-Ue[0]:Ce,me=Re/Ee,Se=(De+nt)/Ee}else me=De/Ee,Se=0;(Ae.isInFont||ue.missingFile)&&(X.xcoords.push(X.x+me),Ve&&X.ycoords.push(-X.y+Se),X.tspan.textContent+=ie);let xe;Ve?xe=Ce*Oe-ce*Te:xe=Ce*Oe+ce*Te,De+=xe}X.tspan.setAttributeNS(null,"x",X.xcoords.map(U).join(" ")),Ve?X.tspan.setAttributeNS(null,"y",X.ycoords.map(U).join(" ")):X.tspan.setAttributeNS(null,"y",U(-X.y)),Ve?X.y-=De:X.x+=De*it,X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size","".concat(U(X.fontSize),"px")),X.fontStyle!==le.fontStyle&&X.tspan.setAttributeNS(null,"font-style",X.fontStyle),X.fontWeight!==le.fontWeight&&X.tspan.setAttributeNS(null,"font-weight",X.fontWeight);const et=X.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(et===O.TextRenderingMode.FILL||et===O.TextRenderingMode.FILL_STROKE?(X.fillColor!==le.fillColor&&X.tspan.setAttributeNS(null,"fill",X.fillColor),X.fillAlpha<1&&X.tspan.setAttributeNS(null,"fill-opacity",X.fillAlpha)):X.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?X.tspan.setAttributeNS(null,"fill","transparent"):X.tspan.setAttributeNS(null,"fill","none"),et===O.TextRenderingMode.STROKE||et===O.TextRenderingMode.FILL_STROKE){const Ae=1/(X.textMatrixScale||1);this._setStrokeAttributes(X.tspan,Ae)}let tt=X.textMatrix;X.textRise!==0&&(tt=tt.slice(),tt[5]+=X.textRise),X.txtElement.setAttributeNS(null,"transform","".concat(J(tt)," scale(").concat(U(it),", -1)")),X.txtElement.setAttributeNS(pe,"xml:space","preserve"),X.txtElement.append(X.tspan),X.txtgrp.append(X.txtElement),this._ensureTransformGroup().append(X.txtElement)}setLeadingMoveText(H,X){this.setLeading(-X),this.moveText(H,X)}addFontStyle(H){if(!H.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const X=oe(H.data,H.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(H.loadedName,'";')+" src: url(".concat(X,"); }\n")}setFont(H){const X=this.current,ue=this.commonObjs.get(H[0]);let ge=H[1];X.font=ue,this.embedFonts&&!ue.missingFile&&!this.embeddedFonts[ue.loadedName]&&(this.addFontStyle(ue),this.embeddedFonts[ue.loadedName]=ue),X.fontMatrix=ue.fontMatrix||O.FONT_IDENTITY_MATRIX;let Ee="normal";ue.black?Ee="900":ue.bold&&(Ee="bold");const we=ue.italic?"italic":"normal";ge<0?(ge=-ge,X.fontDirection=-1):X.fontDirection=1,X.fontSize=ge,X.fontFamily=ue.loadedName,X.fontWeight=Ee,X.fontStyle=we,X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"y",U(-X.y)),X.xcoords=[],X.ycoords=[]}endText(){var X;const H=this.current;H.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((X=H.txtElement)!=null&&X.hasChildNodes())&&(H.element=H.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(H){H>0&&(this.current.lineWidth=H)}setLineCap(H){this.current.lineCap=ne[H]}setLineJoin(H){this.current.lineJoin=be[H]}setMiterLimit(H){this.current.miterLimit=H}setStrokeAlpha(H){this.current.strokeAlpha=H}setStrokeRGBColor(H,X,ue){this.current.strokeColor=O.Util.makeHexColor(H,X,ue)}setFillAlpha(H){this.current.fillAlpha=H}setFillRGBColor(H,X,ue){this.current.fillColor=O.Util.makeHexColor(H,X,ue),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(H){this.current.strokeColor=this._makeColorN_Pattern(H)}setFillColorN(H){this.current.fillColor=this._makeColorN_Pattern(H)}shadingFill(H){const X=this.viewport.width,ue=this.viewport.height,ge=O.Util.inverseTransform(this.transformMatrix),Ee=O.Util.applyTransform([0,0],ge),we=O.Util.applyTransform([0,ue],ge),de=O.Util.applyTransform([X,0],ge),Te=O.Util.applyTransform([X,ue],ge),it=Math.min(Ee[0],we[0],de[0],Te[0]),Ve=Math.min(Ee[1],we[1],de[1],Te[1]),qe=Math.max(Ee[0],we[0],de[0],Te[0]),Be=Math.max(Ee[1],we[1],de[1],Te[1]),Oe=this.svgFactory.createElement("svg:rect");Oe.setAttributeNS(null,"x",it),Oe.setAttributeNS(null,"y",Ve),Oe.setAttributeNS(null,"width",qe-it),Oe.setAttributeNS(null,"height",Be-Ve),Oe.setAttributeNS(null,"fill",this._makeShadingPattern(H)),this.current.fillAlpha<1&&Oe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Oe)}_makeColorN_Pattern(H){return H[0]==="TilingPattern"?this._makeTilingPattern(H):this._makeShadingPattern(H)}_makeTilingPattern(H){const X=H[1],ue=H[2],ge=H[3]||O.IDENTITY_MATRIX,[Ee,we,de,Te]=H[4],it=H[5],Ve=H[6],qe=H[7],Be="shading".concat(q++),[Oe,De,et,tt]=O.Util.normalizeRect([...O.Util.applyTransform([Ee,we],ge),...O.Util.applyTransform([de,Te],ge)]),[Ae,ce]=O.Util.singularValueDecompose2dScale(ge),ie=it*Ae,me=Ve*ce,Se=this.svgFactory.createElement("svg:pattern");Se.setAttributeNS(null,"id",Be),Se.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Se.setAttributeNS(null,"width",ie),Se.setAttributeNS(null,"height",me),Se.setAttributeNS(null,"x","".concat(Oe)),Se.setAttributeNS(null,"y","".concat(De));const Ce=this.svg,xe=this.transformMatrix,Re=this.current.fillColor,Ue=this.current.strokeColor,nt=this.svgFactory.create(et-Oe,tt-De);if(this.svg=nt,this.transformMatrix=ge,qe===2){const We=O.Util.makeHexColor(...X);this.current.fillColor=We,this.current.strokeColor=We}return this.executeOpTree(this.convertOpList(ue)),this.svg=Ce,this.transformMatrix=xe,this.current.fillColor=Re,this.current.strokeColor=Ue,Se.append(nt.childNodes[0]),this.defs.append(Se),"url(#".concat(Be,")")}_makeShadingPattern(H){switch(typeof H=="string"&&(H=this.objs.get(H)),H[0]){case"RadialAxial":const X="shading".concat(q++),ue=H[3];let ge;switch(H[1]){case"axial":const Ee=H[4],we=H[5];ge=this.svgFactory.createElement("svg:linearGradient"),ge.setAttributeNS(null,"id",X),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"x1",Ee[0]),ge.setAttributeNS(null,"y1",Ee[1]),ge.setAttributeNS(null,"x2",we[0]),ge.setAttributeNS(null,"y2",we[1]);break;case"radial":const de=H[4],Te=H[5],it=H[6],Ve=H[7];ge=this.svgFactory.createElement("svg:radialGradient"),ge.setAttributeNS(null,"id",X),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"cx",Te[0]),ge.setAttributeNS(null,"cy",Te[1]),ge.setAttributeNS(null,"r",Ve),ge.setAttributeNS(null,"fx",de[0]),ge.setAttributeNS(null,"fy",de[1]),ge.setAttributeNS(null,"fr",it);break;default:throw new Error("Unknown RadialAxial type: ".concat(H[1]))}for(const Ee of ue){const we=this.svgFactory.createElement("svg:stop");we.setAttributeNS(null,"offset",Ee[0]),we.setAttributeNS(null,"stop-color",Ee[1]),ge.append(we)}return this.defs.append(ge),"url(#".concat(X,")");case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(H[0]))}}setDash(H,X){this.current.dashArray=H,this.current.dashPhase=X}constructPath(H,X){const ue=this.current;let ge=ue.x,Ee=ue.y,we=[],de=0;for(const Te of H)switch(Te|0){case O.OPS.rectangle:ge=X[de++],Ee=X[de++];const it=X[de++],Ve=X[de++],qe=ge+it,Be=Ee+Ve;we.push("M",U(ge),U(Ee),"L",U(qe),U(Ee),"L",U(qe),U(Be),"L",U(ge),U(Be),"Z");break;case O.OPS.moveTo:ge=X[de++],Ee=X[de++],we.push("M",U(ge),U(Ee));break;case O.OPS.lineTo:ge=X[de++],Ee=X[de++],we.push("L",U(ge),U(Ee));break;case O.OPS.curveTo:ge=X[de+4],Ee=X[de+5],we.push("C",U(X[de]),U(X[de+1]),U(X[de+2]),U(X[de+3]),U(ge),U(Ee)),de+=6;break;case O.OPS.curveTo2:we.push("C",U(ge),U(Ee),U(X[de]),U(X[de+1]),U(X[de+2]),U(X[de+3])),ge=X[de+2],Ee=X[de+3],de+=4;break;case O.OPS.curveTo3:ge=X[de+2],Ee=X[de+3],we.push("C",U(X[de]),U(X[de+1]),U(ge),U(Ee),U(ge),U(Ee)),de+=4;break;case O.OPS.closePath:we.push("Z");break}we=we.join(" "),ue.path&&H.length>0&&H[0]!==O.OPS.rectangle&&H[0]!==O.OPS.moveTo?we=ue.path.getAttributeNS(null,"d")+we:(ue.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ue.path)),ue.path.setAttributeNS(null,"d",we),ue.path.setAttributeNS(null,"fill","none"),ue.element=ue.path,ue.setCurrentPoint(ge,Ee)}endPath(){const H=this.current;if(H.path=null,!this.pendingClip)return;if(!H.element){this.pendingClip=null;return}const X="clippath".concat(K++),ue=this.svgFactory.createElement("svg:clipPath");ue.setAttributeNS(null,"id",X),ue.setAttributeNS(null,"transform",J(this.transformMatrix));const ge=H.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ge.setAttributeNS(null,"clip-rule","evenodd"):ge.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ue.append(ge),this.defs.append(ue),H.activeClipUrl){H.clipGroup=null;for(const Ee of this.extraStack)Ee.clipGroup=null;ue.setAttributeNS(null,"clip-path",H.activeClipUrl)}H.activeClipUrl="url(#".concat(X,")"),this.tgrp=null}clip(H){this.pendingClip=H}closePath(){const H=this.current;if(H.path){const X="".concat(H.path.getAttributeNS(null,"d"),"Z");H.path.setAttributeNS(null,"d",X)}}setLeading(H){this.current.leading=-H}setTextRise(H){this.current.textRise=H}setTextRenderingMode(H){this.current.textRenderingMode=H}setHScale(H){this.current.textHScale=H/100}setRenderingIntent(H){}setFlatness(H){}setGState(H){for(const[X,ue]of H)switch(X){case"LW":this.setLineWidth(ue);break;case"LC":this.setLineCap(ue);break;case"LJ":this.setLineJoin(ue);break;case"ML":this.setMiterLimit(ue);break;case"D":this.setDash(ue[0],ue[1]);break;case"RI":this.setRenderingIntent(ue);break;case"FL":this.setFlatness(ue);break;case"Font":this.setFont(ue);break;case"CA":this.setStrokeAlpha(ue);break;case"ca":this.setFillAlpha(ue);break;default:(0,O.warn)("Unimplemented graphic state operator ".concat(X));break}}fill(){const H=this.current;H.element&&(H.element.setAttributeNS(null,"fill",H.fillColor),H.element.setAttributeNS(null,"fill-opacity",H.fillAlpha),this.endPath())}stroke(){const H=this.current;H.element&&(this._setStrokeAttributes(H.element),H.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(H,X=1){const ue=this.current;let ge=ue.dashArray;X!==1&&ge.length>0&&(ge=ge.map(function(Ee){return X*Ee})),H.setAttributeNS(null,"stroke",ue.strokeColor),H.setAttributeNS(null,"stroke-opacity",ue.strokeAlpha),H.setAttributeNS(null,"stroke-miterlimit",U(ue.miterLimit)),H.setAttributeNS(null,"stroke-linecap",ue.lineCap),H.setAttributeNS(null,"stroke-linejoin",ue.lineJoin),H.setAttributeNS(null,"stroke-width",U(X*ue.lineWidth)+"px"),H.setAttributeNS(null,"stroke-dasharray",ge.map(U).join(" ")),H.setAttributeNS(null,"stroke-dashoffset",U(X*ue.dashPhase)+"px")}eoFill(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width","1px"),H.setAttributeNS(null,"height","1px"),H.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(H)}paintImageXObject(H){const X=this.getObject(H);if(!X){(0,O.warn)("Dependent image with object ID ".concat(H," is not ready yet"));return}this.paintInlineImageXObject(X)}paintInlineImageXObject(H,X){const ue=H.width,ge=H.height,Ee=ee(H,this.forceDataSchema,!!X),we=this.svgFactory.createElement("svg:rect");we.setAttributeNS(null,"x","0"),we.setAttributeNS(null,"y","0"),we.setAttributeNS(null,"width",U(ue)),we.setAttributeNS(null,"height",U(ge)),this.current.element=we,this.clip("nonzero");const de=this.svgFactory.createElement("svg:image");de.setAttributeNS(ae,"xlink:href",Ee),de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y",U(-ge)),de.setAttributeNS(null,"width",U(ue)+"px"),de.setAttributeNS(null,"height",U(ge)+"px"),de.setAttributeNS(null,"transform","scale(".concat(U(1/ue)," ").concat(U(-1/ge),")")),X?X.append(de):this._ensureTransformGroup().append(de)}paintImageMaskXObject(H){const X=this.getObject(H.data,H);if(X.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ue=this.current,ge=X.width,Ee=X.height,we=ue.fillColor;ue.maskId="mask".concat(W++);const de=this.svgFactory.createElement("svg:mask");de.setAttributeNS(null,"id",ue.maskId);const Te=this.svgFactory.createElement("svg:rect");Te.setAttributeNS(null,"x","0"),Te.setAttributeNS(null,"y","0"),Te.setAttributeNS(null,"width",U(ge)),Te.setAttributeNS(null,"height",U(Ee)),Te.setAttributeNS(null,"fill",we),Te.setAttributeNS(null,"mask","url(#".concat(ue.maskId,")")),this.defs.append(de),this._ensureTransformGroup().append(Te),this.paintInlineImageXObject(X,de)}paintFormXObjectBegin(H,X){if(Array.isArray(H)&&H.length===6&&this.transform(H[0],H[1],H[2],H[3],H[4],H[5]),X){const ue=X[2]-X[0],ge=X[3]-X[1],Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x",X[0]),Ee.setAttributeNS(null,"y",X[1]),Ee.setAttributeNS(null,"width",U(ue)),Ee.setAttributeNS(null,"height",U(ge)),this.current.element=Ee,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(H){const X=this.svgFactory.create(H.width,H.height),ue=this.svgFactory.createElement("svg:defs");X.append(ue),this.defs=ue;const ge=this.svgFactory.createElement("svg:g");return ge.setAttributeNS(null,"transform",J(H.transform)),X.append(ge),this.svg=ge,X}_ensureClipGroup(){if(!this.current.clipGroup){const H=this.svgFactory.createElement("svg:g");H.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(H),this.current.clipGroup=H}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",J(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var V=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](V,V.exports,__w_pdfjs_require__),V.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return R.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return re.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return le.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return pe.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return V.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return B.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return V.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return B.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return B.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return ae.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ne.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return V.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return V.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return B.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return B.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return B.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return B.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return B.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return B.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return B.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return V.version}});var $=__w_pdfjs_require__(1),V=__w_pdfjs_require__(2),B=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),R=__w_pdfjs_require__(27),re=__w_pdfjs_require__(5),le=__w_pdfjs_require__(32),pe=__w_pdfjs_require__(14),ae=__w_pdfjs_require__(35),ne=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,V=pdfExports;function B(Y){var fe=Object.create(null);return Y&&Object.keys(Y).forEach(function(Pe){if(Pe!=="default"){var Fe=Object.getOwnPropertyDescriptor(Y,Pe);Object.defineProperty(fe,Pe,Fe.get?Fe:{enumerable:!0,get:function(){return Y[Pe]}})}}),fe.default=Y,Object.freeze(fe)}var O,R=B($),re=B(V);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var le=function(Y,fe){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pe,Fe){Pe.__proto__=Fe}||function(Pe,Fe){for(var Ne in Fe)Object.prototype.hasOwnProperty.call(Fe,Ne)&&(Pe[Ne]=Fe[Ne])},le(Y,fe)};function pe(Y,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function Pe(){this.constructor=Y}le(Y,fe),Y.prototype=fe===null?Object.create(fe):(Pe.prototype=fe.prototype,new Pe)}var ae,ne=function(){return ne=Object.assign||function(Y){for(var fe,Pe=1,Fe=arguments.length;Pe<Fe;Pe++)for(var Ne in fe=arguments[Pe])Object.prototype.hasOwnProperty.call(fe,Ne)&&(Y[Ne]=fe[Ne]);return Y},ne.apply(this,arguments)};A.TextDirection=void 0,(ae=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",ae.LeftToRight="LTR";var be,oe=R.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ee=function(Y){var fe=[];return Object.keys(Y).forEach(function(Pe){Pe&&Y[Pe]&&fe.push(Pe)}),fe.join(" ")},te=typeof window<"u"?R.useLayoutEffect:R.useEffect,G=function(Y){var fe=R.useRef(null),Pe=Y.once,Fe=Y.threshold,Ne=Y.onVisibilityChanged;return te(function(){var ze=fe.current;if(ze){var Ye=new IntersectionObserver(function(He){He.forEach(function(Le){var Ke=Le.isIntersecting,Ge=Le.intersectionRatio;Ne({isVisible:Ke,ratio:Ge}),Ke&&Pe&&(Ye.unobserve(ze),Ye.disconnect())})},{threshold:Fe||0});return Ye.observe(ze),function(){Ye.unobserve(ze),Ye.disconnect()}}},[]),fe},U=function(Y){var fe=Y.children,Pe=Y.ignoreDirection,Fe=Pe!==void 0&&Pe,Ne=Y.size,ze=Ne===void 0?24:Ne,Ye=R.useContext(oe).direction,He=!Fe&&Ye===A.TextDirection.RightToLeft,Le="".concat(ze||24,"px");return R.createElement("svg",{"aria-hidden":"true",className:ee({"rpv-core__icon":!0,"rpv-core__icon--rtl":He}),focusable:"false",height:Le,viewBox:"0 0 24 24",width:Le},fe)},J=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},K=function(Y){var fe=Y.children,Pe=Y.testId,Fe=Y.onClick,Ne=R.useContext(oe).direction===A.TextDirection.RightToLeft,ze=Pe?{"data-testid":Pe}:{};return R.createElement("button",ne({className:ee({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Ne}),type:"button",onClick:Fe},ze),fe)},W=function(Y){var fe=Y.size,Pe=fe===void 0?"4rem":fe,Fe=Y.testId,Ne=R.useState(!1),ze=Ne[0],Ye=Ne[1],He=Fe?{"data-testid":Fe}:{},Le=G({onVisibilityChanged:function(Ke){Ye(Ke.isVisible)}});return R.createElement("div",ne({},He,{className:ee({"rpv-core__spinner":!0,"rpv-core__spinner--animating":ze}),ref:Le,style:{height:Pe,width:Pe}}))},q=function(Y){var fe=Y.ariaLabel,Pe=fe===void 0?"":fe,Fe=Y.autoFocus,Ne=Fe!==void 0&&Fe,ze=Y.placeholder,Ye=ze===void 0?"":ze,He=Y.testId,Le=Y.type,Ke=Le===void 0?"text":Le,Ge=Y.value,ut=Ge===void 0?"":Ge,lt=Y.onChange,ct=Y.onKeyDown,yt=ct===void 0?function(){}:ct,bt=R.useContext(oe).direction,vt=R.useRef(),Kt=bt===A.TextDirection.RightToLeft,Tt={ref:vt,"data-testid":"","aria-label":Pe,className:ee({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Kt}),placeholder:Ye,value:ut,onChange:function(Rt){return lt(Rt.target.value)},onKeyDown:yt};return He&&(Tt["data-testid"]=He),te(function(){if(Ne){var Rt=vt.current;if(Rt){var Nt=window.scrollX,Pt=window.scrollY;Rt.focus(),window.scrollTo(Nt,Pt)}}},[]),Ke==="text"?R.createElement("input",ne({type:"text"},Tt)):R.createElement("input",ne({type:"password"},Tt))};(function(Y){Y[Y.ExitFullScreen=0]="ExitFullScreen",Y[Y.FullScreenChange=1]="FullScreenChange",Y[Y.FullScreenElement=2]="FullScreenElement",Y[Y.FullScreenEnabled=3]="FullScreenEnabled",Y[Y.RequestFullScreen=4]="RequestFullScreen"})(be||(be={}));var H,X={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ue={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ge={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Ee=typeof window<"u",we=Ee&&(be.FullScreenEnabled in document&&X||ue.FullScreenEnabled in document&&ue||ge.FullScreenEnabled in document&&ge)||X,de=function(){return Ee&&we.FullScreenEnabled in document&&document[we.FullScreenEnabled]===!0},Te=function(Y){return Ee?Y[we.ExitFullScreen]():Promise.resolve({})},it=function(){return Ee?document[we.FullScreenElement]:null},Ve=function(Y,fe){var Pe=R.useRef(),Fe=function(){Pe.current&&clearTimeout(Pe.current)};return R.useEffect(function(){return function(){return Fe()}},[]),R.useCallback(function(){for(var Ne=[],ze=0;ze<arguments.length;ze++)Ne[ze]=arguments[ze];Fe(),Pe.current=setTimeout(function(){Y.apply(void 0,Ne)},fe)},[Y,fe])},qe=function(){var Y=R.useRef(!1);return R.useEffect(function(){return Y.current=!0,function(){Y.current=!1}},[]),Y},Be=function(Y){var fe=R.useRef(Y);return R.useEffect(function(){fe.current=Y},[Y]),fe.current};(function(Y){Y.NotRenderedYet="NotRenderedYet",Y.Rendering="Rendering",Y.Rendered="Rendered"})(H||(H={}));var Oe,De=-9999,et=function(Y){var fe=Y.doc,Pe=fe.numPages,Fe=fe.loadingTask.docId,Ne=R.useMemo(function(){return Array(Pe).fill(null).map(function(He,Le){return{pageIndex:Le,renderStatus:H.NotRenderedYet,visibility:De}})},[Fe]),ze=R.useRef({currentRenderingPage:-1,startRange:0,endRange:Pe-1,visibilities:Ne}),Ye=function(He,Le){ze.current.visibilities[He].visibility=Le};return{getHighestPriorityPage:function(){var He=ze.current.visibilities.slice(ze.current.startRange,ze.current.endRange+1).filter(function(lt){return lt.visibility>De});if(!He.length)return-1;for(var Le=He[0].pageIndex,Ke=He[He.length-1].pageIndex,Ge=He.length,ut=0;ut<Ge;ut++){if(He[ut].renderStatus===H.Rendering)return-1;if(He[ut].renderStatus===H.NotRenderedYet)return He[ut].pageIndex}return Ke+1<Pe&&ze.current.visibilities[Ke+1].renderStatus!==H.Rendered?Ke+1:Le-1>=0&&ze.current.visibilities[Le-1].renderStatus!==H.Rendered?Le-1:-1},isInRange:function(He){return He>=ze.current.startRange&&He<=ze.current.endRange},markNotRendered:function(){for(var He=0;He<Pe;He++)ze.current.visibilities[He].renderStatus=H.NotRenderedYet},markRendered:function(He){ze.current.visibilities[He].renderStatus=H.Rendered},markRendering:function(He){ze.current.currentRenderingPage!==-1&&ze.current.currentRenderingPage!==He&&ze.current.visibilities[ze.current.currentRenderingPage].renderStatus===H.Rendering&&(ze.current.visibilities[ze.current.currentRenderingPage].renderStatus=H.NotRenderedYet),ze.current.visibilities[He].renderStatus=H.Rendering,ze.current.currentRenderingPage=He},setOutOfRange:function(He){Ye(He,De)},setRange:function(He,Le){ze.current.startRange=He,ze.current.endRange=Le;for(var Ke=0;Ke<Pe;Ke++)(Ke<He||Ke>Le)&&(ze.current.visibilities[Ke].visibility=De,ze.current.visibilities[Ke].renderStatus=H.NotRenderedYet)},setVisibility:Ye}},tt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Ae=R.createContext({l10n:tt,setL10n:function(){}}),ce=0,ie=function(){return ce++},me=function(Y,fe,Pe){var Fe=function(Ne){var ze=fe.current;if(ze){var Ye=Ne.target;if(Ye instanceof Element&&Ye.shadowRoot){var He=Ne.composedPath();He.length>0&&!ze.contains(He[0])&&Pe()}else ze.contains(Ye)||Pe()}};R.useEffect(function(){if(Y){var Ne={capture:!0};return document.addEventListener("click",Fe,Ne),function(){document.removeEventListener("click",Fe,Ne)}}},[])},Se=function(Y){var fe=function(Pe){Pe.key==="Escape"&&Y()};R.useEffect(function(){return document.addEventListener("keyup",fe),function(){document.removeEventListener("keyup",fe)}},[])},Ce=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.children,Fe=Y.closeOnClickOutside,Ne=Y.closeOnEscape,ze=Y.onToggle,Ye=R.useRef(),He=R.useContext(oe).direction===A.TextDirection.RightToLeft;return R.useEffect(function(){var Le=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Le}},[]),Se(function(){Ye.current&&Ne&&ze()}),me(Fe,Ye,ze),te(function(){var Le=Ye.current;if(Le){var Ke=.75*document.body.clientHeight;Le.getBoundingClientRect().height>=Ke&&(Le.style.overflow="auto",Le.style.maxHeight="".concat(Ke,"px"))}},[]),R.createElement("div",{"aria-modal":"true",className:ee({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":He}),id:"rpv-core__modal-body-".concat(fe),ref:Ye,role:"dialog",tabIndex:-1},Pe)},xe=function(Y){var fe=Y.children;return R.createElement("div",{className:"rpv-core__modal-overlay"},fe)};A.ToggleStatus=void 0,(Oe=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Oe.Open="Open",Oe.Toggle="Toggle";var Re,Ue=function(Y){var fe=R.useState(Y),Pe=fe[0],Fe=fe[1];return{opened:Pe,toggle:function(Ne){switch(Ne){case A.ToggleStatus.Close:Fe(!1);break;case A.ToggleStatus.Open:Fe(!0);break;case A.ToggleStatus.Toggle:default:Fe(function(ze){return!ze})}}}},nt=function(Y){var fe=Y.content,Pe=Y.isOpened,Fe=Pe!==void 0&&Pe,Ne=Y.target,ze=Ue(Fe),Ye=ze.opened,He=ze.toggle;return R.createElement(R.Fragment,null,Ne&&Ne(He,Ye),Ye&&fe(He))};A.Position=void 0,(Re=A.Position||(A.Position={})).TopLeft="TOP_LEFT",Re.TopCenter="TOP_CENTER",Re.TopRight="TOP_RIGHT",Re.RightTop="RIGHT_TOP",Re.RightCenter="RIGHT_CENTER",Re.RightBottom="RIGHT_BOTTOM",Re.BottomLeft="BOTTOM_LEFT",Re.BottomCenter="BOTTOM_CENTER",Re.BottomRight="BOTTOM_RIGHT",Re.LeftTop="LEFT_TOP",Re.LeftCenter="LEFT_CENTER",Re.LeftBottom="LEFT_BOTTOM";var We,Qe,Xe,se,he,ye,ke,_e,$e=function(Y,fe,Pe,Fe,Ne){te(function(){var ze=fe.current,Ye=Y.current,He=Pe.current;if(Ye&&ze&&He){var Le=He.getBoundingClientRect(),Ke=function(lt,ct,yt,bt){var vt=ct.getBoundingClientRect(),Kt=lt.getBoundingClientRect(),Tt=Kt.height,Rt=Kt.width,Nt=0,Pt=0;switch(yt){case A.Position.TopLeft:Nt=vt.top-Tt,Pt=vt.left;break;case A.Position.TopCenter:Nt=vt.top-Tt,Pt=vt.left+vt.width/2-Rt/2;break;case A.Position.TopRight:Nt=vt.top-Tt,Pt=vt.left+vt.width-Rt;break;case A.Position.RightTop:Nt=vt.top,Pt=vt.left+vt.width;break;case A.Position.RightCenter:Nt=vt.top+vt.height/2-Tt/2,Pt=vt.left+vt.width;break;case A.Position.RightBottom:Nt=vt.top+vt.height-Tt,Pt=vt.left+vt.width;break;case A.Position.BottomLeft:Nt=vt.top+vt.height,Pt=vt.left;break;case A.Position.BottomCenter:Nt=vt.top+vt.height,Pt=vt.left+vt.width/2-Rt/2;break;case A.Position.BottomRight:Nt=vt.top+vt.height,Pt=vt.left+vt.width-Rt;break;case A.Position.LeftTop:Nt=vt.top,Pt=vt.left-Rt;break;case A.Position.LeftCenter:Nt=vt.top+vt.height/2-Tt/2,Pt=vt.left-Rt;break;case A.Position.LeftBottom:Nt=vt.top+vt.height-Tt,Pt=vt.left-Rt}return{left:Pt+(bt.left||0),top:Nt+(bt.top||0)}}(Ye,ze,Fe,Ne),Ge=Ke.top,ut=Ke.left;Ye.style.top="".concat(Ge-Le.top,"px"),Ye.style.left="".concat(ut-Le.left,"px")}},[])},rt=function(Y){var fe,Pe=Y.customClassName,Fe=Y.position;return R.createElement("div",{className:ee((fe={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Fe===A.Position.TopLeft,"rpv-core__arrow--tc":Fe===A.Position.TopCenter,"rpv-core__arrow--tr":Fe===A.Position.TopRight,"rpv-core__arrow--rt":Fe===A.Position.RightTop,"rpv-core__arrow--rc":Fe===A.Position.RightCenter,"rpv-core__arrow--rb":Fe===A.Position.RightBottom,"rpv-core__arrow--bl":Fe===A.Position.BottomLeft,"rpv-core__arrow--bc":Fe===A.Position.BottomCenter,"rpv-core__arrow--br":Fe===A.Position.BottomRight,"rpv-core__arrow--lt":Fe===A.Position.LeftTop,"rpv-core__arrow--lc":Fe===A.Position.LeftCenter,"rpv-core__arrow--lb":Fe===A.Position.LeftBottom},fe["".concat(Pe)]=Pe!=="",fe))})},ot=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.children,Fe=Y.closeOnClickOutside,Ne=Y.offset,ze=Y.position,Ye=Y.targetRef,He=Y.onClose,Le=R.useRef(),Ke=R.useRef(),Ge=R.useRef(),ut=R.useContext(oe).direction===A.TextDirection.RightToLeft;me(Fe,Le,He),$e(Le,Ye,Ge,ze,Ne),te(function(){var ct=Ke.current;if(ct){var yt=.75*document.body.clientHeight;ct.getBoundingClientRect().height>=yt&&(ct.style.overflow="auto",ct.style.maxHeight="".concat(yt,"px"))}},[]);var lt="rpv-core__popover-body-inner-".concat(fe);return R.createElement(R.Fragment,null,R.createElement("div",{ref:Ge,style:{left:0,position:"absolute",top:0}}),R.createElement("div",{"aria-describedby":lt,className:ee({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":ut}),id:"rpv-core__popover-body-".concat(fe),ref:Le,role:"dialog",tabIndex:-1},R.createElement(rt,{customClassName:"rpv-core__popover-body-arrow",position:ze}),R.createElement("div",{id:lt,ref:Ke},Pe)))},at=function(Y){var fe=Y.closeOnEscape,Pe=Y.onClose,Fe=R.useRef();return Se(function(){Fe.current&&fe&&Pe()}),R.createElement("div",{className:"rpv-core__popover-overlay",ref:Fe})},Je=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.children,Fe=Y.contentRef,Ne=Y.offset,ze=Y.position,Ye=Y.targetRef,He=R.useRef(),Le=R.useContext(oe).direction===A.TextDirection.RightToLeft;return $e(Fe,Ye,He,ze,Ne),R.createElement(R.Fragment,null,R.createElement("div",{ref:He,style:{left:0,position:"absolute",top:0}}),R.createElement("div",{className:ee({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Le}),id:"rpv-core__tooltip-body-".concat(fe),ref:Fe,role:"tooltip"},R.createElement(rt,{customClassName:"rpv-core__tooltip-body-arrow",position:ze}),R.createElement("div",{className:"rpv-core__tooltip-body-content"},Pe)))};A.FullScreenMode=void 0,(We=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",We.Entering="Entering",We.Entered="Entered",We.EnteredCompletely="EnteredCompletely",We.Exitting="Exitting",We.Exited="Exited",A.LayerRenderStatus=void 0,(Qe=A.LayerRenderStatus||(A.LayerRenderStatus={}))[Qe.PreRender=0]="PreRender",Qe[Qe.DidRender=1]="DidRender",A.PageMode=void 0,(Xe=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",Xe.Bookmarks="UseOutlines",Xe.ContentGroup="UseOC",Xe.Default="UserNone",Xe.FullScreen="FullScreen",Xe.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(se=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",se.WrongPassword="WrongPassword",A.RotateDirection=void 0,(he=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",he.Forward="Forward",A.ScrollMode=void 0,(ye=A.ScrollMode||(A.ScrollMode={})).Page="Page",ye.Horizontal="Horizontal",ye.Vertical="Vertical",ye.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(ke=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",ke.PageFit="PageFit",ke.PageWidth="PageWidth",A.ViewMode=void 0,(_e=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",_e.DualPageWithCover="DualPageWithCover",_e.SinglePage="SinglePage";var ft,dt=function(Y,fe){return Y.reduce(function(Pe,Fe,Ne){return Ne%fe?Pe[Pe.length-1].push(Fe):Pe.push([Fe]),Pe},[])},_t=function(Y,fe){switch(fe[1].name){case"XYZ":return{bottomOffset:function(Pe,Fe){return fe[3]===null?Fe:fe[3]},leftOffset:function(Pe,Fe){return fe[2]===null?0:fe[2]},pageIndex:Y,scaleTo:fe[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Y,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:fe[2],leftOffset:0,pageIndex:Y,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Y,scaleTo:1}}},St=new Map,It=new Map,Vt=function(Y,fe){return"".concat(Y.loadingTask.docId,"___").concat(fe.num,"R").concat(fe.gen===0?"":fe.gen)},jt=function(Y,fe,Pe){St.set(Vt(Y,fe),Pe)},Me=function(Y,fe){if(!Y)return Promise.reject("The document is not loaded yet");var Pe="".concat(Y.loadingTask.docId,"___").concat(fe),Fe=It.get(Pe);return Fe?Promise.resolve(Fe):new Promise(function(Ne,ze){Y.getPage(fe+1).then(function(Ye){It.set(Pe,Ye),Ye.ref&&jt(Y,Ye.ref,fe),Ne(Ye)})})},Ie=function(Y,fe){return new Promise(function(Pe){new Promise(function(Fe){typeof fe=="string"?Y.getDestination(fe).then(function(Ne){Fe(Ne)}):Fe(fe)}).then(function(Fe){if(typeof Fe[0]=="object"&&Fe[0]!==null){var Ne=Fe[0],ze=function(He,Le){var Ke=Vt(He,Le);return St.has(Ke)?St.get(Ke):null}(Y,Ne);ze===null?Y.getPageIndex(Ne).then(function(He){jt(Y,Ne,He),Ie(Y,fe).then(function(Le){return Pe(Le)})}):Pe(_t(ze,Fe))}else{var Ye=_t(Fe[0],Fe);Pe(Ye)}})})};(function(Y){Y[Y.Solid=1]="Solid",Y[Y.Dashed=2]="Dashed",Y[Y.Beveled=3]="Beveled",Y[Y.Inset=4]="Inset",Y[Y.Underline=5]="Underline"})(ft||(ft={}));var je,pt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Dt=function(Y,fe,Pe,Fe){var Ne=parseInt(Y,10);return Ne>=fe&&Ne<=Pe?Ne:Fe},Zt=function(Y){return Y.contentsObj?Y.contentsObj.str:Y.contents||""},Ze=function(Y){return Y.titleObj?Y.titleObj.str:Y.title||""},mt=function(Y){var fe=Y.annotation,Pe=R.useContext(oe).direction,Fe=Ze(fe),Ne=Zt(fe),ze=Pe===A.TextDirection.RightToLeft,Ye=R.useRef(),He="";if(fe.modificationDate){var Le=function(Ke){var Ge=pt.exec(Ke);if(!Ge)return null;var ut=parseInt(Ge[1],10),lt=Dt(Ge[2],1,12,1)-1,ct=Dt(Ge[3],1,31,1),yt=Dt(Ge[4],0,23,0),bt=Dt(Ge[5],0,59,0),vt=Dt(Ge[6],0,59,0),Kt=Ge[7]||"Z",Tt=Dt(Ge[8],0,23,0),Rt=Dt(Ge[9],0,59,0);switch(Kt){case"-":yt+=Tt,bt+=Rt;break;case"+":yt-=Tt,bt-=Rt}return new Date(Date.UTC(ut,lt,ct,yt,bt,vt))}(fe.modificationDate);He=Le?"".concat(Le.toLocaleDateString(),", ").concat(Le.toLocaleTimeString()):""}return R.useLayoutEffect(function(){if(Ye.current){var Ke=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(Ke){var Ge=Ke;return Ge.style.zIndex+=1,function(){Ge.style.zIndex="".concat(parseInt(Ge.style.zIndex,10)-1)}}}},[]),R.createElement("div",{ref:Ye,className:ee({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":ze}),style:{top:fe.annotationType===A.AnnotationType.Popup?"":"100%"}},Fe&&R.createElement(R.Fragment,null,R.createElement("div",{className:ee({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!ze,"rpv-core__annotation-popup-title--rtl":ze})},Fe),R.createElement("div",{className:"rpv-core__annotation-popup-date"},He)),Ne&&R.createElement("div",{className:"rpv-core__annotation-popup-content"},Ne.split("\n").map(function(Ke,Ge){return R.createElement(R.Fragment,{key:Ge},Ke,R.createElement("br",null))})))};(function(Y){Y.Click="Click",Y.Hover="Hover"})(je||(je={}));var Et,Ct=function(Y){var fe,Pe=Y.annotation,Fe=Y.children,Ne=Y.ignoreBorder,ze=Y.hasPopup,Ye=Y.isRenderable,He=Y.page,Le=Y.viewport,Ke=Pe.rect,Ge=function(){var Lt=Ue(!1),an=Lt.opened,rn=Lt.toggle,on=R.useState(je.Hover),cn=on[0],un=on[1];return{opened:an,closeOnHover:function(){cn===je.Hover&&rn(A.ToggleStatus.Close)},openOnHover:function(){cn===je.Hover&&rn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(cn){case je.Click:an&&un(je.Hover),rn(A.ToggleStatus.Toggle);break;case je.Hover:un(je.Click),rn(A.ToggleStatus.Open)}}}}(),ut=Ge.closeOnHover,lt=Ge.opened,ct=Ge.openOnHover,yt=Ge.toggleOnClick,bt=(fe=[Ke[0],He.view[3]+He.view[1]-Ke[1],Ke[2],He.view[3]+He.view[1]-Ke[3]],[Math.min(fe[0],fe[2]),Math.min(fe[1],fe[3]),Math.max(fe[0],fe[2]),Math.max(fe[1],fe[3])]),vt=Ke[2]-Ke[0],Kt=Ke[3]-Ke[1],Tt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Ne&&Pe.borderStyle.width>0){switch(Pe.borderStyle.style){case ft.Dashed:Tt.borderStyle="dashed";break;case ft.Solid:Tt.borderStyle="solid";break;case ft.Underline:Tt=Object.assign({borderBottomStyle:"solid"},Tt);case ft.Beveled:case ft.Inset:}var Rt=Pe.borderStyle.width;Tt.borderWidth="".concat(Rt,"px"),Pe.borderStyle.style!==ft.Underline&&(vt-=2*Rt,Kt-=2*Rt);var Nt=Pe.borderStyle,Pt=Nt.horizontalCornerRadius,Bt=Nt.verticalCornerRadius;(Pt>0||Bt>0)&&(Tt.borderRadius="".concat(Pt,"px / ").concat(Bt,"px")),Pe.color?Tt.borderColor="rgb(".concat(0|Pe.color[0],", ").concat(0|Pe.color[1],", ").concat(0|Pe.color[2],")"):Tt.borderWidth="0"}return R.createElement(R.Fragment,null,Ye&&Fe({popup:{opened:lt,closeOnHover:ut,openOnHover:ct,toggleOnClick:yt},slot:{attrs:{style:Object.assign({height:"".concat(Kt,"px"),left:"".concat(bt[0],"px"),top:"".concat(bt[1],"px"),transform:"matrix(".concat(Le.transform.join(","),")"),transformOrigin:"-".concat(bt[0],"px -").concat(bt[1],"px"),width:"".concat(vt,"px")},Tt)},children:R.createElement(R.Fragment,null,ze&&lt&&R.createElement(mt,{annotation:Pe}))}}))},Gt=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},sn=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye),Le=fe.rect,Ke=Le[2]-Le[0],Ge=Le[3]-Le[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),R.createElement("svg",{height:"".concat(Ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ke," ").concat(Ge),width:"".concat(Ke,"px")},R.createElement("circle",{cy:Ge/2,fill:"none",rx:Ke/2-ut/2,ry:Ge/2-ut/2,stroke:"transparent",strokeWidth:ut||1})),lt.slot.children)})},Yt=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=Ze(fe),ze=Zt(fe),Ye=!(fe.hasPopup!==!1||!Ne&&!ze),He=function(){var Le,Ke,Ge,ut,lt=fe.file;lt&&(Le=lt.filename,Ke=lt.content,Ge=typeof Ke=="string"?"":URL.createObjectURL(new Blob([Ke],{type:""})),(ut=document.createElement("a")).style.display="none",ut.href=Ge||Le,ut.setAttribute("download",function(ct){var yt=ct.split("/").pop();return yt?yt.split("#")[0].split("?")[0]:ct}(Le)),document.body.appendChild(ut),ut.click(),document.body.removeChild(ut),Ge&&URL.revokeObjectURL(Ge))};return R.createElement(Ct,{annotation:fe,hasPopup:Ye,ignoreBorder:!0,isRenderable:!0,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onDoubleClick:He,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},Jt=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},Xt=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=Ze(fe),ze=Zt(fe),Ye=!(!Ne&&!ze),He=!fe.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(fe.parentType)!==-1;return te(function(){if(fe.parentId){var Le=document.querySelector('[data-annotation-id="'.concat(fe.parentId,'"]')),Ke=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(Le&&Ke){var Ge=parseFloat(Le.style.left),ut=parseFloat(Le.style.top)+parseFloat(Le.style.height);Ke.style.left="".concat(Ge,"px"),Ke.style.top="".concat(ut,"px"),Ke.style.transformOrigin="-".concat(Ge,"px -").concat(ut,"px")}}},[]),R.createElement(Ct,{annotation:fe,hasPopup:He,ignoreBorder:!1,isRenderable:Ye,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":fe.id}),R.createElement(mt,{annotation:fe}))})},nn=function(Y){var fe=Y.annotation,Pe=Y.childAnnotation,Fe=Y.page,Ne=Y.viewport,ze=fe.hasPopup===!1,Ye=Ze(fe),He=Zt(fe),Le=!!(fe.hasPopup||Ye||He);if(fe.quadPoints&&fe.quadPoints.length>0){var Ke=fe.quadPoints.map(function(Ge){return Object.assign({},fe,{rect:[Ge[2].x,Ge[2].y,Ge[1].x,Ge[1].y],quadPoints:[]})});return R.createElement(R.Fragment,null,Ke.map(function(Ge,ut){return R.createElement(nn,{key:ut,annotation:Ge,childAnnotation:Pe,page:Fe,viewport:Ne})}))}return R.createElement(Ct,{annotation:fe,hasPopup:ze,ignoreBorder:!0,isRenderable:Le,page:Fe,viewport:Ne},function(Ge){return R.createElement(R.Fragment,null,R.createElement("div",ne({},Ge.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":fe.id,onClick:Ge.popup.toggleOnClick,onMouseEnter:Ge.popup.openOnHover,onMouseLeave:Ge.popup.closeOnHover}),Ge.slot.children),Pe&&Pe.annotationType===A.AnnotationType.Popup&&Ge.popup.opened&&R.createElement(Xt,{annotation:Pe,page:Fe,viewport:Ne}))})},xn=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye),Le=fe.rect,Ke=Le[2]-Le[0],Ge=Le[3]-Le[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),fe.inkLists&&fe.inkLists.length&&R.createElement("svg",{height:"".concat(Ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ke," ").concat(Ge),width:"".concat(Ke,"px")},fe.inkLists.map(function(ct,yt){return R.createElement("polyline",{key:yt,fill:"none",stroke:"transparent",strokeWidth:ut||1,points:ct.map(function(bt){return"".concat(bt.x-Le[0],",").concat(Le[3]-bt.y)}).join(" ")})})),lt.slot.children)})},En=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye),Le=fe.rect,Ke=Le[2]-Le[0],Ge=Le[3]-Le[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),R.createElement("svg",{height:"".concat(Ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ke," ").concat(Ge),width:"".concat(Ke,"px")},R.createElement("line",{stroke:"transparent",strokeWidth:ut||1,x1:Le[2]-fe.lineCoordinates[0],x2:Le[2]-fe.lineCoordinates[2],y1:Le[3]-fe.lineCoordinates[1],y2:Le[3]-fe.lineCoordinates[3]})),lt.slot.children)})},yn=/^([^\w]*)(javascript|data|vbscript)/im,Sn=/&#(\w+)(^\w|;)?/g,mn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,In=/^([^:]+):/gm,Dn=function(Y,fe){fe===void 0&&(fe="about:blank");var Pe,Fe=(Pe=Y||"",Pe.replace(Sn,function(He,Le){return String.fromCharCode(Le)})).replace(mn,"").trim();if(!Fe)return fe;var Ne=Fe[0];if(Ne==="."||Ne==="/")return Fe;var ze=Fe.match(In);if(!ze)return Fe;var Ye=ze[0];return yn.test(Ye)?fe:Fe},Gn=function(Y){var fe,Pe=Y.annotation,Fe=Y.annotationContainerRef,Ne=Y.doc,ze=Y.outlines,Ye=Y.page,He=Y.pageIndex,Le=Y.scale,Ke=Y.viewport,Ge=Y.onExecuteNamedAction,ut=Y.onJumpFromLinkAnnotation,lt=Y.onJumpToDest,ct=R.useRef(),yt=ze&&ze.length&&Pe.dest&&typeof Pe.dest=="string"?(fe=ze.find(function(Tt){return Tt.dest===Pe.dest}))===null||fe===void 0?void 0:fe.title:"",bt=!!(Pe.url||Pe.dest||Pe.action||Pe.unsafeUrl),vt={};if(Pe.url||Pe.unsafeUrl){var Kt=Dn(Pe.url||Pe.unsafeUrl,"");Kt?vt={"data-target":"external",href:Kt,rel:"noopener noreferrer nofollow",target:Pe.newWindow?"_blank":"",title:Kt}:bt=!1}else vt={href:"","data-annotation-link":Pe.id,onClick:function(Tt){Tt.preventDefault(),Pe.action?Ge(Pe.action):Ie(Ne,Pe.dest).then(function(Rt){var Nt=ct.current,Pt=Fe.current;if(Nt&&Pt){var Bt=Nt.getBoundingClientRect();Pt.style.setProperty("height","100%"),Pt.style.setProperty("width","100%");var Lt=Pt.getBoundingClientRect();Pt.style.removeProperty("height"),Pt.style.removeProperty("width");var an=(Bt.left-Lt.left)/Le,rn=(Lt.bottom-Bt.bottom+Bt.height)/Le;ut({bottomOffset:rn,label:yt,leftOffset:an,pageIndex:He})}lt(Rt)})}};return yt&&(vt=Object.assign({},vt,{title:yt,"aria-label":yt})),R.createElement(Ct,{annotation:Pe,hasPopup:!1,ignoreBorder:!1,isRenderable:bt,page:Ye,viewport:Ke},function(Tt){return R.createElement("div",ne({},Tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Pe.id,"data-testid":"core__annotation--link-".concat(Pe.id)}),R.createElement("a",ne({ref:ct},vt)))})},jn=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye),Le=fe.rect,Ke=Le[2]-Le[0],Ge=Le[3]-Le[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&R.createElement("svg",{height:"".concat(Ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ke," ").concat(Ge),width:"".concat(Ke,"px")},R.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:ut||1,points:fe.vertices.map(function(ct){return"".concat(ct.x-Le[0],",").concat(Le[3]-ct.y)}).join(" ")})),lt.slot.children)})},rr=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye),Le=fe.rect,Ke=Le[2]-Le[0],Ge=Le[3]-Le[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&R.createElement("svg",{height:"".concat(Ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ke," ").concat(Ge),width:"".concat(Ke,"px")},R.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:ut||1,points:fe.vertices.map(function(ct){return"".concat(ct.x-Le[0],",").concat(Le[3]-ct.y)}).join(" ")})),lt.slot.children)})},ir=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye),Le=fe.rect,Ke=Le[2]-Le[0],Ge=Le[3]-Le[1],ut=fe.borderStyle.width;return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(lt){return R.createElement("div",ne({},lt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":fe.id,onClick:lt.popup.toggleOnClick,onMouseEnter:lt.popup.openOnHover,onMouseLeave:lt.popup.closeOnHover}),R.createElement("svg",{height:"".concat(Ge,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ke," ").concat(Ge),width:"".concat(Ke,"px")},R.createElement("rect",{height:Ge-ut,fill:"none",stroke:"transparent",strokeWidth:ut||1,x:ut/2,y:ut/2,width:Ke-ut})),lt.slot.children)})},ar=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},or=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},sr=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},vr=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),R.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),R.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),R.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},br=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),R.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),R.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),R.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),R.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),R.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),R.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),R.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),R.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),R.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ki=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),R.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Yi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),R.createElement("path",{d:"M6 4.5L6 0.5"}),R.createElement("path",{d:"M18 4.5L18 0.5"}),R.createElement("path",{d:"M10 4.5L10 0.5"}),R.createElement("path",{d:"M14 4.5L14 0.5"}))},Zi=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),R.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),R.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ji=function(){return R.createElement(U,{size:16},R.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Qi=function(Y){var fe=Y.annotation,Pe=Y.childAnnotation,Fe=Y.page,Ne=Y.viewport,ze=fe.hasPopup===!1,Ye=Ze(fe),He=Zt(fe),Le=!!(fe.hasPopup||Ye||He),Ke=fe.name?fe.name.toLowerCase():"";return R.createElement(Ct,{annotation:fe,hasPopup:ze,ignoreBorder:!1,isRenderable:Le,page:Fe,viewport:Ne},function(Ge){return R.createElement(R.Fragment,null,R.createElement("div",ne({},Ge.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":fe.id,onClick:Ge.popup.toggleOnClick,onMouseEnter:Ge.popup.openOnHover,onMouseLeave:Ge.popup.closeOnHover}),Ke&&R.createElement("div",{className:"rpv-core__annotation-text-icon"},Ke==="check"&&R.createElement(J,null),Ke==="comment"&&R.createElement(vr,null),Ke==="help"&&R.createElement(br,null),Ke==="insert"&&R.createElement(Ji,null),Ke==="key"&&R.createElement(Ki,null),Ke==="note"&&R.createElement(Yi,null),(Ke==="newparagraph"||Ke==="paragraph")&&R.createElement(Zi,null)),Ge.slot.children),Pe&&Pe.annotationType===A.AnnotationType.Popup&&Ge.popup.opened&&R.createElement(Xt,{annotation:Pe,page:Fe,viewport:Ne}))})},ea=function(Y){var fe=Y.annotation,Pe=Y.page,Fe=Y.viewport,Ne=fe.hasPopup===!1,ze=Ze(fe),Ye=Zt(fe),He=!!(fe.hasPopup||ze||Ye);return R.createElement(Ct,{annotation:fe,hasPopup:Ne,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Le){return R.createElement("div",ne({},Le.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":fe.id,onClick:Le.popup.toggleOnClick,onMouseEnter:Le.popup.openOnHover,onMouseLeave:Le.popup.closeOnHover}),Le.slot.children)})},ta=function(Y){var fe=Y.annotations,Pe=Y.doc,Fe=Y.outlines,Ne=Y.page,ze=Y.pageIndex,Ye=Y.plugins,He=Y.rotation,Le=Y.scale,Ke=Y.onExecuteNamedAction,Ge=Y.onJumpFromLinkAnnotation,ut=Y.onJumpToDest,lt=R.useRef(),ct=Ne.getViewport({rotation:He,scale:Le}).clone({dontFlip:!0}),yt=fe.filter(function(bt){return!bt.parentId});return te(function(){var bt=lt.current;bt&&Ye.forEach(function(vt){vt.onAnnotationLayerRender&&vt.onAnnotationLayerRender({annotations:yt,container:bt,pageIndex:ze,rotation:He,scale:Le})})},[]),R.createElement("div",{ref:lt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(ze)},yt.map(function(bt){var vt=fe.find(function(Kt){return Kt.parentId===bt.id});switch(bt.annotationType){case A.AnnotationType.Caret:return R.createElement(Gt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Circle:return R.createElement(sn,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.FileAttachment:return R.createElement(Yt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.FreeText:return R.createElement(Jt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Highlight:return R.createElement(nn,{key:bt.id,annotation:bt,childAnnotation:vt,page:Ne,viewport:ct});case A.AnnotationType.Ink:return R.createElement(xn,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Line:return R.createElement(En,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Link:return R.createElement(Gn,{key:bt.id,annotation:bt,annotationContainerRef:lt,doc:Pe,outlines:Fe,page:Ne,pageIndex:ze,scale:Le,viewport:ct,onExecuteNamedAction:Ke,onJumpFromLinkAnnotation:Ge,onJumpToDest:ut});case A.AnnotationType.Polygon:return R.createElement(jn,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Polyline:return R.createElement(rr,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Popup:return R.createElement(Xt,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Square:return R.createElement(ir,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Squiggly:return R.createElement(ar,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Stamp:return R.createElement(or,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.StrikeOut:return R.createElement(sr,{key:bt.id,annotation:bt,page:Ne,viewport:ct});case A.AnnotationType.Text:return R.createElement(Qi,{key:bt.id,annotation:bt,childAnnotation:vt,page:Ne,viewport:ct});case A.AnnotationType.Underline:return R.createElement(ea,{key:bt.id,annotation:bt,page:Ne,viewport:ct});default:return R.createElement(R.Fragment,{key:bt.id})}}))},na=function(Y){var fe=Y.page,Pe=Y.renderAnnotations,Fe=qe(),Ne=R.useState({loading:!0,annotations:[]}),ze=Ne[0],Ye=Ne[1];return R.useEffect(function(){fe.getAnnotations({intent:"display"}).then(function(He){Fe.current&&Ye({loading:!1,annotations:He})})},[]),ze.loading?R.createElement(R.Fragment,null):Pe(ze.annotations)},ra=function(Y){var fe=Y.doc,Pe=Y.outlines,Fe=Y.page,Ne=Y.pageIndex,ze=Y.plugins,Ye=Y.rotation,He=Y.scale,Le=Y.onExecuteNamedAction,Ke=Y.onJumpFromLinkAnnotation,Ge=Y.onJumpToDest;return R.createElement(na,{page:Fe,renderAnnotations:function(ut){return R.createElement(ta,{annotations:ut,doc:fe,outlines:Pe,page:Fe,pageIndex:Ne,plugins:ze,rotation:Ye,scale:He,onExecuteNamedAction:Le,onJumpFromLinkAnnotation:Ke,onJumpToDest:Ge})}})},_r=function(Y,fe){var Pe=Y%fe;return Pe===0?Y:Math.floor(Y-Pe)},ia=function(Y){var fe=Y.canvasLayerRef,Pe=Y.height,Fe=Y.page,Ne=Y.pageIndex,ze=Y.plugins,Ye=Y.rotation,He=Y.scale,Le=Y.width,Ke=Y.onRenderCanvasCompleted,Ge=R.useRef();return te(function(){var ut=Ge.current;ut&&ut.cancel();var lt=fe.current;lt.removeAttribute("data-testid"),ze.forEach(function(Lt){Lt.onCanvasLayerRender&&Lt.onCanvasLayerRender({ele:lt,pageIndex:Ne,rotation:Ye,scale:He,status:A.LayerRenderStatus.PreRender})});var ct=Fe.getViewport({rotation:Ye,scale:He}),yt=window.devicePixelRatio||1,bt=Math.sqrt(16777216/(ct.width*ct.height)),vt=yt>bt;vt?lt.style.transform="scale(1, 1)":lt.style.removeProperty("transform");var Kt=Math.min(bt,yt),Tt=function(Lt,an){var rn,on;if(Math.floor(Lt)===Lt)return[Lt,1];var cn=1/Lt;if(cn>an)return[1,an];if(Math.floor(cn)===cn)return[1,cn];for(var un=Lt>1?cn:Lt,$n=0,bn=1,Mn=1,An=1;;){var Pn=$n+Mn,kn=bn+An;if(kn>an)break;un<=Pn/kn?(Mn=(rn=[Pn,kn])[0],An=rn[1]):($n=(on=[Pn,kn])[0],bn=on[1])}return un<($n/bn+Mn/An)/2?un===Lt?[$n,bn]:[bn,$n]:un===Lt?[Mn,An]:[An,Mn]}(Kt,8),Rt=Tt[0],Nt=Tt[1];lt.width=_r(ct.width*Kt,Rt),lt.height=_r(ct.height*Kt,Rt),lt.style.width="".concat(_r(ct.width,Nt),"px"),lt.style.height="".concat(_r(ct.height,Nt),"px"),lt.hidden=!0;var Pt=lt.getContext("2d",{alpha:!1}),Bt=vt||yt!==1?[Kt,0,0,Kt,0,0]:null;return Ge.current=Fe.render({canvasContext:Pt,transform:Bt,viewport:ct}),Ge.current.promise.then(function(){lt.hidden=!1,lt.setAttribute("data-testid","core__canvas-layer-".concat(Ne)),ze.forEach(function(Lt){Lt.onCanvasLayerRender&&Lt.onCanvasLayerRender({ele:lt,pageIndex:Ne,rotation:Ye,scale:He,status:A.LayerRenderStatus.DidRender})}),Ke()},function(){Ke()}),function(){lt&&(lt.width=0,lt.height=0)}},[]),R.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Pe,"px"),width:"".concat(Le,"px")}},R.createElement("canvas",{ref:fe}))},aa=function(Y){var fe=Y.height,Pe=Y.page,Fe=Y.rotation,Ne=Y.scale,ze=Y.width,Ye=R.useRef();return te(function(){var He=Ye.current,Le=Pe.getViewport({rotation:Fe,scale:Ne});Pe.getOperatorList().then(function(Ke){(function(){var Ge=Ye.current;Ge&&(Ge.innerHTML="")})(),new re.SVGGraphics(Pe.commonObjs,Pe.objs).getSVG(Ke,Le).then(function(Ge){Ge.style.height="".concat(fe,"px"),Ge.style.width="".concat(ze,"px"),He.appendChild(Ge)})})},[]),R.createElement("div",{className:"rpv-core__svg-layer",ref:Ye})},oa=function(Y){var fe=Y.containerRef,Pe=Y.page,Fe=Y.pageIndex,Ne=Y.plugins,ze=Y.rotation,Ye=Y.scale,He=Y.onRenderTextCompleted,Le=R.useRef(),Ke=function(){var Ge=fe.current;Ge&&([].slice.call(Ge.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(ut){return Ge.removeChild(ut)}),[].slice.call(Ge.querySelectorAll('br[role="presentation"]')).forEach(function(ut){return Ge.removeChild(ut)}))};return te(function(){var Ge=Le.current;Ge&&Ge.cancel();var ut=fe.current;if(ut){ut.removeAttribute("data-testid");var lt=Pe.getViewport({rotation:ze,scale:Ye});return Ne.forEach(function(ct){ct.onTextLayerRender&&ct.onTextLayerRender({ele:ut,pageIndex:Fe,scale:Ye,status:A.LayerRenderStatus.PreRender})}),Pe.getTextContent().then(function(ct){Ke(),Le.current=re.renderTextLayer({container:ut,textContent:ct,textContentSource:ct,viewport:lt}),Le.current.promise.then(function(){ut.setAttribute("data-testid","core__text-layer-".concat(Fe)),[].slice.call(ut.children).forEach(function(yt){yt.classList.contains("rpv-core__text-layer-text--not")||yt.classList.add("rpv-core__text-layer-text")}),Ne.forEach(function(yt){yt.onTextLayerRender&&yt.onTextLayerRender({ele:ut,pageIndex:Fe,scale:Ye,status:A.LayerRenderStatus.DidRender})}),He()},function(){ut.removeAttribute("data-testid"),He()})}),function(){var ct;Ke(),(ct=Le.current)===null||ct===void 0||ct.cancel()}}},[]),R.createElement("div",{className:"rpv-core__text-layer",ref:fe})},sa=function(Y){var fe=Y.doc,Pe=Y.measureRef,Fe=Y.outlines,Ne=Y.pageIndex,ze=Y.pageRotation,Ye=Y.pageSize,He=Y.plugins,Le=Y.renderPage,Ke=Y.renderQueueKey,Ge=Y.rotation,ut=Y.scale,lt=Y.shouldRender,ct=Y.viewMode,yt=Y.onExecuteNamedAction,bt=Y.onJumpFromLinkAnnotation,vt=Y.onJumpToDest,Kt=Y.onRenderCompleted,Tt=Y.onRotatePage,Rt=qe(),Nt=R.useState(null),Pt=Nt[0],Bt=Nt[1],Lt=R.useState(!1),an=Lt[0],rn=Lt[1],on=R.useState(!1),cn=on[0],un=on[1],$n=R.useRef(),bn=R.useRef(),Mn=Math.abs(Ge+ze)%180==0,An=Ye.pageWidth*ut,Pn=Ye.pageHeight*ut,kn=Mn?An:Pn,wn=Mn?Pn:An,Nn=(Ye.rotation+Ge+ze)%360,Wn=R.useRef(0),Un=Le||function(Fn){return R.createElement(R.Fragment,null,Fn.canvasLayer.children,Fn.textLayer.children,Fn.annotationLayer.children)};return R.useEffect(function(){Bt(null),rn(!1),un(!1)},[ze,Ge,ut]),R.useEffect(function(){lt&&Rt.current&&!Pt&&Me(fe,Ne).then(function(Fn){Rt.current&&(Wn.current=Ke,Bt(Fn))})},[lt,Pt]),R.useEffect(function(){an&&cn&&(Ke!==Wn.current?(Bt(null),rn(!1),un(!1)):Kt(Ne))},[an,cn]),R.createElement("div",{className:ee({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":ct===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":ct===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":ct===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Ne),ref:Pe,style:{height:"".concat(wn,"px"),width:"".concat(kn,"px")}},Pt?R.createElement(R.Fragment,null,Un({annotationLayer:{attrs:{},children:R.createElement(ra,{doc:fe,outlines:Fe,page:Pt,pageIndex:Ne,plugins:He,rotation:Nn,scale:ut,onExecuteNamedAction:yt,onJumpFromLinkAnnotation:bt,onJumpToDest:vt})},canvasLayer:{attrs:{},children:R.createElement(ia,{canvasLayerRef:$n,height:wn,page:Pt,pageIndex:Ne,plugins:He,rotation:Nn,scale:ut,width:kn,onRenderCanvasCompleted:function(){Rt.current&&rn(!0)}})},canvasLayerRendered:an,doc:fe,height:wn,pageIndex:Ne,rotation:Nn,scale:ut,svgLayer:{attrs:{},children:R.createElement(aa,{height:wn,page:Pt,rotation:Nn,scale:ut,width:kn})},textLayer:{attrs:{},children:R.createElement(oa,{containerRef:bn,page:Pt,pageIndex:Ne,plugins:He,rotation:Nn,scale:ut,onRenderTextCompleted:function(){Rt.current&&un(!0)}})},textLayerRendered:cn,width:kn,markRendered:Kt,onRotatePage:function(Fn){return Tt(Ne,Fn)}}),He.map(function(Fn,Bn){return Fn.renderPageLayer?R.createElement(R.Fragment,{key:Bn},Fn.renderPageLayer({canvasLayerRef:$n,canvasLayerRendered:an,doc:fe,height:wn,pageIndex:Ne,rotation:Nn,scale:ut,textLayerRef:bn,textLayerRendered:cn,width:kn})):R.createElement(R.Fragment,{key:Bn})})):R.createElement(W,{testId:"core__page-layer-loading-".concat(Ne)}))},ca=function(Y,fe){var Pe=fe.rect;return Y.height!==Pe.height||Y.width!==Pe.width?Pe:Y};(function(Y){Y.Horizontal="Horizontal",Y.Vertical="Vertical",Y.Both="Both"})(Et||(Et={}));var la=function(Y){return 1-Math.pow(1-Y,4)},Er=1e-4,li={left:0,top:0},ui={capture:!1,passive:!0},ua=function(Y){var fe=Y.elementRef,Pe=Y.enableSmoothScroll,Fe=Y.isRtl,Ne=Y.scrollDirection,ze=Y.onSmoothScroll,Ye=R.useState(li),He=Ye[0],Le=Ye[1],Ke=R.useState(fe.current),Ge=Ke[0],ut=Ke[1],lt=Fe?-1:1,ct=R.useRef(Ne);ct.current=Ne;var yt=R.useRef(li),bt=R.useRef(!0),vt=R.useCallback(function(){bt.current=!0,Pe&&Le(yt.current),ze(!1)},[]),Kt=R.useCallback(function(){if(Ge){switch(ct.current){case Et.Horizontal:yt.current={left:lt*Ge.scrollLeft,top:0};break;case Et.Both:yt.current={left:lt*Ge.scrollLeft,top:Ge.scrollTop};break;case Et.Vertical:default:yt.current={left:0,top:Ge.scrollTop}}Pe&&!bt.current||Le(yt.current)}},[Ge]);te(function(){ut(fe.current)}),te(function(){if(Ge)return Ge.addEventListener("scroll",Kt,ui),function(){Ge.removeEventListener("scroll",Kt,ui)}},[Ge]);var Tt=R.useCallback(function(Rt,Nt){var Pt=fe.current;if(!Pt)return Promise.resolve();var Bt={left:0,top:0};switch(ct.current){case Et.Horizontal:Bt.left=lt*Rt.left;break;case Et.Both:Bt.left=lt*Rt.left,Bt.top=Rt.top;break;case Et.Vertical:default:Bt.top=Rt.top}return Nt?(bt.current=!1,ze(!0),new Promise(function(Lt,an){(function(rn,on,cn,un,$n,bn){$n===void 0&&($n=function(Bn){return Bn}),bn===void 0&&(bn=function(){});var Mn=0,An=0,Pn=!1;switch(on){case Et.Horizontal:An=rn.scrollLeft,Mn=0;case Et.Both:An=rn.scrollLeft,Mn=rn.scrollTop;break;case Et.Vertical:default:An=0,Mn=rn.scrollTop}var kn=function(){Pn||(Pn=!0,rn.scrollLeft=cn.left,rn.scrollTop=cn.top,bn())};if(Math.abs(Mn-cn.top)<=Er&&on===Et.Vertical)kn();else if(Math.abs(An-cn.left)<=Er&&on===Et.Horizontal)kn();else{var wn,Nn=-1,Wn=An-cn.left,Un=Mn-cn.top,Fn=function(Bn){Nn===-1&&(Nn=Bn);var Xn=Bn-Nn,Ot=Math.min(Xn/un,1),Ft=$n(Ot),kt={left:An-Wn*Ft,top:Mn-Un*Ft};switch(on){case Et.Horizontal:rn.scrollLeft=kt.left;break;case Et.Both:rn.scrollLeft=kt.left,rn.scrollTop=kt.top;break;case Et.Vertical:default:rn.scrollTop=kt.top}Math.abs(kt.top-cn.top)<=Er&&Math.abs(kt.left-cn.left)<=Er&&!Pn&&(window.cancelAnimationFrame(wn),kn()),Xn<un?wn=window.requestAnimationFrame(Fn):window.cancelAnimationFrame(wn)};wn=window.requestAnimationFrame(Fn)}})(Pt,ct.current,Bt,400,la,function(){vt(),Lt()})})):new Promise(function(Lt,an){switch(ct.current){case Et.Horizontal:Pt.scrollLeft=Bt.left;break;case Et.Both:Pt.scrollLeft=Bt.left,Pt.scrollTop=Bt.top;break;case Et.Vertical:default:Pt.scrollTop=Bt.top}Lt()})},[fe]);return{scrollOffset:He,scrollTo:Tt}},fr=function(Y,fe,Pe){return Math.max(Y,Math.min(Pe,fe))},da=function(Y,fe){if(fe!==A.ViewMode.DualPageWithCover)return 0;if(!function(Ne){var ze=Ne.length;if(ze===1)return!1;for(var Ye=1;Ye<ze;Ye++)if(Ne[Ye].height!==Ne[0].height||Ne[Ye].width!==Ne[0].width)return!0;return!1}(Y))return 2*Y[0].width;var Pe=dt(Y.slice(1),2).map(function(Ne){return Ne.length===2?Ne[0].width+Ne[1].width:Ne[0].width}),Fe=[Y[0].width].concat(Pe);return Math.max.apply(Math,Fe)},ha={left:0,top:0},fa={left:0,top:0},Mr={left:0,top:0},pa={left:0,top:0},ma={height:0,width:0},di={left:0,top:0},hi="data-virtual-index",ga=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],va=function(Y){var fe=Y.enableSmoothScroll,Pe=Y.isRtl,Fe=Y.numberOfItems,Ne=Y.parentRef,ze=Y.setRenderRange,Ye=Y.sizes,He=Y.scrollMode,Le=Y.viewMode,Ke=R.useState(!1),Ge=Ke[0],ut=Ke[1],lt=R.useCallback(function(Ot){return ut(Ot)},[]),ct=R.useRef(He);ct.current=He;var yt=R.useRef(Le);yt.current=Le;var bt=He===A.ScrollMode.Wrapped||Le===A.ViewMode.DualPageWithCover||Le===A.ViewMode.DualPage?Et.Both:He===A.ScrollMode.Horizontal?Et.Horizontal:Et.Vertical,vt=ua({elementRef:Ne,enableSmoothScroll:fe,isRtl:Pe,scrollDirection:bt,onSmoothScroll:lt}),Kt=vt.scrollOffset,Tt=vt.scrollTo,Rt=function(Ot){var Ft=Ot.elementRef,kt=R.useState(Ft.current),$t=kt[0],xt=kt[1],zt=R.useRef(!1),Ht=R.useReducer(ca,{height:0,width:0}),Mt=Ht[0],wt=Ht[1];return te(function(){Ft.current!==$t&&xt(Ft.current)}),te(function(){if($t&&!zt.current){zt.current=!0;var Ut=$t.getBoundingClientRect(),Qt=Ut.height,gn=Ut.width;wt({rect:{height:Qt,width:gn}})}},[$t]),R.useEffect(function(){if($t){var Ut=new ResizeObserver(function(Qt,gn){Qt.forEach(function(fn){if(fn.target===$t){var Ln=fn.contentRect,zn=Ln.height,qt=Ln.width;wt({rect:{height:zn,width:qt}})}})});return Ut.observe($t),function(){Ut.unobserve($t)}}},[$t]),Mt}({elementRef:Ne}),Nt=R.useRef({scrollOffset:di,measurements:[]});Nt.current.scrollOffset=Kt;var Pt=R.useMemo(function(){return Array(Fe).fill(-1)},[]),Bt=R.useState(Pt),Lt=Bt[0],an=Bt[1],rn=R.useMemo(function(){var Ot=new IntersectionObserver(function(Ft){Ft.forEach(function(kt){var $t=kt.isIntersecting?kt.intersectionRatio:-1,xt=kt.target.getAttribute(hi);if(xt){var zt=parseInt(xt,10);0<=zt&&zt<Fe&&an(function(Ht){return Ht[zt]=$t,function(Mt,wt,Ut){if(Ut||arguments.length===2)for(var Qt,gn=0,fn=wt.length;gn<fn;gn++)!Qt&&gn in wt||(Qt||(Qt=Array.prototype.slice.call(wt,0,gn)),Qt[gn]=wt[gn]);return Mt.concat(Qt||Array.prototype.slice.call(wt))}([],Ht,!0)})}})},{threshold:ga});return Ot},[]),on=R.useMemo(function(){return He===A.ScrollMode.Page&&Le===A.ViewMode.SinglePage?function(Ot,Ft,kt){for(var $t=[],xt=0;xt<Ot;xt++){var zt={height:Math.max(Ft.height,kt[xt].height),width:Math.max(Ft.width,kt[xt].width)},Ht=xt===0?pa:$t[xt-1].end,Mt={left:Ht.left+zt.width,top:Ht.top+zt.height};$t[xt]={index:xt,start:Ht,size:zt,end:Mt,visibility:-1}}return $t}(Fe,Rt,Ye):Le===A.ViewMode.DualPageWithCover?function(Ot,Ft,kt,$t){for(var xt=[],zt=0,Ht=0,Mt=Mr,wt=0;wt<Ot;wt++){var Ut=wt===0?{height:$t===A.ScrollMode.Page?Math.max(Ft.height,kt[wt].height):kt[wt].height,width:$t===A.ScrollMode.Page?Math.max(Ft.width,kt[wt].width):kt[wt].width}:{height:$t===A.ScrollMode.Page?Math.max(Ft.height,kt[wt].height):kt[wt].height,width:Math.max(Ft.width/2,kt[wt].width)};$t===A.ScrollMode.Page?Mt=wt===0?Mr:{left:wt%2==0?Ut.width:0,top:Math.floor((wt-1)/2)*Ut.height+xt[0].end.top}:wt===0?(Mt=Mr,zt=kt[0].height,Ht=0):wt%2==1?(Mt={left:0,top:zt+=Ht},Ht=wt===Ot-1?kt[wt].height:Math.max(kt[wt].height,kt[wt+1].height)):Mt={left:xt[wt-1].end.left,top:zt};var Qt={left:Mt.left+Ut.width,top:Mt.top+Ut.height};xt[wt]={index:wt,start:Mt,size:Ut,end:Qt,visibility:-1}}return xt}(Fe,Rt,Ye,He):Le===A.ViewMode.DualPage?function(Ot,Ft,kt,$t){for(var xt=[],zt=0,Ht=0,Mt=fa,wt=0;wt<Ot;wt++){var Ut={height:$t===A.ScrollMode.Page?Math.max(Ft.height,kt[wt].height):kt[wt].height,width:Math.max(Ft.width/2,kt[wt].width)};$t===A.ScrollMode.Page?Mt={left:wt%2==0?0:Ut.width,top:Math.floor(wt/2)*Ut.height}:wt%2==0?(Mt={left:0,top:zt+=Ht},Ht=wt===Ot-1?kt[wt].height:Math.max(kt[wt].height,kt[wt+1].height)):Mt={left:xt[wt-1].end.left,top:zt};var Qt={left:Mt.left+Ut.width,top:Mt.top+Ut.height};xt[wt]={index:wt,start:Mt,size:Ut,end:Qt,visibility:-1}}return xt}(Fe,Rt,Ye,He):function(Ot,Ft,kt,$t){for(var xt=[],zt=0,Ht={left:0,top:0},Mt=0,wt=ha,Ut=0;Ut<Ot;Ut++){var Qt=kt[Ut];if(Ut===0)zt=Qt.width,Ht={left:0,top:0},Mt=Qt.height;else switch($t){case A.ScrollMode.Wrapped:(zt+=Qt.width)<Ft.width?(wt={left:xt[Ut-1].end.left,top:Ht.top},Mt=Math.max(Mt,Qt.height)):(zt=Qt.width,Ht={left:(wt={left:Ht.left,top:Ht.top+Mt}).left,top:wt.top},Mt=Qt.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:wt=xt[Ut-1].end}var gn={left:wt.left+Qt.width,top:wt.top+Qt.height};xt[Ut]={index:Ut,start:wt,size:Qt,end:gn,visibility:-1}}return xt}(Fe,Rt,Ye,He)},[He,Ye,Le,Rt]),cn=on[Fe-1]?{height:on[Fe-1].end.top,width:on[Fe-1].end.left}:ma;Nt.current.measurements=on;var un=R.useMemo(function(){var Ot=function(Ut,Qt,gn,fn){var Ln=0;switch(Ut){case Et.Horizontal:Ln=fn.left;break;case Et.Vertical:default:Ln=fn.top}var zn=Qt.length-1,qt=function(hn,Kn,lr,Sr){for(;hn<=Kn;){var er=(hn+Kn)/2|0,pr=Sr(er);if(pr<lr)hn=er+1;else{if(!(pr>lr))return er;Kn=er-1}}return hn>0?hn-1:0}(0,zn,Ln,function(hn){switch(Ut){case Et.Horizontal:return Qt[hn].start.left;case Et.Both:case Et.Vertical:default:return Qt[hn].start.top}});if(Ut===Et.Both)for(var On=Qt[qt].start.top;qt-1>=0&&Qt[qt-1].start.top===On&&Qt[qt-1].start.left>=fn.left;)qt--;for(var vn=qt;vn<=zn;){var _n={top:Qt[vn].start.top-fn.top,left:Qt[vn].start.left-fn.left},Tn={height:gn.height-_n.top,width:gn.width-_n.left};if(Ut===Et.Horizontal&&Tn.width<0||Ut===Et.Vertical&&Tn.height<0||Ut===Et.Both&&(Tn.width<0||Tn.height<0))break;vn++}return{start:qt,end:vn}}(bt,on,Rt,Kt),Ft=Ot.start,kt=Ot.end,$t=Lt.slice(fr(0,Fe,Ft),fr(0,Fe,kt)),xt=Ft+$t.reduce(function(Ut,Qt,gn,fn){return Qt>fn[Ut]?gn:Ut},0),zt=xt=fr(0,Fe-1,xt),Ht=ze({endPage:kt,numPages:Fe,startPage:Ft}),Mt=Ht.startPage,wt=Ht.endPage;switch(Mt=Math.max(Mt,0),wt=Math.min(wt,Fe-1),Le){case A.ViewMode.DualPageWithCover:xt>0&&(zt=xt%2==1?xt:xt-1),Mt=Mt===0?0:Mt%2==1?Mt:Mt-1,Fe-(wt=wt%2==1?wt-1:wt)<=2&&(wt=Fe-1);break;case A.ViewMode.DualPage:zt=xt%2==0?xt:xt-1,Mt=Mt%2==0?Mt:Mt-1,wt=wt%2==1?wt:wt-1;break;case A.ViewMode.SinglePage:default:zt=xt}return{startPage:Mt,endPage:wt,maxVisbilityIndex:zt}},[on,Rt,Kt,Le,Lt]),$n=un.startPage,bn=un.endPage,Mn=un.maxVisbilityIndex,An=R.useMemo(function(){for(var Ot=[],Ft=function($t){var xt=on[$t],zt=ne(ne({},xt),{visibility:Lt[$t]!==void 0?Lt[$t]:-1,measureRef:function(Ht){Ht&&(Ht.setAttribute(hi,"".concat($t)),rn.observe(Ht))}});Ot.push(zt)},kt=$n;kt<=bn;kt++)Ft(kt);return Ot},[$n,bn,Lt,on]),Pn=R.useCallback(function(Ot,Ft){var kt=Nt.current.measurements[fr(0,Fe-1,Ot)],$t=ct.current===A.ScrollMode.Page?di:Ft;return kt?Tt({left:$t.left+kt.start.left,top:$t.top+kt.start.top},fe):Promise.resolve()},[Tt,fe]),kn=R.useCallback(function(Ot,Ft){var kt=Nt.current.measurements,$t=kt[Ot].start,xt=kt.find(function(Ht){return Ht.start.top-$t.top>1e-12});if(!xt)return Promise.resolve();var zt=xt.index;switch(yt.current){case A.ViewMode.DualPage:zt=zt%2==0?zt:zt+1;break;case A.ViewMode.DualPageWithCover:zt=zt%2==1?zt:zt+1}return Pn(zt,Ft)},[]),wn=R.useCallback(function(Ot,Ft){for(var kt=Nt.current.measurements,$t=kt[Ot].start,xt=Ot,zt=!1,Ht=Fe-1;Ht>=0;Ht--)if($t.top-kt[Ht].start.top>1e-12){zt=!0,xt=kt[Ht].index;break}if(!zt)return Promise.resolve();switch(yt.current){case A.ViewMode.DualPage:xt=xt%2==0?xt:xt-1;break;case A.ViewMode.DualPageWithCover:xt=xt%2==0?xt-1:xt}return xt===Ot&&(xt=Ot-1),Pn(xt,Ft)},[]),Nn=R.useCallback(function(Ot,Ft){if(yt.current===A.ViewMode.DualPageWithCover||yt.current===A.ViewMode.DualPage)return kn(Ot,Ft);switch(ct.current){case A.ScrollMode.Wrapped:return kn(Ot,Ft);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Pn(Ot+1,Ft)}},[]),Wn=R.useCallback(function(Ot,Ft){if(yt.current===A.ViewMode.DualPageWithCover||yt.current===A.ViewMode.DualPage)return wn(Ot,Ft);switch(ct.current){case A.ScrollMode.Wrapped:return wn(Ot,Ft);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Pn(Ot-1,Ft)}},[]),Un=R.useCallback(function(){return function(Ot,Ft){switch(Ft){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Ot.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Ot.height,"px"),width:"100%"}}}(cn,ct.current)},[cn]),Fn=R.useCallback(function(Ot){return function(Ft,kt,$t){return $t!==A.ScrollMode.Page?{}:{height:"".concat(kt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Ft.start.top,"px)")}}(Ot,Rt,ct.current)},[Rt]),Bn=R.useCallback(function(Ot){return function(Ft,kt,$t,xt,zt){var Ht,Mt,wt,Ut,Qt,gn,fn,Ln=kt?"right":"left",zn=kt?-1:1,qt=$t.length,On=Ft.start.left*zn,vn=Ft.size,_n=vn.height,Tn=vn.width;if(xt===A.ViewMode.DualPageWithCover){var hn=zt===A.ScrollMode.Page?0:Ft.start.top;return Ft.index===0||qt%2==0&&Ft.index===qt-1?((Ht={height:"".concat(_n,"px"),minWidth:"".concat(da($t,xt),"px"),width:"100%"})[Ln]=0,Ht.position="absolute",Ht.top=0,Ht.transform="translate(".concat(On,"px, ").concat(hn,"px)"),Ht):((Mt={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,Mt.position="absolute",Mt.top=0,Mt.transform="translate(".concat(On,"px, ").concat(hn,"px)"),Mt)}if(xt===A.ViewMode.DualPage)return(wt={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,wt.position="absolute",wt.top=0,wt.transform="translate(".concat(On,"px, ").concat(zt===A.ScrollMode.Page?0:Ft.start.top,"px)"),wt;switch(zt){case A.ScrollMode.Horizontal:return(Ut={height:"100%",width:"".concat(Tn,"px")})[Ln]=0,Ut.position="absolute",Ut.top=0,Ut.transform="translateX(".concat(On,"px)"),Ut;case A.ScrollMode.Page:return(Qt={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,Qt.position="absolute",Qt.top=0,Qt;case A.ScrollMode.Wrapped:return(gn={height:"".concat(_n,"px"),width:"".concat(Tn,"px")})[Ln]=0,gn.position="absolute",gn.top=0,gn.transform="translate(".concat(On,"px, ").concat(Ft.start.top,"px)"),gn;case A.ScrollMode.Vertical:default:return(fn={height:"".concat(_n,"px"),width:"100%"})[Ln]=0,fn.position="absolute",fn.top=0,fn.transform="translateY(".concat(Ft.start.top,"px)"),fn}}(Ot,Pe,Ye,yt.current,ct.current)},[Pe,Ye]),Xn=R.useCallback(function(Ot,Ft){var kt=Nt.current,$t=kt.measurements,xt=kt.scrollOffset,zt=$t[fr(0,Fe-1,Ft)];if(zt){var Ht=ct.current===A.ScrollMode.Page?{left:zt.start.left,top:zt.start.top}:{left:xt.left*Ot,top:xt.top*Ot};return Tt(Ht,!1)}return Promise.resolve()},[]);return R.useEffect(function(){return function(){rn.disconnect()}},[]),{boundingClientRect:Rt,isSmoothScrolling:Ge,startPage:$n,endPage:bn,maxVisbilityIndex:Mn,virtualItems:An,getContainerStyles:Un,getItemContainerStyles:Fn,getItemStyles:Bn,scrollToItem:Pn,scrollToNextItem:Nn,scrollToPreviousItem:Wn,zoom:Xn}},Tr=function(Y,fe,Pe,Fe,Ne,ze){var Ye=Pe;switch(!0){case(Ne===A.ViewMode.DualPageWithCover&&ze>=3):case(Ne===A.ViewMode.DualPage&&ze>=3):Ye=2*Pe;break;default:Ye=Pe}switch(Fe){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((Y.clientWidth-17)/Ye,(Y.clientHeight-16)/fe);case A.SpecialZoomLevel.PageWidth:return(Y.clientWidth-17)/Ye}},ba=function(Y){var fe,Pe,Fe=Y.getCurrentPage,Ne=(fe=50,Pe=R.useRef([]),R.useEffect(function(){return function(){Pe.current=[]}},[]),{push:function(Ke){var Ge=Pe.current;Ge.length+1>fe&&Ge.shift(),Ge.push(Ke),Pe.current=Ge},map:function(Ke){return Pe.current.map(function(Ge){return Ke(Ge)})},pop:function(){var Ke=Pe.current;if(Ke.length===0)return null;var Ge=Ke.pop();return Pe.current=Ke,Ge}}),ze=function(Ke){var Ge=R.useRef([]);return R.useEffect(function(){return function(){Ge.current=[]}},[]),{dequeue:function(){var ut=Ge.current;if(ut.length===0)return null;var lt=ut.shift();return Ge.current=ut,lt||null},enqueue:function(ut){var lt=Ge.current;lt.length+1>Ke&&lt.pop(),Ge.current=[ut].concat(lt)},map:function(ut){return Ge.current.map(function(lt){return ut(lt)})}}}(50),Ye=function(){var Ke=ze.dequeue();return Ke&&Ne.push(Ke),Ke&&Ke.pageIndex===Fe()?Ye():Ke},He=function(){var Ke=Ne.pop();return Ke&&ze.enqueue(Ke),Ke&&Ke.pageIndex===Fe()?He():Ke},Le=R.useCallback(function(Ke){Ne.push(Ke)},[]);return{getNextDestination:Ye,getPreviousDestination:He,markVisitedDestination:Le}},fi=function(Y){var fe=[];return Y.map(function(Pe){fe=fe.concat(Pe).concat(function(Fe){var Ne=[];return Fe.items&&Fe.items.length>0&&(Ne=Ne.concat(fi(Fe.items))),Ne}(Pe))}),fe},pi={capture:!1,passive:!0},_a={height:0,width:0},Rr={height:0,width:0},Ea=function(Y){var fe=Y.getCurrentPage,Pe=Y.getCurrentScrollMode,Fe=Y.jumpToPage,Ne=Y.targetRef,ze=R.useState(A.FullScreenMode.Normal),Ye=ze[0],He=ze[1],Le=function(){var Lt=R.useState(_a),an=Lt[0],rn=Lt[1],on=Ve(function(){rn({height:window.innerHeight,width:window.innerWidth})},100);return te(function(){return window.addEventListener("resize",on,pi),function(){window.removeEventListener("resize",on,pi)}},[]),an}(),Ke=R.useState(Rr),Ge=Ke[0],ut=Ke[1],lt=R.useRef(Rr),ct=R.useRef(fe()),yt=R.useRef(Rr),bt=R.useState(Ne.current),vt=bt[0],Kt=bt[1],Tt=R.useRef();te(function(){Ne.current!==vt&&Kt(Ne.current)},[]),te(function(){if(vt){var Lt=new ResizeObserver(function(an){an.forEach(function(rn){var on=rn.target.getBoundingClientRect(),cn=on.height,un=on.width;ut({height:cn,width:un})})});return Lt.observe(vt),function(){Lt.unobserve(vt),Lt.disconnect()}}},[vt]);var Rt=R.useCallback(function(Lt){var an=it();return an&&an!==Lt?(He(A.FullScreenMode.Normal),Te(an)):Promise.resolve()},[]),Nt=R.useCallback(function(Lt){Lt&&de()&&(Kt(Lt),Rt(Lt).then(function(){Tt.current=Lt,He(A.FullScreenMode.Entering),function(an){Ee&&an[we.RequestFullScreen]()}(Lt)}))},[]),Pt=R.useCallback(function(){it()&&(He(A.FullScreenMode.Exitting),Te(document))},[]),Bt=R.useCallback(function(){vt&&it()!==vt&&He(A.FullScreenMode.Exitting)},[vt]);return R.useEffect(function(){switch(Ye){case A.FullScreenMode.Entering:Tt.current&&(Tt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),ct.current=fe(),lt.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:Pe()===A.ScrollMode.Page?Fe(ct.current).then(function(){He(A.FullScreenMode.EnteredCompletely)}):He(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Tt.current&&(Tt.current.style.backgroundColor="",Tt.current=null),ct.current=fe();break;case A.FullScreenMode.Exited:He(A.FullScreenMode.Normal),Pe()===A.ScrollMode.Page&&Fe(ct.current)}},[Ye]),R.useEffect(function(){if(Ye!==A.FullScreenMode.Normal)return Ye===A.FullScreenMode.Entering&&Le.height===Ge.height&&Le.width===Ge.width&&Le.height>0&&Le.width>0&&(yt.current.height===0||Le.height==yt.current.height)?(yt.current={height:window.innerHeight,width:window.innerWidth},void He(A.FullScreenMode.Entered)):void(Ye===A.FullScreenMode.Exitting&&lt.current.height===Le.height&&lt.current.width===Le.width&&Le.height>0&&Le.width>0&&He(A.FullScreenMode.Exited))},[Ye,Le,Ge]),R.useEffect(function(){var Lt;return Lt=Bt,Ee&&document.addEventListener(we.FullScreenChange,Lt),function(){(function(an){Ee&&document.removeEventListener(we.FullScreenChange,an)})(Bt)}},[vt]),{enterFullScreenMode:Nt,exitFullScreenMode:Pt,fullScreenMode:Ye}},ya={buildPageStyles:function(){return{}},transformSize:function(Y){return Y.size}},cr={left:0,top:0},Sa=function(Y){var fe=Y.currentFile,Pe=Y.defaultScale,Fe=Y.doc,Ne=Y.enableSmoothScroll,ze=Y.initialPage,Ye=Y.initialRotation,He=Y.initialScale,Le=Y.pageLayout,Ke=Y.pageSizes,Ge=Y.plugins,ut=Y.renderPage,lt=Y.scrollMode,ct=Y.setRenderRange,yt=Y.viewMode,bt=Y.viewerState,vt=Y.onDocumentLoad,Kt=Y.onOpenFile,Tt=Y.onPageChange,Rt=Y.onRotate,Nt=Y.onRotatePage,Pt=Y.onZoom,Bt=Fe.numPages,Lt=Fe.loadingTask.docId,an=R.useContext(Ae).l10n,rn=R.useContext(oe),on=rn.direction===A.TextDirection.RightToLeft,cn=R.useRef(),un=R.useRef(),$n=R.useState(ze),bn=$n[0],Mn=$n[1],An=R.useRef(null),Pn=ba({getCurrentPage:function(){return qt.current.pageIndex}}),kn=R.useState(Ye),wn=kn[0],Nn=kn[1],Wn=Be(wn),Un=R.useState(!1),Fn=Un[0],Bn=Un[1],Xn=R.useState(new Map),Ot=Xn[0],Ft=Xn[1],kt=R.useState(lt),$t=kt[0],xt=kt[1],zt=Be($t),Ht=R.useState(yt),Mt=Ht[0],wt=Ht[1],Ut=Be(Mt),Qt=function(gt){var Wt=qe(),en=R.useState([]),dn=en[0],ln=en[1];return R.useEffect(function(){gt.getOutline().then(function(tn){if(Wt.current&&tn!==null){var Rn=fi(tn);ln(Rn)}})},[]),dn}(Fe),gn=R.useState(He),fn=gn[0],Ln=gn[1],zn=Be(fn),qt=R.useRef(bt),On=R.useRef(typeof Pe=="string"?Pe:null),vn=R.useRef(-1),_n=R.useRef(-1),Tn=R.useRef(ze),hn=Ea({getCurrentPage:function(){return qt.current.pageIndex},getCurrentScrollMode:function(){return qt.current.scrollMode},jumpToPage:function(gt){return Zn(gt)},targetRef:un}),Kn=R.useState(-1),lr=Kn[0],Sr=Kn[1],er=R.useState(0),pr=er[0],xa=er[1],Vn=et({doc:Fe});R.useEffect(function(){return function(){St.clear(),It.clear()}},[Lt]);var bi=R.useMemo(function(){return Object.assign({},ya,Le)},[]),$a=R.useMemo(function(){return Array(Bt).fill(0).map(function(gt,Wt){var en=[Ke[Wt].pageHeight,Ke[Wt].pageWidth],dn=Math.abs(wn)%180==0?{height:en[0],width:en[1]}:{height:en[1],width:en[0]},ln={height:dn.height*fn,width:dn.width*fn};return bi.transformSize({numPages:Bt,pageIndex:Wt,size:ln})})},[wn,fn]),pn=va({enableSmoothScroll:Ne,isRtl:on,numberOfItems:Bt,parentRef:un,scrollMode:$t,setRenderRange:ct,sizes:$a,viewMode:Mt}),Ma=Ve(function(){!On.current||qt.current.fullScreenMode!==A.FullScreenMode.Normal||ze>0&&Tn.current===ze||tr(On.current)},200);(function(gt){var Wt=gt.targetRef,en=gt.onResize;te(function(){var dn=new ResizeObserver(function(tn){tn.forEach(function(Rn){en(Rn.target)})}),ln=Wt.current;if(ln)return dn.observe(ln),function(){dn.unobserve(ln)}},[])})({targetRef:un,onResize:Ma});var Yn=function(gt){var Wt=gt;Ge.forEach(function(en){en.onViewerStateChange&&(Wt=en.onViewerStateChange(Wt))}),qt.current=Wt},Ta=function(){return un.current},Ra=function(){return qt.current},Fa=R.useCallback(function(gt){Pn.markVisitedDestination(gt)},[]),Lr=R.useCallback(function(gt){var Wt=gt.pageIndex,en=gt.bottomOffset,dn=gt.leftOffset,ln=gt.scaleTo,tn=un.current,Rn=qt.current;return tn&&Rn?new Promise(function(Jn,zr){Me(Fe,Wt).then(function(Cr){var Qn=Cr.getViewport({scale:1}),Ar=0,Pi=(typeof en=="function"?en(Qn.width,Qn.height):en)||0,wr=(typeof dn=="function"?dn(Qn.width,Qn.height):dn)||0,ur=Rn.scale;switch(ln){case A.SpecialZoomLevel.PageFit:Ar=0,wr=0,tr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:ur=Tr(tn,Ke[Wt].pageHeight,Ke[Wt].pageWidth,A.SpecialZoomLevel.PageWidth,yt,Bt),Ar=(Qn.height-Pi)*ur,wr*=ur,tr(ur);break;default:Ar=(Qn.height-Pi)*ur,wr*=ur}switch(Rn.scrollMode){case A.ScrollMode.Horizontal:pn.scrollToItem(Wt,{left:wr,top:0}).then(function(){Jn()});break;case A.ScrollMode.Vertical:default:pn.scrollToItem(Wt,{left:0,top:Ar}).then(function(){Jn()})}})}):Promise.resolve()},[]),_i=R.useCallback(function(gt){return Pn.markVisitedDestination(gt),Lr(gt)},[]),Ia=R.useCallback(function(){var gt=Pn.getNextDestination();return gt?Lr(gt):Promise.resolve()},[]),La=R.useCallback(function(){var gt=Pn.getPreviousDestination();return gt?Lr(gt):Promise.resolve()},[]),Oa=R.useCallback(function(){return pn.scrollToNextItem(qt.current.pageIndex,cr)},[]),Zn=R.useCallback(function(gt){return 0<=gt&&gt<Bt?pn.scrollToItem(gt,cr):Promise.resolve()},[]),Da=R.useCallback(function(){return pn.scrollToPreviousItem(qt.current.pageIndex,cr)},[]),Ei=R.useCallback(function(gt){var Wt,en;(Wt=gt.name,en=Wt.split(/\./).pop(),en?en.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(dn){var ln=new FileReader;ln.readAsArrayBuffer(gt),ln.onload=function(){var tn=new Uint8Array(ln.result);dn(tn)}}).then(function(dn){Kt(gt.name,dn)})},[Kt]),yi=R.useCallback(function(gt){var Wt=gt===A.RotateDirection.Backward?-90:90,en=qt.current.rotation,dn=en===360||en===-360?Wt:en+Wt;Vn.markNotRendered(),Nn(dn),Yn(ne(ne({},qt.current),{rotation:dn})),Rt({direction:gt,doc:Fe,rotation:dn})},[]),Or=R.useCallback(function(gt,Wt){var en=Wt===A.RotateDirection.Backward?-90:90,dn=qt.current.pagesRotation,ln=(dn.has(gt)?dn.get(gt):Ye)+en,tn=dn.set(gt,ln);Ft(tn),Bn(function(Rn){return!Rn}),Yn(ne(ne({},qt.current),{pagesRotation:tn,rotatedPage:gt})),Nt({direction:Wt,doc:Fe,pageIndex:gt,rotation:ln}),Vn.markRendering(gt),Sr(gt)},[]),Si=R.useCallback(function(gt){Yn(ne(ne({},qt.current),{scrollMode:gt})),xt(gt)},[]),Ci=R.useCallback(function(gt){Yn(ne(ne({},qt.current),{viewMode:gt})),wt(gt)},[]),tr=R.useCallback(function(gt){var Wt=un.current,en=qt.current.pageIndex;if(!(en<0||en>=Bt)){var dn=Ke[en].pageHeight,ln=Ke[en].pageWidth,tn=Wt?typeof gt=="string"?Tr(Wt,dn,ln,gt,qt.current.viewMode,Bt):gt:1;On.current=typeof gt=="string"?gt:null,tn!==qt.current.scale&&(xa(function(Rn){return Rn+1}),Vn.markNotRendered(),Ln(tn),Pt({doc:Fe,scale:tn}),Yn(ne(ne({},qt.current),{scale:tn})))}},[]),Na=R.useCallback(function(gt){hn.enterFullScreenMode(gt)},[]),ja=R.useCallback(function(){hn.exitFullScreenMode()},[]);R.useEffect(function(){Yn(ne(ne({},qt.current),{fullScreenMode:hn.fullScreenMode}))},[hn.fullScreenMode]),R.useEffect(function(){var gt={enterFullScreenMode:Na,exitFullScreenMode:ja,getPagesContainer:Ta,getViewerState:Ra,jumpToDestination:_i,jumpToNextDestination:Ia,jumpToPreviousDestination:La,jumpToNextPage:Oa,jumpToPreviousPage:Da,jumpToPage:Zn,openFile:Ei,rotate:yi,rotatePage:Or,setViewerState:Yn,switchScrollMode:Si,switchViewMode:Ci,zoom:tr};return Ge.forEach(function(Wt){Wt.install&&Wt.install(gt)}),function(){Ge.forEach(function(Wt){Wt.uninstall&&Wt.uninstall(gt)})}},[Lt]),R.useEffect(function(){vt({doc:Fe,file:fe}),Ge.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad({doc:Fe,file:fe})})},[Lt]);var Dr,Nr,jr,Ai=pn.boundingClientRect;Dr=function(){ze&&Zn(ze)},Nr=Ai.height>0&&Ai.width>0,jr=R.useRef(!1),te(function(){Nr&&!jr.current&&(jr.current=!0,Dr())},[Dr,Nr]),te(function(){var gt=qt.current.pageIndex;gt>-1&&zt!==$t&&pn.scrollToItem(gt,cr).then(function(){hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Ne||Vn.markNotRendered(),vn.current=-1)})},[$t]),te(function(){var gt=qt.current.pageIndex;gt>-1&&Wn!==wn&&pn.scrollToItem(gt,cr)},[wn]),te(function(){zn!=0&&zn!=qt.current.scale&&pn.zoom(qt.current.scale/zn,qt.current.pageIndex).then(function(){hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(_n.current=-1)})},[fn]),te(function(){if(Ut!==qt.current.viewMode){var gt=pn.startPage,Wt=pn.endPage,en=pn.virtualItems;Vn.markNotRendered(),Vn.setRange(gt,Wt);for(var dn=function(tn){var Rn=en.find(function(Jn){return Jn.index===tn});Rn&&Vn.setVisibility(tn,Rn.visibility)},ln=gt;ln<=Wt;ln++)dn(ln);Br()}},[Mt]),te(function(){var gt=qt.current.pageIndex;gt>-1&&Ut!==Mt&&pn.scrollToItem(gt,cr)},[Mt]),te(function(){var gt=qt.current.pageIndex;gt>0&&gt===ze&&Tn.current===ze&&On.current&&(Tn.current=-1,tr(On.current))},[bn]),R.useEffect(function(){pn.isSmoothScrolling||An.current!==null&&An.current===bn||(An.current=bn,Tt({currentPage:bn,doc:Fe}))},[bn,pn.isSmoothScrolling]),R.useEffect(function(){hn.fullScreenMode===A.FullScreenMode.Entering&&qt.current.scrollMode===A.ScrollMode.Page&&(vn.current=qt.current.pageIndex),hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&qt.current.scrollMode===A.ScrollMode.Page&&Ne&&(vn.current=-1),hn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&On.current&&(_n.current=qt.current.pageIndex,tr(On.current))},[hn.fullScreenMode]),R.useEffect(function(){if(hn.fullScreenMode!==A.FullScreenMode.Entering&&hn.fullScreenMode!==A.FullScreenMode.Exitting&&!pn.isSmoothScrolling){var gt=pn.startPage,Wt=pn.endPage,en=pn.maxVisbilityIndex,dn=pn.virtualItems,ln=en,tn=hn.fullScreenMode===A.FullScreenMode.Entered||hn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(tn&&ln!==vn.current&&vn.current>-1||tn&&ln!==_n.current&&_n.current>-1)){Mn(ln),Yn(ne(ne({},qt.current),{pageIndex:ln})),Vn.setRange(gt,Wt);for(var Rn=function(zr){var Cr=dn.find(function(Qn){return Qn.index===zr});Cr&&Vn.setVisibility(zr,Cr.visibility)},Jn=gt;Jn<=Wt;Jn++)Rn(Jn);Br()}}},[pn.startPage,pn.endPage,pn.isSmoothScrolling,pn.maxVisbilityIndex,hn.fullScreenMode,Fn,wn,fn]);var Ba=R.useCallback(function(gt){Vn.markRendered(gt),Br()},[pr]),Br=function(){var gt=Vn.getHighestPriorityPage();gt>-1&&Vn.isInRange(gt)&&(Vn.markRendering(gt),Sr(gt))},za=function(gt){var Wt=bn-1,en=bn+1;switch(gt){case"FirstPage":Zn(0);break;case"LastPage":Zn(Bt-1);break;case"NextPage":en<Bt&&Zn(en);break;case"PrevPage":Wt>=0&&Zn(Wt)}},Va=R.useCallback(function(){var gt=pn.virtualItems,Wt=[];switch(Mt){case A.ViewMode.DualPage:Wt=dt(gt,2);break;case A.ViewMode.DualPageWithCover:gt.length&&(Wt=gt[0].index===0?[[gt[0]]].concat(dt(gt.slice(1),2)):dt(gt,2));break;case A.ViewMode.SinglePage:default:Wt=dt(gt,1)}var en=an&&an.core?an.core.pageLabel:"Page {{pageIndex}}",dn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:cn,style:{height:"100%"}},children:R.createElement(R.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ee({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":$t===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":on,"rpv-core__inner-pages--single":$t===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":$t===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":$t===A.ScrollMode.Wrapped}),ref:un,style:{height:"100%",position:"relative"}},children:R.createElement("div",{"data-testid":"core__inner-current-page-".concat(bn),style:Object.assign({"--scale-factor":fn},pn.getContainerStyles())},Wt.map(function(ln){return R.createElement("div",{className:ee({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":$t===A.ScrollMode.Page}),style:pn.getItemContainerStyles(ln[0]),key:"".concat(ln[0].index,"-").concat(Mt)},ln.map(function(tn){var Rn=Mt===A.ViewMode.DualPageWithCover&&(tn.index===0||Bt%2==0&&tn.index===Bt-1);return R.createElement("div",{"aria-label":en.replace("{{pageIndex}}","".concat(tn.index+1)),className:ee({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Mt===A.ViewMode.DualPage&&tn.index%2==0,"rpv-core__inner-page--dual-odd":Mt===A.ViewMode.DualPage&&tn.index%2==1,"rpv-core__inner-page--dual-cover":Rn,"rpv-core__inner-page--dual-cover-even":Mt===A.ViewMode.DualPageWithCover&&!Rn&&tn.index%2==0,"rpv-core__inner-page--dual-cover-odd":Mt===A.ViewMode.DualPageWithCover&&!Rn&&tn.index%2==1,"rpv-core__inner-page--single":Mt===A.ViewMode.SinglePage&&$t===A.ScrollMode.Page}),role:"region",key:"".concat(tn.index,"-").concat(Mt),style:Object.assign({},pn.getItemStyles(tn),bi.buildPageStyles({numPages:Bt,pageIndex:tn.index,scrollMode:$t,viewMode:Mt}))},R.createElement(sa,{doc:Fe,measureRef:tn.measureRef,outlines:Qt,pageIndex:tn.index,pageRotation:Ot.has(tn.index)?Ot.get(tn.index):0,pageSize:Ke[tn.index],plugins:Ge,renderPage:ut,renderQueueKey:pr,rotation:wn,scale:fn,shouldRender:lr===tn.index,viewMode:Mt,onExecuteNamedAction:za,onJumpFromLinkAnnotation:Fa,onJumpToDest:_i,onRenderCompleted:Ba,onRotatePage:Or}))}))}))}};return Ge.forEach(function(ln){ln.renderViewer&&(dn=ln.renderViewer({containerRef:cn,doc:Fe,pagesContainerRef:un,pagesRotation:Ot,pageSizes:Ke,rotation:wn,slot:dn,themeContext:rn,jumpToPage:Zn,openFile:Ei,rotate:yi,rotatePage:Or,switchScrollMode:Si,switchViewMode:Ci,zoom:tr}))}),dn},[Ge,pn]),wi=R.useCallback(function(gt){return R.createElement("div",ne({},gt.attrs,{style:gt.attrs&&gt.attrs.style?gt.attrs.style:{}}),gt.children,gt.subSlot&&wi(gt.subSlot))},[]);return wi(Va())},mi=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ca=function(Y){var fe=Y.defaultScale,Pe=Y.doc,Fe=Y.render,Ne=Y.scrollMode,ze=Y.viewMode,Ye=R.useRef(),He=R.useState({pageSizes:[],scale:0}),Le=He[0],Ke=He[1];return R.useLayoutEffect(function(){var Ge=Array(Pe.numPages).fill(0).map(function(ut,lt){return new Promise(function(ct,yt){Me(Pe,lt).then(function(bt){var vt=bt.getViewport({scale:1});ct({pageHeight:vt.height,pageWidth:vt.width,rotation:vt.rotation})})})});Promise.all(Ge).then(function(ut){var lt=Ye.current;if(lt&&ut.length!==0){var ct=ut[0].pageWidth,yt=ut[0].pageHeight,bt=lt.parentElement,vt=(bt.clientWidth-45)/ct,Kt=(bt.clientHeight-45)/yt,Tt=vt;switch(Ne){case A.ScrollMode.Horizontal:Tt=Math.min(vt,Kt);break;case A.ScrollMode.Vertical:default:Tt=vt}var Rt,Nt,Pt=fe?typeof fe=="string"?Tr(bt,yt,ct,fe,ze,Pe.numPages):fe:(Rt=Tt,(Nt=mi.findIndex(function(Bt){return Bt>=Rt}))===-1||Nt===0?Rt:mi[Nt-1]);Ke({pageSizes:ut,scale:Pt})}})},[Pe.loadingTask.docId]),Le.pageSizes.length===0||Le.scale===0?R.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Ye},R.createElement(W,null)):Fe(Le.pageSizes,Le.scale)},yr=function(){},Fr=function(Y){function fe(Pe,Fe){var Ne=Y.call(this)||this;return Ne.verifyPassword=Pe,Ne.passwordStatus=Fe,Ne}return pe(fe,Y),fe}(yr),Aa=function(Y){var fe=Y.passwordStatus,Pe=Y.renderProtectedView,Fe=Y.verifyPassword,Ne=Y.onDocumentAskPassword,ze=R.useContext(Ae).l10n,Ye=R.useState(""),He=Ye[0],Le=Ye[1],Ke=R.useContext(oe).direction===A.TextDirection.RightToLeft,Ge=function(){return Fe(He)};return R.useEffect(function(){Ne&&Ne({verifyPassword:Fe})},[]),Pe?Pe({passwordStatus:fe,verifyPassword:Fe}):R.createElement("div",{className:"rpv-core__asking-password-wrapper"},R.createElement("div",{className:ee({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Ke})},R.createElement("div",{className:"rpv-core__asking-password-message"},fe===A.PasswordStatus.RequiredPassword&&ze.core.askingPassword.requirePasswordToOpen,fe===A.PasswordStatus.WrongPassword&&ze.core.wrongPassword.tryAgain),R.createElement("div",{className:"rpv-core__asking-password-body"},R.createElement("div",{className:ee({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Ke,"rpv-core__asking-password-input--rtl":Ke})},R.createElement(q,{testId:"core__asking-password-input",type:"password",value:He,onChange:Le,onKeyDown:function(ut){ut.key==="Enter"&&Ge()}})),R.createElement(K,{onClick:Ge},ze.core.askingPassword.submit))))},gi=function(Y){function fe(Pe){var Fe=Y.call(this)||this;return Fe.doc=Pe,Fe}return pe(fe,Y),fe}(yr),vi=function(Y){function fe(Pe){var Fe=Y.call(this)||this;return Fe.error=Pe,Fe}return pe(fe,Y),fe}(yr),Ir=function(Y){function fe(Pe){var Fe=Y.call(this)||this;return Fe.percentages=Pe,Fe}return pe(fe,Y),fe}(yr),wa=function(Y){var fe=Y.characterMap,Pe=Y.file,Fe=Y.httpHeaders,Ne=Y.render,ze=Y.renderError,Ye=Y.renderLoader,He=Y.renderProtectedView,Le=Y.transformGetDocumentParams,Ke=Y.withCredentials,Ge=Y.onDocumentAskPassword,ut=R.useContext(oe).direction===A.TextDirection.RightToLeft,lt=R.useState(new Ir(0)),ct=lt[0],yt=lt[1],bt=R.useRef(""),vt=qe();return R.useEffect(function(){bt.current="",yt(new Ir(0));var Kt=new re.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Tt=Object.assign({httpHeaders:Fe,withCredentials:Ke,worker:Kt},typeof Pe=="string"?{url:Pe}:{data:Pe},fe?{cMapUrl:fe.url,cMapPacked:fe.isCompressed}:{}),Rt=Le?Le(Tt):Tt,Nt=re.getDocument(Rt);return Nt.onPassword=function(Pt,Bt){switch(Bt){case re.PasswordResponses.NEED_PASSWORD:vt.current&&yt(new Fr(Pt,A.PasswordStatus.RequiredPassword));break;case re.PasswordResponses.INCORRECT_PASSWORD:vt.current&&yt(new Fr(Pt,A.PasswordStatus.WrongPassword))}},Nt.onProgress=function(Pt){var Bt=Pt.total>0?Math.min(100,100*Pt.loaded/Pt.total):100;vt.current&&bt.current===""&&yt(new Ir(Bt))},Nt.promise.then(function(Pt){bt.current=Pt.loadingTask.docId,vt.current&&yt(new gi(Pt))},function(Pt){return vt.current&&!Kt.destroyed&&yt(new vi({message:Pt.message||"Cannot load document",name:Pt.name}))}),function(){Nt.destroy(),Kt.destroy()}},[Pe]),ct instanceof Fr?R.createElement(Aa,{passwordStatus:ct.passwordStatus,renderProtectedView:He,verifyPassword:ct.verifyPassword,onDocumentAskPassword:Ge}):ct instanceof gi?Ne(ct.doc):ct instanceof vi?ze?ze(ct.error):R.createElement("div",{className:ee({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":ut})},R.createElement("div",{className:"rpv-core__doc-error-text"},ct.error.message)):R.createElement("div",{"data-testid":"core__doc-loading",className:ee({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":ut})},Ye?Ye(ct.percentages):R.createElement(W,null))},Pa=function(Y,fe){var Pe=R.useMemo(function(){return Y==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Y},[]),Fe=R.useState(Pe),Ne=Fe[0],ze=Fe[1],Ye=Be(Ne);return R.useEffect(function(){if(Y==="auto"){var He=window.matchMedia("(prefers-color-scheme: dark)"),Le=function(Ke){ze(Ke.matches?"dark":"light")};return He.addEventListener("change",Le),function(){return He.removeEventListener("change",Le)}}},[]),R.useEffect(function(){Ne!==Ye&&fe&&fe(Ne)},[Ne]),R.useEffect(function(){Y!==Ne&&ze(Y)},[Y]),{currentTheme:Ne,setCurrentTheme:ze}},ka=function(Y){return{startPage:Y.startPage-3,endPage:Y.endPage+3}};A.Button=function(Y){var fe=Y.children,Pe=Y.testId,Fe=Y.onClick,Ne=R.useContext(oe).direction===A.TextDirection.RightToLeft,ze=Pe?{"data-testid":Pe}:{};return R.createElement("button",ne({className:ee({"rpv-core__button":!0,"rpv-core__button--rtl":Ne}),type:"button",onClick:Fe},ze),fe)},A.Icon=U,A.LazyRender=function(Y){var fe=Y.attrs,Pe=Y.children,Fe=Y.testId,Ne=R.useState(!1),ze=Ne[0],Ye=Ne[1],He=Fe?ne(ne({},fe),{"data-testid":Fe}):fe,Le=G({once:!0,onVisibilityChanged:function(Ke){Ke.isVisible&&Ye(!0)}});return R.createElement("div",ne({ref:Le},He),ze&&Pe)},A.LocalizationContext=Ae,A.Menu=function(Y){var fe=Y.children,Pe=R.useRef(),Fe=R.useRef([]),Ne=R.useContext(oe).direction===A.TextDirection.RightToLeft,ze=function(He){if(Pe.current)switch(He.key){case"Tab":He.preventDefault();break;case"ArrowDown":He.preventDefault(),Ye(function(Le,Ke){return Ke+1});break;case"ArrowUp":He.preventDefault(),Ye(function(Le,Ke){return Ke-1});break;case"End":He.preventDefault(),Ye(function(Le,Ke){return Le.length-1});break;case"Home":He.preventDefault(),Ye(function(Le,Ke){return 0})}},Ye=function(He){if(Pe.current){var Le=Fe.current,Ke=Le.findIndex(function(ut){return ut.getAttribute("tabindex")==="0"}),Ge=Math.min(Le.length-1,Math.max(0,He(Le,Ke)));Ke>=0&&Ke<=Le.length-1&&Le[Ke].setAttribute("tabindex","-1"),Le[Ge].setAttribute("tabindex","0"),Le[Ge].focus()}};return te(function(){var He=Pe.current;if(He){var Le=function(Ke){var Ge=[];return Ke.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(ut){if(ut instanceof HTMLElement){var lt=ut.parentElement;(lt===Ke||window.getComputedStyle(lt).display!=="none")&&Ge.push(ut)}}),Ge}(He);Fe.current=Le}},[]),te(function(){return document.addEventListener("keydown",ze),function(){document.removeEventListener("keydown",ze)}},[]),R.createElement("div",{ref:Pe,"aria-orientation":"vertical",className:ee({"rpv-core__menu":!0,"rpv-core__menu--rtl":Ne}),role:"menu",tabIndex:0},fe)},A.MenuDivider=function(){return R.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(Y){var fe=Y.checked,Pe=fe!==void 0&&fe,Fe=Y.children,Ne=Y.icon,ze=Ne===void 0?null:Ne,Ye=Y.isDisabled,He=Ye!==void 0&&Ye,Le=Y.testId,Ke=Y.onClick,Ge=R.useContext(oe).direction===A.TextDirection.RightToLeft,ut=Le?{"data-testid":Le}:{};return R.createElement("button",ne({className:ee({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":He,"rpv-core__menu-item--ltr":!Ge,"rpv-core__menu-item--rtl":Ge}),role:"menuitem",tabIndex:-1,type:"button",onClick:Ke},ut),R.createElement("div",{className:ee({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ge,"rpv-core__menu-item-icon--rtl":Ge})},ze),R.createElement("div",{className:ee({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ge,"rpv-core__menu-item-label--rtl":Ge})},Fe),R.createElement("div",{className:ee({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ge,"rpv-core__menu-item-check--rtl":Ge})},Pe&&R.createElement(J,null)))},A.MinimalButton=function(Y){var fe=Y.ariaLabel,Pe=fe===void 0?"":fe,Fe=Y.ariaKeyShortcuts,Ne=Fe===void 0?"":Fe,ze=Y.children,Ye=Y.isDisabled,He=Ye!==void 0&&Ye,Le=Y.isSelected,Ke=Le!==void 0&&Le,Ge=Y.testId,ut=Y.onClick,lt=R.useContext(oe).direction===A.TextDirection.RightToLeft,ct=Ge?{"data-testid":Ge}:{};return R.createElement("button",ne({"aria-label":Pe},Ne&&{"aria-keyshortcuts":Ne},He&&{"aria-disabled":!0},{className:ee({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":He,"rpv-core__minimal-button--rtl":lt,"rpv-core__minimal-button--selected":Ke}),type:"button",onClick:ut},ct),ze)},A.Modal=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.closeOnClickOutside,Fe=Y.closeOnEscape,Ne=Y.content,ze=Y.isOpened,Ye=ze!==void 0&&ze,He=Y.target,Le=fe||"".concat(ie());return R.createElement(nt,{target:He?function(Ke,Ge){return R.createElement("div",{"aria-expanded":Ge?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Le)},He(Ke,Ge))}:null,content:function(Ke){return R.createElement(xe,null,R.createElement(Ce,{ariaControlsSuffix:Le,closeOnClickOutside:Pe,closeOnEscape:Fe,onToggle:Ke},Ne(Ke)))},isOpened:Ye})},A.Popover=function(Y){var fe=Y.ariaHasPopup,Pe=fe===void 0?"dialog":fe,Fe=Y.ariaControlsSuffix,Ne=Y.closeOnClickOutside,ze=Y.closeOnEscape,Ye=Y.content,He=Y.lockScroll,Le=He===void 0||He,Ke=Y.offset,Ge=Y.position,ut=Y.target,lt=Ue(!1),ct=lt.opened,yt=lt.toggle,bt=R.useRef(),vt=R.useMemo(function(){return Fe||"".concat(ie())},[]);return R.createElement("div",{ref:bt,"aria-expanded":ct?"true":"false","aria-haspopup":Pe,"aria-controls":"rpv-core__popver-body-".concat(vt)},ut(yt,ct),ct&&R.createElement(R.Fragment,null,Le&&R.createElement(at,{closeOnEscape:ze,onClose:yt}),R.createElement(ot,{ariaControlsSuffix:vt,closeOnClickOutside:Ne,offset:Ke,position:Ge,targetRef:bt,onClose:yt},Ye(yt))))},A.PrimaryButton=K,A.ProgressBar=function(Y){var fe=Y.progress,Pe=R.useContext(oe).direction===A.TextDirection.RightToLeft;return R.createElement("div",{className:ee({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Pe})},R.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(fe,"%")}},fe,"%"))},A.Separator=function(){return R.createElement("div",{className:"rpv-core__separator"})},A.Spinner=W,A.Splitter=function(Y){var fe=Y.constrain,Pe=R.useContext(oe).direction===A.TextDirection.RightToLeft,Fe=R.useRef(),Ne=R.useRef(),ze=R.useRef(),Ye=R.useRef(0),He=R.useRef(0),Le=R.useRef(0),Ke=R.useRef(0),Ge={capture:!0},ut=function(ct){var yt=Fe.current,bt=Ne.current,vt=ze.current;if(yt&&bt&&vt){var Kt=Ke.current,Tt=ct.clientX-Ye.current,Rt=Le.current+(Pe?-Tt:Tt),Nt=yt.parentElement.getBoundingClientRect().width,Pt=100*Rt/Nt;if(yt.classList.add("rpv-core__splitter--resizing"),fe){var Bt=Nt-Rt-Kt;if(!fe({firstHalfPercentage:Pt,firstHalfSize:Rt,secondHalfPercentage:100*Bt/Nt,secondHalfSize:Bt}))return}bt.style.width="".concat(Pt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),bt.classList.add("rpv-core__splitter-sibling--resizing"),vt.classList.add("rpv-core__splitter-sibling--resizing")}},lt=function(ct){var yt=Fe.current,bt=Ne.current,vt=ze.current;yt&&bt&&vt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),yt.classList.remove("rpv-core__splitter--resizing"),bt.classList.remove("rpv-core__splitter-sibling--resizing"),vt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",ut,Ge),document.removeEventListener("mouseup",lt,Ge))};return R.useEffect(function(){var ct=Fe.current;ct&&(Ke.current=ct.getBoundingClientRect().width,Ne.current=ct.previousElementSibling,ze.current=ct.nextElementSibling)},[]),R.createElement("div",{ref:Fe,className:"rpv-core__splitter",onMouseDown:function(ct){var yt=Ne.current;yt&&(Ye.current=ct.clientX,He.current=ct.clientY,Le.current=yt.getBoundingClientRect().width,document.addEventListener("mousemove",ut,Ge),document.addEventListener("mouseup",lt,Ge))}})},A.TextBox=q,A.ThemeContext=oe,A.Tooltip=function(Y){var fe=Y.ariaControlsSuffix,Pe=Y.content,Fe=Y.offset,Ne=Y.position,ze=Y.target,Ye=Ue(!1),He=Ye.opened,Le=Ye.toggle,Ke=R.useRef(),Ge=R.useRef(),ut=R.useMemo(function(){return fe||"".concat(ie())},[]);Se(function(){Ke.current&&document.activeElement&&Ke.current.contains(document.activeElement)&&ct()});var lt=function(){Le(A.ToggleStatus.Open)},ct=function(){Le(A.ToggleStatus.Close)};return R.createElement(R.Fragment,null,R.createElement("div",{ref:Ke,"aria-describedby":"rpv-core__tooltip-body-".concat(ut),onBlur:function(yt){yt.relatedTarget instanceof HTMLElement&&yt.currentTarget.parentElement&&yt.currentTarget.parentElement.contains(yt.relatedTarget)?Ge.current&&(Ge.current.style.display="none"):ct()},onFocus:lt,onMouseEnter:lt,onMouseLeave:ct},ze),He&&R.createElement(Je,{ariaControlsSuffix:ut,contentRef:Ge,offset:Fe,position:Ne,targetRef:Ke},Pe()))},A.Viewer=function(Y){var fe=Y.characterMap,Pe=Y.defaultScale,Fe=Y.enableSmoothScroll,Ne=Fe===void 0||Fe,ze=Y.fileUrl,Ye=Y.httpHeaders,He=Ye===void 0?{}:Ye,Le=Y.initialPage,Ke=Le===void 0?0:Le,Ge=Y.pageLayout,ut=Y.initialRotation,lt=ut===void 0?0:ut,ct=Y.localization,yt=Y.plugins,bt=yt===void 0?[]:yt,vt=Y.renderError,Kt=Y.renderLoader,Tt=Y.renderPage,Rt=Y.renderProtectedView,Nt=Y.scrollMode,Pt=Nt===void 0?A.ScrollMode.Vertical:Nt,Bt=Y.setRenderRange,Lt=Bt===void 0?ka:Bt,an=Y.transformGetDocumentParams,rn=Y.theme,on=rn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:rn,cn=Y.viewMode,un=cn===void 0?A.ViewMode.SinglePage:cn,$n=Y.withCredentials,bn=$n!==void 0&&$n,Mn=Y.onDocumentAskPassword,An=Y.onDocumentLoad,Pn=An===void 0?function(){}:An,kn=Y.onPageChange,wn=kn===void 0?function(){}:kn,Nn=Y.onRotate,Wn=Nn===void 0?function(){}:Nn,Un=Y.onRotatePage,Fn=Un===void 0?function(){}:Un,Bn=Y.onSwitchTheme,Xn=Bn===void 0?function(){}:Bn,Ot=Y.onZoom,Ft=Ot===void 0?function(){}:Ot,kt=R.useState({data:ze,name:typeof ze=="string"?ze:"",shouldLoad:!1}),$t=kt[0],xt=kt[1],zt=function(vn,_n){xt({data:_n,name:vn,shouldLoad:!0})},Ht=R.useState(!1),Mt=Ht[0],wt=Ht[1],Ut=Be($t);R.useEffect(function(){var vn,_n,Tn,hn;vn=Ut.data,hn=typeof(_n=ze),(Tn=typeof vn)=="string"&&hn==="string"&&vn===_n||Tn==="object"&&hn==="object"&&vn.length===_n.length&&vn.every(function(Kn,lr){return Kn===_n[lr]})||xt({data:ze,name:typeof ze=="string"?ze:"",shouldLoad:Mt})},[ze,Mt]);var Qt=G({onVisibilityChanged:function(vn){wt(vn.isVisible),vn.isVisible&&xt(function(_n){return Object.assign({},_n,{shouldLoad:!0})})}}),gn=typeof on=="string"?{direction:A.TextDirection.LeftToRight,theme:on}:on,fn=R.useState(ct||tt),Ln=fn[0],zn=fn[1],qt={l10n:Ln,setL10n:zn},On=Object.assign({},{direction:gn.direction},Pa(gn.theme||"light",Xn));return R.useEffect(function(){ct&&zn(ct)},[ct]),R.createElement(Ae.Provider,{value:qt},R.createElement(oe.Provider,{value:On},R.createElement("div",{ref:Qt,className:"rpv-core__viewer rpv-core__viewer--".concat(On.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},$t.shouldLoad&&R.createElement(wa,{characterMap:fe,file:$t.data,httpHeaders:He,render:function(vn){return R.createElement(Ca,{defaultScale:Pe,doc:vn,render:function(_n,Tn){return R.createElement(Sa,{currentFile:{data:$t.data,name:$t.name},defaultScale:Pe,doc:vn,enableSmoothScroll:Ne,initialPage:Ke,initialRotation:lt,initialScale:Tn,pageLayout:Ge,pageSizes:_n,plugins:bt,renderPage:Tt,scrollMode:Pt,setRenderRange:Lt,viewMode:un,viewerState:{file:$t,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:_n[0].pageHeight,pageWidth:_n[0].pageWidth,pagesRotation:new Map,rotation:lt,scale:Tn,scrollMode:Pt,viewMode:un},onDocumentLoad:Pn,onOpenFile:zt,onPageChange:wn,onRotate:Wn,onRotatePage:Fn,onZoom:Ft})},scrollMode:Pt,viewMode:un})},renderError:vt,renderLoader:Kt,renderProtectedView:Rt,transformGetDocumentParams:an,withCredentials:bn,onDocumentAskPassword:Mn}))))},A.Worker=function(Y){var fe=Y.children,Pe=Y.workerUrl;return re.GlobalWorkerOptions.workerSrc=Pe,R.createElement(R.Fragment,null,fe)},A.chunk=dt,A.classNames=ee,A.createStore=function(Y){var fe=Y||{},Pe={},Fe=function(ze,Ye){var He;fe=ne(ne({},fe),((He={})[ze]=Ye,He)),(Pe[ze]||[]).forEach(function(Le){return Le(fe[ze])})},Ne=function(ze){return fe[ze]};return{subscribe:function(ze,Ye){Pe[ze]=(Pe[ze]||[]).concat(Ye)},unsubscribe:function(ze,Ye){Pe[ze]=(Pe[ze]||[]).filter(function(He){return He!==Ye})},update:function(ze,Ye){Fe(ze,Ye)},updateCurrentValue:function(ze,Ye){var He=Ne(ze);He!==void 0&&Fe(ze,Ye(He))},get:function(ze){return Ne(ze)}}},A.getDestination=Ie,A.getPage=Me,A.isFullScreenEnabled=de,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=Ve,A.useIntersectionObserver=G,A.useIsMounted=qe,A.useIsomorphicLayoutEffect=te,A.usePrevious=Be,A.useRenderQueue=et})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,V=n$e.useRef(),B=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,R=n$e.useRef([]),re=B&&B.attachment?B.attachment.clickToDownload:"Click to download",le=function(pe){var ae=V.current,ne=[].slice.call(ae.getElementsByClassName("rpv-attachment__item"));if(ne.length!==0){ne.forEach(function(ee){return ee.setAttribute("tabindex","-1")});var be=document.activeElement,oe=ne[Math.min(ne.length-1,Math.max(0,pe(ne,be)))];oe.setAttribute("tabindex","0"),oe.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var pe=V.current;if(pe){var ae=[].slice.call(pe.getElementsByClassName("rpv-attachment__item"));if(R.current=ae,ae.length>0){var ne=ae[0];ne.focus(),ne.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:V,tabIndex:-1,onKeyDown:function(pe){switch(pe.key){case"ArrowDown":pe.preventDefault(),le(function(ae,ne){return ae.indexOf(ne)+1});break;case"ArrowUp":pe.preventDefault(),le(function(ae,ne){return ae.indexOf(ne)-1});break;case"End":pe.preventDefault(),le(function(ae,ne){return ae.length-1});break;case"Home":pe.preventDefault(),le(function(ae,ne){return 0})}}},$.map(function(pe){return n$e.createElement("button",{className:"rpv-attachment__item",key:pe.fileName,tabIndex:-1,title:re,type:"button",onClick:function(){return ae=pe.fileName,ne=pe.data,be=typeof ne=="string"?"":URL.createObjectURL(new Blob([ne],{type:""})),(oe=document.createElement("a")).style.display="none",oe.href=be||ae,oe.setAttribute("download",function(ee){var te=ee.split("/").pop();return te?te.split("#")[0].split("?")[0]:ee}(ae)),document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),void(be&&URL.revokeObjectURL(be));var ae,ne,be,oe}},pe.fileName)}))},r$e=function(A){var $=A.doc,V=n$e.useContext(e$e.LocalizationContext).l10n,B=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=V&&V.attachment?V.attachment.noAttachment:"There is no attachment",R=n$e.useState({files:[],isLoaded:!1}),re=R[0],le=R[1];return n$e.useEffect(function(){$.getAttachments().then(function(pe){var ae=pe?Object.keys(pe).map(function(ne){return{data:pe[ne].content,fileName:pe[ne].filename}}):[];le({files:ae,isLoaded:!0})})},[$]),re.isLoaded?re.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":B})},O):n$e.createElement(a$e,{files:re.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,V=n$e.useState($.get("doc")),B=V[0],O=V[1],R=function(re){O(re)};return n$e.useEffect(function(){return $.subscribe("doc",R),function(){$.unsubscribe("doc",R)}},[]),B?n$e.createElement(r$e,{doc:B}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,V=A.depth,B=A.doc,O=A.index,R=A.isBookmarkExpanded,re=A.numberOfSiblings,le=A.pathFromRoot,pe=A.renderBookmarkItem,ae=A.store,ne=le?"".concat(le,".").concat(O):"".concat(O),be=o$d.useMemo(function(){return function(Ee){var we=Ee.count,de=Ee.items;if(we>=0)return!1;var Te=de.length;if(Te===0)return!1;for(var it=de.concat([]);it.length>0;){var Ve=it.shift(),qe=Ve.items;Ve.count&&qe&&Ve.count>0&&qe.length>0&&(Te+=qe.length,it=it.concat(qe))}return Math.abs(we)===Te}($)},[$]),oe=ae.get("bookmarkExpandedMap"),ee=R?R({bookmark:$,doc:B,depth:V,index:O}):oe.has(ne)?oe.get(ne):!be,te=o$d.useState(ee),G=te[0],U=te[1],J=$.items&&$.items.length>0,K=function(){var Ee=!G;ae.updateCurrentValue("bookmarkExpandedMap",function(we){return we.set(ne,Ee)}),U(Ee)},W=function(){var Ee=$.dest,we=ae.get("jumpToDestination");e$d.getDestination(B,Ee).then(function(de){we&&we(n$d({label:$.title},de))})},q=function(){J&&$.dest&&W()},H=function(){!J&&$.dest&&W()},X=function(Ee,we){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*V,"rem")},onClick:Ee},we)},ue=function(Ee,we){return J?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(V,"-").concat(O),onClick:K},G?Ee:we):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},ge=function(Ee){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:Ee},$.title)};return o$d.createElement("li",{"aria-expanded":G?"true":"false","aria-label":$.title,"aria-level":V+1,"aria-posinset":O+1,"aria-setsize":re,role:"treeitem",tabIndex:-1},pe?pe({bookmark:$,depth:V,hasSubItems:J,index:O,isExpanded:G,path:ne,defaultRenderItem:X,defaultRenderTitle:ge,defaultRenderToggle:ue,onClickItem:H,onClickTitle:q,onToggleSubItems:K}):X(H,o$d.createElement(o$d.Fragment,null,ue(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),ge(q))),J&&G&&o$d.createElement(m$9,{bookmarks:$.items,depth:V+1,doc:B,isBookmarkExpanded:R,isRoot:!1,pathFromRoot:ne,renderBookmarkItem:pe,store:ae}))},m$9=function(A){var $=A.bookmarks,V=A.depth,B=V===void 0?0:V,O=A.doc,R=A.isBookmarkExpanded,re=A.isRoot,le=A.pathFromRoot,pe=A.renderBookmarkItem,ae=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:re?"tree":"group",tabIndex:-1},$.map(function(ne,be){return o$d.createElement(c$d,{bookmark:ne,depth:B,doc:O,index:be,isBookmarkExpanded:R,key:be,numberOfSiblings:$.length,pathFromRoot:le,renderBookmarkItem:pe,store:ae})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,V=A.doc,B=A.isBookmarkExpanded,O=A.renderBookmarkItem,R=A.store,re=o$d.useRef(),le=function(be){var oe=re.current;if(oe&&be.target instanceof HTMLElement&&oe.contains(be.target))switch(be.key){case"ArrowDown":be.preventDefault(),ae(function(ee,te){return ee.indexOf(te)+1});break;case"ArrowLeft":be.preventDefault(),ne(r$d.Collapse);break;case"ArrowRight":be.preventDefault(),ne(r$d.Expand);break;case"ArrowUp":be.preventDefault,ae(function(ee,te){return ee.indexOf(te)-1});break;case"End":be.preventDefault(),ae(function(ee,te){return ee.length-1});break;case" ":case"Enter":case"Space":be.preventDefault(),pe();break;case"Home":be.preventDefault(),ae(function(ee,te){return 0})}},pe=function(){var be=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");be&&be.click()},ae=function(be){var oe=re.current,ee=[].slice.call(oe.getElementsByClassName("rpv-bookmark__item"));if(ee.length!==0){var te=document.activeElement,G=ee[Math.min(ee.length-1,Math.max(0,be(ee,te)))];te.setAttribute("tabindex","-1"),G.setAttribute("tabindex","0"),G.focus()}},ne=function(be){var oe=re.current;if([].slice.call(oe.getElementsByClassName("rpv-bookmark__item")).length!==0){var ee=document.activeElement.closest(".rpv-bookmark__item"),te=be===r$d.Collapse?"true":"false";if(ee&&ee.parentElement.getAttribute("aria-expanded")===te){var G=ee.querySelector(".rpv-bookmark__toggle");G&&G.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",le),function(){document.removeEventListener("keydown",le)}},[]),o$d.useEffect(function(){var be=re.current;if(be){var oe=[].slice.call(be.getElementsByClassName("rpv-bookmark__item"));oe.length>0&&(oe[0].focus(),oe[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:re},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:V,isBookmarkExpanded:B,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:R}))},s$9=function(A){var $=A.doc,V=A.isBookmarkExpanded,B=A.renderBookmarkItem,O=A.store,R=o$d.useContext(e$d.LocalizationContext).l10n,re=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,le=o$d.useState({isLoaded:!1,items:[]}),pe=le[0],ae=le[1];return o$d.useEffect(function(){ae({isLoaded:!1,items:[]}),$.getOutline().then(function(ne){ae({isLoaded:!0,items:ne||[]})})},[$]),pe.isLoaded?pe.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":re})},R&&R.bookmark?R.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":re})},o$d.createElement(l$d,{bookmarks:pe.items,doc:$,isBookmarkExpanded:V,renderBookmarkItem:B,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,V=A.renderBookmarkItem,B=A.store,O=o$d.useState(B.get("doc")),R=O[0],re=O[1],le=function(pe){re(pe)};return o$d.useEffect(function(){return B.subscribe("doc",le),function(){B.unsubscribe("doc",le)}},[]),R?o$d.createElement(s$9,{doc:R,isBookmarkExpanded:$,renderBookmarkItem:V,store:B}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function V(G){var U=Object.create(null);return G&&Object.keys(G).forEach(function(J){if(J!=="default"){var K=Object.getOwnPropertyDescriptor(G,J);Object.defineProperty(U,J,K.get?K:{enumerable:!0,get:function(){return G[J]}})}}),U.default=G,Object.freeze(U)}var B,O=V(reactExports);A.ThumbnailDirection=void 0,(B=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",B.Vertical="Vertical";var R=function(){return R=Object.assign||function(G){for(var U,J=1,K=arguments.length;J<K;J++)for(var W in U=arguments[J])Object.prototype.hasOwnProperty.call(U,W)&&(G[W]=U[W]);return G},R.apply(this,arguments)},re=function(G){var U=G.doc,J=G.getPageIndex,K=G.renderSpinner,W=G.store,q=G.width,H=U.numPages,X=J?J({numPages:H}):0,ue=Math.max(0,Math.min(X,H-1)),ge=W.get("pagesRotation")||new Map,Ee=ge.has(ue)?ge.get(ue):0,we=O.useState(""),de=we[0],Te=we[1],it=$.useIsMounted(),Ve=O.useRef(),qe=O.useState(W.get("rotation")||0),Be=qe[0],Oe=qe[1],De=O.useState(Ee),et=De[0],tt=De[1],Ae=O.useState(!1),ce=Ae[0],ie=Ae[1],me=function(xe){var Re=xe.has(ue)?xe.get(ue):0;tt(Re)},Se=function(xe){Oe(xe)},Ce=$.useIntersectionObserver({onVisibilityChanged:function(xe){ie(xe.isVisible)}});return O.useEffect(function(){if(ce){var xe=Ce.current;xe&&(Te(""),$.getPage(U,ue).then(function(Re){var Ue=Re.getViewport({scale:1}),nt=(Ue.rotation+Be+et)%360,We=Math.abs(Be+et)%180==0,Qe=We?Ue.width:Ue.height,Xe=We?Ue.height:Ue.width,se=document.createElement("canvas"),he=se.getContext("2d",{alpha:!1}),ye=xe.clientWidth,ke=xe.clientHeight,_e=q?q/Qe:Math.min(ye/Qe,ke/Xe),$e=_e*Qe,rt=_e*Xe;se.height=rt,se.width=$e,se.style.opacity="0";var ot=Re.getViewport({rotation:nt,scale:_e});Ve.current=Re.render({canvasContext:he,viewport:ot}),Ve.current.promise.then(function(){it.current&&Te(se.toDataURL()),se.width=0,se.height=0},function(){})}))}},[et,ce]),O.useEffect(function(){return W.subscribe("pagesRotation",me),W.subscribe("rotation",Se),function(){W.unsubscribe("pagesRotation",me),W.unsubscribe("rotation",Se)}},[]),O.useEffect(function(){return function(){var xe;(xe=Ve.current)===null||xe===void 0||xe.cancel()}},[]),O.createElement("div",{ref:Ce,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},de?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:de}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},K?K():O.createElement($.Spinner,null)))},le=function(G){var U=G.getPageIndex,J=G.renderSpinner,K=G.store,W=G.width,q=O.useState(K.get("doc")),H=q[0],X=q[1],ue=function(ge){X(ge)};return O.useEffect(function(){return K.subscribe("doc",ue),function(){K.unsubscribe("doc",ue)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},H?O.createElement(re,{doc:H,getPageIndex:U,renderSpinner:J,store:K,width:W}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},J?J():O.createElement($.Spinner,null)))},pe=function(){return O.createElement($.Spinner,null)},ae=O.createContext({renderSpinner:pe}),ne=function(G){var U=G.children,J=G.doc,K=$.useIsMounted(),W=O.useState({loading:!0,labels:[]}),q=W[0],H=W[1];return O.useEffect(function(){J.getPageLabels().then(function(X){K.current&&H({loading:!1,labels:X||[]})})},[J.loadingTask.docId]),q.loading?O.createElement(O.Fragment,null):U(q.labels)},be=function(G){var U=G.page,J=G.pageHeight,K=G.pageIndex,W=G.pageWidth,q=G.rotation,H=G.thumbnailHeight,X=G.thumbnailWidth,ue=G.onRenderCompleted,ge=O.useContext($.LocalizationContext).l10n,Ee=O.useRef(),we=O.useState(""),de=we[0],Te=we[1],it=ge&&ge.thumbnail?ge.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var Ve=Ee.current;Ve&&Ve.cancel();var qe=document.createElement("canvas"),Be=qe.getContext("2d",{alpha:!1}),Oe=X,De=Oe/(W/J),et=Oe/W;qe.height=De,qe.width=Oe,qe.style.height="".concat(De,"px"),qe.style.width="".concat(Oe,"px");var tt=U.getViewport({rotation:q,scale:et});return Ee.current=U.render({canvasContext:Be,viewport:tt}),Ee.current.promise.then(function(){Te(qe.toDataURL()),ue(K)},function(){ue(K)}),function(){var Ae;(Ae=Ee.current)===null||Ae===void 0||Ae.cancel()}},[q]),de?O.createElement("img",{"aria-label":it.replace("{{pageIndex}}","".concat(K+1)),src:de,height:"".concat(H,"px"),width:"".concat(X,"px")}):O.useContext(ae).renderSpinner()},oe=function(G){var U=G.doc,J=G.pageHeight,K=G.pageIndex,W=G.pageRotation,q=G.pageWidth,H=G.rotation,X=G.shouldRender,ue=G.thumbnailWidth,ge=G.onRenderCompleted,Ee=G.onVisibilityChanged,we=$.useIsMounted(),de=O.useState({height:J,page:null,viewportRotation:0,width:q}),Te=de[0],it=de[1],Ve=Te.page,qe=Te.height,Be=Te.width,Oe=Be/qe,De=Math.abs(H+W)%180==0,et=De?ue:ue/Oe,tt=De?ue/Oe:ue;O.useEffect(function(){X&&$.getPage(U,K).then(function(ie){var me=ie.getViewport({scale:1});we.current&&it({height:me.height,page:ie,viewportRotation:me.rotation,width:me.width})})},[X]);var Ae=(Te.viewportRotation+H+W)%360,ce=$.useIntersectionObserver({onVisibilityChanged:function(ie){Ee(K,ie)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(K),ref:ce,style:{height:"".concat(tt,"px"),width:"".concat(et,"px")}},Ve?O.createElement(be,{page:Ve,pageHeight:De?qe:Be,pageIndex:K,pageWidth:De?Be:qe,rotation:Ae,thumbnailHeight:tt,thumbnailWidth:et,onRenderCompleted:ge}):O.useContext(ae).renderSpinner())},ee=function(G){var U=G.currentPage,J=G.doc,K=G.labels,W=G.pagesRotation,q=G.pageHeight,H=G.pageWidth,X=G.renderCurrentPageLabel,ue=G.renderThumbnailItem,ge=G.rotatedPage,Ee=G.rotation,we=G.thumbnailDirection,de=G.thumbnailWidth,Te=G.viewMode,it=G.onJumpToPage,Ve=G.onRotatePage,qe=J.numPages,Be=J.loadingTask.docId,Oe=O.useRef(null),De=O.useRef([]),et=O.useState(U),tt=et[0],Ae=et[1],ce=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,ie=O.useState(-1),me=ie[0],Se=ie[1],Ce=$.useIsMounted(),xe=$.usePrevious(Te),Re=O.useRef(!1),Ue=$.useRenderQueue({doc:J}),nt=O.useMemo(function(){return Array(qe).fill(0).map(function(_e,$e){return $e})},[Be]),We=O.useMemo(function(){switch(Te){case $.ViewMode.DualPage:return $.chunk(nt,2);case $.ViewMode.DualPageWithCover:return[[nt[0]]].concat($.chunk(nt.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(nt,1)}},[Be,Te]),Qe=function(){if(Oe.current){var _e=De.current,$e=tt+1;$e<_e.length&&(tt>=0&&_e[tt].setAttribute("tabindex","-1"),Ae($e))}},Xe=function(){if(Oe.current){var _e=De.current,$e=tt-1;$e>=0&&(tt>=0&&_e[tt].setAttribute("tabindex","-1"),Ae($e))}},se=function(){tt>=0&&tt<qe&&it(tt)};$.useIsomorphicLayoutEffect(function(){var _e=Oe.current;_e&&(De.current=Array.from(_e.querySelectorAll(".rpv-thumbnail__item")))},[Te]),O.useEffect(function(){var _e=De.current;if(!(_e.length===0||tt<0||tt>_e.length)){var $e=_e[tt];$e.setAttribute("tabindex","0"),$e.focus()}},[tt]),$.useIsomorphicLayoutEffect(function(){var _e=Oe.current,$e=De.current;if(!(!_e||$e.length===0||U<0||U>$e.length)){var rt=$e[U].closest(".rpv-thumbnail__items");rt&&(we===A.ThumbnailDirection.Vertical?function(ot,at){var Je=ot.getBoundingClientRect().top-at.getBoundingClientRect().top,ft=ot.clientHeight,dt=at.clientHeight;Je<0?at.scrollTop+=Je:Je+ft<=dt||(at.scrollTop+=Je+ft-dt)}(rt,_e):function(ot,at){var Je=ot.getBoundingClientRect().left-at.getBoundingClientRect().left,ft=ot.clientWidth,dt=at.clientWidth;Je<0?at.scrollLeft+=Je:Je+ft<=dt||(at.scrollLeft+=Je+ft-dt)}(rt,_e))}},[U,we]);var he=O.useCallback(function(_e){Ce.current&&(Ue.markRendered(_e),Re.current=!1,ke())},[Be]),ye=O.useCallback(function(_e,$e){$e.isVisible?Ue.setVisibility(_e,$e.ratio):Ue.setOutOfRange(_e),ke()},[Be]),ke=O.useCallback(function(){if(!Re.current){var _e=Ue.getHighestPriorityPage();_e>-1&&(Ue.markRendering(_e),Re.current=!0,Se(_e))}},[Be]);return O.useEffect(function(){ge>=0&&(Ue.markRendering(ge),Re.current=!0,Se(ge))},[Be,ge]),$.useIsomorphicLayoutEffect(function(){xe!==Te&&(Ue.markNotRendered(),ke())},[Te]),O.createElement("div",{ref:Oe,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":we===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":ce,"rpv-thumbnail__list--vertical":we===A.ThumbnailDirection.Vertical}),onKeyDown:function(_e){switch(_e.key){case"ArrowDown":Qe();break;case"ArrowUp":Xe();break;case"Enter":se()}}},We.map(function(_e,$e){var rt=!1;switch(Te){case $.ViewMode.DualPage:rt=U===2*$e||U===2*$e+1;break;case $.ViewMode.DualPageWithCover:rt=U===0&&$e===0||$e>0&&U===2*$e-1||$e>0&&U===2*$e;break;case $.ViewMode.SinglePage:default:rt=U===$e}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Te===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Te===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Te===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":rt}),key:"".concat($e,"___").concat(Te)},_e.map(function(ot){return function(at){var Je=Te===$.ViewMode.DualPageWithCover&&(at===0||qe%2==0&&at===qe-1),ft="".concat(J.loadingTask.docId,"___").concat(at),dt=K.length===qe?K[at]:"".concat(at+1),_t=X?X({currentPage:U,pageIndex:at,numPages:qe,pageLabel:dt}):dt,St=W.has(at)?W.get(at):0,It=O.createElement(oe,{doc:J,pageHeight:q,pageIndex:at,pageRotation:St,pageWidth:H,rotation:Ee,shouldRender:me===at,thumbnailWidth:de,onRenderCompleted:he,onVisibilityChanged:ye});return ue?ue({currentPage:U,key:ft,numPages:qe,pageIndex:at,renderPageLabel:O.createElement(O.Fragment,null,_t),renderPageThumbnail:It,onJumpToPage:function(){return it(at)},onRotatePage:function(Vt){return Ve(at,Vt)}}):O.createElement("div",{key:ft},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Te===$.ViewMode.DualPage&&at%2==0,"rpv-thumbnail__item--dual-odd":Te===$.ViewMode.DualPage&&at%2==1,"rpv-thumbnail__item--dual-cover":Je,"rpv-thumbnail__item--dual-cover-even":Te===$.ViewMode.DualPageWithCover&&!Je&&at%2==0,"rpv-thumbnail__item--dual-cover-odd":Te===$.ViewMode.DualPageWithCover&&!Je&&at%2==1,"rpv-thumbnail__item--single":Te===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":U===at}),role:"button",tabIndex:U===at?0:-1,onClick:function(){return it(at)}},It),O.createElement("div",{"data-testid":"thumbnail__label-".concat(at),className:"rpv-thumbnail__label"},_t))}(ot)}))}))},te=function(G){var U=G.renderCurrentPageLabel,J=G.renderThumbnailItem,K=G.store,W=G.thumbnailDirection,q=G.thumbnailWidth,H=O.useState(K.get("doc")),X=H[0],ue=H[1],ge=O.useState(K.get("currentPage")||0),Ee=ge[0],we=ge[1],de=O.useState(K.get("pageHeight")||0),Te=de[0],it=de[1],Ve=O.useState(K.get("pageWidth")||0),qe=Ve[0],Be=Ve[1],Oe=O.useState(K.get("rotation")||0),De=Oe[0],et=Oe[1],tt=O.useState(K.get("pagesRotation")||new Map),Ae=tt[0],ce=tt[1],ie=O.useState(K.get("rotatedPage")||-1),me=ie[0],Se=ie[1],Ce=O.useState(K.get("viewMode")),xe=Ce[0],Re=Ce[1],Ue=function($e){we($e)},nt=function($e){ue($e)},We=function($e){it($e)},Qe=function($e){Be($e)},Xe=function($e){et($e)},se=function($e){ce($e)},he=function($e){Se($e)},ye=function($e){Re($e)},ke=function($e){var rt=K.get("jumpToPage");rt&&rt($e)},_e=function($e,rt){K.get("rotatePage")($e,rt)};return O.useEffect(function(){return K.subscribe("doc",nt),K.subscribe("pageHeight",We),K.subscribe("pageWidth",Qe),K.subscribe("rotatedPage",he),K.subscribe("rotation",Xe),K.subscribe("pagesRotation",se),K.subscribe("viewMode",ye),function(){K.unsubscribe("doc",nt),K.unsubscribe("pageHeight",We),K.unsubscribe("pageWidth",Qe),K.unsubscribe("rotatedPage",he),K.unsubscribe("rotation",Xe),K.unsubscribe("pagesRotation",se),K.unsubscribe("viewMode",ye)}},[]),$.useIsomorphicLayoutEffect(function(){return K.subscribe("currentPage",Ue),function(){K.unsubscribe("currentPage",Ue)}},[]),X?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(ne,{doc:X},function($e){return O.createElement(ee,{currentPage:Ee,doc:X,labels:$e,pagesRotation:Ae,pageHeight:Te,pageWidth:qe,renderCurrentPageLabel:U,renderThumbnailItem:J,rotatedPage:me,rotation:De,thumbnailDirection:W,thumbnailWidth:q,viewMode:xe,onJumpToPage:ke,onRotatePage:_e})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(ae).renderSpinner())};A.thumbnailPlugin=function(G){var U=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),J=O.useState(""),K=J[0],W=J[1];return{install:function(q){U.update("jumpToPage",q.jumpToPage),U.update("rotatePage",q.rotatePage)},onDocumentLoad:function(q){W(q.doc.loadingTask.docId),U.update("doc",q.doc)},onViewerStateChange:function(q){return U.update("currentPage",q.pageIndex),U.update("pagesRotation",q.pagesRotation),U.update("pageHeight",q.pageHeight),U.update("pageWidth",q.pageWidth),U.update("rotation",q.rotation),U.update("rotatedPage",q.rotatedPage),U.update("viewMode",q.viewMode),q},Cover:function(q){return O.createElement(le,R({},q,{renderSpinner:G==null?void 0:G.renderSpinner,store:U}))},Thumbnails:O.useCallback(function(q){return O.createElement(ae.Provider,{value:{renderSpinner:(G==null?void 0:G.renderSpinner)||pe}},O.createElement(te,{renderCurrentPageLabel:G==null?void 0:G.renderCurrentPageLabel,renderThumbnailItem:q==null?void 0:q.renderThumbnailItem,store:U,thumbnailDirection:(q==null?void 0:q.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(G==null?void 0:G.thumbnailWidth)||100}))},[K])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function V(te){var G=Object.create(null);return te&&Object.keys(te).forEach(function(U){if(U!=="default"){var J=Object.getOwnPropertyDescriptor(te,U);Object.defineProperty(G,U,J.get?J:{enumerable:!0,get:function(){return te[U]}})}}),G.default=te,Object.freeze(G)}var B,O=V(reactExports),R=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))},re=function(){return re=Object.assign||function(te){for(var G,U=1,J=arguments.length;U<J;U++)for(var K in G=arguments[U])Object.prototype.hasOwnProperty.call(G,K)&&(te[K]=G[K]);return te},re.apply(this,arguments)};A.SelectionMode=void 0,(B=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",B.Text="Text";var le=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},pe=function(te){var G=te.children,U=te.mode,J=te.onClick,K=O.useContext($.LocalizationContext).l10n,W="",q=O.createElement(le,null);switch(U){case A.SelectionMode.Hand:W=K&&K.selectionMode?K.selectionMode.handTool:"Hand tool",q=O.createElement(R,null);break;case A.SelectionMode.Text:default:W=K&&K.selectionMode?K.selectionMode.textSelectionTool:"Text selection tool",q=O.createElement(le,null)}return G({icon:q,label:W,onClick:J})},ae={left:0,top:8},ne=function(te){var G=te.isSelected,U=te.mode,J=te.onClick,K="";switch(U){case A.SelectionMode.Hand:K="selection-mode__hand-button";break;case A.SelectionMode.Text:default:K="selection-mode__text-button"}return O.createElement(pe,{mode:U,onClick:J},function(W){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:W.label,isSelected:G,testId:K,onClick:W.onClick},W.icon),content:function(){return W.label},offset:ae})})},be=function(te){var G=te.children,U=te.mode,J=te.store,K=U===J.get("selectionMode");return(G||function(W){return O.createElement(ne,{isSelected:K,mode:W.mode,onClick:W.onClick})})({isSelected:K,mode:U,onClick:function(){return J.update("selectionMode",U)}})},oe=function(te){var G=te.isSelected,U=te.mode,J=te.onClick,K="";switch(U){case A.SelectionMode.Hand:K="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:K="selection-mode__text-menu"}return O.createElement(pe,{mode:U,onClick:J},function(W){return O.createElement($.MenuItem,{checked:G,icon:W.icon,testId:K,onClick:W.onClick},W.label)})},ee=function(te){var G=te.store,U=O.useRef(null),J=O.useState(A.SelectionMode.Text),K=J[0],W=J[1],q=O.useRef({top:0,left:0,x:0,y:0}),H=function(we){var de=U.current;de&&(de.scrollTop=q.current.top-(we.clientY-q.current.y),de.scrollLeft=q.current.left-(we.clientX-q.current.x))},X=function(){var we=U.current;we&&(we.classList.add("rpv-selection-mode__grab"),we.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",X))},ue=function(we){var de=U.current;de&&K!==A.SelectionMode.Text&&(de.classList.remove("rpv-selection-mode__grab"),de.classList.add("rpv-selection-mode__grabbing"),we.preventDefault(),we.stopPropagation(),q.current={left:de.scrollLeft,top:de.scrollTop,x:we.clientX,y:we.clientY},document.addEventListener("mousemove",H),document.addEventListener("mouseup",X))},ge=function(we){U.current=we()},Ee=function(we){W(we)};return O.useEffect(function(){var we=U.current;if(we)return K===A.SelectionMode.Hand?we.classList.add("rpv-selection-mode__grab"):we.classList.remove("rpv-selection-mode__grab"),we.addEventListener("mousedown",ue),function(){we.removeEventListener("mousedown",ue)}},[K]),O.useEffect(function(){return G.subscribe("getPagesContainer",ge),G.subscribe("selectionMode",Ee),function(){G.unsubscribe("getPagesContainer",ge),G.unsubscribe("selectionMode",Ee)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=R,A.TextSelectionIcon=le,A.selectionModePlugin=function(te){var G=O.useMemo(function(){return $.createStore()},[]),U=function(J){return O.createElement(be,re({},J,{store:G}))};return{install:function(J){G.update("selectionMode",te&&te.selectionMode?te.selectionMode:A.SelectionMode.Text),G.update("getPagesContainer",J.getPagesContainer)},renderViewer:function(J){var K=J.slot;return K.subSlot&&K.subSlot.children&&(K.subSlot.children=O.createElement(O.Fragment,null,O.createElement(ee,{store:G}),K.subSlot.children)),K},SwitchSelectionMode:U,SwitchSelectionModeButton:function(J){return O.createElement(U,{mode:J.mode},function(K){return O.createElement(ne,{isSelected:K.isSelected,mode:K.mode,onClick:function(){K.onClick()}})})},SwitchSelectionModeMenuItem:function(J){return O.createElement(U,{mode:J.mode},function(K){return O.createElement(oe,{isSelected:K.isSelected,mode:K.mode,onClick:function(){K.onClick(),J.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$c.useContext(e$c.LocalizationContext).l10n,O=B&&B.fullScreen?B.fullScreen.enterFullScreen:"Full screen",R=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:V},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:B,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return B},offset:i$c})},f$9=function(A,$){var V=n$c.useState($.get("fullScreenMode")),B=V[0],O=V[1],R=n$c.useCallback(function(re){O(re)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",R),function(){$.unsubscribe("fullScreenMode",R)}},[]),{enterFullScreen:function(){var re=$.get("getPagesContainer");if(re){var le=A(re());$.get("enterFullScreenMode")(le)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,V=A.enableShortcuts,B=A.getFullScreenTarget,O=A.store,R=f$9(B,O),re=R.enterFullScreen,le=R.exitFullScreen,pe=R.isFullScreen;return($||function(ae){return pe?n$c.createElement(a$c,{onClick:ae.onClick}):n$c.createElement(o$c,{enableShortcuts:V,onClick:ae.onClick})})({onClick:pe?le:re})},S$4=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=V&&V.fullScreen?V.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},B)},d$9=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!B,"rpv-full-screen__exit-button--rtl":B})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,V=A.getFullScreenTarget,B=A.store,O=f$9(V,B),R=O.enterFullScreen,re=O.exitFullScreen,le=O.isFullScreen;return le&&($||function(pe){return n$c.createElement(d$9,{onClick:pe.onClick})})({onClick:le?re:R})},E$5=function(A){var $=A.store,V=A.onEnterFullScreen,B=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),R=O[0],re=O[1],le=n$c.useCallback(function(pe){re(pe)},[]);return n$c.useEffect(function(){switch(R){case e$c.FullScreenMode.EnteredCompletely:V($.get("zoom"));break;case e$c.FullScreenMode.Exited:B($.get("zoom"))}},[R]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",le),function(){$.unsubscribe("fullScreenMode",le)}},[]),(R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,V=A.getFullScreenTarget,B=A.store,O=f$9(V,B).enterFullScreen,R=function(re){if(!re.shiftKey&&!re.altKey&&(e$c.isMac()?re.metaKey&&re.ctrlKey&&re.key==="f":re.key==="F11")){var le=$.current;le&&document.activeElement&&le.contains(document.activeElement)&&(re.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(re){return re},V=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),B=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(re){return n$c.createElement(s$8,c$c({},re,{enableShortcuts:V.enableShortcuts,getFullScreenTarget:$,store:B}))},R=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:B},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(re){B.update("enterFullScreenMode",re.enterFullScreenMode),B.update("exitFullScreenMode",re.exitFullScreenMode),B.update("getPagesContainer",re.getPagesContainer),B.update("zoom",re.zoom)},onViewerStateChange:function(re){return B.update("fullScreenMode",re.fullScreenMode),re},renderViewer:function(re){var le=re.slot;return le.subSlot&&(le.subSlot.children=n$c.createElement(n$c.Fragment,null,V.enableShortcuts&&n$c.createElement(F,{containerRef:re.containerRef,getFullScreenTarget:$,store:B}),n$c.createElement(E$5,{store:B,onEnterFullScreen:V.onEnterFullScreen,onExitFullScreen:V.onExitFullScreen}),n$c.createElement(R,null),le.subSlot.children)),le},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(re){return n$c.createElement(o$c,c$c({enableShortcuts:V.enableShortcuts},re))})},EnterFullScreenMenuItem:function(re){return n$c.createElement(O,null,function(le){return n$c.createElement(S$4,{onClick:function(){le.onClick(),re.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,B=V&&V.download?V.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:B,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return B},offset:i$b})},c$b=function(A,$){var V=document.createElement("a");V.style.display="none",V.href=A,V.setAttribute("download",$),document.body.appendChild(V),V.click(),document.body.removeChild(V)},l$b=function(A,$,V){var B=URL.createObjectURL(new Blob([A],{type:V}));c$b(B,$),B&&URL.revokeObjectURL(B)},u$b=function(A,$){A.getData().then(function(V){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(V,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(B){return btoa(Array(B.length).fill("").map(function(O,R){return String.fromCharCode(B[R])}).join(""))}(V)),$):l$b(V,$,"application/pdf")})},f$8=function(A){var $=A.children,V=A.fileNameGenerator,B=A.store,O=n$b.useState(B.get("file")),R=O[0],re=O[1],le=n$b.useState(B.get("doc")),pe=le[0],ae=le[1],ne=function(oe){ae(oe)},be=function(oe){re(oe)};return n$b.useEffect(function(){return B.subscribe("doc",ne),B.subscribe("file",be),function(){B.subscribe("doc",ne),B.unsubscribe("file",be)}},[]),($||function(oe){return n$b.createElement(a$b,{onClick:oe.onClick})})({onClick:function(){pe&&R&&u$b(pe,V(R))}})},d$8=function(A){var $=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,B=V&&V.download?V.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},B)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),V=function(O){return O.name?(R=O.name,(re=R.split("/").pop())?re.split("#")[0].split("?")[0]:R):"document.pdf";var R,re},B=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||V,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:B,DownloadButton:function(){return n$b.createElement(B,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(B,null,function(R){return n$b.createElement(d$8,{onClick:function(){R.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),V=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},B=function(O){O&&V()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",B),function(){A.unsubscribe("triggerOpenFile",B)}},[]),{inputRef:$,openFile:V}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,V=A.store,B=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,R=O&&O.open?O.open.openFile:"Open file",re=i$a(V),le=re.inputRef,pe=re.openFile,ae=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:le,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:B}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ae,ariaLabel:R,testId:"open__button",onClick:pe},n$a.createElement(r$a,null))),content:function(){return R},offset:c$a})},a$a=function(A){var $=A.children,V=A.enableShortcuts,B=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:V,store:B,onClick:O.onClick})})({onClick:function(O){var R=O.target.files;if(R&&R.length){var re=B.get("openFile");re&&re(R[0])}}})},l$a=function(A){var $=A.store,V=A.onClick,B=n$a.useContext(e$a.LocalizationContext).l10n,O=B&&B.open?B.open.openFile:"Open file",R=i$a($),re=R.inputRef,le=R.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:le},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:re,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:V}),O))},p$7=function(A){var $=A.containerRef,V=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;R&&document.activeElement&&R.contains(document.activeElement)&&(O.preventDefault(),V.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$a.useMemo(function(){return e$a.createStore({})},[]),B=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:V}))};return{install:function(O){V.update("openFile",O.openFile)},renderViewer:function(O){var R=O.slot,re={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:V}),R.children)};return o$a(o$a({},R),re)},Open:B,OpenButton:function(){return n$a.createElement(B,null)},OpenMenuItem:function(){return n$a.createElement(B,null,function(O){return n$a.createElement(l$a,{store:V,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),V=$[0],B=$[1],O=function(R){B(R)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:V}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),V=$[0],B=$[1],O=function(R){B(R)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:V}},c$9=function(A){var $=A.store,V=n$9.useContext(e$9.LocalizationContext).l10n,B=n$9.useState("1"),O=B[0],R=B[1],re=i$9($).currentPage,le=u$9($).numberOfPages;n$9.useEffect(function(){return R("".concat(re+1))},[re]);var pe=function(ne){var be=$.get("jumpToPage");be&&be(ne)},ae=V&&V.pageNavigation?V.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ae,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:R,onKeyDown:function(ne){switch(ne.key){case"ArrowUp":(ee=re-1)>=0&&(R("".concat(ee+1)),pe(ee));break;case"ArrowDown":(oe=re+1)<le&&(R("".concat(oe+1)),pe(oe));break;case"Enter":be=parseInt(O,10),O===""||be<1||be>le?R("".concat(re+1)):pe(be-1)}var be,oe,ee}}))},l$9=function(A){var $=A.children,V=A.doc,B=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),R=O[0],re=O[1];return n$9.useEffect(function(){V.getPageLabels().then(function(le){B.current&&re({loading:!1,labels:le||[]})})},[V.loadingTask.docId]),R.loading?n$9.createElement(n$9.Fragment,null):$(R.labels)},s$7=function(A){var $=A.children,V=A.store,B=function(le){var pe=n$9.useState(le.get("doc")),ae=pe[0],ne=pe[1],be=function(oe){ne(oe)};return n$9.useEffect(function(){return le.subscribe("doc",be),function(){le.unsubscribe("doc",be)}},[]),ae}(V),O=i$9(V).currentPage,R=u$9(V).numberOfPages,re=$||function(le){return n$9.createElement(n$9.Fragment,null,le.currentPage+1)};return B?n$9.createElement(l$9,{doc:B},function(le){var pe=le.length===R&&R>0?le[O]:"";return re({currentPage:O,numberOfPages:R,pageLabel:pe})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:V},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,V=A.store;return($||function(B){return n$9.createElement(m$7,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:i$9(V).currentPage===0,onClick:function(){var B=V.get("jumpToPage");B&&B(0)}})},v$5=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:V},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:V},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,V=A.store,B=i$9(V).currentPage,O=u$9(V).numberOfPages;return($||function(R){return n$9.createElement(P$2,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:B+1>=O,onClick:function(){var R=V.get("jumpToPage");R&&R(O-1)}})},E$4=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:V},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:V},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,V=A.store;return($||function(B){return n$9.createElement(D,{onClick:B.onClick,isDisabled:B.isDisabled})})({isDisabled:i$9(V).currentPage+1>=u$9(V).numberOfPages,onClick:function(){var B=V.get("jumpToNextPage");B&&B()}})},T=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:V},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:V},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(V){return n$9.createElement(N,{isDisabled:V.isDisabled,onClick:V.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var V=$.get("jumpToPreviousPage");V&&V()}})},I$2=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,O=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:V},O)},h$5=function(A){var $=A.children,V=A.store,B=u$9(V).numberOfPages;return $?$({numberOfPages:B}):n$9.createElement(n$9.Fragment,null,B)},y$1=function(A){var $=A.containerRef,V=A.numPages,B=A.store,O=i$9(B).currentPage,R=n$9.useRef(O);R.current=O;var re=n$9.useRef(!1),le=function(){re.current=!0},pe=function(){re.current=!1},ae=function(ne){var be=$.current,oe=re.current||document.activeElement&&be.contains(document.activeElement);if(be&&oe){var ee,te,G=ne.altKey&&ne.key==="ArrowDown"||!ne.shiftKey&&!ne.altKey&&ne.key==="PageDown",U=ne.altKey&&ne.key==="ArrowUp"||!ne.shiftKey&&!ne.altKey&&ne.key==="PageUp";if(G)return ne.preventDefault(),ee=B.get("jumpToPage"),te=R.current+1,void(ee&&te<V&&ee(te));if(U)return ne.preventDefault(),void function(){var J=B.get("jumpToPage"),K=R.current-1;J&&K>=0&&J(K)}();if(e$9.isMac()?ne.metaKey&&!ne.ctrlKey:ne.altKey)switch(ne.key){case"ArrowLeft":ne.preventDefault(),function(){var J=B.get("jumpToPreviousDestination");J&&J()}();break;case"ArrowRight":ne.preventDefault(),function(){var J=B.get("jumpToNextDestination");J&&J()}()}}};return n$9.useEffect(function(){var ne=$.current;if(ne)return document.addEventListener("keydown",ae),ne.addEventListener("mouseenter",le),ne.addEventListener("mouseleave",pe),function(){document.removeEventListener("keydown",ae),ne.removeEventListener("mouseenter",le),ne.removeEventListener("mouseleave",pe)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$9.useMemo(function(){return e$9.createStore()},[]),B=function(le){return n$9.createElement(p$6,o$9({},le,{store:V}))},O=function(le){return n$9.createElement(b$4,o$9({},le,{store:V}))},R=function(le){return n$9.createElement(k$3,o$9({},le,{store:V}))},re=function(le){return n$9.createElement(j,o$9({},le,{store:V}))};return{install:function(le){V.update("jumpToDestination",le.jumpToDestination),V.update("jumpToNextDestination",le.jumpToNextDestination),V.update("jumpToNextPage",le.jumpToNextPage),V.update("jumpToPage",le.jumpToPage),V.update("jumpToPreviousDestination",le.jumpToPreviousDestination),V.update("jumpToPreviousPage",le.jumpToPreviousPage)},renderViewer:function(le){var pe=le.slot;if(!$.enableShortcuts)return pe;var ae={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:le.containerRef,numPages:le.doc.numPages,store:V}),pe.children)};return o$9(o$9({},pe),ae)},onDocumentLoad:function(le){V.update("doc",le.doc),V.update("numberOfPages",le.doc.numPages)},onViewerStateChange:function(le){return V.update("currentPage",le.pageIndex),le},jumpToNextPage:function(){var le=V.get("jumpToNextPage");le&&le()},jumpToPage:function(le){var pe=V.get("jumpToPage");pe&&pe(le)},jumpToPreviousPage:function(){var le=V.get("jumpToPreviousPage");le&&le()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:V})},CurrentPageLabel:function(le){return n$9.createElement(s$7,o$9({},le,{store:V}))},GoToFirstPage:B,GoToFirstPageButton:function(){return n$9.createElement(B,null,function(le){return n$9.createElement(m$7,o$9({},le))})},GoToFirstPageMenuItem:function(le){return n$9.createElement(B,null,function(pe){return n$9.createElement(v$5,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),le.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(le){return n$9.createElement(P$2,o$9({},le))})},GoToLastPageMenuItem:function(le){return n$9.createElement(O,null,function(pe){return n$9.createElement(E$4,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),le.onClick()}})})},GoToNextPage:R,GoToNextPageButton:function(){return n$9.createElement(R,null,function(le){return n$9.createElement(D,o$9({},le))})},GoToNextPageMenuItem:function(le){return n$9.createElement(R,null,function(pe){return n$9.createElement(T,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),le.onClick()}})})},GoToPreviousPage:re,GoToPreviousPageButton:function(){return n$9.createElement(re,null,function(le){return n$9.createElement(N,o$9({},le))})},GoToPreviousPageMenuItem:function(le){return n$9.createElement(re,null,function(pe){return n$9.createElement(I$2,{isDisabled:pe.isDisabled,onClick:function(){pe.onClick(),le.onClick()}})})},NumberOfPages:function(le){return n$9.createElement(h$5,o$9({},le,{store:V}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n            M3.5,8.499\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n            M14.5,0.499v4h4"}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,V=A.onClick,B=a$8.useContext(e$8.LocalizationContext).l10n,O=B&&B.print?B.print.print:"Print",R=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"print__button",onClick:V},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,V=A.enableShortcuts,B=A.store;return($||s$6)({enableShortcuts:V,onClick:function(){B.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,V=A.store,B=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),R=O[0],re=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(le){le===null||le.includes(4)||le.includes(2048)?V.update("printStatus",o$8.Preparing):re(!1)})},[]),R?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(le){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},B&&B.print?B.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){le(),V.update("printStatus",o$8.Cancelled)}},B&&B.print?B.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,V=A.numPages,B=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,R=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,re=Math.floor(100*$/V);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":R})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:re})),a$8.createElement(e$8.Button,{onClick:B},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,V=A.page,B=A.pageHeight,O=A.pageIndex,R=A.pageWidth,re=A.rotation,le=A.onLoad,pe=e$8.useIsMounted(),ae=a$8.useRef(),ne=a$8.useState(""),be=ne[0],oe=ne[1],ee=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var te=ae.current;te&&te.cancel();var G=150/72;$.height=Math.floor(B*G),$.width=Math.floor(R*G);var U=$.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,$.width,$.height),U.restore();var J=V.getViewport({rotation:re,scale:1});ae.current=V.render({canvasContext:U,intent:"print",transform:[G,0,0,G,0,0],viewport:J}),ae.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(K){pe.current&&oe(URL.createObjectURL(K)),ee&&le()}):(pe.current&&oe($.toDataURL()),ee&&le())},function(){})},[]),be&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:be,onLoad:function(){ee||le()}}))},f$6=function(A){var $=A.canvas,V=A.doc,B=A.pageIndex,O=A.pageRotation,R=A.pageSize,re=A.rotation,le=A.shouldRender,pe=A.onLoad,ae=e$8.useIsMounted(),ne=a$8.useState(null),be=ne[0],oe=ne[1],ee=Math.abs(re+O)%180==0;a$8.useEffect(function(){le&&e$8.getPage(V,B).then(function(G){ae.current&&oe(G)})},[le]);var te=(R.rotation+re+O)%360;return be&&a$8.createElement(d$6,{canvas:$,page:be,pageHeight:ee?R.pageHeight:R.pageWidth,pageIndex:B,pageWidth:ee?R.pageWidth:R.pageHeight,rotation:te,onLoad:pe})},g$4=function(A){var $=A.doc,V=A.numLoadedPages,B=A.pagesRotation,O=A.pageSizes,R=A.printPages,re=A.printStatus,le=A.rotation,pe=A.onCancel,ae=A.onLoad,ne=a$8.useMemo(function(){return document.createElement("canvas")},[]),be=a$8.useMemo(function(){var te=document.querySelector(".rpv-print__zone");if(te)return te;var G=document.createElement("div");return G.classList.add("rpv-print__zone"),G.setAttribute("data-testid","print__zone"),document.body.appendChild(G),G},[]);a$8.useEffect(function(){re===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var te=function(){if(re===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var G=document.querySelectorAll(".rpv-print__zone");G&&G.forEach(function(U){U.parentElement.removeChild(U)}),ne.height=0,ne.width=0,document.removeEventListener("mousemove",te),pe()}};return document.addEventListener("mousemove",te),function(){return document.removeEventListener("mousemove",te)}},[re]);var oe=O[0].pageHeight,ee=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,R.map(function(te,G){return a$8.createElement(f$6,{key:te,canvas:ne,doc:$,pageIndex:te,pageRotation:B.has(te)?B.get(te):0,pageSize:O[te],rotation:le,shouldRender:G===V,onLoad:ae})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ee,"pt ").concat(oe,"pt }")}})),be)},v$4=function(A){var $=A.doc,V=A.pagesRotation,B=A.pageSizes,O=A.renderProgressBar,R=A.rotation,re=A.setPages,le=A.store,pe=a$8.useState(o$8.Inactive),ae=pe[0],ne=pe[1],be=a$8.useState(0),oe=be[0],ee=be[1],te=a$8.useMemo(function(){var K=$.numPages;return re($).filter(function(W){return W>=0&&W<K})},[$,re]),G=te.length,U=function(){ee(0),ne(o$8.Inactive)},J=function(K){return ne(K)};return a$8.useEffect(function(){return le.subscribe("printStatus",J),function(){le.unsubscribe("printStatus",J)}},[]),a$8.createElement(a$8.Fragment,null,ae===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:le}),ae===o$8.Preparing&&(O?O(oe,G,U):a$8.createElement(m$6,{numLoadedPages:oe,numPages:G,onCancel:U})),(ae===o$8.Preparing||ae===o$8.Ready)&&oe<=G&&a$8.createElement(g$4,{doc:$,numLoadedPages:oe,pagesRotation:V,pageSizes:B,printPages:te,printStatus:ae,rotation:R,onCancel:U,onLoad:function(){var K=oe+1;K<=G&&(ee(K),K===G&&ne(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,V=a$8.useContext(e$8.LocalizationContext).l10n,B=V&&V.print?V.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},B)},E$3=function(A){var $=A.containerRef,V=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;R&&document.activeElement&&R.contains(document.activeElement)&&(O.preventDefault(),V.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V})},print_min.getCustomPagesNumbers=function(A){return function($){var V,B=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var R,re,le=O.split("-").map(function(pe){return parseInt(pe,10)}).filter(function(pe){return Number.isInteger(pe)});le.length===1?B.push(le[0]-1):le.length===2&&B.push.apply(B,(R=le[0]-1,re=le[1]-1,Array(re-R+1).fill(0).map(function(pe,ae){return R+ae})))}),(V=B,V.filter(function(O){return V.indexOf(O)===V.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(R,re){return re})}},A)},[]),V=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),B=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:V}))};return{print:function(){V.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var R=O.slot,re={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:V}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:V}),R.children)};return c$8(c$8({},R),re)},Print:B,PrintButton:function(){return a$8.createElement(B,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(B,null,function(R){return a$8.createElement(h$4,{onClick:function(){R.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n            M14.5,17.005H13\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n            M11.745,6.504L11.745,6.504\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,V=A.render,B=r$7.useState(),O=B[0],R=B[1];return r$7.useEffect(function(){$.getMetadata().then(function(re){return Promise.resolve(re)}).then(function(re){return $.getDownloadInfo().then(function(le){return Promise.resolve({fileName:re.contentDispositionFilename||"",info:re.info,length:le.length})})}).then(function(re){R(re)})},[]),O?V(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,V=A.value,B=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":B})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},V||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,V,B){var O=parseInt(A,10);return O>=$&&O<=V?O:B},p$4=function(A){var $=A.doc,V=A.fileName,B=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,R=function(re){var le=function(pe){var ae=l$7.exec(pe);if(!ae)return null;var ne=parseInt(ae[1],10),be=c$7(ae[2],1,12,1)-1,oe=c$7(ae[3],1,31,1),ee=c$7(ae[4],0,23,0),te=c$7(ae[5],0,59,0),G=c$7(ae[6],0,59,0),U=ae[7]||"Z",J=c$7(ae[8],0,23,0),K=c$7(ae[9],0,59,0);switch(U){case"-":ee+=J,te+=K;break;case"+":ee-=J,te-=K}return new Date(Date.UTC(ne,be,oe,ee,te,G))}(re);return le?"".concat(le.toLocaleDateString(),", ").concat(le.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(re){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:re.fileName||(ae=V,ne=ae.split("/").pop(),ne?ne.split("#")[0].split("?")[0]:ae)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(le=re.length,pe=Math.floor(Math.log(le)/Math.log(1024)),"".concat((le/Math.pow(1024,pe)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][pe]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:re.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:re.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:re.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:re.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:re.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:R(re.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:R(re.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:re.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:re.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var le,pe,ae,ne}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:B},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,V=r$7.useContext(e$7.LocalizationContext).l10n,B=V&&V.properties?V.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:B,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return B},offset:s$5})},m$5=function(A){var $=A.children,V=A.store,B=function(re){var le=r$7.useState(re.get("doc")),pe=le[0],ae=le[1],ne=function(be){ae(be)};return r$7.useEffect(function(){return re.subscribe("doc",ne),function(){re.unsubscribe("doc",ne)}},[]),{currentDoc:pe}}(V).currentDoc,O=V.get("fileName")||"",R=$||function(re){return r$7.createElement(u$7,o$7({},re))};return B?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(re){return R({onClick:re})},content:function(re){return r$7.createElement(p$4,{doc:B,fileName:O,onToggle:re})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,V=r$7.useContext(e$7.LocalizationContext).l10n,B=V&&V.properties?V.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},B)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(V){return r$7.createElement(m$5,o$7({},V,{store:A}))};return{onDocumentLoad:function(V){A.update("doc",V.doc)},onViewerStateChange:function(V){return A.update("fileName",V.file.name),V},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(V){return r$7.createElement($,null,function(B){return r$7.createElement(f$5,o$7({},B))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n            M13.5,1.75L10,4.25l3.5,2.5"}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n            M10.5,1.75l3.5,2.5l-3.5,2.5"}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,V=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,O=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",R=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?O:R,le=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:re,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:V},le),content:function(){return re},offset:a$6})},u$6=function(A){var $=A.children,V=A.direction,B=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:V,onClick:function(){var O=B.get("rotate");O&&O(V)}})},l$6=function(A){var $=A.direction,V=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,O=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",R=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?O:R,le=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:le,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:V},re)},d$5=function(A){var $=A.children,V=A.store;return $({onRotatePage:function(B,O){var R=V.get("rotatePage");R&&R(B,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(V){return r$6.createElement(u$6,c$6({},V,{store:A}))};return{install:function(V){A.update("rotate",V.rotate),A.update("rotatePage",V.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(V){return r$6.createElement(i$6,c$6({},V))})},RotateBackwardMenuItem:function(V){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),V.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(V){return r$6.createElement(i$6,c$6({},V))})},RotateForwardMenuItem:function(V){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),V.onClick()}})})},RotatePage:function(V){return r$6.createElement(d$5,c$6({},V,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var V=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||V===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},u$5=function(A){var $=A.children,V=A.mode,B=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,R="",re=t$5.createElement(d$4,null);switch(V){case e$5.ScrollMode.Horizontal:R=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",re=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:R=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",re=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:R=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",re=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:R=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",re=t$5.createElement(d$4,null)}return $({icon:re,label:R,onClick:B})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ScrollMode.Horizontal:R="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:R="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:R="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:R="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:V,testId:R,onClick:re.onClick},re.icon),content:function(){return re.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),V=$[0],B=$[1],O=function(R){B(R)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:V}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),V=$[0],B=$[1],O=function(R){B(R)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:V}},S$3=function(A){var $=A.children,V=A.mode,B=A.store,O=w$1(B).viewMode,R=f$4(B).scrollMode===V,re=(V===e$5.ScrollMode.Horizontal||V===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(le){return t$5.createElement(M$2,{isDisabled:re,isSelected:R,mode:le.mode,onClick:le.onClick})})({isDisabled:re,isSelected:R,mode:V,onClick:function(){a$5(B,V)}})},g$3=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ScrollMode.Horizontal:R="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:R="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:R="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:R="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.MenuItem,{checked:V,icon:re.icon,isDisabled:$,testId:R,onClick:re.onClick},re.label)})},h$3=function(A,$){A.get("switchViewMode")($);var V=A.get("scrollMode");V!==e$5.ScrollMode.Horizontal&&V!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,V=A.mode,B=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,R="",re=t$5.createElement(r$5,null);switch(V){case e$5.ViewMode.DualPage:R=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",re=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:R=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",re=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:R=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",re=t$5.createElement(r$5,null)}return $({icon:re,label:R,onClick:B})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ViewMode.DualPage:R="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:R="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:R="view-mode__single-button"}return t$5.createElement(b$3,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:V,testId:R,onClick:re.onClick},re.icon),content:function(){return re.label},offset:p$3})})},k$2=function(A){var $=A.children,V=A.mode,B=A.store,O=w$1(B).viewMode,R=f$4(B).scrollMode,re=O===V,le=(R===e$5.ScrollMode.Horizontal||R===e$5.ScrollMode.Wrapped)&&V!==e$5.ViewMode.SinglePage;return($||function(pe){return t$5.createElement(v$3,{isDisabled:le,isSelected:re,mode:pe.mode,onClick:pe.onClick})})({isDisabled:le,isSelected:re,mode:V,onClick:function(){h$3(B,V)}})},C$2=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,O=A.onClick,R="";switch(B){case e$5.ViewMode.DualPage:R="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:R="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:R="view-mode__single-menu"}return t$5.createElement(b$3,{mode:B,onClick:O},function(re){return t$5.createElement(e$5.MenuItem,{checked:V,icon:re.icon,isDisabled:$,testId:R,onClick:re.onClick},re.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(B){return t$5.createElement(S$3,i$5({},B,{store:A}))},V=function(B){return t$5.createElement(k$2,i$5({},B,{store:A}))};return{install:function(B){A.update("switchScrollMode",B.switchScrollMode),A.update("switchViewMode",B.switchViewMode)},onViewerStateChange:function(B){return A.update("scrollMode",B.scrollMode),A.update("viewMode",B.viewMode),B},switchScrollMode:function(B){a$5(A,B)},switchViewMode:function(B){h$3(A,B)},SwitchScrollMode:$,SwitchScrollModeButton:function(B){return t$5.createElement($,{mode:B.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(B){return t$5.createElement($,{mode:B.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),B.onClick()}})})},SwitchViewMode:V,SwitchViewModeButton:function(B){return t$5.createElement(V,{mode:B.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(B){return t$5.createElement(V,{mode:B.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),B.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,V=A.area,B=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var R=O.current;B&&R&&B({highlightEle:R,keyword:V.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(V),title:V.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var V=document.createRange();V.selectNodeContents(A),function(B,O){l$4(B);var R=O.parentNode;R&&R.insertBefore(B,O),l$4(O)}(V.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,V=A.pageIndex,B=A.renderHighlights,O=A.store,R=A.onHighlightKeyword,re=r$4.useRef(),le=r$4.useCallback(function(Ve){return r$4.createElement(r$4.Fragment,null,Ve.highlightAreas.map(function(qe,Be){return r$4.createElement(s$3,{index:Be,key:Be,area:qe,onHighlightKeyword:R})}))},[]),pe=B||le,ae=r$4.useState(O.get("matchPosition")),ne=ae[0],be=ae[1],oe=r$4.useState(O.get("keyword")||[u$4]),ee=oe[0],te=oe[1],G=r$4.useState({pageIndex:V,scale:1,status:e$4.LayerRenderStatus.PreRender}),U=G[0],J=G[1],K=r$4.useRef(null),W=r$4.useRef([]),q=r$4.useState([]),H=q[0],X=q[1],ue=function(){return!0},ge=r$4.useCallback(function(){return O.get("targetPageFilter")||ue},[O.get("targetPageFilter")]),Ee=function(Ve){var qe=W.current;if(qe.length===0)return[];var Be=[],Oe=[].slice.call(Ve.querySelectorAll(".rpv-core__text-layer-text")),De=qe.map(function(et){return et.char}).join("");return ee.forEach(function(et){var tt=et.keyword;if(tt.trim()){for(var Ae,ce=et.regExp.flags.indexOf("g")===-1?new RegExp(et.regExp,"".concat(et.regExp.flags,"g")):et.regExp,ie=[];(Ae=ce.exec(De))!==null;)ie.push({keyword:ce,startIndex:Ae.index,endIndex:ce.lastIndex});ie.map(function(me){return{keyword:me.keyword,indexes:qe.slice(me.startIndex,me.endIndex)}}).forEach(function(me){var Se=me.indexes.reduce(function(Ce,xe){return Ce[xe.spanIndex]=(Ce[xe.spanIndex]||[]).concat([xe]),Ce},{});Object.values(Se).forEach(function(Ce){if(Ce.length!==1||Ce[0].char.trim()!==""){var xe=et.wholeWords?Ce.slice(1,-1):Ce,Re=function(Ue,nt,We,Qe,Xe){var se=document.createRange(),he=Qe.firstChild;if(!he||he.nodeType!==Node.TEXT_NODE)return null;var ye=he.textContent.length,ke=Xe[0].charIndexInSpan,_e=Xe.length===1?ke:Xe[Xe.length-1].charIndexInSpan;if(ke>ye||_e+1>ye)return null;se.setStart(he,ke),se.setEnd(he,_e+1);var $e=document.createElement("span");se.surroundContents($e);var rt=$e.getBoundingClientRect(),ot=We.getBoundingClientRect(),at=ot.height,Je=ot.width,ft=100*(rt.left-ot.left)/Je,dt=100*(rt.top-ot.top)/at,_t=100*rt.height/at,St=100*rt.width/Je;return h$2($e),{keyword:nt,keywordStr:Ue,numPages:$,pageIndex:V,left:ft,top:dt,height:_t,width:St,pageHeight:at,pageWidth:Je}}(tt,me.keyword,Ve,Oe[xe[0].spanIndex],xe);Re&&Be.push(Re)}})})}}),Be.sort(d$3)},we=function(Ve){Ve&&Ve.length>0&&te(Ve)},de=function(Ve){return be(Ve)},Te=function(Ve){if(Ve.has(V)){var qe=Ve.get(V);qe&&J({ele:qe.ele,pageIndex:V,scale:qe.scale,status:qe.status})}},it=function(){return ee.length===0||ee.length===1&&ee[0].keyword.trim()===""};return r$4.useEffect(function(){if(!it()&&U.status===e$4.LayerRenderStatus.DidRender&&!W.current.length){var Ve=U.ele,qe=[].slice.call(Ve.querySelectorAll(".rpv-core__text-layer-text")).map(function(Be){return Be.textContent}).reduce(function(Be,Oe,De){return Be.concat(Oe.split("").map(function(et,tt){return{char:et,charIndexInSpan:tt,spanIndex:De}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);W.current=qe}},[ee,U.status]),r$4.useEffect(function(){if(!it()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&ge()({pageIndex:V,numPages:$})){var Ve=U.ele,qe=Ee(Ve);X(qe)}},[ee,ne,U.status,W.current]),r$4.useEffect(function(){it()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&X([])},[ee,U.status]),r$4.useEffect(function(){if(H.length!==0){var Ve=re.current;if(ne.pageIndex===V&&Ve&&U.status===e$4.LayerRenderStatus.DidRender){var qe=Ve.querySelector('.rpv-search__highlight[data-index="'.concat(ne.matchIndex,'"]'));if(qe){var Be=function(tt,Ae){for(var ce=tt.offsetTop,ie=tt.offsetLeft,me=tt.parentElement;me&&me!==Ae;)ce+=me.offsetTop,ie+=me.offsetLeft,me=me.parentElement;return{left:ie,top:ce}}(qe,Ve),Oe=Be.left,De=Be.top,et=O.get("jumpToDestination");et&&(et({pageIndex:V,bottomOffset:(Ve.getBoundingClientRect().height-De)/U.scale,leftOffset:Oe/U.scale,scaleTo:U.scale}),K.current&&K.current.classList.remove("rpv-search__highlight--current"),K.current=qe,qe.classList.add("rpv-search__highlight--current"))}}}},[H,ne]),r$4.useEffect(function(){return O.subscribe("keyword",we),O.subscribe("matchPosition",de),O.subscribe("renderStatus",Te),function(){O.unsubscribe("keyword",we),O.unsubscribe("matchPosition",de),O.unsubscribe("renderStatus",Te)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(V),ref:re},pe({getCssProperties:i$4,highlightAreas:H}))},p$2=function(A){var $,V=A.wholeWords?" ".concat(A.keyword," "):A.keyword,B=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=V,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),B),wholeWords:A.wholeWords||!1}},g$2=function(A,$,V){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:V||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:V||!1}):($!==void 0&&(A.matchCase=$),V!==void 0&&(A.wholeWords=V),p$2(A))},m$3=function(A){var $,V=A.get("initialKeyword"),B=r$4.useMemo(function(){if(V&&V.length===1){var de=g$2(V[0]);return{matchCase:de.regExp.flags.indexOf("i")===-1,wholeWords:de.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(de){var Te=r$4.useRef(de.get("doc")),it=function(Ve){Te.current=Ve};return r$4.useEffect(function(){return de.subscribe("doc",it),function(){de.unsubscribe("doc",it)}},[]),Te}(A),R=r$4.useState(V),re=R[0],le=R[1],pe=r$4.useState([]),ae=pe[0],ne=pe[1],be=r$4.useState(0),oe=be[0],ee=be[1],te=r$4.useState(B.matchCase),G=te[0],U=te[1],J=r$4.useRef([]),K=r$4.useState(B.wholeWords),W=K[0],q=K[1],H=function(){return!0},X=r$4.useCallback(function(){return A.get("targetPageFilter")||H},[A.get("targetPageFilter")]),ue=function(de){var Te=ae.length;if(re.length===0||Te===0)return null;var it=de===Te+1?1:Math.max(1,Math.min(Te,de));return ee(it),Ee(ae[it-1])},ge=function(de){return le(de===""?[]:[de])},Ee=function(de){var Te=A.get("jumpToPage");return Te&&Te(de.pageIndex),A.update("matchPosition",{matchIndex:de.matchIndex,pageIndex:de.pageIndex}),de},we=function(de,Te,it){var Ve=O.current;if(!Ve)return Promise.resolve([]);var qe=Ve.numPages,Be=de.map(function(Oe){return g$2(Oe,Te,it)});return A.update("keyword",Be),ee(0),ne([]),new Promise(function(Oe,De){var et=J.current.length===0?function(){var tt=O.current;if(!tt)return Promise.resolve([]);var Ae=Array(tt.numPages).fill(0).map(function(ce,ie){return e$4.getPage(tt,ie).then(function(me){return me.getTextContent()}).then(function(me){var Se=me.items.map(function(Ce){return Ce.str||""}).join("");return Promise.resolve({pageContent:Se,pageIndex:ie})})});return Promise.all(Ae).then(function(ce){return ce.sort(function(ie,me){return ie.pageIndex-me.pageIndex}),Promise.resolve(ce.map(function(ie){return ie.pageContent}))})}().then(function(tt){return J.current=tt,Promise.resolve(tt)}):Promise.resolve(J.current);et.then(function(tt){var Ae=[];tt.forEach(function(ce,ie){X()({pageIndex:ie,numPages:qe})&&Be.forEach(function(me){for(var Se,Ce=0;(Se=me.regExp.exec(ce))!==null;)Ae.push({keyword:me.regExp,matchIndex:Ce,pageIndex:ie,pageText:ce,startIndex:Se.index,endIndex:me.regExp.lastIndex}),Ce++})}),ne(Ae),Ae.length>0&&(ee(1),Ee(Ae[0])),Oe(Ae)})})};return r$4.useEffect(function(){J.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),ge(""),ee(0),ne([]),U(!1),q(!1)},changeMatchCase:function(de){U(de),re.length>0&&we(re,de,W)},changeWholeWords:function(de){q(de),re.length>0&&we(re,G,de)},currentMatch:oe,jumpToMatch:ue,jumpToNextMatch:function(){return ue(oe+1)},jumpToPreviousMatch:function(){return ue(oe-1)},keywords:re,matchCase:G,numberOfMatches:ae.length,wholeWords:W,search:function(){return we(re,G,W)},searchFor:we,setKeywords:le,keyword:re.length===0?"":($=re[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:ge,setTargetPages:function(de){A.update("targetPageFilter",de)}}},v$2=function(A){var $=A.children,V=A.store,B=m$3(V),O=r$4.useState(!1),R=O[0],re=O[1],le=function(pe){return re(!0)};return r$4.useEffect(function(){return V.subscribe("doc",le),function(){V.unsubscribe("doc",le)}},[]),$(c$4(c$4({},B),{isDocumentLoaded:R}))},x=function(A){var $=A.containerRef,V=A.store,B=r$4.useRef(!1),O=function(){B.current=!0},R=function(){B.current=!1},re=function(le){var pe=$.current;pe&&(le.shiftKey||le.altKey||le.key!=="f"||(e$4.isMac()?le.metaKey&&!le.ctrlKey:le.ctrlKey)&&(B.current||document.activeElement&&pe.contains(document.activeElement))&&(le.preventDefault(),V.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var le=$.current;if(le)return document.addEventListener("keydown",re),le.addEventListener("mouseenter",O),le.addEventListener("mouseleave",R),function(){document.removeEventListener("keydown",re),le.removeEventListener("mouseenter",O),le.removeEventListener("mouseleave",R)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,V=A.onToggle,B=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,R=r$4.useState(!1),re=R[0],le=R[1],pe=r$4.useState(!1),ae=pe[0],ne=pe[1],be=O===e$4.TextDirection.RightToLeft,oe=m$3($),ee=oe.clearKeyword,te=oe.changeMatchCase,G=oe.changeWholeWords,U=oe.currentMatch,J=oe.jumpToNextMatch,K=oe.jumpToPreviousMatch,W=oe.keyword,q=oe.matchCase,H=oe.numberOfMatches,X=oe.wholeWords,ue=oe.search,ge=oe.setKeyword,Ee=function(Ve){le(!0),ue().then(function(qe){le(!1),ne(!0),Ve&&Ve()})};r$4.useEffect(function(){var Ve=$.get("initialKeyword");Ve&&Ve.length===1&&W&&Ee(function(){$.update("initialKeyword",[])})},[]);var we=B&&B.search?B.search.enterToSearch:"Enter to search",de=B&&B.search?B.search.previousMatch:"Previous match",Te=B&&B.search?B.search.nextMatch:"Next match",it=B&&B.search?B.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:we,autoFocus:!0,placeholder:we,type:"text",value:W,onChange:function(Ve){ne(!1),ge(Ve)},onKeyDown:function(Ve){Ve.key==="Enter"&&W&&(ae?J():Ee())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!be,"rpv-search__popover-counter--rtl":be})},re&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!re&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",H))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:q,type:"checkbox",onChange:function(Ve){ne(!1),te(Ve.target.checked)}})," ",B&&B.search?B.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:X,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Ve){ne(!1),G(Ve.target.checked)}})," ",B&&B.search?B.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:be?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:de,isDisabled:U<=1,onClick:K},r$4.createElement(o$4,null)),content:function(){return de},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Te,isDisabled:U>H-1,onClick:J},r$4.createElement(n$4,null)),content:function(){return Te},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!be,"rpv-search__popover-footer-button--rtl":be})},r$4.createElement(e$4.Button,{onClick:function(){V(),ee()}},it))))},w=function(A){var $=A.children,V=A.onClick,B=r$4.useContext(e$4.LocalizationContext).l10n,O=B&&B.search?B.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:V})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,V=A.store,B=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",R=function(re){re&&B()};return r$4.useEffect(function(){return V.subscribe("areShortcutsPressed",R),function(){V.unsubscribe("areShortcutsPressed",R)}},[]),r$4.createElement(w,{onClick:B},function(re){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:re.label,testId:"search__popover-button",onClick:B},re.icon),content:function(){return re.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,R=$||function(re){return r$4.createElement(k$1,c$4({enableShortcuts:V,store:B},re))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(re){return R({onClick:re})},content:function(re){return r$4.createElement(E$2,{store:B,onToggle:re})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),V=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),B=m$3(V),O=B.clearKeyword,R=B.jumpToMatch,re=B.jumpToNextMatch,le=B.jumpToPreviousMatch,pe=B.searchFor,ae=B.setKeywords,ne=B.setTargetPages,be=function(oe){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},oe,{store:V}))};return{install:function(oe){var ee=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],te=A&&A.keyword?P$1(A.keyword):[u$4];V.update("initialKeyword",ee),V.update("jumpToDestination",oe.jumpToDestination),V.update("jumpToPage",oe.jumpToPage),V.update("keyword",te)},renderPageLayer:function(oe){return r$4.createElement(f$3,{key:oe.pageIndex,numPages:oe.doc.numPages,pageIndex:oe.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:V,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(oe){var ee=oe.slot;return ee.subSlot&&(ee.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:oe.containerRef,store:V}),ee.subSlot.children)),ee},uninstall:function(oe){var ee=V.get("renderStatus");ee&&ee.clear()},onDocumentLoad:function(oe){V.update("doc",oe.doc)},onTextLayerRender:function(oe){var ee=V.get("renderStatus");ee&&(ee=ee.set(oe.pageIndex,oe),V.update("renderStatus",ee))},Search:function(oe){return r$4.createElement(v$2,c$4({},oe,{store:V}))},ShowSearchPopover:be,ShowSearchPopoverButton:function(){return r$4.createElement(be,null,function(oe){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:V},oe))})},clearHighlights:function(){O()},highlight:function(oe){var ee=Array.isArray(oe)?oe:[oe];return ae(ee),pe(ee)},jumpToMatch:R,jumpToNextMatch:re,jumpToPreviousMatch:le,setTargetPages:ne}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,V=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,O=V.currentTheme==="dark",R=B&&B.theme?O?B.theme.switchLightTheme:B.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:R,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return R},offset:a$3})},l$3=function(A){var $=A.children,V=n$3.useContext(e$3.ThemeContext);return($||function(B){return n$3.createElement(i$3,{onClick:B.onClick})})({onClick:function(){return V.setCurrentTheme(V.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,V=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,O=V.currentTheme==="dark",R=B&&B.theme?O?B.theme.switchLightTheme:B.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},R)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(V){return n$3.createElement(u$3,{onClick:function(){V.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10\n            M10.5,5.499v10"}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10"}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),V=$[0],B=$[1],O=function(R){B(R)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:V}},u$2=function(A){var $=A.children,V=A.store;return($||function(B){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*B.scale),"%"))})({scale:a$2(V).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,V=A.store,B=e$2.useDebounceCallback(function(R){var re=V.get("zoom");re&&re(R)},40),O=function(R){if(R.ctrlKey){R.preventDefault();var re=R.target.getBoundingClientRect(),le=1-R.deltaY/100,pe=R.clientX-re.left,ae=R.clientY-re.top,ne=V.get("scale"),be=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(pe,ae).scale(le).translate(-pe,-ae).scale(ne);B(be.a)}};return e$2.useIsomorphicLayoutEffect(function(){var R=$.current;if(R)return R.addEventListener("wheel",O,l$2),function(){R.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(V){return V>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,V=A.store,B=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var R=$.current;if(R&&document.activeElement&&R.contains(document.activeElement)){var re=V.get("zoom");if(re){var le=V.get("scale")||1,pe=1;switch(O.key){case"-":pe=v$1(le);break;case"=":pe=f$2(le);break;case"0":pe=1;break;default:pe=le}pe!==le&&(O.preventDefault(),re(pe))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,V=$===void 0?z:$,B=A.scale,O=A.onZoom,R=n$2.useContext(e$2.LocalizationContext).l10n,re=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,le=R&&R.zoom?R.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(pe){return n$2.createElement(e$2.MinimalButton,{ariaLabel:le,testId:"zoom__popover-target",onClick:function(){pe()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!re,"rpv-zoom__popover-target-scale--rtl":re})},Math.round(100*B),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(pe){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ae){var ne=ae;return n$2.createElement(e$2.MenuItem,{key:ne,onClick:function(){pe(),O(ne)}},function(be){switch(be){case e$2.SpecialZoomLevel.ActualSize:return R&&R.zoom?R.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return R&&R.zoom?R.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return R&&R.zoom?R.zoom.pageWidth:"Page width"}}(ne))}),n$2.createElement(e$2.MenuDivider,null),V.map(function(ae){return n$2.createElement(e$2.MenuItem,{key:ae,onClick:function(){pe(),O(ae)}},"".concat(Math.round(100*ae),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,V=A.levels,B=A.store;return($||function(O){return n$2.createElement(d$2,{levels:V,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(B).scale,onZoom:function(O){var R=B.get("zoom");R&&R(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,O=B&&B.zoom?B.zoom.zoomIn:"Zoom in",R=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"zoom__in-button",onClick:V},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,O=a$2(B).scale;return($||h$1)({enableShortcuts:V,onClick:function(){var R=B.get("zoom");R&&R(f$2(O))}})},k=function(A){var $=A.onClick,V=n$2.useContext(e$2.LocalizationContext).l10n,B=V&&V.zoom?V.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},B)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,O=B&&B.zoom?B.zoom.zoomOut:"Zoom out",R=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:O,testId:"zoom__out-button",onClick:V},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,O=a$2(B).scale;return($||M$1)({enableShortcuts:V,onClick:function(){var R=B.get("zoom");R&&R(v$1(O))}})},Z=function(A){var $=A.onClick,V=n$2.useContext(e$2.LocalizationContext).l10n,B=V&&V.zoom?V.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},B)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$2.useMemo(function(){return e$2.createStore({})},[]),B=function(re){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:V}))},O=function(re){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:V}))},R=function(re){return n$2.createElement(g$1,c$2({},re,{store:V}))};return{renderViewer:function(re){var le=re.slot;if(!$.enableShortcuts)return le;var pe={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:re.containerRef,store:V}),n$2.createElement(s$2,{pagesContainerRef:re.pagesContainerRef,store:V}),le.children)};return c$2(c$2({},le),pe)},install:function(re){V.update("zoom",re.zoom)},onViewerStateChange:function(re){return V.update("scale",re.scale),re},zoomTo:function(re){var le=V.get("zoom");le&&le(re)},CurrentScale:function(re){return n$2.createElement(u$2,c$2({},re,{store:V}))},ZoomIn:B,ZoomInButton:function(){return n$2.createElement(B,null,function(re){return n$2.createElement(h$1,c$2({},re))})},ZoomInMenuItem:function(re){return n$2.createElement(B,null,function(le){return n$2.createElement(k,{onClick:function(){le.onClick(),re.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(re){return n$2.createElement(M$1,c$2({},re))})},ZoomOutMenuItem:function(re){return n$2.createElement(O,null,function(le){return n$2.createElement(Z,{onClick:function(){le.onClick(),re.onClick()}})})},Zoom:R,ZoomPopover:function(re){return n$2.createElement(R,null,function(le){return n$2.createElement(d$2,c$2({levels:re==null?void 0:re.levels},le))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n            M12,9.5\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,V=_.useContext(e$1.LocalizationContext).l10n,B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,R=$.EnterFullScreenMenuItem,re=$.GoToFirstPageMenuItem,le=$.GoToLastPageMenuItem,pe=$.GoToNextPageMenuItem,ae=$.GoToPreviousPageMenuItem,ne=$.OpenMenuItem,be=$.PrintMenuItem,oe=$.RotateBackwardMenuItem,ee=$.RotateForwardMenuItem,te=$.ShowPropertiesMenuItem,G=$.SwitchScrollModeMenuItem,U=$.SwitchSelectionModeMenuItem,J=$.SwitchViewModeMenuItem,K=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:B,target:function(W,q){var H=V&&V.toolbar?V.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:B,target:_.createElement(e$1.MinimalButton,{ariaLabel:H,isSelected:q,testId:"toolbar__more-actions-popover-target",onClick:W},_.createElement(E,null)),content:function(){return H},offset:g})},content:function(W){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(K,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ne,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(be,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:W}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ae,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(pe,{onClick:W})),_.createElement(le,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(ee,{onClick:W}),_.createElement(oe,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(U,{mode:t$1.SelectionMode.Text,onClick:W}),_.createElement(U,{mode:t$1.SelectionMode.Hand,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:e$1.ScrollMode.Page,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Vertical,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Horizontal,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Wrapped,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.SinglePage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.DualPage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(J,{mode:e$1.ViewMode.DualPageWithCover,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(te,{onClick:W}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var V=_.useMemo(function(){return A($)},[]),B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=V.CurrentPageInput,R=V.Download,re=V.EnterFullScreen,le=V.GoToNextPage,pe=V.GoToPreviousPage,ae=V.NumberOfPages,ne=V.Open,be=V.Print,oe=V.ShowSearchPopover,ee=V.SwitchTheme,te=V.Zoom,G=V.ZoomIn,U=V.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":B}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(oe,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ae,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(le,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ee,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(be,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:V}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,V=A.slot;return($||S)(V)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),V=o$1.getFilePlugin(A?A.getFilePlugin:{}),B=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),R=i$1.printPlugin(A?A.printPlugin:{}),re=c$1.propertiesPlugin(),le=m$1.rotatePlugin(),pe=u$1.scrollModePlugin(),ae=s$1.searchPlugin(A?A.searchPlugin:{}),ne=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),be=d$1.themePlugin(),oe=p.zoomPlugin(A?A.zoomPlugin:{}),ee=[$,V,B,O,R,re,le,pe,ae,ne,be,oe],te=_.useCallback(function(G){var U=$.EnterFullScreen,J=$.EnterFullScreenMenuItem,K=V.Download,W=V.DownloadMenuItem,q=B.Open,H=B.OpenMenuItem,X=O.CurrentPageInput,ue=O.CurrentPageLabel,ge=O.GoToFirstPage,Ee=O.GoToFirstPageMenuItem,we=O.GoToLastPage,de=O.GoToLastPageMenuItem,Te=O.GoToNextPage,it=O.GoToNextPageMenuItem,Ve=O.GoToPreviousPage,qe=O.GoToPreviousPageMenuItem,Be=O.NumberOfPages,Oe=R.Print,De=R.PrintMenuItem,et=re.ShowProperties,tt=re.ShowPropertiesMenuItem,Ae=le.Rotate,ce=le.RotateBackwardMenuItem,ie=le.RotateForwardMenuItem,me=pe.SwitchScrollMode,Se=pe.SwitchScrollModeMenuItem,Ce=pe.SwitchViewMode,xe=pe.SwitchViewModeMenuItem,Re=ae.Search,Ue=ae.ShowSearchPopover,nt=ne.SwitchSelectionMode,We=ne.SwitchSelectionModeMenuItem,Qe=be.SwitchTheme,Xe=be.SwitchThemeMenuItem,se=oe.CurrentScale,he=oe.Zoom,ye=oe.ZoomIn,ke=oe.ZoomInMenuItem,_e=oe.ZoomOut,$e=oe.ZoomOutMenuItem;return _.createElement(I,M({},G,{slot:{CurrentPageInput:X,CurrentPageLabel:ue,CurrentScale:se,Download:K,DownloadMenuItem:W,EnterFullScreen:U,EnterFullScreenMenuItem:J,GoToFirstPage:ge,GoToFirstPageMenuItem:Ee,GoToLastPage:we,GoToLastPageMenuItem:de,GoToNextPage:Te,GoToNextPageMenuItem:it,GoToPreviousPage:Ve,GoToPreviousPageMenuItem:qe,NumberOfPages:Be,Open:q,OpenMenuItem:H,Print:Oe,PrintMenuItem:De,Rotate:Ae,RotateBackwardMenuItem:ce,RotateForwardMenuItem:ie,Search:Re,ShowProperties:et,ShowPropertiesMenuItem:tt,ShowSearchPopover:Ue,SwitchScrollMode:me,SwitchScrollModeMenuItem:Se,SwitchSelectionMode:nt,SwitchSelectionModeMenuItem:We,SwitchViewMode:Ce,SwitchViewModeMenuItem:xe,SwitchTheme:Qe,SwitchThemeMenuItem:Xe,Zoom:he,ZoomIn:ye,ZoomInMenuItem:ke,ZoomOut:_e,ZoomOutMenuItem:$e}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:V,openPluginInstance:B,pageNavigationPluginInstance:O,printPluginInstance:R,propertiesPluginInstance:re,rotatePluginInstance:le,scrollModePluginInstance:pe,searchPluginInstance:ae,selectionModePluginInstance:ne,themePluginInstance:be,zoomPluginInstance:oe,install:function(G){ee.forEach(function(U){U.install&&U.install(G)})},renderPageLayer:function(G){return _.createElement(_.Fragment,null,ee.map(function(U,J){return U.renderPageLayer?_.createElement(_.Fragment,{key:J},U.renderPageLayer(G)):_.createElement(_.Fragment,{key:J})}))},renderViewer:function(G){var U=G.slot;return ee.forEach(function(J){J.renderViewer&&(U=J.renderViewer(M(M({},G),{slot:U})))}),U},uninstall:function(G){ee.forEach(function(U){U.uninstall&&U.uninstall(G)})},onDocumentLoad:function(G){ee.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(G)})},onAnnotationLayerRender:function(G){ee.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(G)})},onTextLayerRender:function(G){ee.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(G)})},onViewerStateChange:function(G){var U=G;return ee.forEach(function(J){J.onViewerStateChange&&(U=J.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:te}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"}))},i=function(){return i=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var O in $=arguments[V])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,V=A.bookmarkTabContent,B=A.store,O=A.thumbnailTabContent,R=A.tabs,re=u.useRef(),le=u.useContext(e.LocalizationContext).l10n,pe=u.useState(B.get("isCurrentTabOpened")||!1),ae=pe[0],ne=pe[1],be=u.useState(Math.max(B.get("currentTab")||0,0)),oe=be[0],ee=be[1],te=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,G=[{content:O,icon:u.createElement(d,null),title:le&&le.defaultLayout?le.defaultLayout.thumbnail:"Thumbnail"},{content:V,icon:u.createElement(c,null),title:le&&le.defaultLayout?le.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:le&&le.defaultLayout?le.defaultLayout.attachment:"Attachment"}],U=R?R(G):G,J=function(W){W>=0&&W<=U.length-1&&(B.update("isCurrentTabOpened",!0),ee(W))},K=function(W){ne(W)};return u.useEffect(function(){return B.subscribe("currentTab",J),B.subscribe("isCurrentTabOpened",K),function(){B.unsubscribe("currentTab",J),B.unsubscribe("isCurrentTabOpened",K)}},[]),U.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ae,"rpv-default-layout__sidebar--ltr":!te,"rpv-default-layout__sidebar--rtl":te}),ref:re},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},U.map(function(W,q){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":oe===q,key:q,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(q),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(q),position:te?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:W.title,isSelected:oe===q,onClick:function(){return function(H){if(oe===H){B.update("isCurrentTabOpened",!B.get("isCurrentTabOpened"));var X=re.current;X&&X.style.width&&X.style.removeProperty("width")}else B.update("currentTab",H)}(q)}},W.icon),content:function(){return W.title},offset:te?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(oe),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ae,"rpv-default-layout__sidebar-content--ltr":!te,"rpv-default-layout__sidebar-content--rtl":te}),role:"tabpanel",tabIndex:-1},U[oe].content))),ae&&u.createElement(e.Splitter,{constrain:function(W){return W.firstHalfPercentage>=20&&W.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),V=n.attachmentPlugin(),B=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),R=o.toolbarPlugin(A?A.toolbarPlugin:{}),re=V.Attachments,le=B.Bookmarks,pe=O.Thumbnails,ae=R.Toolbar,ne=A?A.sidebarTabs:function(oe){return oe},be=[V,B,O,R];return{attachmentPluginInstance:V,bookmarkPluginInstance:B,thumbnailPluginInstance:O,toolbarPluginInstance:R,activateTab:function(oe){$.update("currentTab",oe)},toggleTab:function(oe){var ee=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),ee!==oe&&$.update("currentTab",oe)},install:function(oe){be.forEach(function(ee){ee.install&&ee.install(oe)})},renderPageLayer:function(oe){return u.createElement(u.Fragment,null,be.map(function(ee,te){return ee.renderPageLayer?u.createElement(u.Fragment,{key:te},ee.renderPageLayer(oe)):u.createElement(u.Fragment,{key:te},u.createElement(u.Fragment,null))}))},renderViewer:function(oe){var ee=oe.slot;be.forEach(function(G){G.renderViewer&&(ee=G.renderViewer(i(i({},oe),{slot:ee})))});var te=ee.subSlot&&ee.subSlot.attrs?{className:ee.subSlot.attrs.className,"data-testid":ee.subSlot.attrs["data-testid"],ref:ee.subSlot.attrs.ref,style:ee.subSlot.attrs.style}:{};return ee.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":oe.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(re,null),bookmarkTabContent:u.createElement(le,null),store:$,thumbnailTabContent:u.createElement(pe,null),tabs:ne}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(ae):u.createElement(ae,null)),u.createElement("div",i({},te),ee.subSlot.children))),ee.children),ee.subSlot.attrs={},ee.subSlot.children=u.createElement(u.Fragment,null),ee},uninstall:function(oe){be.forEach(function(ee){ee.uninstall&&ee.uninstall(oe)})},onDocumentLoad:function(oe){be.forEach(function(ee){ee.onDocumentLoad&&ee.onDocumentLoad(oe)}),A&&A.setInitialTab&&A.setInitialTab(oe.doc).then(function(ee){$.update("currentTab",ee),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(oe){be.forEach(function(ee){ee.onAnnotationLayerRender&&ee.onAnnotationLayerRender(oe)})},onTextLayerRender:function(oe){be.forEach(function(ee){ee.onTextLayerRender&&ee.onTextLayerRender(oe)})},onViewerStateChange:function(oe){var ee=oe;return be.forEach(function(te){te.onViewerStateChange&&(ee=te.onViewerStateChange(ee))}),ee}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,V){A.getPageMode().then(function(B){if(B)switch(B){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;function MyPDFViewer(A){const $=libExports.defaultLayoutPlugin({sidebarTabs:V=>[],...!(A!=null&&A.toolbar)&&{renderToolbar:V=>[]}});return jsxRuntimeExports.jsx("div",{className:"".concat(A==null?void 0:A.height),children:jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:A==null?void 0:A.fileUrl,plugins:[$]})})})}function Measurement(){var ee,te,G,U,J,K,W,q,H,X,ue,ge,Ee,we,de,Te,it,Ve,qe,Be,Oe,De,et,tt,Ae,ce,ie,me;const A=useNavigate(),$=usePostMutation({}),[V,B]=React.useState(""),[O,R]=React.useState(""),{id:re}=useParams(),le=useApiPost({api:propertyApi.staticSafDetail,config:{applicationId:re},value:[re],options:{enabled:!!re}}),pe=useApiPost({api:(ee=workFlow)==null?void 0:ee.workFlowInfo,config:{workflowId:(G=(te=le==null?void 0:le.data)==null?void 0:te.data)==null?void 0:G.workflow_id},value:[(J=(U=le==null?void 0:le.data)==null?void 0:U.data)==null?void 0:J.workflow_id],options:{enabled:!!((W=(K=le==null?void 0:le.data)==null?void 0:K.data)!=null&&W.workflow_id)}}),ae=useFormik({initialValues:{uploadMeasurement:"",comment:""},validationSchema:create$3({uploadMeasurement:create$8().required("Measurement Sheet is required").test("fileSize","Max 10 mb file size",Se=>(Se==null?void 0:Se.size)<=1e7),comment:create$6().label("Comment").min(2).max(500)}),onSubmit:async Se=>{Swal.fire({title:"Are you sure?",text:"\n       You are going to forward the application to the next level.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(Ce=>{Ce.isConfirmed&&ne(Se)}).catch(Ce=>{var xe,Re;console.log(Ce),Q.error((Re=(xe=Ce==null?void 0:Ce.response)==null?void 0:xe.data)==null?void 0:Re.message)})}}),ne=async Se=>{var xe,Re,Ue,nt,We,Qe;const Ce=new FormData;Ce.append("applicationId",re),Ce.append("document",Se==null?void 0:Se.uploadMeasurement);try{const Xe=await $.mutateAsync({api:propertyApi.uploadMeasurementSheetApi,data:Ce});if((xe=Xe==null?void 0:Xe.data)!=null&&xe.status){const se=await $.mutateAsync({api:propertyApi.safLevel,data:{applicationId:re,receiverRoleId1:"",action:"forward",comment:(Se==null?void 0:Se.comment)||"OK"}});(Re=se==null?void 0:se.data)!=null&&Re.status?(Q.success((Ue=se==null?void 0:se.data)==null?void 0:Ue.message),A("/amc-app/property/saf-verification-list",{replace:!0})):Q.error((nt=se==null?void 0:se.data)==null?void 0:nt.message)}else Q.error((We=Xe==null?void 0:Xe.data)==null?void 0:We.message)}catch(Xe){Q.error((Qe=Xe==null?void 0:Xe.data)==null?void 0:Qe.message)}},be=async()=>{var Se;if(((Se=ae==null?void 0:ae.values)==null?void 0:Se.comment)=="")return Q.error("Comment is required !");Swal.fire({title:"Are you sure?",text:"You are going to backward of this application",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(async Ce=>{var xe,Re,Ue,nt;if(Ce.isConfirmed)try{const We=await $.mutateAsync({api:propertyApi.safLevel,data:{applicationId:re,receiverRoleId1:"",action:"backward",comment:((xe=ae==null?void 0:ae.values)==null?void 0:xe.comment)||"No Comment"}});(Re=We==null?void 0:We.data)!=null&&Re.status?(Q.success((Ue=We==null?void 0:We.data)==null?void 0:Ue.message),A("/amc-app/property/saf-verification-list",{replace:!0})):Q.error(((nt=We==null?void 0:We.data)==null?void 0:nt.message)||"Something went wrong, Please try again")}catch(We){Q.error(We==null?void 0:We.message),console.log(We)}}).catch(Ce=>{var xe,Re;Q.error((Re=(xe=Ce==null?void 0:Ce.response)==null?void 0:xe.data)==null?void 0:Re.message)})},oe=async Se=>{var xe,Re,Ue;const Ce=Se.target.files[0];if((Ce==null?void 0:Ce.type)==="application/pdf"){const nt=new FileReader;nt.onload=We=>{B(We.target.result),R(Ce.name.split(".").pop())},nt.readAsDataURL(Ce),ae.setFieldValue("uploadMeasurement",Ce)}else{const nt=await resizeFile((xe=Se==null?void 0:Se.target)==null?void 0:xe.files[0]),We=new File([nt],(Ue=(Re=Se==null?void 0:Se.target)==null?void 0:Re.files[0])==null?void 0:Ue.name,{type:"image/*"}),Qe=new FileReader;Qe.onload=Xe=>{B(Xe.target.result),R(We.name.split(".").pop())},Qe.readAsDataURL(We),ae.setFieldValue("uploadMeasurement",We)}};return le!=null&&le.isLoading?jsxRuntimeExports.jsx(InitialLoader,{}):jsxRuntimeExports.jsxs(Page,{title:"Measurement",children:[$.isLoading&&jsxRuntimeExports.jsx(OverLayLoader,{}),jsxRuntimeExports.jsx(FormProvider,{formik:ae,children:jsxRuntimeExports.jsxs("div",{className:"p-4 ",children:[jsxRuntimeExports.jsx(react.Card,{className:"w-full",children:jsxRuntimeExports.jsxs(react.CardBody,{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsx("h1",{className:"font-semibold",children:"Measurement Sheet"})}),jsxRuntimeExports.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(H=(q=le==null?void 0:le.data)==null?void 0:q.data)==null?void 0:H.saf_no}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(ue=(X=le==null?void 0:le.data)==null?void 0:X.data)==null?void 0:ue.assessment_type}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(Ee=(ge=le==null?void 0:le.data)==null?void 0:ge.data)==null?void 0:Ee.application_date}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm",children:(de=(we=le==null?void 0:le.data)==null?void 0:we.data)==null?void 0:de.applicant_name}),jsxRuntimeExports.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),jsxRuntimeExports.jsx("h1",{className:"text-sm w-40 truncate",children:(qe=(Ve=(it=(Te=le==null?void 0:le.data)==null?void 0:Te.data)==null?void 0:it.owners)==null?void 0:Ve.map(Se=>Se==null?void 0:Se.mobile_no))==null?void 0:qe.join(", ")})]})]})}),jsxRuntimeExports.jsx("div",{className:"my-4 border-b-2"}),jsxRuntimeExports.jsxs(react.Card,{className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:jsxRuntimeExports.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Upload Measurement Sheet"})}),V&&(O==="pdf"?jsxRuntimeExports.jsx(MyPDFViewer,{fileUrl:V}):jsxRuntimeExports.jsx("div",{className:"flex justify-center px-4 py-2",children:jsxRuntimeExports.jsx("img",{src:V,alt:"preview"})})),jsxRuntimeExports.jsx(react.CardBody,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 justify-center gap-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-1",children:jsxRuntimeExports.jsx("h1",{className:"font-semibold text-xs",children:"Upload Measurement Sheet"})}),jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf, image/*",name:"uploadMeasurement",onChange:oe,className:"border border-gray-300 p-2 w-full rounded-lg"}),jsxRuntimeExports.jsx("small",{className:"text-red-500",children:((Be=ae==null?void 0:ae.errors)==null?void 0:Be.uploadMeasurement)&&((Oe=ae==null?void 0:ae.touched)==null?void 0:Oe.uploadMeasurement)&&((De=ae==null?void 0:ae.errors)==null?void 0:De.uploadMeasurement)})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TextAreaField,{label:"Comment",name:"comment",formik:ae,placeholder:"Comment"})})]})})]}),jsxRuntimeExports.jsx("div",{className:"my-4 border-b-2"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center mt-4 gap-3",children:[((Ae=(tt=(et=pe==null?void 0:pe.data)==null?void 0:et.data)==null?void 0:tt.permissions)==null?void 0:Ae.can_backward)&&jsxRuntimeExports.jsx(react.Button,{onClick:be,size:"sm",className:"bg-red-500 text-white",children:jsxRuntimeExports.jsx("small",{children:"Back To Back Office"})}),((me=(ie=(ce=pe==null?void 0:pe.data)==null?void 0:ce.data)==null?void 0:ie.permissions)==null?void 0:me.can_forward)&&jsxRuntimeExports.jsx(react.Button,{type:"submit",size:"sm",className:"bg-blue-500 text-white",children:jsxRuntimeExports.jsx("small",{children:"Forward"})})]})})]})})]})}export{Measurement as default};
