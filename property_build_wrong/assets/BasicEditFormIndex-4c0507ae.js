import{r as c,l as ke,bC as ma,m as b,o as Fe,j as e,bZ as Xl,b5 as pe,b7 as Yl,b_ as se,ba as ge,b8 as Cl,c as Dl,cy as ia,b1 as ua,b6 as ba,b9 as xa,a as ea,b3 as ha,cR as fa,k as ya,bv as ga,A as me,N as ie,T as Na,S as ja,Q as va,bb as wa}from"./index-844f0276.js";import{N as la}from"./react-tooltip.esm.min-fea11bce.js";/* empty css                      */import{T as _a}from"./index.esm-87271487.js";function pa(l){var F,O,W,y,j,w,V,q,H,X,o,m,re,U,Y,C,I,D,de,G,K,ee,Q,Z,le,J,A,T,L,h,$,i,B,M;const[g,P]=c.useState(!1),_=ke({addressCheckbox:ma(),khataNo:b().max(50,"Enter maximum 50 characters"),plotNo:b(),village_mauja:b(),plotArea:b(),roadWidth:b(),city:b(),district:b(),state:b(),pin:b().min(6,"Enter minimum 6 digit"),locality:b(),c_city:b().when("addressCheckbox",{is:!0,then:b()}),c_district:b().when("addressCheckbox",{is:!0,then:b()}),c_state:b().when("addressCheckbox",{is:!0,then:b()}),c_pin:b().when("addressCheckbox",{is:!0,then:b().min(6,"Enter minimum 6 digit")}),c_locality:b().when("addressCheckbox",{is:!0,then:b()}),buildingName:b(),streetName:b(),location2:b(),landmark:b()}),t=Fe({initialValues:{addressCheckbox:"",khataNo:"",plotNo:"",village_mauja:"",plotArea:"",roadWidth:"",city:"",district:"",state:"",pin:"",locality:"",c_city:"",c_district:"",c_state:"",c_pin:"",c_locality:"",buildingName:"",streetName:"",location2:"",landmark:""},onSubmit:(r,n)=>{console.log("propertyaddressdetails ",r),l==null||l.setpropAddressDetails(r),l==null||l.setleveFormSubmitCount(3),l==null||l.submitSafForm()},validationSchema:_}),p=r=>{let n=r.target.name,u=r.target.value;n=="addressCheckbox"&&P(r.target.checked),n=="khataNo"&&t.setFieldValue("khataNo",Xl(u,t.values.khataNo,100)),n=="plotNo"&&t.setFieldValue("plotNo",Xl(u,t.values.plotNo,100)),n=="village_mauja"&&t.setFieldValue("village_mauja",pe(u,t.values.village_mauja,100)),n=="plotArea"&&t.setFieldValue("plotArea",Yl(u,t.values.plotArea,20)),n=="roadWidth"&&t.setFieldValue("roadWidth",Yl(u,t.values.roadWidth,20)),n=="city"&&t.setFieldValue("city",se(u,t.values.city,100)),n=="district"&&t.setFieldValue("district",se(u,t.values.district,100)),n=="state"&&t.setFieldValue("state",se(u,t.values.state,100)),n=="pin"&&t.setFieldValue("pin",ge(u,t.values.pin,6)),n=="locality"&&t.setFieldValue("locality",Cl(u,t.values.locality,200)),n=="c_city"&&t.setFieldValue("c_city",se(u,t.values.c_city,100)),n=="c_district"&&t.setFieldValue("c_district",se(u,t.values.c_district,100)),n=="c_state"&&t.setFieldValue("c_state",se(u,t.values.c_state,100)),n=="c_pin"&&t.setFieldValue("c_pin",ge(u,t.values.c_pin,6)),n=="c_locality"&&t.setFieldValue("c_locality",Cl(u,t.values.c_locality,200))};c.useEffect(()=>{f()},[l==null?void 0:l.existingPropertyDetails,l==null?void 0:l.safType]),c.useEffect(()=>{E()},[l==null?void 0:l.ulbLocation]),c.useEffect(()=>{(l==null?void 0:l.leveFormSubmitCount)==2&&t.handleSubmit()},[l==null?void 0:l.leveFormSubmitCount]);const[s,v]=c.useState(),E=()=>{var r,n,u;console.log("inside location in address...",l==null?void 0:l.ulbLocation),t.setFieldValue("city",(r=l==null?void 0:l.ulbLocation)==null?void 0:r.city_name),t.setFieldValue("state",(n=l==null?void 0:l.ulbLocation)==null?void 0:n.name),t.setFieldValue("district",(u=l==null?void 0:l.ulbLocation)==null?void 0:u.city_name)},f=()=>{var r,n,u,ue,Ne,k,je,be,oe,xe,ce,he,ve,we,fe,S,ae,ye,te;console.log("existing property details in prop address...",l==null?void 0:l.propAddressDetails),t.setFieldValue("khataNo",(r=l==null?void 0:l.propAddressDetails)==null?void 0:r.khataNo),t.setFieldValue("plotNo",(n=l==null?void 0:l.propAddressDetails)==null?void 0:n.plotNo),t.setFieldValue("village_mauja",(u=l==null?void 0:l.propAddressDetails)==null?void 0:u.village_mauja),t.setFieldValue("plotArea",(ue=l==null?void 0:l.propAddressDetails)==null?void 0:ue.plotArea),t.setFieldValue("roadWidth",(Ne=l==null?void 0:l.propAddressDetails)==null?void 0:Ne.roadWidth),t.setFieldValue("city",(k=l==null?void 0:l.propAddressDetails)==null?void 0:k.city),t.setFieldValue("district",(je=l==null?void 0:l.propAddressDetails)==null?void 0:je.district),t.setFieldValue("state",(be=l==null?void 0:l.propAddressDetails)==null?void 0:be.state),t.setFieldValue("pin",(oe=l==null?void 0:l.propAddressDetails)==null?void 0:oe.pin),t.setFieldValue("locality",(xe=l==null?void 0:l.propAddressDetails)==null?void 0:xe.locality),t.setFieldValue("c_city",(ce=l==null?void 0:l.propAddressDetails)==null?void 0:ce.c_city),t.setFieldValue("c_district",(he=l==null?void 0:l.propAddressDetails)==null?void 0:he.c_district),t.setFieldValue("c_state",(ve=l==null?void 0:l.propAddressDetails)==null?void 0:ve.c_state),t.setFieldValue("c_pin",(we=l==null?void 0:l.propAddressDetails)==null?void 0:we.c_pin),t.setFieldValue("c_locality",(fe=l==null?void 0:l.propAddressDetails)==null?void 0:fe.c_locality),t.setFieldValue("buildingName",(S=l==null?void 0:l.propAddressDetails)==null?void 0:S.buildingName),t.setFieldValue("streetName",(ae=l==null?void 0:l.propAddressDetails)==null?void 0:ae.streetName),t.setFieldValue("location2",(ye=l==null?void 0:l.propAddressDetails)==null?void 0:ye.location2),t.setFieldValue("landmark",(te=l==null?void 0:l.propAddressDetails)==null?void 0:te.landmark)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex md:pr-6 mt-6 mb-4",children:e.jsx("div",{class:"w-full",children:e.jsx("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("div",{class:"flex-1",children:e.jsx("div",{children:e.jsx("div",{class:"text-lg font-bold text-gray-700 leading-tight",children:"Property Address & Details"})})})})})}),e.jsx("div",{className:"block p-4 w-full md:py-6 rounded-lg shadow-lg bg-white mx-auto border border-gray-200",children:e.jsxs("form",{onSubmit:t.handleSubmit,onChange:p,children:[e.jsx(la,{anchorId:"id_khata"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-5",children:[e.jsxs("div",{className:"form-group col-span-4 md:col-span-1 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Khata No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(F=s==null?void 0:s.khataNo)==null?void 0:F.readOnly,...t.getFieldProps("khataNo"),type:"text",className:`cypress_khata_no form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(O=s==null?void 0:s.khataNo)==null?void 0:O.style}`,placeholder:"Enter Khata No."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.khataNo&&t.errors.khataNo?t.errors.khataNo:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Plot No",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(W=s==null?void 0:s.plotNo)==null?void 0:W.readOnly,...t.getFieldProps("plotNo"),type:"text",className:`cypress_plot_no form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(y=s==null?void 0:s.plotNo)==null?void 0:y.style}`,placeholder:"Enter Plot No."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.plotNo&&t.errors.plotNo?t.errors.plotNo:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Village/Mauja Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(j=s==null?void 0:s.village_mauja)==null?void 0:j.readOnly,...t.getFieldProps("village_mauja"),type:"text",className:`cypress_village form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(w=s==null?void 0:s.village_mauja)==null?void 0:w.style}`,placeholder:"Enter Village/Mauja Name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.village_mauja&&t.errors.village_mauja?t.errors.village_mauja:null})]})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-5 justify-center items-center",children:[e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("small",{className:"mt-1 text-xs text-blue-400 inline md:px-4 font-mono text-center",children:"Basic Address"})]})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"})]}),e.jsxs("div",{className:"col-span-4 grid grid-cols-1 md:grid-cols-4",children:[e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["City",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(V=s==null?void 0:s.city)==null?void 0:V.readOnly,...t.getFieldProps("city"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-norma text-gray-500 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 placeholder-gray-300 shadow-md bg-gray-200 ${(q=s==null?void 0:s.city)==null?void 0:q.style}`,placeholder:"Enter City"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.city&&t.errors.city?t.errors.city:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["District",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(H=s==null?void 0:s.district)==null?void 0:H.readOnly,...t.getFieldProps("district"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-norma ltext-gray-500 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 placeholder-gray-300 shadow-md bg-gray-200 ${(X=s==null?void 0:s.district)==null?void 0:X.style}`,placeholder:"Enter District"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.district&&t.errors.district?t.errors.district:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["State",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(o=s==null?void 0:s.state)==null?void 0:o.readOnly,...t.getFieldProps("state"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-norma text-gray-500 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 placeholder-gray-300 shadow-md bg-gray-200 ${(m=s==null?void 0:s.state)==null?void 0:m.style}`,placeholder:"Enter State"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.state&&t.errors.state?t.errors.state:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pin",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(re=s==null?void 0:s.pin)==null?void 0:re.readOnly,...t.getFieldProps("pin"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(U=s==null?void 0:s.pin)==null?void 0:U.style}`,placeholder:"Enter Pin no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.pin&&t.errors.pin?t.errors.pin:null})]}),!(l!=null&&l.apartmentStatus)&&e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Building Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(Y=s==null?void 0:s.buildingName)==null?void 0:Y.readOnly,...t.getFieldProps("buildingName"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(C=s==null?void 0:s.buildingName)==null?void 0:C.style}`,placeholder:"Enter Pin no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.buildingName&&t.errors.buildingName?t.errors.buildingName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Street Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(I=s==null?void 0:s.streetName)==null?void 0:I.readOnly,...t.getFieldProps("streetName"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(D=s==null?void 0:s.streetName)==null?void 0:D.style}`,placeholder:"Enter street name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.streetName&&t.errors.streetName?t.errors.streetName:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Location",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(de=s==null?void 0:s.location2)==null?void 0:de.readOnly,...t.getFieldProps("location2"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(G=s==null?void 0:s.location2)==null?void 0:G.style}`,placeholder:"Enter location."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.location2&&t.errors.location2?t.errors.location2:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Landmark",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(K=s==null?void 0:s.landmark)==null?void 0:K.readOnly,...t.getFieldProps("landmark"),type:"text",className:`cypress_pin form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(ee=s==null?void 0:s.landmark)==null?void 0:ee.style}`,placeholder:"Enter landmark"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.landmark&&t.errors.landmark?t.errors.landmark:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-4 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Property Address (enter full postal address)",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(Q=s==null?void 0:s.locality)==null?void 0:Q.readOnly,...t.getFieldProps("locality"),type:"text",className:`cypress_address form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(Z=s==null?void 0:s.locality)==null?void 0:Z.style}`,placeholder:"Enter Property Address"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.locality&&t.errors.locality?t.errors.locality:null})]}),e.jsxs("div",{className:"form-group col-span-4 form-check mb-2 md:px-4",children:[e.jsx("input",{...t.getFieldProps("addressCheckbox"),type:"checkbox",className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer"}),e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("span",{className:"inline text-red-400 text-sm font-semibold",children:"Note : "}),e.jsx("small",{className:"mt-1 text-xs text-gray-600 inline",children:"If Corresponding Address Different from Property Address (Please Tick)"})]})]})]}),e.jsxs("div",{className:`col-span-4 ${g?"grid":"hidden"} grid-cols-1 md:grid-cols-4`,children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-5 justify-center items-center",children:[e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("label",{className:"form-check-label text-gray-800",children:[" ",e.jsx("small",{className:" mt-1 text-xs text-blue-400 inline md:px-4 font-mono text-center",children:"Corresponding Address"})]})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center w-full h-[1px] bg-blue-200"})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["City",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(le=s==null?void 0:s.c_city)==null?void 0:le.readOnly,...t.getFieldProps("c_city"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(J=s==null?void 0:s.c_city)==null?void 0:J.style}`,placeholder:"Enter City"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_city&&t.errors.c_city?t.errors.c_city:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["District",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(A=s==null?void 0:s.c_district)==null?void 0:A.readOnly,...t.getFieldProps("c_district"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(T=s==null?void 0:s.c_district)==null?void 0:T.style}`,placeholder:"Enter District"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_district&&t.errors.c_district?t.errors.c_district:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["State",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(L=s==null?void 0:s.c_state)==null?void 0:L.readOnly,...t.getFieldProps("c_state"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(h=s==null?void 0:s.c_state)==null?void 0:h.style}`,placeholder:"Enter State"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_state&&t.errors.c_state?t.errors.c_state:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-1 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pin",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:($=s==null?void 0:s.c_pin)==null?void 0:$.readOnly,...t.getFieldProps("c_pin"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(i=s==null?void 0:s.c_pin)==null?void 0:i.style}`,placeholder:"Enter Pin"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_pin&&t.errors.c_pin?t.errors.c_pin:null})]}),e.jsxs("div",{className:"form-group mb-6 col-span-4 md:col-span-4 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Address ",e.jsxs("span",{className:"font-normal",children:["(enter full postal address)",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]}),e.jsx("input",{disabled:(B=s==null?void 0:s.c_locality)==null?void 0:B.readOnly,...t.getFieldProps("c_c_locality"),type:"text",className:`form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md ${(M=s==null?void 0:s.locality)==null?void 0:M.style}`,placeholder:"Enter Address"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:t.touched.c_locality&&t.errors.c_locality?t.errors.c_locality:null})]})]})]})]})})]})}function ka(l){var G,K,ee,Q,Z,le,J,A,T,L,h,$,i,B,M;const[g,P]=c.useState([]),[_,t]=c.useState([]),[p,s]=c.useState(),[v,E]=c.useState(!1),[f,F]=c.useState(null);c.useState("-translate-y-full -top-[800px]");const[O,W]=c.useState(!1);c.useState(!1),c.useState(!1),c.useContext(Dl);const[y,j]=c.useState(0),w=c.useRef(null),V=c.useRef(null),q=c.useRef(null),H=c.useRef(null),X=ke({ownerName:b().required("Enter owner name").max(50,"Enter maximum 50 characters"),guardianName:b().required("Enter guardian name"),relation:b().required("Select relation"),mobileNo:b().required("Enter mobile no.").min(10,"Enter 10 digit mobilen no"),aadhar:b().required("Enter aadhar no").min(12,"Enter 12 digit aadhar no."),pan:b().required("Enter PAN no.").min(10,"enter 10 digit PAN no."),email:b().required("Enter email address").min(11,"enter atleast 11 character")}),o=Fe({initialValues:{ownerName:"",guardianName:"",relation:"",mobileNo:"",aadhar:"",pan:"",email:""},onSubmit:(r,n)=>{if(console.log("at form save.... owner"),v){Y(),E(!1),F(null),n();return}console.log("at form save.... owner 2",g),[...g],P([...g,r]);let u=C();console.log("at form save.... owner 3"),t([..._,u]),l==null||l.setownerDetails([...g,r]),l==null||l.setownerDetailsPreview([..._,u]),console.log("at form save.... owner 5"),I()},validationSchema:X}),[m,re]=c.useState();c.useEffect(()=>{U()},[l==null?void 0:l.existingPropertyDetails]);const U=()=>{var r,n;console.log("inside feed owner dat.."),j((r=l==null?void 0:l.ownerDetails)==null?void 0:r.length),((n=l==null?void 0:l.ownerDetails)==null?void 0:n.length)!=0&&(console.log("inside lenght >0.."),P(l==null?void 0:l.ownerDetails),t(l==null?void 0:l.ownerDetailsPreview))};console.log("owner list by ownerlist........",l==null?void 0:l.ownerDetails);const Y=()=>{console.log("at edit owner ist...",o.values);let r=[...g];console.log("inside edit function edit owner list....",g);let n=[..._];n[f].ownerName=o.values.ownerName,n[f].guardianName=o.values.guardianName,n[f].relation=V.current.options[V.current.selectedIndex].innerHTML,n[f].mobileNo=o.values.mobileNo,n[f].aadhar=o.values.aadhar,n[f].pan=o.values.pan,n[f].email=o.values.email,r[f].ownerName=o.values.ownerName,r[f].guardianName=o.values.guardianName,r[f].relation=o.values.relation,r[f].mobileNo=o.values.mobileNo,r[f].aadhar=o.values.aadhar,r[f].pan=o.values.pan,r[f].email=o.values.email,console.log("temp owner list inside edit fucntion",r),P(r),t(n),l==null||l.setownerDetails(r),l==null||l.setownerDetailsPreview(n),E(!1),F(null),I(),console.log("at edit form...")},C=()=>({ownerName:o.values.ownerName,gender:w.current.options[w.current.selectedIndex].innerHTML,dob:o.values.dob,guardianName:o.values.guardianName,relation:V.current.options[V.current.selectedIndex].innerHTML,mobileNo:o.values.mobileNo,aadhar:o.values.aadhar,pan:o.values.pan,email:o.values.email,isArmedForce:q.current.options[q.current.selectedIndex].innerHTML,isSpeciallyAbled:H.current.options[H.current.selectedIndex].innerHTML}),I=()=>{W(!O)};console.log("owner list to check id.....",g),console.log("ownerdetails to check id.....",l==null?void 0:l.ownerDetails);const D=r=>{E(!0),F(r);let n=[...g];o.resetForm(),o.initialValues.ownerName=n[r].ownerName,o.initialValues.gender=n[r].gender,o.initialValues.dob=n[r].dob,o.initialValues.guardianName=n[r].guardianName,o.initialValues.relation=n[r].relation,o.initialValues.mobileNo=n[r].mobileNo,o.initialValues.aadhar=n[r].aadhar,o.initialValues.pan=n[r].pan,o.initialValues.email=n[r].email,o.initialValues.isArmedForce=n[r].isArmedForce,o.initialValues.isSpeciallyAbled=n[r].isSpeciallyAbled,I()};console.log("owner list preview...",g==null?void 0:g.length,"owner old owner list...",(G=l==null?void 0:l.oldownerDetailsPreview)==null?void 0:G.length);const de=r=>{let n=r.target.name,u=r.target.value;n=="ownerName"&&o.setFieldValue("ownerName",pe(u,o.values.ownerName,100)),n=="guardianName"&&o.setFieldValue("guardianName",pe(u,o.values.guardianName,100)),n=="mobileNo"&&o.setFieldValue("mobileNo",ge(u,o.values.mobileNo,10)),n=="aadhar"&&o.setFieldValue("aadhar",ge(u,o.values.aadhar,12)),n=="pan"&&o.setFieldValue("pan",ba(u,o.values.pan,10)),n=="email"&&o.setFieldValue("email",xa(u,o.values.email,100)),r.target.type=="select-one"?s({...p,[n]:r.target[r.target.selectedIndex].text}):s({...p,[n]:u})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex md:pr-6 mt-6 mb-4",children:e.jsx("div",{class:"w-full",children:e.jsx("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("div",{class:"flex-1",children:e.jsx("div",{children:e.jsx("div",{class:"text-lg font-bold text-gray-700 leading-tight",children:"Owner details"})})})})})}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"p-4 w-full md:py-4 md:px-0 md:pb-0 md:pt-0  md:w-full mx-auto overflow-x-auto",children:(_==null?void 0:_.length)!=0&&e.jsx(e.Fragment,{children:e.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Owner"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Guardian"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Relation"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"mobile No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Aadhar No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"PAN No."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Email"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-xs capitalize text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm",children:_==null?void 0:_.map((r,n)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:n+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.ownerName}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.guardianName}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.relation}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r==null?void 0:r.mobileNo}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(r==null?void 0:r.aadhar)==""||(r==null?void 0:r.aadhar)==null?"N/A":r==null?void 0:r.aadhar}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(r==null?void 0:r.pan)==""||(r==null?void 0:r.pan)==null?"N/A":r==null?void 0:r.pan}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:(r==null?void 0:r.email)==""||(r==null?void 0:r.email)==null?"N/A":r==null?void 0:r.email}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx(_a,{onClick:()=>D(n),className:"inline text-green-500 font-semibold text-lg cursor-pointer hover:text-green-700 relative hover:scale-150"})})]})}))})]})})}),O&&e.jsx(e.Fragment,{children:e.jsx(ia,{children:e.jsx("div",{className:"transition-all block w-full mt-20  md:w-full mx-auto  z-50 ",children:e.jsx("form",{onSubmit:o.handleSubmit,onChange:de,className:"",children:e.jsx("div",{className:"grid grid-cols-12 pt-10",children:e.jsxs("div",{className:"md:col-start-4 col-span-12 md:col-span-6 grid grid-cols-12 bg-white relative p-10 shadow-xl",children:[e.jsx("button",{type:"button",onClick:()=>{F(null),E(!1),I()},children:e.jsx(ua,{className:"absolute top-5 right-5 text-red-500 text-3xl hover:scale-125"})}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold ",children:["Owner Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})," "]}),e.jsx("input",{disabled:(K=m==null?void 0:m.ownerName)==null?void 0:K.readOnly,...o.getFieldProps("ownerName"),type:"text",className:`cypress_owner_name form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(ee=m==null?void 0:m.ownerName)==null?void 0:ee.style}`,"aria-describedby":"emailHelp",placeholder:"Enter owner name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.ownerName&&o.errors.ownerName?o.errors.ownerName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Guardian Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(Q=m==null?void 0:m.guardianName)==null?void 0:Q.readOnly,...o.getFieldProps("guardianName"),type:"text",className:`cypress_guardian_name form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(Z=m==null?void 0:m.guardianName)==null?void 0:Z.style}`,placeholder:"Enter guardian name"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.guardianName&&o.errors.guardianName?o.errors.guardianName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Relation",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{disabled:(le=m==null?void 0:m.relation)==null?void 0:le.readOnly,ref:V,...o.getFieldProps("relation"),className:`cypress_relation form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md ${(J=m==null?void 0:m.relation)==null?void 0:J.style}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"S/O",children:"S/O"}),e.jsx("option",{value:"D/O",children:"D/O"}),e.jsx("option",{value:"W/O",children:"W/O"}),e.jsx("option",{value:"C/O",children:"C/O"})]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.relation&&o.errors.relation?o.errors.relation:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(A=m==null?void 0:m.mobileNo)==null?void 0:A.readOnly,...o.getFieldProps("mobileNo"),type:"text",className:`cypress_mobile form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(T=m==null?void 0:m.mobileNo)==null?void 0:T.style}`,placeholder:"Enter mobileNo no"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.mobileNo&&o.errors.mobileNo?o.errors.mobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Aadhar No",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(L=m==null?void 0:m.aadhar)==null?void 0:L.readOnly,...o.getFieldProps("aadhar"),type:"text",className:`cypress_aadhar form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(h=m==null?void 0:m.aadhar)==null?void 0:h.style}`,placeholder:"Enter aadhar no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.aadhar&&o.errors.aadhar?o.errors.aadhar:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["PAN No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:($=m==null?void 0:m.pan)==null?void 0:$.readOnly,...o.getFieldProps("pan"),type:"text",className:`cypress_pan form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(i=m==null?void 0:m.pan)==null?void 0:i.style}`,placeholder:"Enter pan no."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.pan&&o.errors.pan?o.errors.pan:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-2 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Email",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{disabled:(B=m==null?void 0:m.email)==null?void 0:B.readOnly,...o.getFieldProps("email"),type:"email",className:`cypress_email form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md ${(M=m==null?void 0:m.email)==null?void 0:M.style}`,placeholder:"Enter email."}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:o.touched.email&&o.errors.email?o.errors.email:null})]}),e.jsx("div",{className:"form-group col-span-12 mb-2 md:px-4",children:e.jsxs("span",{className:"",children:["   ",e.jsx("span",{className:"text-black text-sm",children:"Note : "})," ",e.jsx("span",{className:"text-gray-500 text-sm",children:" In case of armed force or specially abled, you will need to upload related documents."})]})}),e.jsx("div",{className:" col-span-12 text-center mt-10",children:e.jsx("button",{type:"submit",className:"cypress_owner_add_update px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight capitalize rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Update Owner"})})]})})})})})}),e.jsx("div",{className:"col-span-12 grid grid-cols-12 mt-10",children:e.jsx("div",{className:" text-right col-span-6",children:e.jsx("button",{onClick:()=>l==null?void 0:l.setleveFormSubmitCount(1),className:"cypress_next6_button px-6 py-2.5 bg-indigo-600 text-white font-medium text-sm leading-tight  rounded shadow-xl hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:"Submit"})})})]})]})}function Fa(l){var F,O,W;ea(),c.useState(),c.useState([]);const[g,P]=c.useState({mobileTowerStatus:"0",hoardingStatus:"0",petrolPumpStatus:"0",waterHarvestingStatus:"0"}),_=ke({newWardNo:b()}),p=Fe({initialValues:{newWardNo:""},enableReinitialize:!0,onSubmit:(y,j)=>{console.log("inside basic details submit..."),l==null||l.setbasicDetails(y),l==null||l.setbasicDetailsPreview(g),l==null||l.setleveFormSubmitCount(2)},validationSchema:_});c.useEffect(()=>{(l==null?void 0:l.leveFormSubmitCount)==1&&p.handleSubmit()},[l==null?void 0:l.leveFormSubmitCount]);const s=y=>{let j=y.target.name,w=y.target.value;j=="wardNo"&&(l==null||l.fetchNewWardByOldWard(w)),y.target.type=="select-one"?P({...g,[j]:y.target[y.target.selectedIndex].text}):P({...g,[j]:w})},[v,E]=c.useState();c.useEffect(()=>{f()},[l==null?void 0:l.existingPropertyDetails]),c.useEffect(()=>{var y;p.setFieldValue("newWardNo",(y=l==null?void 0:l.basicDetails)==null?void 0:y.newWardNo)},[l==null?void 0:l.newWardList]);const f=()=>{var y;l==null||l.fetchNewWardByOldWard((y=l==null?void 0:l.basicDetails)==null?void 0:y.wardNo),P(l==null?void 0:l.basicDetailsPreview)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex md:pr-6",children:e.jsx("div",{class:"py-4 w-full",children:e.jsx("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("div",{class:"flex-1",children:e.jsx("div",{children:e.jsx("div",{class:"text-lg font-bold text-gray-700 leading-tight",children:"Basic Details"})})})})})}),e.jsx("div",{className:"block md:p-4 w-full md:py-2 rounded-lg mx-auto  shadow-xl bg-white",children:e.jsxs("form",{onChange:s,onSubmit:p.handleSubmit,children:[e.jsx(la,{anchorId:"my-element"}),e.jsx("div",{className:"grid grid-cols-12  space-x-2",children:e.jsx("div",{className:"col-span-12  grid grid-cols-12 md:px-2  md:py-4 rounded-lg py-6",children:e.jsxs("div",{className:"form-group col-span-12 md:col-span-3 mb-4 ",children:[e.jsxs("div",{children:[" ",e.jsxs("label",{className:"form-label text-xs mb-1 text-gray-400  font-semibold flex items-center",children:[e.jsx(ha,{className:"inline"}),"Select old ward to get new ward list"]})]}),e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["New Ward No",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{disabled:(F=v==null?void 0:v.newWardNo)==null?void 0:F.readOnly,...p.getFieldProps("newWardNo"),className:`${fa} cursor-pointer cypress_new_ward ${(O=v==null?void 0:v.newWardNo)==null?void 0:O.style}`,children:[e.jsx("option",{value:"",children:"Select"}),(W=l==null?void 0:l.newWardList)==null?void 0:W.map(y=>e.jsx("option",{value:y.id,children:y.ward_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:p.touched.newWardNo&&p.errors.newWardNo?p.errors.newWardNo:null})]})})})]})})]})}function Ea(){const{api_getMasterData:l,api_getHoldingDetails:g,api_getLocationByUlbAdmin:P,api_reviewCalculation:_,api_boEdit:t,api_newWardByOldWard:p,api_editPropertyDetails:s}=wa(),{notify:v}=c.useContext(Dl),E=ea();c.useState(1);const[f,F]=c.useState();c.useState(),c.useState(!1);const[O,W]=c.useState(!1);c.useState("");const[y,j]=c.useState(!1),[w,V]=c.useState(),[q,H]=c.useState(),[X,o]=c.useState([]);c.useState(!1),c.useState(!1),c.useState(null);const[m,re]=c.useState(""),[U,Y]=c.useState(!1),[C,I]=c.useState(null),[D,de]=c.useState(),[G,K]=c.useState(),[ee,Q]=c.useState(),[Z,le]=c.useState(),[J,A]=c.useState(!1),[T,L]=c.useState(!1),[h,$]=c.useState(null),[i,B]=c.useState(null);c.useState(null);const[M,r]=c.useState([]),[n,u]=c.useState([]),[ue,Ne]=c.useState([]),[k,je]=c.useState({mobileTowerStatus:0,hoardingStatus:0,petrolPumpStatus:0,waterHarvestingStatus:0}),[be,oe]=c.useState(null),[xe,ce]=c.useState([]),[he,ve]=c.useState([]);c.useState([]),c.useState(null);const[we,fe]=c.useState(0),[S,ae]=c.useState(0);ya("Property Basic Edit");const ye=c.useRef(null);let te="mu";const aa=a=>{let x={oldWardMstrId:a};console.log("before fetch wardby old ward...",x),me.post(p,x,ie()).then(function(N){console.log("wardlist by oldward list ....",N.data.data),K(N.data.data)}).catch(function(N){console.log("errorrr.... ",N)})};let ta="NEW ASSESSMENT";const{propId:Pe}=ga(),sa=()=>({ulbId:h==null?void 0:h.ulbId,assessmentType:"1",landOccupationDate:h==null?void 0:h.landOccupationDate,ward:h==null?void 0:h.wardNo,newWard:h==null?void 0:h.newWardNo,ownershipType:h==null?void 0:h.ownerShiptype,propertyType:h==null?void 0:h.propertyType,zone:k.zone,isMobileTower:k.mobileTowerStatus,mobileTower:{area:k.mobileTowerArea,dateFrom:k.mobileTowerDate},isHoardingBoard:k.hoardingStatus,hoardingBoard:{area:k.hoardingArea,dateFrom:k.hoardingDate},isPetrolPump:k.petrolPumpStatus,petrolPump:{area:k.petrolPumpArea,dateFrom:k.petrolPumpDate},isWaterHarvesting:k.waterHarvestingStatus,roadType:i.roadWidth,areaOfPlot:i.plotArea,owner:M,floor:ue}),Ae=()=>{j(!0),A(!1);let a;i.addressCheckbox?a={corrAddress:i.c_locality,corrCity:i.c_city,corrDist:i.c_district,corrState:i.c_state,corrPinCode:i.c_pin}:a={corrAddress:i.locality,corrCity:i.city,corrDist:i.district,corrState:i.state,corrPinCode:i.pin};let x,N=sa();x={propertyId:Pe,newWardMstrId:N.newWard,buildingName:i.buildingName,streetName:i.streetName,location:i.location2,landmark:i.landmark,khataNo:i.khataNo,plotNo:i.plotNo,villageMauja:i.village_mauja,pinCode:i==null?void 0:i.pin,address:i==null?void 0:i.locality,corrPin:a==null?void 0:a.corrPinCode,corrAddress:a==null?void 0:a.corrAddress,owner:N==null?void 0:N.owner},console.log("before property update......",x),me.post(s,x,ie()).then(function(R){var ne;console.log("response after update property data",R),(ne=R==null?void 0:R.data)!=null&&ne.status?(v("Property Details has been updated successfully !!","success"),L(!0)):v("Network is busy, Please try again after some time","error"),j(!1)}).catch(function(R){console.log("error in submitting saf form ","error"),A(!0),L(!1),j(!1)})};c.useEffect(()=>{Oe(),ra(),da()},[]),c.useEffect(()=>{S==3&&Ae()},[S]),console.log("count...",S);const ra=()=>{me.get(`${l}`,ie()).then(function(a){console.log("saf master data ....",a.data.data),F(a.data.data)}).catch(function(a){console.log("errorrr.... ",a)})},da=()=>{j(!0),A(!1);let a={propertyId:Pe};console.log("body before finding prop",a),me.post(g,a,ie()).then(function(x){var N;console.log("getting property detail for edit case......",x),(N=x==null?void 0:x.data)!=null&&N.data?(V(x),oa(x)):A(!0),j(!1)}).catch(function(x){console.log("==2 details by id error...",x),A(!0),j(!1)})};console.log("splitted holding no.",X);const oa=a=>{var x,N,R,ne,Ve,Ee,Se,We,Ie,Te,Le,$e,Be,Me,Re,ze,qe,He,Ue,Ge,Ke,Qe,Ze,Je,Xe,Ye,Ce,De,el,ll,al,tl,sl,rl,dl,ol,cl,nl,ml,il,ul,bl,xl,hl,fl,yl,gl,Nl,jl,vl,wl,_l,pl,kl,Fl,Pl,Al,Ol,Vl,El,Sl,Wl,Il,Tl,Ll,$l,Bl,Ml,Rl,zl,ql,Hl,Ul,Gl,Kl,Ql,Zl,Jl;if(console.log("setting existing details with id"),o((N=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:N.holding_no.split(",")),$({ulbId:(ne=(R=a==null?void 0:a.data)==null?void 0:R.data)==null?void 0:ne.ulb_id,wardNo:(Ee=(Ve=a==null?void 0:a.data)==null?void 0:Ve.data)==null?void 0:Ee.ward_mstr_id,newWardNo:(We=(Se=a==null?void 0:a.data)==null?void 0:Se.data)==null?void 0:We.new_ward_mstr_id,ownerShiptype:(Te=(Ie=a==null?void 0:a.data)==null?void 0:Ie.data)==null?void 0:Te.ownership_type_mstr_id,propertyType:($e=(Le=a==null?void 0:a.data)==null?void 0:Le.data)==null?void 0:$e.prop_type_mstr_id,landOccupationDate:(Me=(Be=a==null?void 0:a.data)==null?void 0:Be.data)==null?void 0:Me.landOccupationDate,apartment:(ze=(Re=a==null?void 0:a.data)==null?void 0:Re.data)==null?void 0:ze.apartment}),oe({ulbId:(He=(qe=a==null?void 0:a.data)==null?void 0:qe.data)==null?void 0:He.ulb_id,wardNo:(Ge=(Ue=a==null?void 0:a.data)==null?void 0:Ue.data)==null?void 0:Ge.ward_mstr_id,newWardNo:(Qe=(Ke=a==null?void 0:a.data)==null?void 0:Ke.data)==null?void 0:Qe.new_ward_mstr_id,ownerShiptype:(Je=(Ze=a==null?void 0:a.data)==null?void 0:Ze.data)==null?void 0:Je.ownership_type,propertyType:(Ye=(Xe=a==null?void 0:a.data)==null?void 0:Xe.data)==null?void 0:Ye.property_type,landOccupationDate:(De=(Ce=a==null?void 0:a.data)==null?void 0:Ce.data)==null?void 0:De.landOccupationDate,apartment:(ll=(el=a==null?void 0:a.data)==null?void 0:el.data)==null?void 0:ll.apartment}),B({khataNo:(tl=(al=a==null?void 0:a.data)==null?void 0:al.data)==null?void 0:tl.khata_no,plotNo:(rl=(sl=a==null?void 0:a.data)==null?void 0:sl.data)==null?void 0:rl.plot_no,village_mauja:(ol=(dl=a==null?void 0:a.data)==null?void 0:dl.data)==null?void 0:ol.village_mauja_name,plotArea:(nl=(cl=a==null?void 0:a.data)==null?void 0:cl.data)==null?void 0:nl.area_of_plot,roadWidth:(il=(ml=a==null?void 0:a.data)==null?void 0:ml.data)==null?void 0:il.road_width,city:(bl=(ul=a==null?void 0:a.data)==null?void 0:ul.data)==null?void 0:bl.prop_city,district:(hl=(xl=a==null?void 0:a.data)==null?void 0:xl.data)==null?void 0:hl.prop_dist,state:(yl=(fl=a==null?void 0:a.data)==null?void 0:fl.data)==null?void 0:yl.prop_state,pin:(Nl=(gl=a==null?void 0:a.data)==null?void 0:gl.data)==null?void 0:Nl.prop_pin_code,locality:(vl=(jl=a==null?void 0:a.data)==null?void 0:jl.data)==null?void 0:vl.prop_address,c_city:(_l=(wl=a==null?void 0:a.data)==null?void 0:wl.data)==null?void 0:_l.corr_city,c_district:(kl=(pl=a==null?void 0:a.data)==null?void 0:pl.data)==null?void 0:kl.corr_dist,c_state:(Pl=(Fl=a==null?void 0:a.data)==null?void 0:Fl.data)==null?void 0:Pl.corr_state,c_pin:(Ol=(Al=a==null?void 0:a.data)==null?void 0:Al.data)==null?void 0:Ol.corr_pin_code,c_locality:(El=(Vl=a==null?void 0:a.data)==null?void 0:Vl.data)==null?void 0:El.corr_address,buildingName:(Wl=(Sl=a==null?void 0:a.data)==null?void 0:Sl.data)==null?void 0:Wl.building_name,streetName:(Tl=(Il=a==null?void 0:a.data)==null?void 0:Il.data)==null?void 0:Tl.street_name,location2:($l=(Ll=a==null?void 0:a.data)==null?void 0:Ll.data)==null?void 0:$l.location,landmark:(Ml=(Bl=a==null?void 0:a.data)==null?void 0:Bl.data)==null?void 0:Ml.landmark}),((ql=(zl=(Rl=a==null?void 0:a.data)==null?void 0:Rl.data)==null?void 0:zl.owners)==null?void 0:ql.length)!=0){fe((Gl=(Ul=(Hl=a==null?void 0:a.data)==null?void 0:Hl.data)==null?void 0:Ul.owners)==null?void 0:Gl.length);let ca=(Ql=(Kl=a==null?void 0:a.data)==null?void 0:Kl.data)==null?void 0:Ql.owners.map(d=>{console.log("inside values of owner...",d);let z,_e;return d!=null&&d.is_armed_force&&(z="1"),(d==null?void 0:d.is_armed_force)==!1&&(z="0"),d!=null&&d.is_specially_abled&&(_e="1"),(d==null?void 0:d.is_specially_abled)==!1&&(_e="0"),{ownerId:d==null?void 0:d.id,ownerName:d==null?void 0:d.owner_name,gender:d==null?void 0:d.gender,dob:d==null?void 0:d.dob,guardianName:d==null?void 0:d.guardian_name,relation:d==null?void 0:d.relation_type,mobileNo:d==null?void 0:d.mobile_no,aadhar:d==null?void 0:d.aadhar_no,pan:d==null?void 0:d.pan_no,email:d==null?void 0:d.email,isArmedForce:z,isSpeciallyAbled:_e}}),na=(Jl=(Zl=a==null?void 0:a.data)==null?void 0:Zl.data)==null?void 0:Jl.owners.map(d=>{console.log("inside preview of owner...",d);let z;return(d==null?void 0:d.gender)=="Male"&&(z="Male"),(d==null?void 0:d.gender)=="Female"&&(z="Female"),(d==null?void 0:d.gender)=="Transgender"&&(z="Transgender"),{ownerName:d==null?void 0:d.owner_name,gender:z,dob:d==null?void 0:d.dob,guardianName:d==null?void 0:d.guardian_name,relation:d==null?void 0:d.relation_type,mobileNo:d==null?void 0:d.mobile_no,aadhar:d==null?void 0:d.aadhar_no,pan:d==null?void 0:d.pan_no,email:d==null?void 0:d.email,isArmedForce:d==null?void 0:d.is_armed_force,isSpeciallyAbled:d==null?void 0:d.is_specially_abled}});r(ca),ce(na)}},Oe=()=>{let a={};console.log("before fetch location",a),me.post(P,a,ie()).then(function(x){var N;console.log("location by ulbid ...",x),H((N=x==null?void 0:x.data)==null?void 0:N.data)}).catch(function(x){console.log("==2 details by id error...",x)})};return y?e.jsx(Na,{}):J?e.jsx(ja,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(va,{autoClose:2e3,position:"top-right"}),e.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-12 gap-2 lg:grid-cols-12 px-2 md:px-2 md:space-x-2",children:e.jsx("div",{className:"col-span-12 w-full h-screen overflow-x-hidden",children:e.jsx("div",{className:"w-full  text-lg rounded-lg",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-8 lg:grid-cols-8 gap-8  py-4",children:e.jsxs("div",{className:"col-span-8 ",ref:ye,children:[!T&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",children:e.jsx(Fa,{setselectedUlbId:Q,wardByUlb:D,newWardList:G,fetchNewWardByOldWard:aa,apartmentList:Z,basicDetails:h,setbasicDetails:$,setbasicDetailsPreview:oe,basicDetailsPreview:be,choosedUlbId:C,apartmentStatus:U,setapartmentStatus:Y,setpropertyTypeState:re,propertyTypeState:m,getLocationByUlb:Oe,safType:te,existingPropertyDetails:w,ulbList:O,preFormData:f,toastFun:v,setleveFormSubmitCount:ae,leveFormSubmitCount:S})}),e.jsx("div",{className:"",children:e.jsx(pa,{propAddressDetails:i,setpropAddressDetails:B,apartmentStatus:U,ulbLocation:q,safType:te,existingPropertyDetails:w,preFormData:f,toastFun:v,setleveFormSubmitCount:ae,leveFormSubmitCount:S,submitSafForm:Ae})}),e.jsx("div",{className:"",children:e.jsx(ka,{ownerDetails:M,setownerDetails:r,ownerDetailsPreview:xe,setownerDetailsPreview:ce,oldOwnerDetails:n,oldownerDetailsPreview:he,safType:te,existingPropertyDetails:w,preFormData:f,assType:ta,toastFun:v,setleveFormSubmitCount:ae,leveFormSubmitCount:S})})]}),T&&e.jsx("div",{className:"",children:e.jsx("div",{className:"w-full h-full bg-white p-20 shadow-xl",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-center font-semibold text-3xl",children:"Property details has been updated successfully !"}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("button",{className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>window.location.reload(),children:"Re Update"}),e.jsx("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>{var a,x;return E(`/holdingPropertyDetails/${(x=(a=w==null?void 0:w.data)==null?void 0:a.data)==null?void 0:x.id}`)},children:"View Details"})]})]})})})]})})})})}),e.jsx("div",{className:"w-full mt-40"})]})}export{Ea as default};
