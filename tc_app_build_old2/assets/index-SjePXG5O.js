var Lo=Object.defineProperty;var Io=(A,$,H)=>$ in A?Lo(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var Dn=(A,$,H)=>(Io(A,typeof $!="symbol"?$+"":$,H),H),vi=(A,$,H)=>{if(!$.has(A))throw TypeError("Cannot "+H)};var V=(A,$,H)=>(vi(A,$,"read from private field"),H?H.call(A):$.get(A)),$e=(A,$,H)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,H)},rt=(A,$,H,R)=>(vi(A,$,"write to private field"),R?R.call(A,H):$.set(A,H),H);var Tr=(A,$,H,R)=>({set _(O){rt(A,$,O,H)},get _(){return V(A,$,R)}}),He=(A,$,H)=>(vi(A,$,"access private method"),H);import{w as getAugmentedNamespace,e as reactExports,f as reactDomExports}from"./index-916_MdDa.js";var lib$g={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,H){module.exports=$.pdfjsLib=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{var an;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=nt,$.bytesToString=Re,$.createValidAbsoluteUrl=ht,$.getModificationDate=Ct,$.getUuid=nn,$.getVerbosityLevel=Te,$.info=ze,$.isArrayBuffer=lt,$.isArrayEqual=At,$.isNodeJS=void 0,$.normalizeUnicode=rn,$.objectFromMap=ct,$.objectSize=tt,$.setVerbosityLevel=be,$.shadow=St,$.string32=Ge,$.stringToBytes=Xe,$.stringToPDFString=ot,$.stringToUTF8String=Ue,$.unreachable=Fe,$.utf8StringToString=We,$.warn=Qe;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H;const R=[1,0,0,1,0,0];$.IDENTITY_MATRIX=R;const O=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=O;const B=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=B;const Q=1.35;$.LINE_FACTOR=Q;const ve=.35;$.LINE_DESCENT_FACTOR=ve;const fe=ve/Q;$.BASELINE_FACTOR=fe;const de={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=de;const X={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=X;const Ee="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Ee;const le={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=le;const ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=ne;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=re;const J={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=J;const q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=q;const ae={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ae;const se={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=se;const ue={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=ue;const pe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=pe;const te={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=te;const oe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=oe;const Ae={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Ae;const ge={O:"PageOpen",C:"PageClose"};$.PageActionEventType=ge;const ee={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=ee;const _e={NONE:0,BINARY:1};$.CMapCompressionType=_e;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=he;const Pe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Pe;let De=ee.WARNINGS;function be(st){Number.isInteger(st)&&(De=st)}function Te(){return De}function ze(st){De>=ee.INFOS&&console.log("Info: ".concat(st))}function Qe(st){De>=ee.WARNINGS&&console.log("Warning: ".concat(st))}function Fe(st){throw new Error(st)}function nt(st,Ve){st||Fe(Ve)}function at(st){switch(st==null?void 0:st.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ht(st,Ve=null,Ne=null){if(!st)return null;try{if(Ne&&typeof st=="string"){if(Ne.addDefaultProtocol&&st.startsWith("www.")){const dt=st.match(/\./g);(dt==null?void 0:dt.length)>=2&&(st="http://".concat(st))}if(Ne.tryConvertEncoding)try{st=Ue(st)}catch(dt){}}const _t=Ve?new URL(st,Ve):new URL(st);if(at(_t))return _t}catch(_t){}return null}function St(st,Ve,Ne,_t=!1){return Object.defineProperty(st,Ve,{value:Ne,enumerable:!_t,configurable:!0,writable:!1}),Ne}const we=function(){function Ve(Ne,_t){this.constructor===Ve&&Fe("Cannot initialize BaseException."),this.message=Ne,this.name=_t}return Ve.prototype=new Error,Ve.constructor=Ve,Ve}();$.BaseException=we;class W extends we{constructor(Ve,Ne){super(Ve,"PasswordException"),this.code=Ne}}$.PasswordException=W;class Y extends we{constructor(Ve,Ne){super(Ve,"UnknownErrorException"),this.details=Ne}}$.UnknownErrorException=Y;class G extends we{constructor(Ve){super(Ve,"InvalidPDFException")}}$.InvalidPDFException=G;class ie extends we{constructor(Ve){super(Ve,"MissingPDFException")}}$.MissingPDFException=ie;class ce extends we{constructor(Ve,Ne){super(Ve,"UnexpectedResponseException"),this.status=Ne}}$.UnexpectedResponseException=ce;class ye extends we{constructor(Ve){super(Ve,"FormatError")}}$.FormatError=ye;class Ce extends we{constructor(Ve){super(Ve,"AbortException")}}$.AbortException=Ce;function Re(st){(typeof st!="object"||(st==null?void 0:st.length)===void 0)&&Fe("Invalid argument for bytesToString");const Ve=st.length,Ne=8192;if(Ve<Ne)return String.fromCharCode.apply(null,st);const _t=[];for(let dt=0;dt<Ve;dt+=Ne){const gn=Math.min(dt+Ne,Ve),Pn=st.subarray(dt,gn);_t.push(String.fromCharCode.apply(null,Pn))}return _t.join("")}function Xe(st){typeof st!="string"&&Fe("Invalid argument for stringToBytes");const Ve=st.length,Ne=new Uint8Array(Ve);for(let _t=0;_t<Ve;++_t)Ne[_t]=st.charCodeAt(_t)&255;return Ne}function Ge(st){return String.fromCharCode(st>>24&255,st>>16&255,st>>8&255,st&255)}function tt(st){return Object.keys(st).length}function ct(st){const Ve=Object.create(null);for(const[Ne,_t]of st)Ve[Ne]=_t;return Ve}function vt(){const st=new Uint8Array(4);return st[0]=1,new Uint32Array(st.buffer,0,1)[0]===1}function ut(){try{return new Function(""),!0}catch(st){return!1}}class ft{static get isLittleEndian(){return St(this,"isLittleEndian",vt())}static get isEvalSupported(){return St(this,"isEvalSupported",ut())}static get isOffscreenCanvasSupported(){return St(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?St(this,"platform",{isWin:!1,isMac:!1}):St(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ve,Ne;return St(this,"isCSSRoundSupported",(Ne=(Ve=globalThis.CSS)==null?void 0:Ve.supports)==null?void 0:Ne.call(Ve,"width: round(1.5px, 1px)"))}}$.FeatureTest=ft;const gt=[...Array(256).keys()].map(st=>st.toString(16).padStart(2,"0"));class pt{static makeHexColor(Ve,Ne,_t){return"#".concat(gt[Ve]).concat(gt[Ne]).concat(gt[_t])}static scaleMinMax(Ve,Ne){let _t;Ve[0]?(Ve[0]<0&&(_t=Ne[0],Ne[0]=Ne[1],Ne[1]=_t),Ne[0]*=Ve[0],Ne[1]*=Ve[0],Ve[3]<0&&(_t=Ne[2],Ne[2]=Ne[3],Ne[3]=_t),Ne[2]*=Ve[3],Ne[3]*=Ve[3]):(_t=Ne[0],Ne[0]=Ne[2],Ne[2]=_t,_t=Ne[1],Ne[1]=Ne[3],Ne[3]=_t,Ve[1]<0&&(_t=Ne[2],Ne[2]=Ne[3],Ne[3]=_t),Ne[2]*=Ve[1],Ne[3]*=Ve[1],Ve[2]<0&&(_t=Ne[0],Ne[0]=Ne[1],Ne[1]=_t),Ne[0]*=Ve[2],Ne[1]*=Ve[2]),Ne[0]+=Ve[4],Ne[1]+=Ve[4],Ne[2]+=Ve[5],Ne[3]+=Ve[5]}static transform(Ve,Ne){return[Ve[0]*Ne[0]+Ve[2]*Ne[1],Ve[1]*Ne[0]+Ve[3]*Ne[1],Ve[0]*Ne[2]+Ve[2]*Ne[3],Ve[1]*Ne[2]+Ve[3]*Ne[3],Ve[0]*Ne[4]+Ve[2]*Ne[5]+Ve[4],Ve[1]*Ne[4]+Ve[3]*Ne[5]+Ve[5]]}static applyTransform(Ve,Ne){const _t=Ve[0]*Ne[0]+Ve[1]*Ne[2]+Ne[4],dt=Ve[0]*Ne[1]+Ve[1]*Ne[3]+Ne[5];return[_t,dt]}static applyInverseTransform(Ve,Ne){const _t=Ne[0]*Ne[3]-Ne[1]*Ne[2],dt=(Ve[0]*Ne[3]-Ve[1]*Ne[2]+Ne[2]*Ne[5]-Ne[4]*Ne[3])/_t,gn=(-Ve[0]*Ne[1]+Ve[1]*Ne[0]+Ne[4]*Ne[1]-Ne[5]*Ne[0])/_t;return[dt,gn]}static getAxialAlignedBoundingBox(Ve,Ne){const _t=this.applyTransform(Ve,Ne),dt=this.applyTransform(Ve.slice(2,4),Ne),gn=this.applyTransform([Ve[0],Ve[3]],Ne),Pn=this.applyTransform([Ve[2],Ve[1]],Ne);return[Math.min(_t[0],dt[0],gn[0],Pn[0]),Math.min(_t[1],dt[1],gn[1],Pn[1]),Math.max(_t[0],dt[0],gn[0],Pn[0]),Math.max(_t[1],dt[1],gn[1],Pn[1])]}static inverseTransform(Ve){const Ne=Ve[0]*Ve[3]-Ve[1]*Ve[2];return[Ve[3]/Ne,-Ve[1]/Ne,-Ve[2]/Ne,Ve[0]/Ne,(Ve[2]*Ve[5]-Ve[4]*Ve[3])/Ne,(Ve[4]*Ve[1]-Ve[5]*Ve[0])/Ne]}static singularValueDecompose2dScale(Ve){const Ne=[Ve[0],Ve[2],Ve[1],Ve[3]],_t=Ve[0]*Ne[0]+Ve[1]*Ne[2],dt=Ve[0]*Ne[1]+Ve[1]*Ne[3],gn=Ve[2]*Ne[0]+Ve[3]*Ne[2],Pn=Ve[2]*Ne[1]+Ve[3]*Ne[3],Ke=(_t+Pn)/2,Pt=Math.sqrt((_t+Pn)**2-4*(_t*Pn-gn*dt))/2,Ot=Ke+Pt||1,xt=Ke-Pt||1;return[Math.sqrt(Ot),Math.sqrt(xt)]}static normalizeRect(Ve){const Ne=Ve.slice(0);return Ve[0]>Ve[2]&&(Ne[0]=Ve[2],Ne[2]=Ve[0]),Ve[1]>Ve[3]&&(Ne[1]=Ve[3],Ne[3]=Ve[1]),Ne}static intersect(Ve,Ne){const _t=Math.max(Math.min(Ve[0],Ve[2]),Math.min(Ne[0],Ne[2])),dt=Math.min(Math.max(Ve[0],Ve[2]),Math.max(Ne[0],Ne[2]));if(_t>dt)return null;const gn=Math.max(Math.min(Ve[1],Ve[3]),Math.min(Ne[1],Ne[3])),Pn=Math.min(Math.max(Ve[1],Ve[3]),Math.max(Ne[1],Ne[3]));return gn>Pn?null:[_t,gn,dt,Pn]}static bezierBoundingBox(Ve,Ne,_t,dt,gn,Pn,Ke,Pt){const Ot=[],xt=[[],[]];let Bt,zt,En,wt,fn,Nt,Me,U;for(let qe=0;qe<2;++qe){if(qe===0?(zt=6*Ve-12*_t+6*gn,Bt=-3*Ve+9*_t-9*gn+3*Ke,En=3*_t-3*Ve):(zt=6*Ne-12*dt+6*Pn,Bt=-3*Ne+9*dt-9*Pn+3*Pt,En=3*dt-3*Ne),Math.abs(Bt)<1e-12){if(Math.abs(zt)<1e-12)continue;wt=-En/zt,0<wt&&wt<1&&Ot.push(wt);continue}Me=zt*zt-4*En*Bt,U=Math.sqrt(Me),!(Me<0)&&(fn=(-zt+U)/(2*Bt),0<fn&&fn<1&&Ot.push(fn),Nt=(-zt-U)/(2*Bt),0<Nt&&Nt<1&&Ot.push(Nt))}let Se=Ot.length,xe;const Be=Se;for(;Se--;)wt=Ot[Se],xe=1-wt,xt[0][Se]=xe*xe*xe*Ve+3*xe*xe*wt*_t+3*xe*wt*wt*gn+wt*wt*wt*Ke,xt[1][Se]=xe*xe*xe*Ne+3*xe*xe*wt*dt+3*xe*wt*wt*Pn+wt*wt*wt*Pt;return xt[0][Be]=Ve,xt[1][Be]=Ne,xt[0][Be+1]=Ke,xt[1][Be+1]=Pt,xt[0].length=xt[1].length=Be+2,[Math.min(...xt[0]),Math.min(...xt[1]),Math.max(...xt[0]),Math.max(...xt[1])]}}$.Util=pt;const Ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ot(st){if(st[0]>="ï"){let Ne;if(st[0]==="þ"&&st[1]==="ÿ"?Ne="utf-16be":st[0]==="ÿ"&&st[1]==="þ"?Ne="utf-16le":st[0]==="ï"&&st[1]==="»"&&st[2]==="¿"&&(Ne="utf-8"),Ne)try{const _t=new TextDecoder(Ne,{fatal:!0}),dt=Xe(st);return _t.decode(dt)}catch(_t){Qe('stringToPDFString: "'.concat(_t,'".'))}}const Ve=[];for(let Ne=0,_t=st.length;Ne<_t;Ne++){const dt=Ft[st.charCodeAt(Ne)];Ve.push(dt?String.fromCharCode(dt):st.charAt(Ne))}return Ve.join("")}function Ue(st){return decodeURIComponent(escape(st))}function We(st){return unescape(encodeURIComponent(st))}function lt(st){return typeof st=="object"&&(st==null?void 0:st.byteLength)!==void 0}function At(st,Ve){if(st.length!==Ve.length)return!1;for(let Ne=0,_t=st.length;Ne<_t;Ne++)if(st[Ne]!==Ve[Ne])return!1;return!0}function Ct(st=new Date){return[st.getUTCFullYear().toString(),(st.getUTCMonth()+1).toString().padStart(2,"0"),st.getUTCDate().toString().padStart(2,"0"),st.getUTCHours().toString().padStart(2,"0"),st.getUTCMinutes().toString().padStart(2,"0"),st.getUTCSeconds().toString().padStart(2,"0")].join("")}class qt{constructor(){$e(this,an,!1);this.promise=new Promise((Ve,Ne)=>{this.resolve=_t=>{rt(this,an,!0),Ve(_t)},this.reject=_t=>{rt(this,an,!0),Ne(_t)}})}get settled(){return V(this,an)}}an=new WeakMap,$.PromiseCapability=qt;let Kt=null,Xt=null;function rn(st){return Kt||(Kt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xt=new Map([["ﬅ","ſt"]])),st.replaceAll(Kt,(Ve,Ne,_t)=>Ne?Ne.normalize("NFKC"):Xt.get(_t))}function nn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const st=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(st);else for(let Ve=0;Ve<32;Ve++)st[Ve]=Math.floor(Math.random()*255);return Re(st)}const Vt="pdfjs_internal_id_";$.AnnotationPrefix=Vt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,R,O,wr,Q,Ur,fe,de,X,Ee,le,ne,re,J,q,Gr,se,ue,bi,te,oe;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ge){var qt,Kt;if(typeof ge=="string"||ge instanceof URL?ge={url:ge}:(0,_util.isArrayBuffer)(ge)&&(ge={data:ge}),typeof ge!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ge.url&&!ge.data&&!ge.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ee=new PDFDocumentLoadingTask,{docId:_e}=ee,he=ge.url?getUrlProp(ge.url):null,Pe=ge.data?getDataProp(ge.data):null,De=ge.httpHeaders||null,be=ge.withCredentials===!0,Te=(qt=ge.password)!=null?qt:null,ze=ge.range instanceof PDFDataRangeTransport?ge.range:null,Qe=Number.isInteger(ge.rangeChunkSize)&&ge.rangeChunkSize>0?ge.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Fe=ge.worker instanceof PDFWorker?ge.worker:null;const nt=ge.verbosity,at=typeof ge.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ge.docBaseUrl)?ge.docBaseUrl:null,ht=typeof ge.cMapUrl=="string"?ge.cMapUrl:null,St=ge.cMapPacked!==!1,we=ge.CMapReaderFactory||DefaultCMapReaderFactory,W=typeof ge.standardFontDataUrl=="string"?ge.standardFontDataUrl:null,Y=ge.StandardFontDataFactory||DefaultStandardFontDataFactory,G=ge.stopAtErrors!==!0,ie=Number.isInteger(ge.maxImageSize)&&ge.maxImageSize>-1?ge.maxImageSize:-1,ce=ge.isEvalSupported!==!1,ye=typeof ge.isOffscreenCanvasSupported=="boolean"?ge.isOffscreenCanvasSupported:!_util.isNodeJS,Ce=Number.isInteger(ge.canvasMaxAreaInBytes)?ge.canvasMaxAreaInBytes:-1,Re=typeof ge.disableFontFace=="boolean"?ge.disableFontFace:_util.isNodeJS,Xe=ge.fontExtraProperties===!0,Ge=ge.enableXfa===!0,tt=ge.ownerDocument||globalThis.document,ct=ge.disableRange===!0,vt=ge.disableStream===!0,ut=ge.disableAutoFetch===!0,ft=ge.pdfBug===!0,gt=ze?ze.length:(Kt=ge.length)!=null?Kt:NaN,pt=typeof ge.useSystemFonts=="boolean"?ge.useSystemFonts:!_util.isNodeJS&&!Re,Ft=typeof ge.useWorkerFetch=="boolean"?ge.useWorkerFetch:we===_display_utils.DOMCMapReaderFactory&&Y===_display_utils.DOMStandardFontDataFactory&&ht&&W&&(0,_display_utils.isValidFetchUrl)(ht,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(W,document.baseURI),ot=ge.canvasFactory||new DefaultCanvasFactory({ownerDocument:tt}),Ue=ge.filterFactory||new DefaultFilterFactory({docId:_e,ownerDocument:tt}),We=null;(0,_util.setVerbosityLevel)(nt);const lt={canvasFactory:ot,filterFactory:Ue};if(Ft||(lt.cMapReaderFactory=new we({baseUrl:ht,isCompressed:St}),lt.standardFontDataFactory=new Y({baseUrl:W})),!Fe){const Xt={verbosity:nt,port:_worker_options.GlobalWorkerOptions.workerPort};Fe=Xt.port?PDFWorker.fromPort(Xt):new PDFWorker(Xt),ee._worker=Fe}const At={docId:_e,apiVersion:"3.11.174",data:Pe,password:Te,disableAutoFetch:ut,rangeChunkSize:Qe,length:gt,docBaseUrl:at,enableXfa:Ge,evaluatorOptions:{maxImageSize:ie,disableFontFace:Re,ignoreErrors:G,isEvalSupported:ce,isOffscreenCanvasSupported:ye,canvasMaxAreaInBytes:Ce,fontExtraProperties:Xe,useSystemFonts:pt,cMapUrl:Ft?ht:null,standardFontDataUrl:Ft?W:null}},Ct={ignoreErrors:G,isEvalSupported:ce,disableFontFace:Re,fontExtraProperties:Xe,enableXfa:Ge,ownerDocument:tt,disableAutoFetch:ut,pdfBug:ft,styleElement:We};return Fe.promise.then(function(){if(ee.destroyed)throw new Error("Loading aborted");const Xt=_fetchDocument(Fe,At),rn=new Promise(function(nn){let Vt;ze?Vt=new _transport_stream.PDFDataTransportStream({length:gt,initialData:ze.initialData,progressiveDone:ze.progressiveDone,contentDispositionFilename:ze.contentDispositionFilename,disableRange:ct,disableStream:vt},ze):Pe||(Vt=(st=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(st):(0,_display_utils.isValidFetchUrl)(st.url)?new _displayFetch_stream.PDFFetchStream(st):new _displayNetwork.PDFNetworkStream(st))({url:he,length:gt,httpHeaders:De,withCredentials:be,rangeChunkSize:Qe,disableRange:ct,disableStream:vt})),nn(Vt)});return Promise.all([Xt,rn]).then(function([nn,Vt]){if(ee.destroyed)throw new Error("Loading aborted");const an=new _message_handler.MessageHandler(_e,nn,Fe.port),st=new WorkerTransport(an,ee,Vt,Ct,lt);ee._transport=st,an.send("Ready",null)})}).catch(ee._capability.reject),ee}async function _fetchDocument(ge,ee){if(ge.destroyed)throw new Error("Worker was destroyed");const _e=await ge.messageHandler.sendWithPromise("GetDocRequest",ee,ee.data?[ee.data.buffer]:null);if(ge.destroyed)throw new Error("Worker was destroyed");return _e}function getUrlProp(ge){if(ge instanceof URL)return ge.href;try{return new URL(ge,window.location).href}catch(ee){if(_util.isNodeJS&&typeof ge=="string")return ge}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ge){if(_util.isNodeJS&&typeof Buffer<"u"&&ge instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ge instanceof Uint8Array&&ge.byteLength===ge.buffer.byteLength)return ge;if(typeof ge=="string")return(0,_util.stringToBytes)(ge);if(typeof ge=="object"&&!isNaN(ge==null?void 0:ge.length)||(0,_util.isArrayBuffer)(ge))return new Uint8Array(ge);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat(Tr($,A)._++),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ee,_e,he;this.destroyed=!0;try{(ee=this._worker)!=null&&ee.port&&(this._worker._pendingDestroy=!0),await((_e=this._transport)==null?void 0:_e.destroy())}catch(Pe){throw(he=this._worker)!=null&&he.port&&delete this._worker._pendingDestroy,Pe}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,$e($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ee,_e,he=!1,Pe=null){this.length=ee,this.initialData=_e,this.progressiveDone=he,this.contentDispositionFilename=Pe,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ee){this._rangeListeners.push(ee)}addProgressListener(ee){this._progressListeners.push(ee)}addProgressiveReadListener(ee){this._progressiveReadListeners.push(ee)}addProgressiveDoneListener(ee){this._progressiveDoneListeners.push(ee)}onDataRange(ee,_e){for(const he of this._rangeListeners)he(ee,_e)}onDataProgress(ee,_e){this._readyCapability.promise.then(()=>{for(const he of this._progressListeners)he(ee,_e)})}onDataProgressiveRead(ee){this._readyCapability.promise.then(()=>{for(const _e of this._progressiveReadListeners)_e(ee)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ee of this._progressiveDoneListeners)ee()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ee,_e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ee,_e){this._pdfInfo=ee,this._transport=_e,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(he=>{if(!he)return he;const Pe=[];for(const De in he)Pe.push(...he[De]);return Pe}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ee){return this._transport.getPage(ee)}getPageIndex(ee){return this._transport.getPageIndex(ee)}getDestinations(){return this._transport.getDestinations()}getDestination(ee){return this._transport.getDestination(ee)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ee=!1){return this._transport.startCleanup(ee||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ee,_e,he,Pe=!1){$e(this,O);$e(this,Q);$e(this,H,null);$e(this,R,!1);this._pageIndex=ee,this._pageInfo=_e,this._transport=he,this._stats=Pe?new _display_utils.StatTimer:null,this._pdfBug=Pe,this.commonObjs=he.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ee,rotation:_e=this.rotate,offsetX:he=0,offsetY:Pe=0,dontFlip:De=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ee,rotation:_e,offsetX:he,offsetY:Pe,dontFlip:De})}getAnnotations({intent:ee="display"}={}){const _e=this._transport.getRenderingIntent(ee);return this._transport.getAnnotations(this._pageIndex,_e.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ee;return((ee=this._transport._htmlForXfa)==null?void 0:ee.children[this._pageIndex])||null}render({canvasContext:ee,viewport:_e,intent:he="display",annotationMode:Pe=_util.AnnotationMode.ENABLE,transform:De=null,background:be=null,optionalContentConfigPromise:Te=null,annotationCanvasMap:ze=null,pageColors:Qe=null,printAnnotationStorage:Fe=null}){var Y,G;(Y=this._stats)==null||Y.time("Overall");const nt=this._transport.getRenderingIntent(he,Pe,Fe);rt(this,R,!1),He(this,Q,Ur).call(this),Te||(Te=this._transport.getOptionalContentConfig());let at=this._intentStates.get(nt.cacheKey);at||(at=Object.create(null),this._intentStates.set(nt.cacheKey,at)),at.streamReaderCancelTimeout&&(clearTimeout(at.streamReaderCancelTimeout),at.streamReaderCancelTimeout=null);const ht=!!(nt.renderingIntent&_util.RenderingIntentFlag.PRINT);at.displayReadyCapability||(at.displayReadyCapability=new _util.PromiseCapability,at.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(nt));const St=ie=>{var ce,ye;at.renderTasks.delete(we),(this._maybeCleanupAfterRender||ht)&&rt(this,R,!0),He(this,O,wr).call(this,!ht),ie?(we.capability.reject(ie),this._abortOperatorList({intentState:at,reason:ie instanceof Error?ie:new Error(ie)})):we.capability.resolve(),(ce=this._stats)==null||ce.timeEnd("Rendering"),(ye=this._stats)==null||ye.timeEnd("Overall")},we=new InternalRenderTask({callback:St,params:{canvasContext:ee,viewport:_e,transform:De,background:be},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ze,operatorList:at.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ht,pdfBug:this._pdfBug,pageColors:Qe});(at.renderTasks||(at.renderTasks=new Set)).add(we);const W=we.task;return Promise.all([at.displayReadyCapability.promise,Te]).then(([ie,ce])=>{var ye;if(this.destroyed){St();return}(ye=this._stats)==null||ye.time("Rendering"),we.initializeGraphics({transparency:ie,optionalContentConfig:ce}),we.operatorListChanged()}).catch(St),W}getOperatorList({intent:ee="display",annotationMode:_e=_util.AnnotationMode.ENABLE,printAnnotationStorage:he=null}={}){var ze;function Pe(){be.operatorList.lastChunk&&(be.opListReadCapability.resolve(be.operatorList),be.renderTasks.delete(Te))}const De=this._transport.getRenderingIntent(ee,_e,he,!0);let be=this._intentStates.get(De.cacheKey);be||(be=Object.create(null),this._intentStates.set(De.cacheKey,be));let Te;return be.opListReadCapability||(Te=Object.create(null),Te.operatorListChanged=Pe,be.opListReadCapability=new _util.PromiseCapability,(be.renderTasks||(be.renderTasks=new Set)).add(Te),be.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ze=this._stats)==null||ze.time("Page Request"),this._pumpOperatorList(De)),be.opListReadCapability.promise}streamTextContent({includeMarkedContent:ee=!1,disableNormalization:_e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ee===!0,disableNormalization:_e===!0},{highWaterMark:100,size(Pe){return Pe.items.length}})}getTextContent(ee={}){if(this._transport._htmlForXfa)return this.getXfa().then(he=>_xfa_text.XfaText.textContent(he));const _e=this.streamTextContent(ee);return new Promise(function(he,Pe){function De(){be.read().then(function({value:ze,done:Qe}){if(Qe){he(Te);return}Object.assign(Te.styles,ze.styles),Te.items.push(...ze.items),De()},Pe)}const be=_e.getReader(),Te={items:[],styles:Object.create(null)};De()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ee=[];for(const _e of this._intentStates.values())if(this._abortOperatorList({intentState:_e,reason:new Error("Page was destroyed."),force:!0}),!_e.opListReadCapability)for(const he of _e.renderTasks)ee.push(he.completed),he.cancel();return this.objs.clear(),rt(this,R,!1),He(this,Q,Ur).call(this),Promise.all(ee)}cleanup(ee=!1){rt(this,R,!0);const _e=He(this,O,wr).call(this,!1);return ee&&_e&&this._stats&&(this._stats=new _display_utils.StatTimer),_e}_startRenderPage(ee,_e){var Pe,De;const he=this._intentStates.get(_e);he&&((Pe=this._stats)==null||Pe.timeEnd("Page Request"),(De=he.displayReadyCapability)==null||De.resolve(ee))}_renderPageChunk(ee,_e){for(let he=0,Pe=ee.length;he<Pe;he++)_e.operatorList.fnArray.push(ee.fnArray[he]),_e.operatorList.argsArray.push(ee.argsArray[he]);_e.operatorList.lastChunk=ee.lastChunk,_e.operatorList.separateAnnots=ee.separateAnnots;for(const he of _e.renderTasks)he.operatorListChanged();ee.lastChunk&&He(this,O,wr).call(this,!0)}_pumpOperatorList({renderingIntent:ee,cacheKey:_e,annotationStorageSerializable:he}){const{map:Pe,transfers:De}=he,Te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ee,cacheKey:_e,annotationStorage:Pe},De).getReader(),ze=this._intentStates.get(_e);ze.streamReader=Te;const Qe=()=>{Te.read().then(({value:Fe,done:nt})=>{if(nt){ze.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Fe,ze),Qe())},Fe=>{if(ze.streamReader=null,!this._transport.destroyed){if(ze.operatorList){ze.operatorList.lastChunk=!0;for(const nt of ze.renderTasks)nt.operatorListChanged();He(this,O,wr).call(this,!0)}if(ze.displayReadyCapability)ze.displayReadyCapability.reject(Fe);else if(ze.opListReadCapability)ze.opListReadCapability.reject(Fe);else throw Fe}})};Qe()}_abortOperatorList({intentState:ee,reason:_e,force:he=!1}){if(ee.streamReader){if(ee.streamReaderCancelTimeout&&(clearTimeout(ee.streamReaderCancelTimeout),ee.streamReaderCancelTimeout=null),!he){if(ee.renderTasks.size>0)return;if(_e instanceof _display_utils.RenderingCancelledException){let Pe=RENDERING_CANCELLED_TIMEOUT;_e.extraDelay>0&&_e.extraDelay<1e3&&(Pe+=_e.extraDelay),ee.streamReaderCancelTimeout=setTimeout(()=>{ee.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ee,reason:_e,force:!0})},Pe);return}}if(ee.streamReader.cancel(new _util.AbortException(_e.message)).catch(()=>{}),ee.streamReader=null,!this._transport.destroyed){for(const[Pe,De]of this._intentStates)if(De===ee){this._intentStates.delete(Pe);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,R=new WeakMap,O=new WeakSet,wr=function(ee=!1){if(He(this,Q,Ur).call(this),!V(this,R)||this.destroyed)return!1;if(ee)return rt(this,H,setTimeout(()=>{rt(this,H,null),He(this,O,wr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_e,operatorList:he}of this._intentStates.values())if(_e.size>0||!he.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),rt(this,R,!1),!0},Q=new WeakSet,Ur=function(){V(this,H)&&(clearTimeout(V(this,H)),rt(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){$e(this,fe,new Set);$e(this,de,Promise.resolve())}postMessage(ee,_e){const he={data:structuredClone(ee,_e?{transfer:_e}:null)};V(this,de).then(()=>{for(const Pe of V(this,fe))Pe.call(this,he)})}addEventListener(ee,_e){V(this,fe).add(_e)}removeEventListener(ee,_e){V(this,fe).delete(_e)}terminate(){V(this,fe).clear()}}fe=new WeakMap,de=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ge=(X=document==null?void 0:document.currentScript)==null?void 0:X.src;ge&&(PDFWorkerUtil.fallbackWorkerSrc=ge.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ge,ee){let _e;try{if(_e=new URL(ge),!_e.origin||_e.origin==="null")return!1}catch(Pe){return!1}const he=new URL(ee,_e);return _e.origin===he.origin},PDFWorkerUtil.createCDNWrapper=function(ge){const ee='importScripts("'.concat(ge,'");');return URL.createObjectURL(new Blob([ee]))}}const _PDFWorker=class _PDFWorker{constructor({name:ge=null,port:ee=null,verbosity:_e=(0,_util.getVerbosityLevel)()}={}){var he;if(this.name=ge,this.destroyed=!1,this.verbosity=_e,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ee){if((he=V(_PDFWorker,Ee))!=null&&he.has(ee))throw new Error("Cannot use more than one PDFWorker per port.");(V(_PDFWorker,Ee)||rt(_PDFWorker,Ee,new WeakMap)).set(ee,this),this._initializeFromPort(ee);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ge){this._port=ge,this._messageHandler=new _message_handler.MessageHandler("main","worker",ge),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ge}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ge)||(ge=PDFWorkerUtil.createCDNWrapper(new URL(ge,window.location).href));const ee=new Worker(ge),_e=new _message_handler.MessageHandler("main","worker",ee),he=()=>{ee.removeEventListener("error",Pe),_e.destroy(),ee.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Pe=()=>{this._webWorker||he()};ee.addEventListener("error",Pe),_e.on("test",be=>{if(ee.removeEventListener("error",Pe),this.destroyed){he();return}be?(this._messageHandler=_e,this._port=ee,this._webWorker=ee,this._readyCapability.resolve(),_e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_e.destroy(),ee.terminate())}),_e.on("ready",be=>{if(ee.removeEventListener("error",Pe),this.destroyed){he();return}try{De()}catch(Te){this._setupFakeWorker()}});const De=()=>{const be=new Uint8Array;_e.send("test",be,[be.buffer])};De();return}catch(ee){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ge=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ee=new LoopbackPort;this._port=ee;const _e="fake".concat(PDFWorkerUtil.fakeWorkerId++),he=new _message_handler.MessageHandler(_e+"_worker",_e,ee);ge.setup(he,ee);const Pe=new _message_handler.MessageHandler(_e,_e+"_worker",ee);this._messageHandler=Pe,this._readyCapability.resolve(),Pe.send("configure",{verbosity:this.verbosity})}).catch(ge=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(ge.message,'".')))})}destroy(){var ge;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ge=V(_PDFWorker,Ee))==null||ge.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ge){var _e;if(!(ge!=null&&ge.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ee=(_e=V(this,Ee))==null?void 0:_e.get(ge.port);if(ee){if(ee._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ee}return new _PDFWorker(ge)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ge;try{return((ge=globalThis.pdfjsWorker)==null?void 0:ge.WorkerMessageHandler)||null}catch(ee){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Ee=new WeakMap,$e(_PDFWorker,Ee,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ee,_e,he,Pe,De){$e(this,q);$e(this,le,new Map);$e(this,ne,new Map);$e(this,re,new Map);$e(this,J,null);this.messageHandler=ee,this.loadingTask=_e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Pe.ownerDocument,styleElement:Pe.styleElement}),this._params=Pe,this.canvasFactory=De.canvasFactory,this.filterFactory=De.filterFactory,this.cMapReaderFactory=De.cMapReaderFactory,this.standardFontDataFactory=De.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=he,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ee,_e=_util.AnnotationMode.ENABLE,he=null,Pe=!1){let De=_util.RenderingIntentFlag.DISPLAY,be=_annotation_storage.SerializableEmpty;switch(ee){case"any":De=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":De=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(ee))}switch(_e){case _util.AnnotationMode.DISABLE:De+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:De+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:De+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,be=(De&_util.RenderingIntentFlag.PRINT&&he instanceof _annotation_storage.PrintAnnotationStorage?he:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(_e))}return Pe&&(De+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:De,cacheKey:"".concat(De,"_").concat(be.hash),annotationStorageSerializable:be}}destroy(){var he;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(he=V(this,J))==null||he.reject(new Error("Worker was destroyed during onPassword callback"));const ee=[];for(const Pe of V(this,ne).values())ee.push(Pe._destroy());V(this,ne).clear(),V(this,re).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _e=this.messageHandler.sendWithPromise("Terminate",null);return ee.push(_e),Promise.all(ee).then(()=>{var Pe;this.commonObjs.clear(),this.fontLoader.clear(),V(this,le).clear(),this.filterFactory.destroy(),(Pe=this._networkStream)==null||Pe.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ee,loadingTask:_e}=this;ee.on("GetReader",(he,Pe)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=De=>{this._lastProgress={loaded:De.loaded,total:De.total}},Pe.onPull=()=>{this._fullReader.read().then(function({value:De,done:be}){if(be){Pe.close();return}(0,_util.assert)(De instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Pe.enqueue(new Uint8Array(De),1,[De])}).catch(De=>{Pe.error(De)})},Pe.onCancel=De=>{this._fullReader.cancel(De),Pe.ready.catch(be=>{if(!this.destroyed)throw be})}}),ee.on("ReaderHeadersReady",he=>{const Pe=new _util.PromiseCapability,De=this._fullReader;return De.headersReady.then(()=>{var be;(!De.isStreamingSupported||!De.isRangeSupported)&&(this._lastProgress&&((be=_e.onProgress)==null||be.call(_e,this._lastProgress)),De.onProgress=Te=>{var ze;(ze=_e.onProgress)==null||ze.call(_e,{loaded:Te.loaded,total:Te.total})}),Pe.resolve({isStreamingSupported:De.isStreamingSupported,isRangeSupported:De.isRangeSupported,contentLength:De.contentLength})},Pe.reject),Pe.promise}),ee.on("GetRangeReader",(he,Pe)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const De=this._networkStream.getRangeReader(he.begin,he.end);if(!De){Pe.close();return}Pe.onPull=()=>{De.read().then(function({value:be,done:Te}){if(Te){Pe.close();return}(0,_util.assert)(be instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Pe.enqueue(new Uint8Array(be),1,[be])}).catch(be=>{Pe.error(be)})},Pe.onCancel=be=>{De.cancel(be),Pe.ready.catch(Te=>{if(!this.destroyed)throw Te})}}),ee.on("GetDoc",({pdfInfo:he})=>{this._numPages=he.numPages,this._htmlForXfa=he.htmlForXfa,delete he.htmlForXfa,_e._capability.resolve(new PDFDocumentProxy(he,this))}),ee.on("DocException",function(he){let Pe;switch(he.name){case"PasswordException":Pe=new _util.PasswordException(he.message,he.code);break;case"InvalidPDFException":Pe=new _util.InvalidPDFException(he.message);break;case"MissingPDFException":Pe=new _util.MissingPDFException(he.message);break;case"UnexpectedResponseException":Pe=new _util.UnexpectedResponseException(he.message,he.status);break;case"UnknownErrorException":Pe=new _util.UnknownErrorException(he.message,he.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_e._capability.reject(Pe)}),ee.on("PasswordRequest",he=>{if(rt(this,J,new _util.PromiseCapability),_e.onPassword){const Pe=De=>{De instanceof Error?V(this,J).reject(De):V(this,J).resolve({password:De})};try{_e.onPassword(Pe,he.code)}catch(De){V(this,J).reject(De)}}else V(this,J).reject(new _util.PasswordException(he.message,he.code));return V(this,J).promise}),ee.on("DataLoaded",he=>{var Pe;(Pe=_e.onProgress)==null||Pe.call(_e,{loaded:he.length,total:he.length}),this.downloadInfoCapability.resolve(he)}),ee.on("StartRenderPage",he=>{if(this.destroyed)return;V(this,ne).get(he.pageIndex)._startRenderPage(he.transparency,he.cacheKey)}),ee.on("commonobj",([he,Pe,De])=>{var be;if(!this.destroyed&&!this.commonObjs.has(he))switch(Pe){case"Font":const Te=this._params;if("error"in De){const Fe=De.error;(0,_util.warn)("Error during font loading: ".concat(Fe)),this.commonObjs.resolve(he,Fe);break}const ze=Te.pdfBug&&((be=globalThis.FontInspector)!=null&&be.enabled)?(Fe,nt)=>globalThis.FontInspector.fontAdded(Fe,nt):null,Qe=new _font_loader.FontFaceObject(De,{isEvalSupported:Te.isEvalSupported,disableFontFace:Te.disableFontFace,ignoreErrors:Te.ignoreErrors,inspectFont:ze});this.fontLoader.bind(Qe).catch(Fe=>ee.sendWithPromise("FontFallback",{id:he})).finally(()=>{!Te.fontExtraProperties&&Qe.data&&(Qe.data=null),this.commonObjs.resolve(he,Qe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(he,De);break;default:throw new Error("Got unknown common object type ".concat(Pe))}}),ee.on("obj",([he,Pe,De,be])=>{var ze;if(this.destroyed)return;const Te=V(this,ne).get(Pe);if(!Te.objs.has(he))switch(De){case"Image":if(Te.objs.resolve(he,be),be){let Qe;if(be.bitmap){const{width:Fe,height:nt}=be;Qe=Fe*nt*4}else Qe=((ze=be.data)==null?void 0:ze.length)||0;Qe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Te._maybeCleanupAfterRender=!0)}break;case"Pattern":Te.objs.resolve(he,be);break;default:throw new Error("Got unknown object type ".concat(De))}}),ee.on("DocProgress",he=>{var Pe;this.destroyed||(Pe=_e.onProgress)==null||Pe.call(_e,{loaded:he.loaded,total:he.total})}),ee.on("FetchBuiltInCMap",he=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(he):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ee.on("FetchStandardFontData",he=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(he):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var he,Pe;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ee,transfers:_e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ee,filename:(Pe=(he=this._fullReader)==null?void 0:he.filename)!=null?Pe:null},_e).finally(()=>{this.annotationStorage.resetModified()})}getPage(ee){if(!Number.isInteger(ee)||ee<=0||ee>this._numPages)return Promise.reject(new Error("Invalid page request."));const _e=ee-1,he=V(this,re).get(_e);if(he)return he;const Pe=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_e}).then(De=>{if(this.destroyed)throw new Error("Transport destroyed");const be=new PDFPageProxy(_e,De,this,this._params.pdfBug);return V(this,ne).set(_e,be),be});return V(this,re).set(_e,Pe),Pe}getPageIndex(ee){return typeof ee!="object"||ee===null||!Number.isInteger(ee.num)||ee.num<0||!Number.isInteger(ee.gen)||ee.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ee.num,gen:ee.gen})}getAnnotations(ee,_e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ee,intent:_e})}getFieldObjects(){return He(this,q,Gr).call(this,"GetFieldObjects")}hasJSActions(){return He(this,q,Gr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ee){return typeof ee!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ee})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return He(this,q,Gr).call(this,"GetDocJSActions")}getPageJSActions(ee){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ee})}getStructTree(ee){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ee})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ee=>new _optional_content_config.OptionalContentConfig(ee))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ee="GetMetadata",_e=V(this,le).get(ee);if(_e)return _e;const he=this.messageHandler.sendWithPromise(ee,null).then(Pe=>{var De,be,Te,ze;return{info:Pe[0],metadata:Pe[1]?new _metadata.Metadata(Pe[1]):null,contentDispositionFilename:(be=(De=this._fullReader)==null?void 0:De.filename)!=null?be:null,contentLength:(ze=(Te=this._fullReader)==null?void 0:Te.contentLength)!=null?ze:null}});return V(this,le).set(ee,he),he}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ee=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _e of V(this,ne).values())if(!_e.cleanup())throw new Error("startCleanup: Page ".concat(_e.pageNumber," is currently rendering."));this.commonObjs.clear(),ee||this.fontLoader.clear(),V(this,le).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ee,enableXfa:_e}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ee,enableXfa:_e})}}le=new WeakMap,ne=new WeakMap,re=new WeakMap,J=new WeakMap,q=new WeakSet,Gr=function(ee,_e=null){const he=V(this,le).get(ee);if(he)return he;const Pe=this.messageHandler.sendWithPromise(ee,_e);return V(this,le).set(ee,Pe),Pe};class PDFObjects{constructor(){$e(this,ue);$e(this,se,Object.create(null))}get(ee,_e=null){if(_e){const Pe=He(this,ue,bi).call(this,ee);return Pe.capability.promise.then(()=>_e(Pe.data)),null}const he=V(this,se)[ee];if(!(he!=null&&he.capability.settled))throw new Error("Requesting object that isn't resolved yet ".concat(ee,"."));return he.data}has(ee){const _e=V(this,se)[ee];return(_e==null?void 0:_e.capability.settled)||!1}resolve(ee,_e=null){const he=He(this,ue,bi).call(this,ee);he.data=_e,he.capability.resolve()}clear(){var ee;for(const _e in V(this,se)){const{data:he}=V(this,se)[_e];(ee=he==null?void 0:he.bitmap)==null||ee.close()}rt(this,se,Object.create(null))}}se=new WeakMap,ue=new WeakSet,bi=function(ee){var _e;return(_e=V(this,se))[ee]||(_e[ee]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ee){$e(this,te,null);rt(this,te,ee),this.onContinue=null}get promise(){return V(this,te).capability.promise}cancel(ee=0){V(this,te).cancel(null,ee)}get separateAnnots(){const{separateAnnots:ee}=V(this,te).operatorList;if(!ee)return!1;const{annotationCanvasMap:_e}=V(this,te);return ee.form||ee.canvas&&(_e==null?void 0:_e.size)>0}}te=new WeakMap,exports.RenderTask=RenderTask;const Ae=class Ae{constructor({callback:ee,params:_e,objs:he,commonObjs:Pe,annotationCanvasMap:De,operatorList:be,pageIndex:Te,canvasFactory:ze,filterFactory:Qe,useRequestAnimationFrame:Fe=!1,pdfBug:nt=!1,pageColors:at=null}){this.callback=ee,this.params=_e,this.objs=he,this.commonObjs=Pe,this.annotationCanvasMap=De,this.operatorListIdx=null,this.operatorList=be,this._pageIndex=Te,this.canvasFactory=ze,this.filterFactory=Qe,this._pdfBug=nt,this.pageColors=at,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Fe===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ee=!1,optionalContentConfig:_e}){var Te,ze;if(this.cancelled)return;if(this._canvas){if(V(Ae,oe).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(Ae,oe).add(this._canvas)}this._pdfBug&&((Te=globalThis.StepperManager)!=null&&Te.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:he,viewport:Pe,transform:De,background:be}=this.params;this.gfx=new _canvas.CanvasGraphics(he,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:De,viewport:Pe,transparency:ee,background:be}),this.operatorListIdx=0,this.graphicsReady=!0,(ze=this.graphicsReadyCallback)==null||ze.call(this)}cancel(ee=null,_e=0){var he;this.running=!1,this.cancelled=!0,(he=this.gfx)==null||he.endDrawing(),V(Ae,oe).delete(this._canvas),this.callback(ee||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),_e))}operatorListChanged(){var ee;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ee=this.stepper)==null||ee.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(Ae,oe).delete(this._canvas),this.callback())))}};oe=new WeakMap,$e(Ae,oe,new WeakSet);let InternalRenderTask=Ae;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(A,$,H)=>{var de,X,Ee,ga,ne;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var R=H(1),O=H(4),B=H(8);const Q=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Q;class ve{constructor(){$e(this,Ee);$e(this,de,!1);$e(this,X,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(J,q){const ae=V(this,X).get(J);return ae===void 0?q:Object.assign(q,ae)}getRawValue(J){return V(this,X).get(J)}remove(J){if(V(this,X).delete(J),V(this,X).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const q of V(this,X).values())if(q instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(J,q){const ae=V(this,X).get(J);let se=!1;if(ae!==void 0)for(const[ue,pe]of Object.entries(q))ae[ue]!==pe&&(se=!0,ae[ue]=pe);else se=!0,V(this,X).set(J,q);se&&He(this,Ee,ga).call(this),q instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(q.constructor._type)}has(J){return V(this,X).has(J)}getAll(){return V(this,X).size>0?(0,R.objectFromMap)(V(this,X)):null}setAll(J){for(const[q,ae]of Object.entries(J))this.setValue(q,ae)}get size(){return V(this,X).size}resetModified(){V(this,de)&&(rt(this,de,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fe(this)}get serializable(){if(V(this,X).size===0)return Q;const J=new Map,q=new B.MurmurHash3_64,ae=[],se=Object.create(null);let ue=!1;for(const[pe,te]of V(this,X)){const oe=te instanceof O.AnnotationEditor?te.serialize(!1,se):te;oe&&(J.set(pe,oe),q.update("".concat(pe,":").concat(JSON.stringify(oe))),ue||(ue=!!oe.bitmap))}if(ue)for(const pe of J.values())pe.bitmap&&ae.push(pe.bitmap);return J.size>0?{map:J,hash:q.hexdigest(),transfers:ae}:Q}}de=new WeakMap,X=new WeakMap,Ee=new WeakSet,ga=function(){V(this,de)||(rt(this,de,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=ve;class fe extends ve{constructor(q){super();$e(this,ne,void 0);const{map:ae,hash:se,transfers:ue}=q.serializable,pe=structuredClone(ae,ue?{transfer:ue}:null);rt(this,ne,{map:pe,hash:se,transfers:ue})}get print(){(0,R.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,ne)}}ne=new WeakMap,$.PrintAnnotationStorage=fe},(A,$,H)=>{var fe,de,X,Ee,le,ne,re,J,q,ae,se,ue,pe,te,oe,_i,ge,Ei,_e,yi,Pe,Si,be,va,ze,ba,Fe,_a,at,wi,St,Ea;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var R=H(5),O=H(1),B=H(6);const W=class W{constructor(G){$e(this,oe);$e(this,ge);$e(this,Pe);$e(this,be);$e(this,ze);$e(this,Fe);$e(this,at);$e(this,St);$e(this,fe,"");$e(this,de,!1);$e(this,X,null);$e(this,Ee,null);$e(this,le,null);$e(this,ne,!1);$e(this,re,null);$e(this,J,this.focusin.bind(this));$e(this,q,this.focusout.bind(this));$e(this,ae,!1);$e(this,se,!1);$e(this,ue,!1);Dn(this,"_initialOptions",Object.create(null));Dn(this,"_uiManager",null);Dn(this,"_focusEventsAllowed",!0);Dn(this,"_l10nPromise",null);$e(this,pe,!1);$e(this,te,W._zIndex++);this.constructor===W&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=G.parent,this.id=G.id,this.width=this.height=null,this.pageIndex=G.parent.pageIndex,this.name=G.name,this.div=null,this._uiManager=G.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=G.isCentered,this._structTreeParentId=null;const{rotation:ie,rawDims:{pageWidth:ce,pageHeight:ye,pageX:Ce,pageY:Re}}=this.parent.viewport;this.rotation=ie,this.pageRotation=(360+ie-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ce,ye],this.pageTranslation=[Ce,Re];const[Xe,Ge]=this.parentDimensions;this.x=G.x/Xe,this.y=G.y/Ge,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(G){const ie=new ve({id:G.parent.getNextId(),parent:G.parent,uiManager:G._uiManager});ie.annotationElementId=G.annotationElementId,ie.deleted=!0,ie._uiManager.addToAnnotationStorage(ie)}static initialize(G,ie=null){if(W._l10nPromise||(W._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ye=>[ye,G.get(ye)]))),ie!=null&&ie.strings)for(const ye of ie.strings)W._l10nPromise.set(ye,G.get(ye));if(W._borderLineWidth!==-1)return;const ce=getComputedStyle(document.documentElement);W._borderLineWidth=parseFloat(ce.getPropertyValue("--outline-width"))||0}static updateDefaultParams(G,ie){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(G){return!1}static paste(G,ie){(0,O.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,pe)}set _isDraggable(G){var ie;rt(this,pe,G),(ie=this.div)==null||ie.classList.toggle("draggable",G)}center(){const[G,ie]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ie/(G*2),this.y+=this.width*G/(ie*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ie/(G*2),this.y-=this.width*G/(ie*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(G){this._uiManager.addCommands(G)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,te)}setParent(G){G!==null&&(this.pageIndex=G.pageIndex,this.pageDimensions=G.pageDimensions),this.parent=G}focusin(G){this._focusEventsAllowed&&(V(this,ae)?rt(this,ae,!1):this.parent.setSelected(this))}focusout(G){var ce;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ie=G.relatedTarget;ie!=null&&ie.closest("#".concat(this.id))||(G.preventDefault(),(ce=this.parent)!=null&&ce.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(G,ie,ce,ye){const[Ce,Re]=this.parentDimensions;[ce,ye]=this.screenToPageTranslation(ce,ye),this.x=(G+ce)/Ce,this.y=(ie+ye)/Re,this.fixAndSetPosition()}translate(G,ie){He(this,oe,_i).call(this,this.parentDimensions,G,ie)}translateInPage(G,ie){He(this,oe,_i).call(this,this.pageDimensions,G,ie),this.div.scrollIntoView({block:"nearest"})}drag(G,ie){const[ce,ye]=this.parentDimensions;if(this.x+=G/ce,this.y+=ie/ye,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:tt,y:ct}=this.div.getBoundingClientRect();this.parent.findNewParent(this,tt,ct)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ce,y:Re}=this;const[Xe,Ge]=He(this,ge,Ei).call(this);Ce+=Xe,Re+=Ge,this.div.style.left="".concat((100*Ce).toFixed(2),"%"),this.div.style.top="".concat((100*Re).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[G,ie]=this.pageDimensions;let{x:ce,y:ye,width:Ce,height:Re}=this;switch(Ce*=G,Re*=ie,ce*=G,ye*=ie,this.rotation){case 0:ce=Math.max(0,Math.min(G-Ce,ce)),ye=Math.max(0,Math.min(ie-Re,ye));break;case 90:ce=Math.max(0,Math.min(G-Re,ce)),ye=Math.min(ie,Math.max(Ce,ye));break;case 180:ce=Math.min(G,Math.max(Ce,ce)),ye=Math.min(ie,Math.max(Re,ye));break;case 270:ce=Math.min(G,Math.max(Re,ce)),ye=Math.max(0,Math.min(ie-Ce,ye));break}this.x=ce/=G,this.y=ye/=ie;const[Xe,Ge]=He(this,ge,Ei).call(this);ce+=Xe,ye+=Ge;const{style:tt}=this.div;tt.left="".concat((100*ce).toFixed(2),"%"),tt.top="".concat((100*ye).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(G,ie){var ce;return He(ce=W,_e,yi).call(ce,G,ie,this.parentRotation)}pageTranslationToScreen(G,ie){var ce;return He(ce=W,_e,yi).call(ce,G,ie,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:G,pageDimensions:[ie,ce]}=this,ye=ie*G,Ce=ce*G;return O.FeatureTest.isCSSRoundSupported?[Math.round(ye),Math.round(Ce)]:[ye,Ce]}setDims(G,ie){var Ce;const[ce,ye]=this.parentDimensions;this.div.style.width="".concat((100*G/ce).toFixed(2),"%"),V(this,ne)||(this.div.style.height="".concat((100*ie/ye).toFixed(2),"%")),(Ce=V(this,X))==null||Ce.classList.toggle("small",G<W.SMALL_EDITOR_SIZE||ie<W.SMALL_EDITOR_SIZE)}fixDims(){const{style:G}=this.div,{height:ie,width:ce}=G,ye=ce.endsWith("%"),Ce=!V(this,ne)&&ie.endsWith("%");if(ye&&Ce)return;const[Re,Xe]=this.parentDimensions;ye||(G.width="".concat((100*parseFloat(ce)/Re).toFixed(2),"%")),!V(this,ne)&&!Ce&&(G.height="".concat((100*parseFloat(ie)/Xe).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,X))return;const G=rt(this,X,document.createElement("button"));G.className="altText";const ie=await W._l10nPromise.get("editor_alt_text_button_label");G.textContent=ie,G.setAttribute("aria-label",ie),G.tabIndex="0",G.addEventListener("contextmenu",B.noContextMenu),G.addEventListener("pointerdown",ce=>ce.stopPropagation()),G.addEventListener("click",ce=>{ce.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),G.addEventListener("keydown",ce=>{ce.target===G&&ce.key==="Enter"&&(ce.preventDefault(),this._uiManager.editAltText(this))}),He(this,at,wi).call(this),this.div.append(G),W.SMALL_EDITOR_SIZE||(W.SMALL_EDITOR_SIZE=Math.min(128,Math.round(G.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,fe),decorative:V(this,de)}}set altTextData({altText:G,decorative:ie}){V(this,fe)===G&&V(this,de)===ie||(rt(this,fe,G),rt(this,de,ie),He(this,at,wi).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,J)),this.div.addEventListener("focusout",V(this,q));const[G,ie]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*ie/G).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*G/ie).toFixed(2),"%"));const[ce,ye]=this.getInitialTranslation();return this.translate(ce,ye),(0,R.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(G){const{isMac:ie}=O.FeatureTest.platform;if(G.button!==0||G.ctrlKey&&ie){G.preventDefault();return}rt(this,ae,!0),He(this,St,Ea).call(this,G)}moveInDOM(){var G;(G=this.parent)==null||G.moveEditorInDOM(this)}_setParentAndPosition(G,ie,ce){G.changeParent(this),this.x=ie,this.y=ce,this.fixAndSetPosition()}getRect(G,ie){const ce=this.parentScale,[ye,Ce]=this.pageDimensions,[Re,Xe]=this.pageTranslation,Ge=G/ce,tt=ie/ce,ct=this.x*ye,vt=this.y*Ce,ut=this.width*ye,ft=this.height*Ce;switch(this.rotation){case 0:return[ct+Ge+Re,Ce-vt-tt-ft+Xe,ct+Ge+ut+Re,Ce-vt-tt+Xe];case 90:return[ct+tt+Re,Ce-vt+Ge+Xe,ct+tt+ft+Re,Ce-vt+Ge+ut+Xe];case 180:return[ct-Ge-ut+Re,Ce-vt+tt+Xe,ct-Ge+Re,Ce-vt+tt+ft+Xe];case 270:return[ct-tt-ft+Re,Ce-vt-Ge-ut+Xe,ct-tt+Re,Ce-vt-Ge+Xe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(G,ie){const[ce,ye,Ce,Re]=G,Xe=Ce-ce,Ge=Re-ye;switch(this.rotation){case 0:return[ce,ie-Re,Xe,Ge];case 90:return[ce,ie-ye,Ge,Xe];case 180:return[Ce,ie-ye,Xe,Ge];case 270:return[Ce,ie-Re,Ge,Xe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rt(this,ue,!0)}disableEditMode(){rt(this,ue,!1)}isInEditMode(){return V(this,ue)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var G,ie;(G=this.div)==null||G.addEventListener("focusin",V(this,J)),(ie=this.div)==null||ie.addEventListener("focusout",V(this,q))}serialize(G=!1,ie=null){(0,O.unreachable)("An editor must be serializable")}static deserialize(G,ie,ce){const ye=new this.prototype.constructor({parent:ie,id:ie.getNextId(),uiManager:ce});ye.rotation=G.rotation;const[Ce,Re]=ye.pageDimensions,[Xe,Ge,tt,ct]=ye.getRectInCurrentCoords(G.rect,Re);return ye.x=Xe/Ce,ye.y=Ge/Re,ye.width=tt/Ce,ye.height=ct/Re,ye}remove(){var G;this.div.removeEventListener("focusin",V(this,J)),this.div.removeEventListener("focusout",V(this,q)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(G=V(this,X))==null||G.remove(),rt(this,X,null),rt(this,Ee,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(He(this,be,va).call(this),V(this,re).classList.remove("hidden"))}select(){var G;this.makeResizable(),(G=this.div)==null||G.classList.add("selectedEditor")}unselect(){var G,ie,ce;(G=V(this,re))==null||G.classList.add("hidden"),(ie=this.div)==null||ie.classList.remove("selectedEditor"),(ce=this.div)!=null&&ce.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(G,ie){}disableEditing(){V(this,X)&&(V(this,X).hidden=!0)}enableEditing(){V(this,X)&&(V(this,X).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,se)}set isEditing(G){rt(this,se,G),this.parent&&(G?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(G,ie){rt(this,ne,!0);const ce=G/ie,{style:ye}=this.div;ye.aspectRatio=ce,ye.height="auto"}static get MIN_SIZE(){return 16}};fe=new WeakMap,de=new WeakMap,X=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,J=new WeakMap,q=new WeakMap,ae=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakMap,te=new WeakMap,oe=new WeakSet,_i=function([G,ie],ce,ye){[ce,ye]=this.screenToPageTranslation(ce,ye),this.x+=ce/G,this.y+=ye/ie,this.fixAndSetPosition()},ge=new WeakSet,Ei=function(){const[G,ie]=this.parentDimensions,{_borderLineWidth:ce}=W,ye=ce/G,Ce=ce/ie;switch(this.rotation){case 90:return[-ye,Ce];case 180:return[ye,Ce];case 270:return[ye,-Ce];default:return[-ye,-Ce]}},_e=new WeakSet,yi=function(G,ie,ce){switch(ce){case 90:return[ie,-G];case 180:return[-G,-ie];case 270:return[-ie,G];default:return[G,ie]}},Pe=new WeakSet,Si=function(G){switch(G){case 90:{const[ie,ce]=this.pageDimensions;return[0,-ie/ce,ce/ie,0]}case 180:return[-1,0,0,-1];case 270:{const[ie,ce]=this.pageDimensions;return[0,ie/ce,-ce/ie,0]}default:return[1,0,0,1]}},be=new WeakSet,va=function(){if(V(this,re))return;rt(this,re,document.createElement("div")),V(this,re).classList.add("resizers");const G=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||G.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const ie of G){const ce=document.createElement("div");V(this,re).append(ce),ce.classList.add("resizer",ie),ce.addEventListener("pointerdown",He(this,ze,ba).bind(this,ie)),ce.addEventListener("contextmenu",B.noContextMenu)}this.div.prepend(V(this,re))},ze=new WeakSet,ba=function(G,ie){ie.preventDefault();const{isMac:ce}=O.FeatureTest.platform;if(ie.button!==0||ie.ctrlKey&&ce)return;const ye=He(this,Fe,_a).bind(this,G),Ce=this._isDraggable;this._isDraggable=!1;const Re={passive:!0,capture:!0};window.addEventListener("pointermove",ye,Re);const Xe=this.x,Ge=this.y,tt=this.width,ct=this.height,vt=this.parent.div.style.cursor,ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ie.target).cursor;const ft=()=>{this._isDraggable=Ce,window.removeEventListener("pointerup",ft),window.removeEventListener("blur",ft),window.removeEventListener("pointermove",ye,Re),this.parent.div.style.cursor=vt,this.div.style.cursor=ut;const gt=this.x,pt=this.y,Ft=this.width,ot=this.height;gt===Xe&&pt===Ge&&Ft===tt&&ot===ct||this.addCommands({cmd:()=>{this.width=Ft,this.height=ot,this.x=gt,this.y=pt;const[Ue,We]=this.parentDimensions;this.setDims(Ue*Ft,We*ot),this.fixAndSetPosition()},undo:()=>{this.width=tt,this.height=ct,this.x=Xe,this.y=Ge;const[Ue,We]=this.parentDimensions;this.setDims(Ue*tt,We*ct),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ft),window.addEventListener("blur",ft)},Fe=new WeakSet,_a=function(G,ie){const[ce,ye]=this.parentDimensions,Ce=this.x,Re=this.y,Xe=this.width,Ge=this.height,tt=W.MIN_SIZE/ce,ct=W.MIN_SIZE/ye,vt=_t=>Math.round(_t*1e4)/1e4,ut=He(this,Pe,Si).call(this,this.rotation),ft=(_t,dt)=>[ut[0]*_t+ut[2]*dt,ut[1]*_t+ut[3]*dt],gt=He(this,Pe,Si).call(this,360-this.rotation),pt=(_t,dt)=>[gt[0]*_t+gt[2]*dt,gt[1]*_t+gt[3]*dt];let Ft,ot,Ue=!1,We=!1;switch(G){case"topLeft":Ue=!0,Ft=(_t,dt)=>[0,0],ot=(_t,dt)=>[_t,dt];break;case"topMiddle":Ft=(_t,dt)=>[_t/2,0],ot=(_t,dt)=>[_t/2,dt];break;case"topRight":Ue=!0,Ft=(_t,dt)=>[_t,0],ot=(_t,dt)=>[0,dt];break;case"middleRight":We=!0,Ft=(_t,dt)=>[_t,dt/2],ot=(_t,dt)=>[0,dt/2];break;case"bottomRight":Ue=!0,Ft=(_t,dt)=>[_t,dt],ot=(_t,dt)=>[0,0];break;case"bottomMiddle":Ft=(_t,dt)=>[_t/2,dt],ot=(_t,dt)=>[_t/2,0];break;case"bottomLeft":Ue=!0,Ft=(_t,dt)=>[0,dt],ot=(_t,dt)=>[_t,0];break;case"middleLeft":We=!0,Ft=(_t,dt)=>[0,dt/2],ot=(_t,dt)=>[_t,dt/2];break}const lt=Ft(Xe,Ge),At=ot(Xe,Ge);let Ct=ft(...At);const qt=vt(Ce+Ct[0]),Kt=vt(Re+Ct[1]);let Xt=1,rn=1,[nn,Vt]=this.screenToPageTranslation(ie.movementX,ie.movementY);if([nn,Vt]=pt(nn/ce,Vt/ye),Ue){const _t=Math.hypot(Xe,Ge);Xt=rn=Math.max(Math.min(Math.hypot(At[0]-lt[0]-nn,At[1]-lt[1]-Vt)/_t,1/Xe,1/Ge),tt/Xe,ct/Ge)}else We?Xt=Math.max(tt,Math.min(1,Math.abs(At[0]-lt[0]-nn)))/Xe:rn=Math.max(ct,Math.min(1,Math.abs(At[1]-lt[1]-Vt)))/Ge;const an=vt(Xe*Xt),st=vt(Ge*rn);Ct=ft(...ot(an,st));const Ve=qt-Ct[0],Ne=Kt-Ct[1];this.width=an,this.height=st,this.x=Ve,this.y=Ne,this.setDims(ce*an,ye*st),this.fixAndSetPosition()},at=new WeakSet,wi=async function(){var ce;const G=V(this,X);if(!G)return;if(!V(this,fe)&&!V(this,de)){G.classList.remove("done"),(ce=V(this,Ee))==null||ce.remove();return}W._l10nPromise.get("editor_alt_text_edit_button_label").then(ye=>{G.setAttribute("aria-label",ye)});let ie=V(this,Ee);if(!ie){rt(this,Ee,ie=document.createElement("span")),ie.className="tooltip",ie.setAttribute("role","tooltip");const ye=ie.id="alt-text-tooltip-".concat(this.id);G.setAttribute("aria-describedby",ye);const Ce=100;G.addEventListener("mouseenter",()=>{rt(this,le,setTimeout(()=>{rt(this,le,null),V(this,Ee).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ce))}),G.addEventListener("mouseleave",()=>{var Re;clearTimeout(V(this,le)),rt(this,le,null),(Re=V(this,Ee))==null||Re.classList.remove("show")})}G.classList.add("done"),ie.innerText=V(this,de)?await W._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,fe),ie.parentNode||G.append(ie)},St=new WeakSet,Ea=function(G){if(!this._isDraggable)return;const ie=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ce,ye;ie&&(ce={passive:!0,capture:!0},ye=Re=>{const[Xe,Ge]=this.screenToPageTranslation(Re.movementX,Re.movementY);this._uiManager.dragSelectedEditors(Xe,Ge)},window.addEventListener("pointermove",ye,ce));const Ce=()=>{if(window.removeEventListener("pointerup",Ce),window.removeEventListener("blur",Ce),ie&&window.removeEventListener("pointermove",ye,ce),rt(this,ae,!1),!this._uiManager.endDragSession()){const{isMac:Re}=O.FeatureTest.platform;G.ctrlKey&&!Re||G.shiftKey||G.metaKey&&Re?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ce),window.addEventListener("blur",Ce)},$e(W,_e),Dn(W,"_borderLineWidth",-1),Dn(W,"_colorManager",new R.ColorManager),Dn(W,"_zIndex",1),Dn(W,"SMALL_EDITOR_SIZE",0);let Q=W;$.AnnotationEditor=Q;class ve extends Q{constructor(G){super(G),this.annotationElementId=G.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,$,H)=>{var ne,re,J,q,ae,Ai,pe,te,oe,Ae,ge,ya,he,Pe,De,be,Te,ze,Qe,Fe,nt,at,ht,St,we,W,Y,G,ie,ce,ye,Ce,Re,Xe,Ge,tt,ct,vt,ut,ft,gt,pt,Ft,ot,Ue,We,lt,Sa,Ct,Ci,Kt,Pi,rn,qr,Vt,ki,st,Mi,Ne,or,dt,$r,Pn,wa,Pt,Aa,xt,xi,zt,Rr,wt,Ti;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=Q;var R=H(1),O=H(6);function B(Me,U,Se){for(const xe of Se)U.addEventListener(xe,Me[xe].bind(Me))}function Q(Me){return Math.round(Math.min(255,Math.max(1,255*Me))).toString(16).padStart(2,"0")}class ve{constructor(){$e(this,ne,0)}getId(){return"".concat(R.AnnotationEditorPrefix).concat(Tr(this,ne)._++)}}ne=new WeakMap;const ue=class ue{constructor(){$e(this,ae);$e(this,re,(0,R.getUuid)());$e(this,J,0);$e(this,q,null)}static get _isSVGFittingCanvas(){const U='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',xe=new OffscreenCanvas(1,3).getContext("2d"),Be=new Image;Be.src=U;const qe=Be.decode().then(()=>(xe.drawImage(Be,0,0,1,1,0,0,1,3),new Uint32Array(xe.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,R.shadow)(this,"_isSVGFittingCanvas",qe)}async getFromFile(U){const{lastModified:Se,name:xe,size:Be,type:qe}=U;return He(this,ae,Ai).call(this,"".concat(Se,"_").concat(xe,"_").concat(Be,"_").concat(qe),U)}async getFromUrl(U){return He(this,ae,Ai).call(this,U,U)}async getFromId(U){V(this,q)||rt(this,q,new Map);const Se=V(this,q).get(U);return Se?Se.bitmap?(Se.refCounter+=1,Se):Se.file?this.getFromFile(Se.file):this.getFromUrl(Se.url):null}getSvgUrl(U){const Se=V(this,q).get(U);return Se!=null&&Se.isSvg?Se.svgUrl:null}deleteId(U){V(this,q)||rt(this,q,new Map);const Se=V(this,q).get(U);Se&&(Se.refCounter-=1,Se.refCounter===0&&(Se.bitmap=null))}isValidId(U){return U.startsWith("image_".concat(V(this,re),"_"))}};re=new WeakMap,J=new WeakMap,q=new WeakMap,ae=new WeakSet,Ai=async function(U,Se){V(this,q)||rt(this,q,new Map);let xe=V(this,q).get(U);if(xe===null)return null;if(xe!=null&&xe.bitmap)return xe.refCounter+=1,xe;try{xe||(xe={bitmap:null,id:"image_".concat(V(this,re),"_").concat(Tr(this,J)._++),refCounter:0,isSvg:!1});let Be;if(typeof Se=="string"){xe.url=Se;const qe=await fetch(Se);if(!qe.ok)throw new Error(qe.statusText);Be=await qe.blob()}else Be=xe.file=Se;if(Be.type==="image/svg+xml"){const qe=ue._isSVGFittingCanvas,it=new FileReader,Et=new Image,Tt=new Promise(($t,en)=>{Et.onload=()=>{xe.bitmap=Et,xe.isSvg=!0,$t()},it.onload=async()=>{const It=xe.svgUrl=it.result;Et.src=await qe?"".concat(It,"#svgView(preserveAspectRatio(none))"):It},Et.onerror=it.onerror=en});it.readAsDataURL(Be),await Tt}else xe.bitmap=await createImageBitmap(Be);xe.refCounter=1}catch(Be){console.error(Be),xe=null}return V(this,q).set(U,xe),xe&&V(this,q).set(xe.id,xe),xe};let fe=ue;class de{constructor(U=128){$e(this,pe,[]);$e(this,te,!1);$e(this,oe,void 0);$e(this,Ae,-1);rt(this,oe,U)}add({cmd:U,undo:Se,mustExec:xe,type:Be=NaN,overwriteIfSameType:qe=!1,keepUndo:it=!1}){if(xe&&U(),V(this,te))return;const Et={cmd:U,undo:Se,type:Be};if(V(this,Ae)===-1){V(this,pe).length>0&&(V(this,pe).length=0),rt(this,Ae,0),V(this,pe).push(Et);return}if(qe&&V(this,pe)[V(this,Ae)].type===Be){it&&(Et.undo=V(this,pe)[V(this,Ae)].undo),V(this,pe)[V(this,Ae)]=Et;return}const Tt=V(this,Ae)+1;Tt===V(this,oe)?V(this,pe).splice(0,1):(rt(this,Ae,Tt),Tt<V(this,pe).length&&V(this,pe).splice(Tt)),V(this,pe).push(Et)}undo(){V(this,Ae)!==-1&&(rt(this,te,!0),V(this,pe)[V(this,Ae)].undo(),rt(this,te,!1),rt(this,Ae,V(this,Ae)-1))}redo(){V(this,Ae)<V(this,pe).length-1&&(rt(this,Ae,V(this,Ae)+1),rt(this,te,!0),V(this,pe)[V(this,Ae)].cmd(),rt(this,te,!1))}hasSomethingToUndo(){return V(this,Ae)!==-1}hasSomethingToRedo(){return V(this,Ae)<V(this,pe).length-1}destroy(){rt(this,pe,null)}}pe=new WeakMap,te=new WeakMap,oe=new WeakMap,Ae=new WeakMap,$.CommandManager=de;class X{constructor(U){$e(this,ge);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Se}=R.FeatureTest.platform;for(const[xe,Be,qe={}]of U)for(const it of xe){const Et=it.startsWith("mac+");Se&&Et?(this.callbacks.set(it.slice(4),{callback:Be,options:qe}),this.allKeys.add(it.split("+").at(-1))):!Se&&!Et&&(this.callbacks.set(it,{callback:Be,options:qe}),this.allKeys.add(it.split("+").at(-1)))}}exec(U,Se){if(!this.allKeys.has(Se.key))return;const xe=this.callbacks.get(He(this,ge,ya).call(this,Se));if(!xe)return;const{callback:Be,options:{bubbles:qe=!1,args:it=[],checker:Et=null}}=xe;Et&&!Et(U,Se)||(Be.bind(U,...it)(),qe||(Se.stopPropagation(),Se.preventDefault()))}}ge=new WeakSet,ya=function(U){U.altKey&&this.buffer.push("alt"),U.ctrlKey&&this.buffer.push("ctrl"),U.metaKey&&this.buffer.push("meta"),U.shiftKey&&this.buffer.push("shift"),this.buffer.push(U.key);const Se=this.buffer.join("+");return this.buffer.length=0,Se},$.KeyboardManager=X;const _e=class _e{get _colors(){const U=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)(U),(0,R.shadow)(this,"_colors",U)}convert(U){const Se=(0,O.getRGB)(U);if(!window.matchMedia("(forced-colors: active)").matches)return Se;for(const[xe,Be]of this._colors)if(Be.every((qe,it)=>qe===Se[it]))return _e._colorsMapping.get(xe);return Se}getHexCode(U){const Se=this._colors.get(U);return Se?R.Util.makeHexColor(...Se):U}};Dn(_e,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ee=_e;$.ColorManager=Ee;const Nt=class Nt{constructor(U,Se,xe,Be,qe,it){$e(this,lt);$e(this,Ct);$e(this,Kt);$e(this,rn);$e(this,Vt);$e(this,st);$e(this,Ne);$e(this,dt);$e(this,Pn);$e(this,Pt);$e(this,xt);$e(this,zt);$e(this,wt);$e(this,he,null);$e(this,Pe,new Map);$e(this,De,new Map);$e(this,be,null);$e(this,Te,null);$e(this,ze,new de);$e(this,Qe,0);$e(this,Fe,new Set);$e(this,nt,null);$e(this,at,null);$e(this,ht,new Set);$e(this,St,null);$e(this,we,new ve);$e(this,W,!1);$e(this,Y,!1);$e(this,G,null);$e(this,ie,R.AnnotationEditorType.NONE);$e(this,ce,new Set);$e(this,ye,null);$e(this,Ce,this.blur.bind(this));$e(this,Re,this.focus.bind(this));$e(this,Xe,this.copy.bind(this));$e(this,Ge,this.cut.bind(this));$e(this,tt,this.paste.bind(this));$e(this,ct,this.keydown.bind(this));$e(this,vt,this.onEditingAction.bind(this));$e(this,ut,this.onPageChanging.bind(this));$e(this,ft,this.onScaleChanging.bind(this));$e(this,gt,this.onRotationChanging.bind(this));$e(this,pt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});$e(this,Ft,[0,0]);$e(this,ot,null);$e(this,Ue,null);$e(this,We,null);rt(this,Ue,U),rt(this,We,Se),rt(this,be,xe),this._eventBus=Be,this._eventBus._on("editingaction",V(this,vt)),this._eventBus._on("pagechanging",V(this,ut)),this._eventBus._on("scalechanging",V(this,ft)),this._eventBus._on("rotationchanging",V(this,gt)),rt(this,Te,qe.annotationStorage),rt(this,St,qe.filterFactory),rt(this,ye,it),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const U=Nt.prototype,Se=qe=>{const{activeElement:it}=document;return it&&V(qe,Ue).contains(it)&&qe.hasSomethingToControl()},xe=this.TRANSLATE_SMALL,Be=this.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new X([[["ctrl+a","mac+meta+a"],U.selectAll],[["ctrl+z","mac+meta+z"],U.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],U.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],U.delete],[["Escape","mac+Escape"],U.unselectAll],[["ArrowLeft","mac+ArrowLeft"],U.translateSelectedEditors,{args:[-xe,0],checker:Se}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],U.translateSelectedEditors,{args:[-Be,0],checker:Se}],[["ArrowRight","mac+ArrowRight"],U.translateSelectedEditors,{args:[xe,0],checker:Se}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],U.translateSelectedEditors,{args:[Be,0],checker:Se}],[["ArrowUp","mac+ArrowUp"],U.translateSelectedEditors,{args:[0,-xe],checker:Se}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],U.translateSelectedEditors,{args:[0,-Be],checker:Se}],[["ArrowDown","mac+ArrowDown"],U.translateSelectedEditors,{args:[0,xe],checker:Se}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],U.translateSelectedEditors,{args:[0,Be],checker:Se}]]))}destroy(){He(this,rn,qr).call(this),He(this,Ct,Ci).call(this),this._eventBus._off("editingaction",V(this,vt)),this._eventBus._off("pagechanging",V(this,ut)),this._eventBus._off("scalechanging",V(this,ft)),this._eventBus._off("rotationchanging",V(this,gt));for(const U of V(this,De).values())U.destroy();V(this,De).clear(),V(this,Pe).clear(),V(this,ht).clear(),rt(this,he,null),V(this,ce).clear(),V(this,ze).destroy(),V(this,be).destroy()}get hcmFilter(){return(0,R.shadow)(this,"hcmFilter",V(this,ye)?V(this,St).addHCMFilter(V(this,ye).foreground,V(this,ye).background):"none")}get direction(){return(0,R.shadow)(this,"direction",getComputedStyle(V(this,Ue)).direction)}editAltText(U){var Se;(Se=V(this,be))==null||Se.editAltText(this,U)}onPageChanging({pageNumber:U}){rt(this,Qe,U-1)}focusMainContainer(){V(this,Ue).focus()}findParent(U,Se){for(const xe of V(this,De).values()){const{x:Be,y:qe,width:it,height:Et}=xe.div.getBoundingClientRect();if(U>=Be&&U<=Be+it&&Se>=qe&&Se<=qe+Et)return xe}return null}disableUserSelect(U=!1){V(this,We).classList.toggle("noUserSelect",U)}addShouldRescale(U){V(this,ht).add(U)}removeShouldRescale(U){V(this,ht).delete(U)}onScaleChanging({scale:U}){this.commitOrRemove(),this.viewParameters.realScale=U*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Se of V(this,ht))Se.onScaleChanging()}onRotationChanging({pagesRotation:U}){this.commitOrRemove(),this.viewParameters.rotation=U}addToAnnotationStorage(U){!U.isEmpty()&&V(this,Te)&&!V(this,Te).has(U.id)&&V(this,Te).setValue(U.id,U)}blur(){if(!this.hasSelection)return;const{activeElement:U}=document;for(const Se of V(this,ce))if(Se.div.contains(U)){rt(this,G,[Se,U]),Se._focusEventsAllowed=!1;break}}focus(){if(!V(this,G))return;const[U,Se]=V(this,G);rt(this,G,null),Se.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),Se.focus()}addEditListeners(){He(this,Kt,Pi).call(this),He(this,Vt,ki).call(this)}removeEditListeners(){He(this,rn,qr).call(this),He(this,st,Mi).call(this)}copy(U){var xe;if(U.preventDefault(),(xe=V(this,he))==null||xe.commitOrRemove(),!this.hasSelection)return;const Se=[];for(const Be of V(this,ce)){const qe=Be.serialize(!0);qe&&Se.push(qe)}Se.length!==0&&U.clipboardData.setData("application/pdfjs",JSON.stringify(Se))}cut(U){this.copy(U),this.delete()}paste(U){U.preventDefault();const{clipboardData:Se}=U;for(const qe of Se.items)for(const it of V(this,at))if(it.isHandlingMimeForPasting(qe.type)){it.paste(qe,this.currentLayer);return}let xe=Se.getData("application/pdfjs");if(!xe)return;try{xe=JSON.parse(xe)}catch(qe){(0,R.warn)('paste: "'.concat(qe.message,'".'));return}if(!Array.isArray(xe))return;this.unselectAll();const Be=this.currentLayer;try{const qe=[];for(const Tt of xe){const $t=Be.deserialize(Tt);if(!$t)return;qe.push($t)}const it=()=>{for(const Tt of qe)He(this,xt,xi).call(this,Tt);He(this,wt,Ti).call(this,qe)},Et=()=>{for(const Tt of qe)Tt.remove()};this.addCommands({cmd:it,undo:Et,mustExec:!0})}catch(qe){(0,R.warn)('paste: "'.concat(qe.message,'".'))}}keydown(U){var Se;(Se=this.getActive())!=null&&Se.shouldGetKeyboardEvents()||Nt._keyboardManager.exec(this,U)}onEditingAction(U){["undo","redo","delete","selectAll"].includes(U.name)&&this[U.name]()}setEditingState(U){U?(He(this,lt,Sa).call(this),He(this,Kt,Pi).call(this),He(this,Vt,ki).call(this),He(this,Ne,or).call(this,{isEditing:V(this,ie)!==R.AnnotationEditorType.NONE,isEmpty:He(this,zt,Rr).call(this),hasSomethingToUndo:V(this,ze).hasSomethingToUndo(),hasSomethingToRedo:V(this,ze).hasSomethingToRedo(),hasSelectedEditor:!1})):(He(this,Ct,Ci).call(this),He(this,rn,qr).call(this),He(this,st,Mi).call(this),He(this,Ne,or).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(U){if(!V(this,at)){rt(this,at,U);for(const Se of V(this,at))He(this,dt,$r).call(this,Se.defaultPropertiesToUpdate)}}getId(){return V(this,we).getId()}get currentLayer(){return V(this,De).get(V(this,Qe))}getLayer(U){return V(this,De).get(U)}get currentPageIndex(){return V(this,Qe)}addLayer(U){V(this,De).set(U.pageIndex,U),V(this,W)?U.enable():U.disable()}removeLayer(U){V(this,De).delete(U.pageIndex)}updateMode(U,Se=null){if(V(this,ie)!==U){if(rt(this,ie,U),U===R.AnnotationEditorType.NONE){this.setEditingState(!1),He(this,Pt,Aa).call(this);return}this.setEditingState(!0),He(this,Pn,wa).call(this),this.unselectAll();for(const xe of V(this,De).values())xe.updateMode(U);if(Se){for(const xe of V(this,Pe).values())if(xe.annotationElementId===Se){this.setSelected(xe),xe.enterInEditMode();break}}}}updateToolbar(U){U!==V(this,ie)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:U})}updateParams(U,Se){if(V(this,at)){if(U===R.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(U);return}for(const xe of V(this,ce))xe.updateParams(U,Se);for(const xe of V(this,at))xe.updateDefaultParams(U,Se)}}enableWaiting(U=!1){if(V(this,Y)!==U){rt(this,Y,U);for(const Se of V(this,De).values())U?Se.disableClick():Se.enableClick(),Se.div.classList.toggle("waiting",U)}}getEditors(U){const Se=[];for(const xe of V(this,Pe).values())xe.pageIndex===U&&Se.push(xe);return Se}getEditor(U){return V(this,Pe).get(U)}addEditor(U){V(this,Pe).set(U.id,U)}removeEditor(U){var Se;V(this,Pe).delete(U.id),this.unselect(U),(!U.annotationElementId||!V(this,Fe).has(U.annotationElementId))&&((Se=V(this,Te))==null||Se.remove(U.id))}addDeletedAnnotationElement(U){V(this,Fe).add(U.annotationElementId),U.deleted=!0}isDeletedAnnotationElement(U){return V(this,Fe).has(U)}removeDeletedAnnotationElement(U){V(this,Fe).delete(U.annotationElementId),U.deleted=!1}setActiveEditor(U){V(this,he)!==U&&(rt(this,he,U),U&&He(this,dt,$r).call(this,U.propertiesToUpdate))}toggleSelected(U){if(V(this,ce).has(U)){V(this,ce).delete(U),U.unselect(),He(this,Ne,or).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,ce).add(U),U.select(),He(this,dt,$r).call(this,U.propertiesToUpdate),He(this,Ne,or).call(this,{hasSelectedEditor:!0})}setSelected(U){for(const Se of V(this,ce))Se!==U&&Se.unselect();V(this,ce).clear(),V(this,ce).add(U),U.select(),He(this,dt,$r).call(this,U.propertiesToUpdate),He(this,Ne,or).call(this,{hasSelectedEditor:!0})}isSelected(U){return V(this,ce).has(U)}unselect(U){U.unselect(),V(this,ce).delete(U),He(this,Ne,or).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,ce).size!==0}undo(){V(this,ze).undo(),He(this,Ne,or).call(this,{hasSomethingToUndo:V(this,ze).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:He(this,zt,Rr).call(this)})}redo(){V(this,ze).redo(),He(this,Ne,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,ze).hasSomethingToRedo(),isEmpty:He(this,zt,Rr).call(this)})}addCommands(U){V(this,ze).add(U),He(this,Ne,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:He(this,zt,Rr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const U=[...V(this,ce)],Se=()=>{for(const Be of U)Be.remove()},xe=()=>{for(const Be of U)He(this,xt,xi).call(this,Be)};this.addCommands({cmd:Se,undo:xe,mustExec:!0})}commitOrRemove(){var U;(U=V(this,he))==null||U.commitOrRemove()}hasSomethingToControl(){return V(this,he)||this.hasSelection}selectAll(){for(const U of V(this,ce))U.commit();He(this,wt,Ti).call(this,V(this,Pe).values())}unselectAll(){if(V(this,he)){V(this,he).commitOrRemove();return}if(this.hasSelection){for(const U of V(this,ce))U.unselect();V(this,ce).clear(),He(this,Ne,or).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(U,Se,xe=!1){if(xe||this.commitOrRemove(),!this.hasSelection)return;V(this,Ft)[0]+=U,V(this,Ft)[1]+=Se;const[Be,qe]=V(this,Ft),it=[...V(this,ce)],Et=1e3;V(this,ot)&&clearTimeout(V(this,ot)),rt(this,ot,setTimeout(()=>{rt(this,ot,null),V(this,Ft)[0]=V(this,Ft)[1]=0,this.addCommands({cmd:()=>{for(const Tt of it)V(this,Pe).has(Tt.id)&&Tt.translateInPage(Be,qe)},undo:()=>{for(const Tt of it)V(this,Pe).has(Tt.id)&&Tt.translateInPage(-Be,-qe)},mustExec:!1})},Et));for(const Tt of it)Tt.translateInPage(U,Se)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),rt(this,nt,new Map);for(const U of V(this,ce))V(this,nt).set(U,{savedX:U.x,savedY:U.y,savedPageIndex:U.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,nt))return!1;this.disableUserSelect(!1);const U=V(this,nt);rt(this,nt,null);let Se=!1;for(const[{x:Be,y:qe,pageIndex:it},Et]of U)Et.newX=Be,Et.newY=qe,Et.newPageIndex=it,Se||(Se=Be!==Et.savedX||qe!==Et.savedY||it!==Et.savedPageIndex);if(!Se)return!1;const xe=(Be,qe,it,Et)=>{if(V(this,Pe).has(Be.id)){const Tt=V(this,De).get(Et);Tt?Be._setParentAndPosition(Tt,qe,it):(Be.pageIndex=Et,Be.x=qe,Be.y=it)}};return this.addCommands({cmd:()=>{for(const[Be,{newX:qe,newY:it,newPageIndex:Et}]of U)xe(Be,qe,it,Et)},undo:()=>{for(const[Be,{savedX:qe,savedY:it,savedPageIndex:Et}]of U)xe(Be,qe,it,Et)},mustExec:!0}),!0}dragSelectedEditors(U,Se){if(V(this,nt))for(const xe of V(this,nt).keys())xe.drag(U,Se)}rebuild(U){if(U.parent===null){const Se=this.getLayer(U.pageIndex);Se?(Se.changeParent(U),Se.addOrRebuild(U)):(this.addEditor(U),this.addToAnnotationStorage(U),U.rebuild())}else U.parent.addOrRebuild(U)}isActive(U){return V(this,he)===U}getActive(){return V(this,he)}getMode(){return V(this,ie)}get imageManager(){return(0,R.shadow)(this,"imageManager",new fe)}};he=new WeakMap,Pe=new WeakMap,De=new WeakMap,be=new WeakMap,Te=new WeakMap,ze=new WeakMap,Qe=new WeakMap,Fe=new WeakMap,nt=new WeakMap,at=new WeakMap,ht=new WeakMap,St=new WeakMap,we=new WeakMap,W=new WeakMap,Y=new WeakMap,G=new WeakMap,ie=new WeakMap,ce=new WeakMap,ye=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Xe=new WeakMap,Ge=new WeakMap,tt=new WeakMap,ct=new WeakMap,vt=new WeakMap,ut=new WeakMap,ft=new WeakMap,gt=new WeakMap,pt=new WeakMap,Ft=new WeakMap,ot=new WeakMap,Ue=new WeakMap,We=new WeakMap,lt=new WeakSet,Sa=function(){window.addEventListener("focus",V(this,Re)),window.addEventListener("blur",V(this,Ce))},Ct=new WeakSet,Ci=function(){window.removeEventListener("focus",V(this,Re)),window.removeEventListener("blur",V(this,Ce))},Kt=new WeakSet,Pi=function(){window.addEventListener("keydown",V(this,ct),{capture:!0})},rn=new WeakSet,qr=function(){window.removeEventListener("keydown",V(this,ct),{capture:!0})},Vt=new WeakSet,ki=function(){document.addEventListener("copy",V(this,Xe)),document.addEventListener("cut",V(this,Ge)),document.addEventListener("paste",V(this,tt))},st=new WeakSet,Mi=function(){document.removeEventListener("copy",V(this,Xe)),document.removeEventListener("cut",V(this,Ge)),document.removeEventListener("paste",V(this,tt))},Ne=new WeakSet,or=function(U){Object.entries(U).some(([xe,Be])=>V(this,pt)[xe]!==Be)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,pt),U)})},dt=new WeakSet,$r=function(U){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:U})},Pn=new WeakSet,wa=function(){if(!V(this,W)){rt(this,W,!0);for(const U of V(this,De).values())U.enable()}},Pt=new WeakSet,Aa=function(){if(this.unselectAll(),V(this,W)){rt(this,W,!1);for(const U of V(this,De).values())U.disable()}},xt=new WeakSet,xi=function(U){const Se=V(this,De).get(U.pageIndex);Se?Se.addOrRebuild(U):this.addEditor(U)},zt=new WeakSet,Rr=function(){if(V(this,Pe).size===0)return!0;if(V(this,Pe).size===1)for(const U of V(this,Pe).values())return U.isEmpty();return!1},wt=new WeakSet,Ti=function(U){V(this,ce).clear();for(const Se of U)Se.isEmpty()||(V(this,ce).add(Se),Se.select());He(this,Ne,or).call(this,{hasSelectedEditor:!0})},Dn(Nt,"TRANSLATE_SMALL",1),Dn(Nt,"TRANSLATE_BIG",10);let le=Nt;$.AnnotationEditorUIManager=le},(A,$,H)=>{var Qe,Fe,nt,at,ht,St,we,W,Y,G,ie,ce,Ar,Ce,Cr,Xe,$i,tt,Xr,vt,Kr,ft,Fr,pt,Lr;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Ae,$.getColorValues=Pe,$.getCurrentTransform=De,$.getCurrentTransformInverse=be,$.getFilenameFromUrl=ae,$.getPdfFilenameFromUrl=se,$.getRGB=he,$.getXfaPageViewport=_e,$.isDataScheme=J,$.isPdfFile=q,$.isValidFetchUrl=pe,$.loadScript=oe,$.noContextMenu=te,$.setLayerDimensions=Te;var R=H(7),O=H(1);const B="http://www.w3.org/2000/svg",ze=class ze{};Dn(ze,"CSS",96),Dn(ze,"PDF",72),Dn(ze,"PDF_TO_CSS_UNITS",ze.CSS/ze.PDF);let Q=ze;$.PixelsPerInch=Q;class ve extends R.BaseFilterFactory{constructor({docId:We,ownerDocument:lt=globalThis.document}={}){super();$e(this,ce);$e(this,Ce);$e(this,Xe);$e(this,tt);$e(this,vt);$e(this,ft);$e(this,pt);$e(this,Qe,void 0);$e(this,Fe,void 0);$e(this,nt,void 0);$e(this,at,void 0);$e(this,ht,void 0);$e(this,St,void 0);$e(this,we,void 0);$e(this,W,void 0);$e(this,Y,void 0);$e(this,G,void 0);$e(this,ie,0);rt(this,nt,We),rt(this,at,lt)}addFilter(We){if(!We)return"none";let lt=V(this,ce,Ar).get(We);if(lt)return lt;let At,Ct,qt,Kt;if(We.length===1){const Vt=We[0],an=new Array(256);for(let st=0;st<256;st++)an[st]=Vt[st]/255;Kt=At=Ct=qt=an.join(",")}else{const[Vt,an,st]=We,Ve=new Array(256),Ne=new Array(256),_t=new Array(256);for(let dt=0;dt<256;dt++)Ve[dt]=Vt[dt]/255,Ne[dt]=an[dt]/255,_t[dt]=st[dt]/255;At=Ve.join(","),Ct=Ne.join(","),qt=_t.join(","),Kt="".concat(At).concat(Ct).concat(qt)}if(lt=V(this,ce,Ar).get(Kt),lt)return V(this,ce,Ar).set(We,lt),lt;const Xt="g_".concat(V(this,nt),"_transfer_map_").concat(Tr(this,ie)._++),rn="url(#".concat(Xt,")");V(this,ce,Ar).set(We,rn),V(this,ce,Ar).set(Kt,rn);const nn=He(this,tt,Xr).call(this,Xt);return He(this,ft,Fr).call(this,At,Ct,qt,nn),rn}addHCMFilter(We,lt){var an;const At="".concat(We,"-").concat(lt);if(V(this,St)===At)return V(this,we);if(rt(this,St,At),rt(this,we,"none"),(an=V(this,ht))==null||an.remove(),!We||!lt)return V(this,we);const Ct=He(this,pt,Lr).call(this,We);We=O.Util.makeHexColor(...Ct);const qt=He(this,pt,Lr).call(this,lt);if(lt=O.Util.makeHexColor(...qt),V(this,Ce,Cr).style.color="",We==="#000000"&&lt==="#ffffff"||We===lt)return V(this,we);const Kt=new Array(256);for(let st=0;st<=255;st++){const Ve=st/255;Kt[st]=Ve<=.03928?Ve/12.92:((Ve+.055)/1.055)**2.4}const Xt=Kt.join(","),rn="g_".concat(V(this,nt),"_hcm_filter"),nn=rt(this,W,He(this,tt,Xr).call(this,rn));He(this,ft,Fr).call(this,Xt,Xt,Xt,nn),He(this,Xe,$i).call(this,nn);const Vt=(st,Ve)=>{const Ne=Ct[st]/255,_t=qt[st]/255,dt=new Array(Ve+1);for(let gn=0;gn<=Ve;gn++)dt[gn]=Ne+gn/Ve*(_t-Ne);return dt.join(",")};return He(this,ft,Fr).call(this,Vt(0,5),Vt(1,5),Vt(2,5),nn),rt(this,we,"url(#".concat(rn,")")),V(this,we)}addHighlightHCMFilter(We,lt,At,Ct){var _t;const qt="".concat(We,"-").concat(lt,"-").concat(At,"-").concat(Ct);if(V(this,Y)===qt)return V(this,G);if(rt(this,Y,qt),rt(this,G,"none"),(_t=V(this,W))==null||_t.remove(),!We||!lt)return V(this,G);const[Kt,Xt]=[We,lt].map(He(this,pt,Lr).bind(this));let rn=Math.round(.2126*Kt[0]+.7152*Kt[1]+.0722*Kt[2]),nn=Math.round(.2126*Xt[0]+.7152*Xt[1]+.0722*Xt[2]),[Vt,an]=[At,Ct].map(He(this,pt,Lr).bind(this));nn<rn&&([rn,nn,Vt,an]=[nn,rn,an,Vt]),V(this,Ce,Cr).style.color="";const st=(dt,gn,Pn)=>{const Ke=new Array(256),Pt=(nn-rn)/Pn,Ot=dt/255,xt=(gn-dt)/(255*Pn);let Bt=0;for(let zt=0;zt<=Pn;zt++){const En=Math.round(rn+zt*Pt),wt=Ot+zt*xt;for(let fn=Bt;fn<=En;fn++)Ke[fn]=wt;Bt=En+1}for(let zt=Bt;zt<256;zt++)Ke[zt]=Ke[Bt-1];return Ke.join(",")},Ve="g_".concat(V(this,nt),"_hcm_highlight_filter"),Ne=rt(this,W,He(this,tt,Xr).call(this,Ve));return He(this,Xe,$i).call(this,Ne),He(this,ft,Fr).call(this,st(Vt[0],an[0],5),st(Vt[1],an[1],5),st(Vt[2],an[2],5),Ne),rt(this,G,"url(#".concat(Ve,")")),V(this,G)}destroy(We=!1){We&&(V(this,we)||V(this,G))||(V(this,Fe)&&(V(this,Fe).parentNode.parentNode.remove(),rt(this,Fe,null)),V(this,Qe)&&(V(this,Qe).clear(),rt(this,Qe,null)),rt(this,ie,0))}}Qe=new WeakMap,Fe=new WeakMap,nt=new WeakMap,at=new WeakMap,ht=new WeakMap,St=new WeakMap,we=new WeakMap,W=new WeakMap,Y=new WeakMap,G=new WeakMap,ie=new WeakMap,ce=new WeakSet,Ar=function(){return V(this,Qe)||rt(this,Qe,new Map)},Ce=new WeakSet,Cr=function(){if(!V(this,Fe)){const We=V(this,at).createElement("div"),{style:lt}=We;lt.visibility="hidden",lt.contain="strict",lt.width=lt.height=0,lt.position="absolute",lt.top=lt.left=0,lt.zIndex=-1;const At=V(this,at).createElementNS(B,"svg");At.setAttribute("width",0),At.setAttribute("height",0),rt(this,Fe,V(this,at).createElementNS(B,"defs")),We.append(At),At.append(V(this,Fe)),V(this,at).body.append(We)}return V(this,Fe)},Xe=new WeakSet,$i=function(We){const lt=V(this,at).createElementNS(B,"feColorMatrix");lt.setAttribute("type","matrix"),lt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),We.append(lt)},tt=new WeakSet,Xr=function(We){const lt=V(this,at).createElementNS(B,"filter");return lt.setAttribute("color-interpolation-filters","sRGB"),lt.setAttribute("id",We),V(this,Ce,Cr).append(lt),lt},vt=new WeakSet,Kr=function(We,lt,At){const Ct=V(this,at).createElementNS(B,lt);Ct.setAttribute("type","discrete"),Ct.setAttribute("tableValues",At),We.append(Ct)},ft=new WeakSet,Fr=function(We,lt,At,Ct){const qt=V(this,at).createElementNS(B,"feComponentTransfer");Ct.append(qt),He(this,vt,Kr).call(this,qt,"feFuncR",We),He(this,vt,Kr).call(this,qt,"feFuncG",lt),He(this,vt,Kr).call(this,qt,"feFuncB",At)},pt=new WeakSet,Lr=function(We){return V(this,Ce,Cr).style.color=We,he(getComputedStyle(V(this,Ce,Cr)).getPropertyValue("color"))},$.DOMFilterFactory=ve;class fe extends R.BaseCanvasFactory{constructor({ownerDocument:Ue=globalThis.document}={}){super(),this._document=Ue}_createCanvas(Ue,We){const lt=this._document.createElement("canvas");return lt.width=Ue,lt.height=We,lt}}$.DOMCanvasFactory=fe;async function de(ot,Ue=!1){if(pe(ot,document.baseURI)){const We=await fetch(ot);if(!We.ok)throw new Error(We.statusText);return Ue?new Uint8Array(await We.arrayBuffer()):(0,O.stringToBytes)(await We.text())}return new Promise((We,lt)=>{const At=new XMLHttpRequest;At.open("GET",ot,!0),Ue&&(At.responseType="arraybuffer"),At.onreadystatechange=()=>{if(At.readyState===XMLHttpRequest.DONE){if(At.status===200||At.status===0){let Ct;if(Ue&&At.response?Ct=new Uint8Array(At.response):!Ue&&At.responseText&&(Ct=(0,O.stringToBytes)(At.responseText)),Ct){We(Ct);return}}lt(new Error(At.statusText))}},At.send(null)})}class X extends R.BaseCMapReaderFactory{_fetchData(Ue,We){return de(Ue,this.isCompressed).then(lt=>({cMapData:lt,compressionType:We}))}}$.DOMCMapReaderFactory=X;class Ee extends R.BaseStandardFontDataFactory{_fetchData(Ue){return de(Ue,!0)}}$.DOMStandardFontDataFactory=Ee;class le extends R.BaseSVGFactory{_createSVG(Ue){return document.createElementNS(B,Ue)}}$.DOMSVGFactory=le;class ne{constructor({viewBox:Ue,scale:We,rotation:lt,offsetX:At=0,offsetY:Ct=0,dontFlip:qt=!1}){this.viewBox=Ue,this.scale=We,this.rotation=lt,this.offsetX=At,this.offsetY=Ct;const Kt=(Ue[2]+Ue[0])/2,Xt=(Ue[3]+Ue[1])/2;let rn,nn,Vt,an;switch(lt%=360,lt<0&&(lt+=360),lt){case 180:rn=-1,nn=0,Vt=0,an=1;break;case 90:rn=0,nn=1,Vt=1,an=0;break;case 270:rn=0,nn=-1,Vt=-1,an=0;break;case 0:rn=1,nn=0,Vt=0,an=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}qt&&(Vt=-Vt,an=-an);let st,Ve,Ne,_t;rn===0?(st=Math.abs(Xt-Ue[1])*We+At,Ve=Math.abs(Kt-Ue[0])*We+Ct,Ne=(Ue[3]-Ue[1])*We,_t=(Ue[2]-Ue[0])*We):(st=Math.abs(Kt-Ue[0])*We+At,Ve=Math.abs(Xt-Ue[1])*We+Ct,Ne=(Ue[2]-Ue[0])*We,_t=(Ue[3]-Ue[1])*We),this.transform=[rn*We,nn*We,Vt*We,an*We,st-rn*We*Kt-Vt*We*Xt,Ve-nn*We*Kt-an*We*Xt],this.width=Ne,this.height=_t}get rawDims(){const{viewBox:Ue}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Ue[2]-Ue[0],pageHeight:Ue[3]-Ue[1],pageX:Ue[0],pageY:Ue[1]})}clone({scale:Ue=this.scale,rotation:We=this.rotation,offsetX:lt=this.offsetX,offsetY:At=this.offsetY,dontFlip:Ct=!1}={}){return new ne({viewBox:this.viewBox.slice(),scale:Ue,rotation:We,offsetX:lt,offsetY:At,dontFlip:Ct})}convertToViewportPoint(Ue,We){return O.Util.applyTransform([Ue,We],this.transform)}convertToViewportRectangle(Ue){const We=O.Util.applyTransform([Ue[0],Ue[1]],this.transform),lt=O.Util.applyTransform([Ue[2],Ue[3]],this.transform);return[We[0],We[1],lt[0],lt[1]]}convertToPdfPoint(Ue,We){return O.Util.applyInverseTransform([Ue,We],this.transform)}}$.PageViewport=ne;class re extends O.BaseException{constructor(Ue,We=0){super(Ue,"RenderingCancelledException"),this.extraDelay=We}}$.RenderingCancelledException=re;function J(ot){const Ue=ot.length;let We=0;for(;We<Ue&&ot[We].trim()==="";)We++;return ot.substring(We,We+5).toLowerCase()==="data:"}function q(ot){return typeof ot=="string"&&/\.pdf$/i.test(ot)}function ae(ot,Ue=!1){return Ue||([ot]=ot.split(/[#?]/,1)),ot.substring(ot.lastIndexOf("/")+1)}function se(ot,Ue="document.pdf"){if(typeof ot!="string")return Ue;if(J(ot))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ue;const We=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,lt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,At=We.exec(ot);let Ct=lt.exec(At[1])||lt.exec(At[2])||lt.exec(At[3]);if(Ct&&(Ct=Ct[0],Ct.includes("%")))try{Ct=lt.exec(decodeURIComponent(Ct))[0]}catch(qt){}return Ct||Ue}class ue{constructor(){Dn(this,"started",Object.create(null));Dn(this,"times",[])}time(Ue){Ue in this.started&&(0,O.warn)("Timer is already running for ".concat(Ue)),this.started[Ue]=Date.now()}timeEnd(Ue){Ue in this.started||(0,O.warn)("Timer has not been started for ".concat(Ue)),this.times.push({name:Ue,start:this.started[Ue],end:Date.now()}),delete this.started[Ue]}toString(){const Ue=[];let We=0;for(const{name:lt}of this.times)We=Math.max(lt.length,We);for(const{name:lt,start:At,end:Ct}of this.times)Ue.push("".concat(lt.padEnd(We)," ").concat(Ct-At,"ms\n"));return Ue.join("")}}$.StatTimer=ue;function pe(ot,Ue){try{const{protocol:We}=Ue?new URL(ot,Ue):new URL(ot);return We==="http:"||We==="https:"}catch(We){return!1}}function te(ot){ot.preventDefault()}function oe(ot,Ue=!1){return new Promise((We,lt)=>{const At=document.createElement("script");At.src=ot,At.onload=function(Ct){Ue&&At.remove(),We(Ct)},At.onerror=function(){lt(new Error("Cannot load script at: ".concat(At.src)))},(document.head||document.documentElement).append(At)})}function Ae(ot){console.log("Deprecated API usage: "+ot)}let ge;class ee{static toDateObject(Ue){if(!Ue||typeof Ue!="string")return null;ge||(ge=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const We=ge.exec(Ue);if(!We)return null;const lt=parseInt(We[1],10);let At=parseInt(We[2],10);At=At>=1&&At<=12?At-1:0;let Ct=parseInt(We[3],10);Ct=Ct>=1&&Ct<=31?Ct:1;let qt=parseInt(We[4],10);qt=qt>=0&&qt<=23?qt:0;let Kt=parseInt(We[5],10);Kt=Kt>=0&&Kt<=59?Kt:0;let Xt=parseInt(We[6],10);Xt=Xt>=0&&Xt<=59?Xt:0;const rn=We[7]||"Z";let nn=parseInt(We[8],10);nn=nn>=0&&nn<=23?nn:0;let Vt=parseInt(We[9],10)||0;return Vt=Vt>=0&&Vt<=59?Vt:0,rn==="-"?(qt+=nn,Kt+=Vt):rn==="+"&&(qt-=nn,Kt-=Vt),new Date(Date.UTC(lt,At,Ct,qt,Kt,Xt))}}$.PDFDateString=ee;function _e(ot,{scale:Ue=1,rotation:We=0}){const{width:lt,height:At}=ot.attributes.style,Ct=[0,0,parseInt(lt),parseInt(At)];return new ne({viewBox:Ct,scale:Ue,rotation:We})}function he(ot){if(ot.startsWith("#")){const Ue=parseInt(ot.slice(1),16);return[(Ue&16711680)>>16,(Ue&65280)>>8,Ue&255]}return ot.startsWith("rgb(")?ot.slice(4,-1).split(",").map(Ue=>parseInt(Ue)):ot.startsWith("rgba(")?ot.slice(5,-1).split(",").map(Ue=>parseInt(Ue)).slice(0,3):((0,O.warn)('Not a valid color format: "'.concat(ot,'"')),[0,0,0])}function Pe(ot){const Ue=document.createElement("span");Ue.style.visibility="hidden",document.body.append(Ue);for(const We of ot.keys()){Ue.style.color=We;const lt=window.getComputedStyle(Ue).color;ot.set(We,he(lt))}Ue.remove()}function De(ot){const{a:Ue,b:We,c:lt,d:At,e:Ct,f:qt}=ot.getTransform();return[Ue,We,lt,At,Ct,qt]}function be(ot){const{a:Ue,b:We,c:lt,d:At,e:Ct,f:qt}=ot.getTransform().invertSelf();return[Ue,We,lt,At,Ct,qt]}function Te(ot,Ue,We=!1,lt=!0){if(Ue instanceof ne){const{pageWidth:At,pageHeight:Ct}=Ue.rawDims,{style:qt}=ot,Kt=O.FeatureTest.isCSSRoundSupported,Xt="var(--scale-factor) * ".concat(At,"px"),rn="var(--scale-factor) * ".concat(Ct,"px"),nn=Kt?"round(".concat(Xt,", 1px)"):"calc(".concat(Xt,")"),Vt=Kt?"round(".concat(rn,", 1px)"):"calc(".concat(rn,")");!We||Ue.rotation%180===0?(qt.width=nn,qt.height=Vt):(qt.width=Vt,qt.height=nn)}lt&&ot.setAttribute("data-main-rotation",Ue.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var R=H(1);class O{constructor(){this.constructor===O&&(0,R.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(X){return"none"}addHCMFilter(X,Ee){return"none"}addHighlightHCMFilter(X,Ee,le,ne){return"none"}destroy(X=!1){}}$.BaseFilterFactory=O;class B{constructor(){this.constructor===B&&(0,R.unreachable)("Cannot initialize BaseCanvasFactory.")}create(X,Ee){if(X<=0||Ee<=0)throw new Error("Invalid canvas size");const le=this._createCanvas(X,Ee);return{canvas:le,context:le.getContext("2d")}}reset(X,Ee,le){if(!X.canvas)throw new Error("Canvas is not specified");if(Ee<=0||le<=0)throw new Error("Invalid canvas size");X.canvas.width=Ee,X.canvas.height=le}destroy(X){if(!X.canvas)throw new Error("Canvas is not specified");X.canvas.width=0,X.canvas.height=0,X.canvas=null,X.context=null}_createCanvas(X,Ee){(0,R.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=B;class Q{constructor({baseUrl:X=null,isCompressed:Ee=!0}){this.constructor===Q&&(0,R.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=X,this.isCompressed=Ee}async fetch({name:X}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!X)throw new Error("CMap name must be specified.");const Ee=this.baseUrl+X+(this.isCompressed?".bcmap":""),le=this.isCompressed?R.CMapCompressionType.BINARY:R.CMapCompressionType.NONE;return this._fetchData(Ee,le).catch(ne=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(Ee))})}_fetchData(X,Ee){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Q;class ve{constructor({baseUrl:X=null}){this.constructor===ve&&(0,R.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=X}async fetch({filename:X}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!X)throw new Error("Font filename must be specified.");const Ee="".concat(this.baseUrl).concat(X);return this._fetchData(Ee).catch(le=>{throw new Error("Unable to load font data at: ".concat(Ee))})}_fetchData(X){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=ve;class fe{constructor(){this.constructor===fe&&(0,R.unreachable)("Cannot initialize BaseSVGFactory.")}create(X,Ee,le=!1){if(X<=0||Ee<=0)throw new Error("Invalid SVG dimensions");const ne=this._createSVG("svg:svg");return ne.setAttribute("version","1.1"),le||(ne.setAttribute("width","".concat(X,"px")),ne.setAttribute("height","".concat(Ee,"px"))),ne.setAttribute("preserveAspectRatio","none"),ne.setAttribute("viewBox","0 0 ".concat(X," ").concat(Ee)),ne}createElement(X){if(typeof X!="string")throw new Error("Invalid SVG element type");return this._createSVG(X)}_createSVG(X){(0,R.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=fe},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var R=H(1);const O=3285377520,B=4294901760,Q=65535;class ve{constructor(de){this.h1=de?de&4294967295:O,this.h2=de?de&4294967295:O}update(de){let X,Ee;if(typeof de=="string"){X=new Uint8Array(de.length*2),Ee=0;for(let Ae=0,ge=de.length;Ae<ge;Ae++){const ee=de.charCodeAt(Ae);ee<=255?X[Ee++]=ee:(X[Ee++]=ee>>>8,X[Ee++]=ee&255)}}else if((0,R.isArrayBuffer)(de))X=de.slice(),Ee=X.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const le=Ee>>2,ne=Ee-le*4,re=new Uint32Array(X.buffer,0,le);let J=0,q=0,ae=this.h1,se=this.h2;const ue=3432918353,pe=461845907,te=ue&Q,oe=pe&Q;for(let Ae=0;Ae<le;Ae++)Ae&1?(J=re[Ae],J=J*ue&B|J*te&Q,J=J<<15|J>>>17,J=J*pe&B|J*oe&Q,ae^=J,ae=ae<<13|ae>>>19,ae=ae*5+3864292196):(q=re[Ae],q=q*ue&B|q*te&Q,q=q<<15|q>>>17,q=q*pe&B|q*oe&Q,se^=q,se=se<<13|se>>>19,se=se*5+3864292196);switch(J=0,ne){case 3:J^=X[le*4+2]<<16;case 2:J^=X[le*4+1]<<8;case 1:J^=X[le*4],J=J*ue&B|J*te&Q,J=J<<15|J>>>17,J=J*pe&B|J*oe&Q,le&1?ae^=J:se^=J}this.h1=ae,this.h2=se}hexdigest(){let de=this.h1,X=this.h2;return de^=X>>>1,de=de*3981806797&B|de*36045&Q,X=X*4283543511&B|((X<<16|de>>>16)*2950163797&B)>>>16,de^=X>>>1,de=de*444984403&B|de*60499&Q,X=X*3301882366&B|((X<<16|de>>>16)*3120437893&B)>>>16,de^=X>>>1,(de>>>0).toString(16).padStart(8,"0")+(X>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=ve},(A,$,H)=>{var Q;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var R=H(1);class O{constructor({ownerDocument:fe=globalThis.document,styleElement:de=null}){$e(this,Q,new Set);this._document=fe,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(fe){this.nativeFontFaces.add(fe),this._document.fonts.add(fe)}removeNativeFontFace(fe){this.nativeFontFaces.delete(fe),this._document.fonts.delete(fe)}insertRule(fe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const de=this.styleElement.sheet;de.insertRule(fe,de.cssRules.length)}clear(){for(const fe of this.nativeFontFaces)this._document.fonts.delete(fe);this.nativeFontFaces.clear(),V(this,Q).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(fe){if(!(!fe||V(this,Q).has(fe.loadedName))){if((0,R.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:de,src:X,style:Ee}=fe,le=new FontFace(de,X,Ee);this.addNativeFontFace(le);try{await le.load(),V(this,Q).add(de)}catch(ne){(0,R.warn)("Cannot load system font: ".concat(fe.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(le)}return}(0,R.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(fe){if(fe.attached||fe.missingFile&&!fe.systemFontInfo)return;if(fe.attached=!0,fe.systemFontInfo){await this.loadSystemFont(fe.systemFontInfo);return}if(this.isFontLoadingAPISupported){const X=fe.createNativeFontFace();if(X){this.addNativeFontFace(X);try{await X.loaded}catch(Ee){throw(0,R.warn)("Failed to load font '".concat(X.family,"': '").concat(Ee,"'.")),fe.disableFontFace=!0,Ee}}return}const de=fe.createFontFaceRule();if(de){if(this.insertRule(de),this.isSyncFontLoadingSupported)return;await new Promise(X=>{const Ee=this._queueLoadingCallback(X);this._prepareFontLoadEvent(fe,Ee)})}}get isFontLoadingAPISupported(){var de;const fe=!!((de=this._document)!=null&&de.fonts);return(0,R.shadow)(this,"isFontLoadingAPISupported",fe)}get isSyncFontLoadingSupported(){let fe=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(fe=!0),(0,R.shadow)(this,"isSyncFontLoadingSupported",fe)}_queueLoadingCallback(fe){function de(){for((0,R.assert)(!Ee.done,"completeRequest() cannot be called twice."),Ee.done=!0;X.length>0&&X[0].done;){const le=X.shift();setTimeout(le.callback,0)}}const{loadingRequests:X}=this,Ee={done:!1,complete:de,callback:fe};return X.push(Ee),Ee}get _loadTestFont(){const fe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,R.shadow)(this,"_loadTestFont",fe)}_prepareFontLoadEvent(fe,de){function X(he,Pe){return he.charCodeAt(Pe)<<24|he.charCodeAt(Pe+1)<<16|he.charCodeAt(Pe+2)<<8|he.charCodeAt(Pe+3)&255}function Ee(he,Pe,De,be){const Te=he.substring(0,Pe),ze=he.substring(Pe+De);return Te+be+ze}let le,ne;const re=this._document.createElement("canvas");re.width=1,re.height=1;const J=re.getContext("2d");let q=0;function ae(he,Pe){if(++q>30){(0,R.warn)("Load test font never loaded."),Pe();return}if(J.font="30px "+he,J.fillText(".",0,20),J.getImageData(0,0,1,1).data[3]>0){Pe();return}setTimeout(ae.bind(null,he,Pe))}const se="lt".concat(Date.now()).concat(this.loadTestFontId++);let ue=this._loadTestFont;ue=Ee(ue,976,se.length,se);const te=16,oe=1482184792;let Ae=X(ue,te);for(le=0,ne=se.length-3;le<ne;le+=4)Ae=Ae-oe+X(se,le)|0;le<se.length&&(Ae=Ae-oe+X(se+"XXX",le)|0),ue=Ee(ue,te,4,(0,R.string32)(Ae));const ge="url(data:font/opentype;base64,".concat(btoa(ue),");"),ee='@font-face {font-family:"'.concat(se,'";src:').concat(ge,"}");this.insertRule(ee);const _e=this._document.createElement("div");_e.style.visibility="hidden",_e.style.width=_e.style.height="10px",_e.style.position="absolute",_e.style.top=_e.style.left="0px";for(const he of[fe.loadedName,se]){const Pe=this._document.createElement("span");Pe.textContent="Hi",Pe.style.fontFamily=he,_e.append(Pe)}this._document.body.append(_e),ae(se,()=>{_e.remove(),de.complete()})}}Q=new WeakMap,$.FontLoader=O;class B{constructor(fe,{isEvalSupported:de=!0,disableFontFace:X=!1,ignoreErrors:Ee=!1,inspectFont:le=null}){this.compiledGlyphs=Object.create(null);for(const ne in fe)this[ne]=fe[ne];this.isEvalSupported=de!==!1,this.disableFontFace=X===!0,this.ignoreErrors=Ee===!0,this._inspectFont=le}createNativeFontFace(){var de;if(!this.data||this.disableFontFace)return null;let fe;if(!this.cssFontInfo)fe=new FontFace(this.loadedName,this.data,{});else{const X={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(X.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),fe=new FontFace(this.cssFontInfo.fontFamily,this.data,X)}return(de=this._inspectFont)==null||de.call(this,this),fe}createFontFaceRule(){var Ee;if(!this.data||this.disableFontFace)return null;const fe=(0,R.bytesToString)(this.data),de="url(data:".concat(this.mimetype,";base64,").concat(btoa(fe),");");let X;if(!this.cssFontInfo)X='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(de,"}");else{let le="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(le+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),X='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(le,"src:").concat(de,"}")}return(Ee=this._inspectFont)==null||Ee.call(this,this,de),X}getPathGenerator(fe,de){if(this.compiledGlyphs[de]!==void 0)return this.compiledGlyphs[de];let X;try{X=fe.get(this.loadedName+"_path_"+de)}catch(Ee){if(!this.ignoreErrors)throw Ee;return(0,R.warn)('getPathGenerator - ignoring character: "'.concat(Ee,'".')),this.compiledGlyphs[de]=function(le,ne){}}if(this.isEvalSupported&&R.FeatureTest.isEvalSupported){const Ee=[];for(const le of X){const ne=le.args!==void 0?le.args.join(","):"";Ee.push("c.",le.cmd,"(",ne,");\n")}return this.compiledGlyphs[de]=new Function("c","size",Ee.join(""))}return this.compiledGlyphs[de]=function(Ee,le){for(const ne of X)ne.cmd==="scale"&&(ne.args=[le,-le]),Ee[ne.cmd].apply(Ee,ne.args)}}}$.FontFaceObject=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var R=H(7);H(1);const O=function(de){return new Promise((X,Ee)=>{require$$5.readFile(de,(ne,re)=>{if(ne||!re){Ee(new Error(ne));return}X(new Uint8Array(re))})})};class B extends R.BaseFilterFactory{}$.NodeFilterFactory=B;class Q extends R.BaseCanvasFactory{_createCanvas(X,Ee){return require$$5.createCanvas(X,Ee)}}$.NodeCanvasFactory=Q;class ve extends R.BaseCMapReaderFactory{_fetchData(X,Ee){return O(X).then(le=>({cMapData:le,compressionType:Ee}))}}$.NodeCMapReaderFactory=ve;class fe extends R.BaseStandardFontDataFactory{_fetchData(X){return O(X)}}$.NodeStandardFontDataFactory=fe},(A,$,H)=>{var Fe,Ri,at,Fi;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var R=H(1),O=H(6),B=H(12),Q=H(13);const ve=16,fe=100,de=4096,X=15,Ee=10,le=1e3,ne=16;function re(we,W){if(we._removeMirroring)throw new Error("Context is already forwarding operations.");we.__originalSave=we.save,we.__originalRestore=we.restore,we.__originalRotate=we.rotate,we.__originalScale=we.scale,we.__originalTranslate=we.translate,we.__originalTransform=we.transform,we.__originalSetTransform=we.setTransform,we.__originalResetTransform=we.resetTransform,we.__originalClip=we.clip,we.__originalMoveTo=we.moveTo,we.__originalLineTo=we.lineTo,we.__originalBezierCurveTo=we.bezierCurveTo,we.__originalRect=we.rect,we.__originalClosePath=we.closePath,we.__originalBeginPath=we.beginPath,we._removeMirroring=()=>{we.save=we.__originalSave,we.restore=we.__originalRestore,we.rotate=we.__originalRotate,we.scale=we.__originalScale,we.translate=we.__originalTranslate,we.transform=we.__originalTransform,we.setTransform=we.__originalSetTransform,we.resetTransform=we.__originalResetTransform,we.clip=we.__originalClip,we.moveTo=we.__originalMoveTo,we.lineTo=we.__originalLineTo,we.bezierCurveTo=we.__originalBezierCurveTo,we.rect=we.__originalRect,we.closePath=we.__originalClosePath,we.beginPath=we.__originalBeginPath,delete we._removeMirroring},we.save=function(){W.save(),this.__originalSave()},we.restore=function(){W.restore(),this.__originalRestore()},we.translate=function(G,ie){W.translate(G,ie),this.__originalTranslate(G,ie)},we.scale=function(G,ie){W.scale(G,ie),this.__originalScale(G,ie)},we.transform=function(G,ie,ce,ye,Ce,Re){W.transform(G,ie,ce,ye,Ce,Re),this.__originalTransform(G,ie,ce,ye,Ce,Re)},we.setTransform=function(G,ie,ce,ye,Ce,Re){W.setTransform(G,ie,ce,ye,Ce,Re),this.__originalSetTransform(G,ie,ce,ye,Ce,Re)},we.resetTransform=function(){W.resetTransform(),this.__originalResetTransform()},we.rotate=function(G){W.rotate(G),this.__originalRotate(G)},we.clip=function(G){W.clip(G),this.__originalClip(G)},we.moveTo=function(Y,G){W.moveTo(Y,G),this.__originalMoveTo(Y,G)},we.lineTo=function(Y,G){W.lineTo(Y,G),this.__originalLineTo(Y,G)},we.bezierCurveTo=function(Y,G,ie,ce,ye,Ce){W.bezierCurveTo(Y,G,ie,ce,ye,Ce),this.__originalBezierCurveTo(Y,G,ie,ce,ye,Ce)},we.rect=function(Y,G,ie,ce){W.rect(Y,G,ie,ce),this.__originalRect(Y,G,ie,ce)},we.closePath=function(){W.closePath(),this.__originalClosePath()},we.beginPath=function(){W.beginPath(),this.__originalBeginPath()}}class J{constructor(W){this.canvasFactory=W,this.cache=Object.create(null)}getCanvas(W,Y,G){let ie;return this.cache[W]!==void 0?(ie=this.cache[W],this.canvasFactory.reset(ie,Y,G)):(ie=this.canvasFactory.create(Y,G),this.cache[W]=ie),ie}delete(W){delete this.cache[W]}clear(){for(const W in this.cache){const Y=this.cache[W];this.canvasFactory.destroy(Y),delete this.cache[W]}}}function q(we,W,Y,G,ie,ce,ye,Ce,Re,Xe){const[Ge,tt,ct,vt,ut,ft]=(0,O.getCurrentTransform)(we);if(tt===0&&ct===0){const Ft=ye*Ge+ut,ot=Math.round(Ft),Ue=Ce*vt+ft,We=Math.round(Ue),lt=(ye+Re)*Ge+ut,At=Math.abs(Math.round(lt)-ot)||1,Ct=(Ce+Xe)*vt+ft,qt=Math.abs(Math.round(Ct)-We)||1;return we.setTransform(Math.sign(Ge),0,0,Math.sign(vt),ot,We),we.drawImage(W,Y,G,ie,ce,0,0,At,qt),we.setTransform(Ge,tt,ct,vt,ut,ft),[At,qt]}if(Ge===0&&vt===0){const Ft=Ce*ct+ut,ot=Math.round(Ft),Ue=ye*tt+ft,We=Math.round(Ue),lt=(Ce+Xe)*ct+ut,At=Math.abs(Math.round(lt)-ot)||1,Ct=(ye+Re)*tt+ft,qt=Math.abs(Math.round(Ct)-We)||1;return we.setTransform(0,Math.sign(tt),Math.sign(ct),0,ot,We),we.drawImage(W,Y,G,ie,ce,0,0,qt,At),we.setTransform(Ge,tt,ct,vt,ut,ft),[qt,At]}we.drawImage(W,Y,G,ie,ce,ye,Ce,Re,Xe);const gt=Math.hypot(Ge,tt),pt=Math.hypot(ct,vt);return[gt*Re,pt*Xe]}function ae(we){const{width:W,height:Y}=we;if(W>le||Y>le)return null;const G=1e3,ie=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ce=W+1;let ye=new Uint8Array(ce*(Y+1)),Ce,Re,Xe;const Ge=W+7&-8;let tt=new Uint8Array(Ge*Y),ct=0;for(const pt of we.data){let Ft=128;for(;Ft>0;)tt[ct++]=pt&Ft?0:255,Ft>>=1}let vt=0;for(ct=0,tt[ct]!==0&&(ye[0]=1,++vt),Re=1;Re<W;Re++)tt[ct]!==tt[ct+1]&&(ye[Re]=tt[ct]?2:1,++vt),ct++;for(tt[ct]!==0&&(ye[Re]=2,++vt),Ce=1;Ce<Y;Ce++){ct=Ce*Ge,Xe=Ce*ce,tt[ct-Ge]!==tt[ct]&&(ye[Xe]=tt[ct]?1:8,++vt);let pt=(tt[ct]?4:0)+(tt[ct-Ge]?8:0);for(Re=1;Re<W;Re++)pt=(pt>>2)+(tt[ct+1]?4:0)+(tt[ct-Ge+1]?8:0),ie[pt]&&(ye[Xe+Re]=ie[pt],++vt),ct++;if(tt[ct-Ge]!==tt[ct]&&(ye[Xe+Re]=tt[ct]?2:4,++vt),vt>G)return null}for(ct=Ge*(Y-1),Xe=Ce*ce,tt[ct]!==0&&(ye[Xe]=8,++vt),Re=1;Re<W;Re++)tt[ct]!==tt[ct+1]&&(ye[Xe+Re]=tt[ct]?4:8,++vt),ct++;if(tt[ct]!==0&&(ye[Xe+Re]=4,++vt),vt>G)return null;const ut=new Int32Array([0,ce,-1,0,-ce,0,0,0,1]),ft=new Path2D;for(Ce=0;vt&&Ce<=Y;Ce++){let pt=Ce*ce;const Ft=pt+W;for(;pt<Ft&&!ye[pt];)pt++;if(pt===Ft)continue;ft.moveTo(pt%ce,Ce);const ot=pt;let Ue=ye[pt];do{const We=ut[Ue];do pt+=We;while(!ye[pt]);const lt=ye[pt];lt!==5&&lt!==10?(Ue=lt,ye[pt]=0):(Ue=lt&51*Ue>>4,ye[pt]&=Ue>>2|Ue<<2),ft.lineTo(pt%ce,pt/ce|0),ye[pt]||--vt}while(ot!==pt);--Ce}return tt=null,ye=null,function(pt){pt.save(),pt.scale(1/W,-1/Y),pt.translate(0,-Y),pt.fill(ft),pt.beginPath(),pt.restore()}}class se{constructor(W,Y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=R.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,W,Y])}clone(){const W=Object.create(this);return W.clipBox=this.clipBox.slice(),W}setCurrentPoint(W,Y){this.x=W,this.y=Y}updatePathMinMax(W,Y,G){[Y,G]=R.Util.applyTransform([Y,G],W),this.minX=Math.min(this.minX,Y),this.minY=Math.min(this.minY,G),this.maxX=Math.max(this.maxX,Y),this.maxY=Math.max(this.maxY,G)}updateRectMinMax(W,Y){const G=R.Util.applyTransform(Y,W),ie=R.Util.applyTransform(Y.slice(2),W);this.minX=Math.min(this.minX,G[0],ie[0]),this.minY=Math.min(this.minY,G[1],ie[1]),this.maxX=Math.max(this.maxX,G[0],ie[0]),this.maxY=Math.max(this.maxY,G[1],ie[1])}updateScalingPathMinMax(W,Y){R.Util.scaleMinMax(W,Y),this.minX=Math.min(this.minX,Y[0]),this.maxX=Math.max(this.maxX,Y[1]),this.minY=Math.min(this.minY,Y[2]),this.maxY=Math.max(this.maxY,Y[3])}updateCurvePathMinMax(W,Y,G,ie,ce,ye,Ce,Re,Xe,Ge){const tt=R.Util.bezierBoundingBox(Y,G,ie,ce,ye,Ce,Re,Xe);if(Ge){Ge[0]=Math.min(Ge[0],tt[0],tt[2]),Ge[1]=Math.max(Ge[1],tt[0],tt[2]),Ge[2]=Math.min(Ge[2],tt[1],tt[3]),Ge[3]=Math.max(Ge[3],tt[1],tt[3]);return}this.updateRectMinMax(W,tt)}getPathBoundingBox(W=B.PathType.FILL,Y=null){const G=[this.minX,this.minY,this.maxX,this.maxY];if(W===B.PathType.STROKE){Y||(0,R.unreachable)("Stroke bounding box must include transform.");const ie=R.Util.singularValueDecompose2dScale(Y),ce=ie[0]*this.lineWidth/2,ye=ie[1]*this.lineWidth/2;G[0]-=ce,G[1]-=ye,G[2]+=ce,G[3]+=ye}return G}updateClipFromPath(){const W=R.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(W||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(W){this.clipBox=W,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(W=B.PathType.FILL,Y=null){return R.Util.intersect(this.clipBox,this.getPathBoundingBox(W,Y))}}function ue(we,W){if(typeof ImageData<"u"&&W instanceof ImageData){we.putImageData(W,0,0);return}const Y=W.height,G=W.width,ie=Y%ne,ce=(Y-ie)/ne,ye=ie===0?ce:ce+1,Ce=we.createImageData(G,ne);let Re=0,Xe;const Ge=W.data,tt=Ce.data;let ct,vt,ut,ft;if(W.kind===R.ImageKind.GRAYSCALE_1BPP){const gt=Ge.byteLength,pt=new Uint32Array(tt.buffer,0,tt.byteLength>>2),Ft=pt.length,ot=G+7>>3,Ue=4294967295,We=R.FeatureTest.isLittleEndian?4278190080:255;for(ct=0;ct<ye;ct++){for(ut=ct<ce?ne:ie,Xe=0,vt=0;vt<ut;vt++){const lt=gt-Re;let At=0;const Ct=lt>ot?G:lt*8-7,qt=Ct&-8;let Kt=0,Xt=0;for(;At<qt;At+=8)Xt=Ge[Re++],pt[Xe++]=Xt&128?Ue:We,pt[Xe++]=Xt&64?Ue:We,pt[Xe++]=Xt&32?Ue:We,pt[Xe++]=Xt&16?Ue:We,pt[Xe++]=Xt&8?Ue:We,pt[Xe++]=Xt&4?Ue:We,pt[Xe++]=Xt&2?Ue:We,pt[Xe++]=Xt&1?Ue:We;for(;At<Ct;At++)Kt===0&&(Xt=Ge[Re++],Kt=128),pt[Xe++]=Xt&Kt?Ue:We,Kt>>=1}for(;Xe<Ft;)pt[Xe++]=0;we.putImageData(Ce,0,ct*ne)}}else if(W.kind===R.ImageKind.RGBA_32BPP){for(vt=0,ft=G*ne*4,ct=0;ct<ce;ct++)tt.set(Ge.subarray(Re,Re+ft)),Re+=ft,we.putImageData(Ce,0,vt),vt+=ne;ct<ye&&(ft=G*ie*4,tt.set(Ge.subarray(Re,Re+ft)),we.putImageData(Ce,0,vt))}else if(W.kind===R.ImageKind.RGB_24BPP)for(ut=ne,ft=G*ut,ct=0;ct<ye;ct++){for(ct>=ce&&(ut=ie,ft=G*ut),Xe=0,vt=ft;vt--;)tt[Xe++]=Ge[Re++],tt[Xe++]=Ge[Re++],tt[Xe++]=Ge[Re++],tt[Xe++]=255;we.putImageData(Ce,0,ct*ne)}else throw new Error("bad image kind: ".concat(W.kind))}function pe(we,W){if(W.bitmap){we.drawImage(W.bitmap,0,0);return}const Y=W.height,G=W.width,ie=Y%ne,ce=(Y-ie)/ne,ye=ie===0?ce:ce+1,Ce=we.createImageData(G,ne);let Re=0;const Xe=W.data,Ge=Ce.data;for(let tt=0;tt<ye;tt++){const ct=tt<ce?ne:ie;({srcPos:Re}=(0,Q.convertBlackAndWhiteToRGBA)({src:Xe,srcPos:Re,dest:Ge,width:G,height:ct,nonBlackColor:0})),we.putImageData(Ce,0,tt*ne)}}function te(we,W){const Y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const G of Y)we[G]!==void 0&&(W[G]=we[G]);we.setLineDash!==void 0&&(W.setLineDash(we.getLineDash()),W.lineDashOffset=we.lineDashOffset)}function oe(we){if(we.strokeStyle=we.fillStyle="#000000",we.fillRule="nonzero",we.globalAlpha=1,we.lineWidth=1,we.lineCap="butt",we.lineJoin="miter",we.miterLimit=10,we.globalCompositeOperation="source-over",we.font="10px sans-serif",we.setLineDash!==void 0&&(we.setLineDash([]),we.lineDashOffset=0),!R.isNodeJS){const{filter:W}=we;W!=="none"&&W!==""&&(we.filter="none")}}function Ae(we,W,Y,G){const ie=we.length;for(let ce=3;ce<ie;ce+=4){const ye=we[ce];if(ye===0)we[ce-3]=W,we[ce-2]=Y,we[ce-1]=G;else if(ye<255){const Ce=255-ye;we[ce-3]=we[ce-3]*ye+W*Ce>>8,we[ce-2]=we[ce-2]*ye+Y*Ce>>8,we[ce-1]=we[ce-1]*ye+G*Ce>>8}}}function ge(we,W,Y){const G=we.length,ie=1/255;for(let ce=3;ce<G;ce+=4){const ye=Y?Y[we[ce]]:we[ce];W[ce]=W[ce]*ye*ie|0}}function ee(we,W,Y){const G=we.length;for(let ie=3;ie<G;ie+=4){const ce=we[ie-3]*77+we[ie-2]*152+we[ie-1]*28;W[ie]=Y?W[ie]*Y[ce>>8]>>8:W[ie]*ce>>16}}function _e(we,W,Y,G,ie,ce,ye,Ce,Re,Xe,Ge){const tt=!!ce,ct=tt?ce[0]:0,vt=tt?ce[1]:0,ut=tt?ce[2]:0,ft=ie==="Luminosity"?ee:ge,pt=Math.min(G,Math.ceil(1048576/Y));for(let Ft=0;Ft<G;Ft+=pt){const ot=Math.min(pt,G-Ft),Ue=we.getImageData(Ce-Xe,Ft+(Re-Ge),Y,ot),We=W.getImageData(Ce,Ft+Re,Y,ot);tt&&Ae(Ue.data,ct,vt,ut),ft(Ue.data,We.data,ye),W.putImageData(We,Ce,Ft+Re)}}function he(we,W,Y,G){const ie=G[0],ce=G[1],ye=G[2]-ie,Ce=G[3]-ce;ye===0||Ce===0||(_e(W.context,Y,ye,Ce,W.subtype,W.backdrop,W.transferMap,ie,ce,W.offsetX,W.offsetY),we.save(),we.globalAlpha=1,we.globalCompositeOperation="source-over",we.setTransform(1,0,0,1,0,0),we.drawImage(Y.canvas,0,0),we.restore())}function Pe(we,W){const Y=R.Util.singularValueDecompose2dScale(we);Y[0]=Math.fround(Y[0]),Y[1]=Math.fround(Y[1]);const G=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return W!==void 0?W:Y[0]<=G||Y[1]<=G}const De=["butt","round","square"],be=["miter","round","bevel"],Te={},ze={},St=class St{constructor(W,Y,G,ie,ce,{optionalContentConfig:ye,markedContentStack:Ce=null},Re,Xe){$e(this,Fe);$e(this,at);this.ctx=W,this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Y,this.objs=G,this.canvasFactory=ie,this.filterFactory=ce,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ce||[],this.optionalContentConfig=ye,this.cachedCanvases=new J(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Xe,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(W,Y=null){return typeof W=="string"?W.startsWith("g_")?this.commonObjs.get(W):this.objs.get(W):Y}beginDrawing({transform:W,viewport:Y,transparency:G=!1,background:ie=null}){const ce=this.ctx.canvas.width,ye=this.ctx.canvas.height,Ce=this.ctx.fillStyle;if(this.ctx.fillStyle=ie||"#ffffff",this.ctx.fillRect(0,0,ce,ye),this.ctx.fillStyle=Ce,G){const Re=this.cachedCanvases.getCanvas("transparent",ce,ye);this.compositeCtx=this.ctx,this.transparentCanvas=Re.canvas,this.ctx=Re.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),oe(this.ctx),W&&(this.ctx.transform(...W),this.outputScaleX=W[0],this.outputScaleY=W[0]),this.ctx.transform(...Y.transform),this.viewportScale=Y.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(W,Y,G,ie){const ce=W.argsArray,ye=W.fnArray;let Ce=Y||0;const Re=ce.length;if(Re===Ce)return Ce;const Xe=Re-Ce>Ee&&typeof G=="function",Ge=Xe?Date.now()+X:0;let tt=0;const ct=this.commonObjs,vt=this.objs;let ut;for(;;){if(ie!==void 0&&Ce===ie.nextBreakPoint)return ie.breakIt(Ce,G),Ce;if(ut=ye[Ce],ut!==R.OPS.dependency)this[ut].apply(this,ce[Ce]);else for(const ft of ce[Ce]){const gt=ft.startsWith("g_")?ct:vt;if(!gt.has(ft))return gt.get(ft,G),Ce}if(Ce++,Ce===Re)return Ce;if(Xe&&++tt>Ee){if(Date.now()>Ge)return G(),Ce;tt=0}}}endDrawing(){He(this,Fe,Ri).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const W of this._cachedBitmapsMap.values()){for(const Y of W.values())typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement&&(Y.width=Y.height=0);W.clear()}this._cachedBitmapsMap.clear(),He(this,at,Fi).call(this)}_scaleImage(W,Y){const G=W.width,ie=W.height;let ce=Math.max(Math.hypot(Y[0],Y[1]),1),ye=Math.max(Math.hypot(Y[2],Y[3]),1),Ce=G,Re=ie,Xe="prescale1",Ge,tt;for(;ce>2&&Ce>1||ye>2&&Re>1;){let ct=Ce,vt=Re;ce>2&&Ce>1&&(ct=Ce>=16384?Math.floor(Ce/2)-1||1:Math.ceil(Ce/2),ce/=Ce/ct),ye>2&&Re>1&&(vt=Re>=16384?Math.floor(Re/2)-1||1:Math.ceil(Re)/2,ye/=Re/vt),Ge=this.cachedCanvases.getCanvas(Xe,ct,vt),tt=Ge.context,tt.clearRect(0,0,ct,vt),tt.drawImage(W,0,0,Ce,Re,0,0,ct,vt),W=Ge.canvas,Ce=ct,Re=vt,Xe=Xe==="prescale1"?"prescale2":"prescale1"}return{img:W,paintWidth:Ce,paintHeight:Re}}_createMaskCanvas(W){const Y=this.ctx,{width:G,height:ie}=W,ce=this.current.fillColor,ye=this.current.patternFill,Ce=(0,O.getCurrentTransform)(Y);let Re,Xe,Ge,tt;if((W.bitmap||W.data)&&W.count>1){const At=W.bitmap||W.data.buffer;Xe=JSON.stringify(ye?Ce:[Ce.slice(0,4),ce]),Re=this._cachedBitmapsMap.get(At),Re||(Re=new Map,this._cachedBitmapsMap.set(At,Re));const Ct=Re.get(Xe);if(Ct&&!ye){const qt=Math.round(Math.min(Ce[0],Ce[2])+Ce[4]),Kt=Math.round(Math.min(Ce[1],Ce[3])+Ce[5]);return{canvas:Ct,offsetX:qt,offsetY:Kt}}Ge=Ct}Ge||(tt=this.cachedCanvases.getCanvas("maskCanvas",G,ie),pe(tt.context,W));let ct=R.Util.transform(Ce,[1/G,0,0,-1/ie,0,0]);ct=R.Util.transform(ct,[1,0,0,1,0,-ie]);const vt=R.Util.applyTransform([0,0],ct),ut=R.Util.applyTransform([G,ie],ct),ft=R.Util.normalizeRect([vt[0],vt[1],ut[0],ut[1]]),gt=Math.round(ft[2]-ft[0])||1,pt=Math.round(ft[3]-ft[1])||1,Ft=this.cachedCanvases.getCanvas("fillCanvas",gt,pt),ot=Ft.context,Ue=Math.min(vt[0],ut[0]),We=Math.min(vt[1],ut[1]);ot.translate(-Ue,-We),ot.transform(...ct),Ge||(Ge=this._scaleImage(tt.canvas,(0,O.getCurrentTransformInverse)(ot)),Ge=Ge.img,Re&&ye&&Re.set(Xe,Ge)),ot.imageSmoothingEnabled=Pe((0,O.getCurrentTransform)(ot),W.interpolate),q(ot,Ge,0,0,Ge.width,Ge.height,0,0,G,ie),ot.globalCompositeOperation="source-in";const lt=R.Util.transform((0,O.getCurrentTransformInverse)(ot),[1,0,0,1,-Ue,-We]);return ot.fillStyle=ye?ce.getPattern(Y,this,lt,B.PathType.FILL):ce,ot.fillRect(0,0,G,ie),Re&&!ye&&(this.cachedCanvases.delete("fillCanvas"),Re.set(Xe,Ft.canvas)),{canvas:Ft.canvas,offsetX:Math.round(Ue),offsetY:Math.round(We)}}setLineWidth(W){W!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=W,this.ctx.lineWidth=W}setLineCap(W){this.ctx.lineCap=De[W]}setLineJoin(W){this.ctx.lineJoin=be[W]}setMiterLimit(W){this.ctx.miterLimit=W}setDash(W,Y){const G=this.ctx;G.setLineDash!==void 0&&(G.setLineDash(W),G.lineDashOffset=Y)}setRenderingIntent(W){}setFlatness(W){}setGState(W){for(const[Y,G]of W)switch(Y){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G[0],G[1]);break;case"CA":this.current.strokeAlpha=G;break;case"ca":this.current.fillAlpha=G,this.ctx.globalAlpha=G;break;case"BM":this.ctx.globalCompositeOperation=G;break;case"SMask":this.current.activeSMask=G?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(G);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const W=this.inSMaskMode;this.current.activeSMask&&!W?this.beginSMaskMode():!this.current.activeSMask&&W&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const W=this.ctx.canvas.width,Y=this.ctx.canvas.height,G="smaskGroupAt"+this.groupLevel,ie=this.cachedCanvases.getCanvas(G,W,Y);this.suspendedCtx=this.ctx,this.ctx=ie.context;const ce=this.ctx;ce.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),te(this.suspendedCtx,ce),re(ce,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),te(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(W){if(!this.current.activeSMask)return;W?(W[0]=Math.floor(W[0]),W[1]=Math.floor(W[1]),W[2]=Math.ceil(W[2]),W[3]=Math.ceil(W[3])):W=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Y=this.current.activeSMask,G=this.suspendedCtx;he(G,Y,this.ctx,W),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(te(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const W=this.current;this.stateStack.push(W),this.current=W.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),te(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(W,Y,G,ie,ce,ye){this.ctx.transform(W,Y,G,ie,ce,ye),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(W,Y,G){const ie=this.ctx,ce=this.current;let ye=ce.x,Ce=ce.y,Re,Xe;const Ge=(0,O.getCurrentTransform)(ie),tt=Ge[0]===0&&Ge[3]===0||Ge[1]===0&&Ge[2]===0,ct=tt?G.slice(0):null;for(let vt=0,ut=0,ft=W.length;vt<ft;vt++)switch(W[vt]|0){case R.OPS.rectangle:ye=Y[ut++],Ce=Y[ut++];const gt=Y[ut++],pt=Y[ut++],Ft=ye+gt,ot=Ce+pt;ie.moveTo(ye,Ce),gt===0||pt===0?ie.lineTo(Ft,ot):(ie.lineTo(Ft,Ce),ie.lineTo(Ft,ot),ie.lineTo(ye,ot)),tt||ce.updateRectMinMax(Ge,[ye,Ce,Ft,ot]),ie.closePath();break;case R.OPS.moveTo:ye=Y[ut++],Ce=Y[ut++],ie.moveTo(ye,Ce),tt||ce.updatePathMinMax(Ge,ye,Ce);break;case R.OPS.lineTo:ye=Y[ut++],Ce=Y[ut++],ie.lineTo(ye,Ce),tt||ce.updatePathMinMax(Ge,ye,Ce);break;case R.OPS.curveTo:Re=ye,Xe=Ce,ye=Y[ut+4],Ce=Y[ut+5],ie.bezierCurveTo(Y[ut],Y[ut+1],Y[ut+2],Y[ut+3],ye,Ce),ce.updateCurvePathMinMax(Ge,Re,Xe,Y[ut],Y[ut+1],Y[ut+2],Y[ut+3],ye,Ce,ct),ut+=6;break;case R.OPS.curveTo2:Re=ye,Xe=Ce,ie.bezierCurveTo(ye,Ce,Y[ut],Y[ut+1],Y[ut+2],Y[ut+3]),ce.updateCurvePathMinMax(Ge,Re,Xe,ye,Ce,Y[ut],Y[ut+1],Y[ut+2],Y[ut+3],ct),ye=Y[ut+2],Ce=Y[ut+3],ut+=4;break;case R.OPS.curveTo3:Re=ye,Xe=Ce,ye=Y[ut+2],Ce=Y[ut+3],ie.bezierCurveTo(Y[ut],Y[ut+1],ye,Ce,ye,Ce),ce.updateCurvePathMinMax(Ge,Re,Xe,Y[ut],Y[ut+1],ye,Ce,ye,Ce,ct),ut+=4;break;case R.OPS.closePath:ie.closePath();break}tt&&ce.updateScalingPathMinMax(Ge,ct),ce.setCurrentPoint(ye,Ce)}closePath(){this.ctx.closePath()}stroke(W=!0){const Y=this.ctx,G=this.current.strokeColor;Y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof G=="object"&&(G!=null&&G.getPattern)?(Y.save(),Y.strokeStyle=G.getPattern(Y,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.STROKE),this.rescaleAndStroke(!1),Y.restore()):this.rescaleAndStroke(!0)),W&&this.consumePath(this.current.getClippedPathBoundingBox()),Y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(W=!0){const Y=this.ctx,G=this.current.fillColor,ie=this.current.patternFill;let ce=!1;ie&&(Y.save(),Y.fillStyle=G.getPattern(Y,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.FILL),ce=!0);const ye=this.current.getClippedPathBoundingBox();this.contentVisible&&ye!==null&&(this.pendingEOFill?(Y.fill("evenodd"),this.pendingEOFill=!1):Y.fill()),ce&&Y.restore(),W&&this.consumePath(ye)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Te}eoClip(){this.pendingClip=ze}beginText(){this.current.textMatrix=R.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const W=this.pendingTextPaths,Y=this.ctx;if(W===void 0){Y.beginPath();return}Y.save(),Y.beginPath();for(const G of W)Y.setTransform(...G.transform),Y.translate(G.x,G.y),G.addToPath(Y,G.fontSize);Y.restore(),Y.clip(),Y.beginPath(),delete this.pendingTextPaths}setCharSpacing(W){this.current.charSpacing=W}setWordSpacing(W){this.current.wordSpacing=W}setHScale(W){this.current.textHScale=W/100}setLeading(W){this.current.leading=-W}setFont(W,Y){var Ge;const G=this.commonObjs.get(W),ie=this.current;if(!G)throw new Error("Can't find font for ".concat(W));if(ie.fontMatrix=G.fontMatrix||R.FONT_IDENTITY_MATRIX,(ie.fontMatrix[0]===0||ie.fontMatrix[3]===0)&&(0,R.warn)("Invalid font matrix for font "+W),Y<0?(Y=-Y,ie.fontDirection=-1):ie.fontDirection=1,this.current.font=G,this.current.fontSize=Y,G.isType3Font)return;const ce=G.loadedName||"sans-serif",ye=((Ge=G.systemFontInfo)==null?void 0:Ge.css)||'"'.concat(ce,'", ').concat(G.fallbackName);let Ce="normal";G.black?Ce="900":G.bold&&(Ce="bold");const Re=G.italic?"italic":"normal";let Xe=Y;Y<ve?Xe=ve:Y>fe&&(Xe=fe),this.current.fontSizeScale=Y/Xe,this.ctx.font="".concat(Re," ").concat(Ce," ").concat(Xe,"px ").concat(ye)}setTextRenderingMode(W){this.current.textRenderingMode=W}setTextRise(W){this.current.textRise=W}moveText(W,Y){this.current.x=this.current.lineX+=W,this.current.y=this.current.lineY+=Y}setLeadingMoveText(W,Y){this.setLeading(-Y),this.moveText(W,Y)}setTextMatrix(W,Y,G,ie,ce,ye){this.current.textMatrix=[W,Y,G,ie,ce,ye],this.current.textMatrixScale=Math.hypot(W,Y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(W,Y,G,ie){const ce=this.ctx,ye=this.current,Ce=ye.font,Re=ye.textRenderingMode,Xe=ye.fontSize/ye.fontSizeScale,Ge=Re&R.TextRenderingMode.FILL_STROKE_MASK,tt=!!(Re&R.TextRenderingMode.ADD_TO_PATH_FLAG),ct=ye.patternFill&&!Ce.missingFile;let vt;(Ce.disableFontFace||tt||ct)&&(vt=Ce.getPathGenerator(this.commonObjs,W)),Ce.disableFontFace||ct?(ce.save(),ce.translate(Y,G),ce.beginPath(),vt(ce,Xe),ie&&ce.setTransform(...ie),(Ge===R.TextRenderingMode.FILL||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.fill(),(Ge===R.TextRenderingMode.STROKE||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.stroke(),ce.restore()):((Ge===R.TextRenderingMode.FILL||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.fillText(W,Y,G),(Ge===R.TextRenderingMode.STROKE||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.strokeText(W,Y,G)),tt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(ce),x:Y,y:G,fontSize:Xe,addToPath:vt})}get isFontSubpixelAAEnabled(){const{context:W}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);W.scale(1.5,1),W.fillText("I",0,10);const Y=W.getImageData(0,0,10,10).data;let G=!1;for(let ie=3;ie<Y.length;ie+=4)if(Y[ie]>0&&Y[ie]<255){G=!0;break}return(0,R.shadow)(this,"isFontSubpixelAAEnabled",G)}showText(W){const Y=this.current,G=Y.font;if(G.isType3Font)return this.showType3Text(W);const ie=Y.fontSize;if(ie===0)return;const ce=this.ctx,ye=Y.fontSizeScale,Ce=Y.charSpacing,Re=Y.wordSpacing,Xe=Y.fontDirection,Ge=Y.textHScale*Xe,tt=W.length,ct=G.vertical,vt=ct?1:-1,ut=G.defaultVMetrics,ft=ie*Y.fontMatrix[0],gt=Y.textRenderingMode===R.TextRenderingMode.FILL&&!G.disableFontFace&&!Y.patternFill;ce.save(),ce.transform(...Y.textMatrix),ce.translate(Y.x,Y.y+Y.textRise),Xe>0?ce.scale(Ge,-1):ce.scale(Ge,1);let pt;if(Y.patternFill){ce.save();const lt=Y.fillColor.getPattern(ce,this,(0,O.getCurrentTransformInverse)(ce),B.PathType.FILL);pt=(0,O.getCurrentTransform)(ce),ce.restore(),ce.fillStyle=lt}let Ft=Y.lineWidth;const ot=Y.textMatrixScale;if(ot===0||Ft===0){const lt=Y.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;(lt===R.TextRenderingMode.STROKE||lt===R.TextRenderingMode.FILL_STROKE)&&(Ft=this.getSinglePixelWidth())}else Ft/=ot;if(ye!==1&&(ce.scale(ye,ye),Ft/=ye),ce.lineWidth=Ft,G.isInvalidPDFjsFont){const lt=[];let At=0;for(const Ct of W)lt.push(Ct.unicode),At+=Ct.width;ce.fillText(lt.join(""),0,0),Y.x+=At*ft*Ge,ce.restore(),this.compose();return}let Ue=0,We;for(We=0;We<tt;++We){const lt=W[We];if(typeof lt=="number"){Ue+=vt*lt*ie/1e3;continue}let At=!1;const Ct=(lt.isSpace?Re:0)+Ce,qt=lt.fontChar,Kt=lt.accent;let Xt,rn,nn=lt.width;if(ct){const an=lt.vmetric||ut,st=-(lt.vmetric?an[1]:nn*.5)*ft,Ve=an[2]*ft;nn=an?-an[0]:nn,Xt=st/ye,rn=(Ue+Ve)/ye}else Xt=Ue/ye,rn=0;if(G.remeasure&&nn>0){const an=ce.measureText(qt).width*1e3/ie*ye;if(nn<an&&this.isFontSubpixelAAEnabled){const st=nn/an;At=!0,ce.save(),ce.scale(st,1),Xt/=st}else nn!==an&&(Xt+=(nn-an)/2e3*ie/ye)}if(this.contentVisible&&(lt.isInFont||G.missingFile)){if(gt&&!Kt)ce.fillText(qt,Xt,rn);else if(this.paintChar(qt,Xt,rn,pt),Kt){const an=Xt+ie*Kt.offset.x/ye,st=rn-ie*Kt.offset.y/ye;this.paintChar(Kt.fontChar,an,st,pt)}}const Vt=ct?nn*ft-Ct*Xe:nn*ft+Ct*Xe;Ue+=Vt,At&&ce.restore()}ct?Y.y-=Ue:Y.x+=Ue*Ge,ce.restore(),this.compose()}showType3Text(W){const Y=this.ctx,G=this.current,ie=G.font,ce=G.fontSize,ye=G.fontDirection,Ce=ie.vertical?1:-1,Re=G.charSpacing,Xe=G.wordSpacing,Ge=G.textHScale*ye,tt=G.fontMatrix||R.FONT_IDENTITY_MATRIX,ct=W.length,vt=G.textRenderingMode===R.TextRenderingMode.INVISIBLE;let ut,ft,gt,pt;if(!(vt||ce===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Y.save(),Y.transform(...G.textMatrix),Y.translate(G.x,G.y),Y.scale(Ge,ye),ut=0;ut<ct;++ut){if(ft=W[ut],typeof ft=="number"){pt=Ce*ft*ce/1e3,this.ctx.translate(pt,0),G.x+=pt*Ge;continue}const Ft=(ft.isSpace?Xe:0)+Re,ot=ie.charProcOperatorList[ft.operatorListId];if(!ot){(0,R.warn)('Type3 character "'.concat(ft.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=ft,this.save(),Y.scale(ce,ce),Y.transform(...tt),this.executeOperatorList(ot),this.restore()),gt=R.Util.applyTransform([ft.width,0],tt)[0]*ce+Ft,Y.translate(gt,0),G.x+=gt*Ge}Y.restore(),this.processingType3=null}}setCharWidth(W,Y){}setCharWidthAndBounds(W,Y,G,ie,ce,ye){this.ctx.rect(G,ie,ce-G,ye-ie),this.ctx.clip(),this.endPath()}getColorN_Pattern(W){let Y;if(W[0]==="TilingPattern"){const G=W[1],ie=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),ce={createCanvasGraphics:ye=>new St(ye,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Y=new B.TilingPattern(W,G,this.ctx,ce,ie)}else Y=this._getPattern(W[1],W[2]);return Y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(W,Y,G){const ie=R.Util.makeHexColor(W,Y,G);this.ctx.strokeStyle=ie,this.current.strokeColor=ie}setFillRGBColor(W,Y,G){const ie=R.Util.makeHexColor(W,Y,G);this.ctx.fillStyle=ie,this.current.fillColor=ie,this.current.patternFill=!1}_getPattern(W,Y=null){let G;return this.cachedPatterns.has(W)?G=this.cachedPatterns.get(W):(G=(0,B.getShadingPattern)(this.getObject(W)),this.cachedPatterns.set(W,G)),Y&&(G.matrix=Y),G}shadingFill(W){if(!this.contentVisible)return;const Y=this.ctx;this.save();const G=this._getPattern(W);Y.fillStyle=G.getPattern(Y,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.SHADING);const ie=(0,O.getCurrentTransformInverse)(Y);if(ie){const{width:ce,height:ye}=Y.canvas,[Ce,Re,Xe,Ge]=R.Util.getAxialAlignedBoundingBox([0,0,ce,ye],ie);this.ctx.fillRect(Ce,Re,Xe-Ce,Ge-Re)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,R.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,R.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(W,Y){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(W)&&W.length===6&&this.transform(...W),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),Y)){const G=Y[2]-Y[0],ie=Y[3]-Y[1];this.ctx.rect(Y[0],Y[1],G,ie),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),Y),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(W){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Y=this.ctx;W.isolated||(0,R.info)("TODO: Support non-isolated groups."),W.knockout&&(0,R.warn)("Knockout groups not supported.");const G=(0,O.getCurrentTransform)(Y);if(W.matrix&&Y.transform(...W.matrix),!W.bbox)throw new Error("Bounding box is required.");let ie=R.Util.getAxialAlignedBoundingBox(W.bbox,(0,O.getCurrentTransform)(Y));const ce=[0,0,Y.canvas.width,Y.canvas.height];ie=R.Util.intersect(ie,ce)||[0,0,0,0];const ye=Math.floor(ie[0]),Ce=Math.floor(ie[1]);let Re=Math.max(Math.ceil(ie[2])-ye,1),Xe=Math.max(Math.ceil(ie[3])-Ce,1),Ge=1,tt=1;Re>de&&(Ge=Re/de,Re=de),Xe>de&&(tt=Xe/de,Xe=de),this.current.startNewPathAndClipBox([0,0,Re,Xe]);let ct="groupAt"+this.groupLevel;W.smask&&(ct+="_smask_"+this.smaskCounter++%2);const vt=this.cachedCanvases.getCanvas(ct,Re,Xe),ut=vt.context;ut.scale(1/Ge,1/tt),ut.translate(-ye,-Ce),ut.transform(...G),W.smask?this.smaskStack.push({canvas:vt.canvas,context:ut,offsetX:ye,offsetY:Ce,scaleX:Ge,scaleY:tt,subtype:W.smask.subtype,backdrop:W.smask.backdrop,transferMap:W.smask.transferMap||null,startTransformInverse:null}):(Y.setTransform(1,0,0,1,0,0),Y.translate(ye,Ce),Y.scale(Ge,tt),Y.save()),te(Y,ut),this.ctx=ut,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Y),this.groupLevel++}endGroup(W){if(!this.contentVisible)return;this.groupLevel--;const Y=this.ctx,G=this.groupStack.pop();if(this.ctx=G,this.ctx.imageSmoothingEnabled=!1,W.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ie=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ie);const ce=R.Util.getAxialAlignedBoundingBox([0,0,Y.canvas.width,Y.canvas.height],ie);this.ctx.drawImage(Y.canvas,0,0),this.ctx.restore(),this.compose(ce)}}beginAnnotation(W,Y,G,ie,ce){if(He(this,Fe,Ri).call(this),oe(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Y)&&Y.length===4){const ye=Y[2]-Y[0],Ce=Y[3]-Y[1];if(ce&&this.annotationCanvasMap){G=G.slice(),G[4]-=Y[0],G[5]-=Y[1],Y=Y.slice(),Y[0]=Y[1]=0,Y[2]=ye,Y[3]=Ce;const[Re,Xe]=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:Ge}=this,tt=Math.ceil(ye*this.outputScaleX*Ge),ct=Math.ceil(Ce*this.outputScaleY*Ge);this.annotationCanvas=this.canvasFactory.create(tt,ct);const{canvas:vt,context:ut}=this.annotationCanvas;this.annotationCanvasMap.set(W,vt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ut,this.ctx.save(),this.ctx.setTransform(Re,0,0,-Xe,0,Ce*Xe),oe(this.ctx)}else oe(this.ctx),this.ctx.rect(Y[0],Y[1],ye,Ce),this.ctx.clip(),this.endPath()}this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...G),this.transform(...ie)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),He(this,at,Fi).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(W){if(!this.contentVisible)return;const Y=W.count;W=this.getObject(W.data,W),W.count=Y;const G=this.ctx,ie=this.processingType3;if(ie&&(ie.compiled===void 0&&(ie.compiled=ae(W)),ie.compiled)){ie.compiled(G);return}const ce=this._createMaskCanvas(W),ye=ce.canvas;G.save(),G.setTransform(1,0,0,1,0,0),G.drawImage(ye,ce.offsetX,ce.offsetY),G.restore(),this.compose()}paintImageMaskXObjectRepeat(W,Y,G=0,ie=0,ce,ye){if(!this.contentVisible)return;W=this.getObject(W.data,W);const Ce=this.ctx;Ce.save();const Re=(0,O.getCurrentTransform)(Ce);Ce.transform(Y,G,ie,ce,0,0);const Xe=this._createMaskCanvas(W);Ce.setTransform(1,0,0,1,Xe.offsetX-Re[4],Xe.offsetY-Re[5]);for(let Ge=0,tt=ye.length;Ge<tt;Ge+=2){const ct=R.Util.transform(Re,[Y,G,ie,ce,ye[Ge],ye[Ge+1]]),[vt,ut]=R.Util.applyTransform([0,0],ct);Ce.drawImage(Xe.canvas,vt,ut)}Ce.restore(),this.compose()}paintImageMaskXObjectGroup(W){if(!this.contentVisible)return;const Y=this.ctx,G=this.current.fillColor,ie=this.current.patternFill;for(const ce of W){const{data:ye,width:Ce,height:Re,transform:Xe}=ce,Ge=this.cachedCanvases.getCanvas("maskCanvas",Ce,Re),tt=Ge.context;tt.save();const ct=this.getObject(ye,ce);pe(tt,ct),tt.globalCompositeOperation="source-in",tt.fillStyle=ie?G.getPattern(tt,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.FILL):G,tt.fillRect(0,0,Ce,Re),tt.restore(),Y.save(),Y.transform(...Xe),Y.scale(1,-1),q(Y,Ge.canvas,0,0,Ce,Re,0,-1,1,1),Y.restore()}this.compose()}paintImageXObject(W){if(!this.contentVisible)return;const Y=this.getObject(W);if(!Y){(0,R.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Y)}paintImageXObjectRepeat(W,Y,G,ie){if(!this.contentVisible)return;const ce=this.getObject(W);if(!ce){(0,R.warn)("Dependent image isn't ready yet");return}const ye=ce.width,Ce=ce.height,Re=[];for(let Xe=0,Ge=ie.length;Xe<Ge;Xe+=2)Re.push({transform:[Y,0,0,G,ie[Xe],ie[Xe+1]],x:0,y:0,w:ye,h:Ce});this.paintInlineImageXObjectGroup(ce,Re)}applyTransferMapsToCanvas(W){return this.current.transferMaps!=="none"&&(W.filter=this.current.transferMaps,W.drawImage(W.canvas,0,0),W.filter="none"),W.canvas}applyTransferMapsToBitmap(W){if(this.current.transferMaps==="none")return W.bitmap;const{bitmap:Y,width:G,height:ie}=W,ce=this.cachedCanvases.getCanvas("inlineImage",G,ie),ye=ce.context;return ye.filter=this.current.transferMaps,ye.drawImage(Y,0,0),ye.filter="none",ce.canvas}paintInlineImageXObject(W){if(!this.contentVisible)return;const Y=W.width,G=W.height,ie=this.ctx;if(this.save(),!R.isNodeJS){const{filter:Ce}=ie;Ce!=="none"&&Ce!==""&&(ie.filter="none")}ie.scale(1/Y,-1/G);let ce;if(W.bitmap)ce=this.applyTransferMapsToBitmap(W);else if(typeof HTMLElement=="function"&&W instanceof HTMLElement||!W.data)ce=W;else{const Re=this.cachedCanvases.getCanvas("inlineImage",Y,G).context;ue(Re,W),ce=this.applyTransferMapsToCanvas(Re)}const ye=this._scaleImage(ce,(0,O.getCurrentTransformInverse)(ie));ie.imageSmoothingEnabled=Pe((0,O.getCurrentTransform)(ie),W.interpolate),q(ie,ye.img,0,0,ye.paintWidth,ye.paintHeight,0,-G,Y,G),this.compose(),this.restore()}paintInlineImageXObjectGroup(W,Y){if(!this.contentVisible)return;const G=this.ctx;let ie;if(W.bitmap)ie=W.bitmap;else{const ce=W.width,ye=W.height,Re=this.cachedCanvases.getCanvas("inlineImage",ce,ye).context;ue(Re,W),ie=this.applyTransferMapsToCanvas(Re)}for(const ce of Y)G.save(),G.transform(...ce.transform),G.scale(1,-1),q(G,ie,ce.x,ce.y,ce.w,ce.h,0,-1,1,1),G.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(W){}markPointProps(W,Y){}beginMarkedContent(W){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(W,Y){W==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Y)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(W){const Y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(W);const G=this.ctx;this.pendingClip&&(Y||(this.pendingClip===ze?G.clip("evenodd"):G.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),G.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const W=(0,O.getCurrentTransform)(this.ctx);if(W[1]===0&&W[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(W[0]),Math.abs(W[3]));else{const Y=Math.abs(W[0]*W[3]-W[2]*W[1]),G=Math.hypot(W[0],W[2]),ie=Math.hypot(W[1],W[3]);this._cachedGetSinglePixelWidth=Math.max(G,ie)/Y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:W}=this.current,{a:Y,b:G,c:ie,d:ce}=this.ctx.getTransform();let ye,Ce;if(G===0&&ie===0){const Re=Math.abs(Y),Xe=Math.abs(ce);if(Re===Xe)if(W===0)ye=Ce=1/Re;else{const Ge=Re*W;ye=Ce=Ge<1?1/Ge:1}else if(W===0)ye=1/Re,Ce=1/Xe;else{const Ge=Re*W,tt=Xe*W;ye=Ge<1?1/Ge:1,Ce=tt<1?1/tt:1}}else{const Re=Math.abs(Y*ce-G*ie),Xe=Math.hypot(Y,G),Ge=Math.hypot(ie,ce);if(W===0)ye=Ge/Re,Ce=Xe/Re;else{const tt=W*Re;ye=Ge>tt?Ge/tt:1,Ce=Xe>tt?Xe/tt:1}}this._cachedScaleForStroking[0]=ye,this._cachedScaleForStroking[1]=Ce}return this._cachedScaleForStroking}rescaleAndStroke(W){const{ctx:Y}=this,{lineWidth:G}=this.current,[ie,ce]=this.getScaleForStroking();if(Y.lineWidth=G||1,ie===1&&ce===1){Y.stroke();return}const ye=Y.getLineDash();if(W&&Y.save(),Y.scale(ie,ce),ye.length>0){const Ce=Math.max(ie,ce);Y.setLineDash(ye.map(Re=>Re/Ce)),Y.lineDashOffset/=Ce}Y.stroke(),W&&Y.restore()}isContentVisible(){for(let W=this.markedContentStack.length-1;W>=0;W--)if(!this.markedContentStack[W].visible)return!1;return!0}};Fe=new WeakSet,Ri=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},at=new WeakSet,Fi=function(){if(this.pageColors){const W=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(W!=="none"){const Y=this.ctx.filter;this.ctx.filter=W,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Y}}};let Qe=St;$.CanvasGraphics=Qe;for(const we in R.OPS)Qe.prototype[we]!==void 0&&(Qe.prototype[R.OPS[we]]=Qe.prototype[we])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ne;var R=H(1),O=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function Q(ae,se){if(!se)return;const ue=se[2]-se[0],pe=se[3]-se[1],te=new Path2D;te.rect(se[0],se[1],ue,pe),ae.clip(te)}class ve{constructor(){this.constructor===ve&&(0,R.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,R.unreachable)("Abstract method `getPattern` called.")}}class fe extends ve{constructor(se){super(),this._type=se[1],this._bbox=se[2],this._colorStops=se[3],this._p0=se[4],this._p1=se[5],this._r0=se[6],this._r1=se[7],this.matrix=null}_createGradient(se){let ue;this._type==="axial"?ue=se.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ue=se.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pe of this._colorStops)ue.addColorStop(pe[0],pe[1]);return ue}getPattern(se,ue,pe,te){let oe;if(te===B.STROKE||te===B.FILL){const Ae=ue.current.getClippedPathBoundingBox(te,(0,O.getCurrentTransform)(se))||[0,0,0,0],ge=Math.ceil(Ae[2]-Ae[0])||1,ee=Math.ceil(Ae[3]-Ae[1])||1,_e=ue.cachedCanvases.getCanvas("pattern",ge,ee,!0),he=_e.context;he.clearRect(0,0,he.canvas.width,he.canvas.height),he.beginPath(),he.rect(0,0,he.canvas.width,he.canvas.height),he.translate(-Ae[0],-Ae[1]),pe=R.Util.transform(pe,[1,0,0,1,Ae[0],Ae[1]]),he.transform(...ue.baseTransform),this.matrix&&he.transform(...this.matrix),Q(he,this._bbox),he.fillStyle=this._createGradient(he),he.fill(),oe=se.createPattern(_e.canvas,"no-repeat");const Pe=new DOMMatrix(pe);oe.setTransform(Pe)}else Q(se,this._bbox),oe=this._createGradient(se);return oe}}function de(ae,se,ue,pe,te,oe,Ae,ge){const ee=se.coords,_e=se.colors,he=ae.data,Pe=ae.width*4;let De;ee[ue+1]>ee[pe+1]&&(De=ue,ue=pe,pe=De,De=oe,oe=Ae,Ae=De),ee[pe+1]>ee[te+1]&&(De=pe,pe=te,te=De,De=Ae,Ae=ge,ge=De),ee[ue+1]>ee[pe+1]&&(De=ue,ue=pe,pe=De,De=oe,oe=Ae,Ae=De);const be=(ee[ue]+se.offsetX)*se.scaleX,Te=(ee[ue+1]+se.offsetY)*se.scaleY,ze=(ee[pe]+se.offsetX)*se.scaleX,Qe=(ee[pe+1]+se.offsetY)*se.scaleY,Fe=(ee[te]+se.offsetX)*se.scaleX,nt=(ee[te+1]+se.offsetY)*se.scaleY;if(Te>=nt)return;const at=_e[oe],ht=_e[oe+1],St=_e[oe+2],we=_e[Ae],W=_e[Ae+1],Y=_e[Ae+2],G=_e[ge],ie=_e[ge+1],ce=_e[ge+2],ye=Math.round(Te),Ce=Math.round(nt);let Re,Xe,Ge,tt,ct,vt,ut,ft;for(let gt=ye;gt<=Ce;gt++){if(gt<Qe){const We=gt<Te?0:(Te-gt)/(Te-Qe);Re=be-(be-ze)*We,Xe=at-(at-we)*We,Ge=ht-(ht-W)*We,tt=St-(St-Y)*We}else{let We;gt>nt?We=1:Qe===nt?We=0:We=(Qe-gt)/(Qe-nt),Re=ze-(ze-Fe)*We,Xe=we-(we-G)*We,Ge=W-(W-ie)*We,tt=Y-(Y-ce)*We}let pt;gt<Te?pt=0:gt>nt?pt=1:pt=(Te-gt)/(Te-nt),ct=be-(be-Fe)*pt,vt=at-(at-G)*pt,ut=ht-(ht-ie)*pt,ft=St-(St-ce)*pt;const Ft=Math.round(Math.min(Re,ct)),ot=Math.round(Math.max(Re,ct));let Ue=Pe*gt+Ft*4;for(let We=Ft;We<=ot;We++)pt=(Re-We)/(Re-ct),pt<0?pt=0:pt>1&&(pt=1),he[Ue++]=Xe-(Xe-vt)*pt|0,he[Ue++]=Ge-(Ge-ut)*pt|0,he[Ue++]=tt-(tt-ft)*pt|0,he[Ue++]=255}}function X(ae,se,ue){const pe=se.coords,te=se.colors;let oe,Ae;switch(se.type){case"lattice":const ge=se.verticesPerRow,ee=Math.floor(pe.length/ge)-1,_e=ge-1;for(oe=0;oe<ee;oe++){let he=oe*ge;for(let Pe=0;Pe<_e;Pe++,he++)de(ae,ue,pe[he],pe[he+1],pe[he+ge],te[he],te[he+1],te[he+ge]),de(ae,ue,pe[he+ge+1],pe[he+1],pe[he+ge],te[he+ge+1],te[he+1],te[he+ge])}break;case"triangles":for(oe=0,Ae=pe.length;oe<Ae;oe+=3)de(ae,ue,pe[oe],pe[oe+1],pe[oe+2],te[oe],te[oe+1],te[oe+2]);break;default:throw new Error("illegal figure")}}class Ee extends ve{constructor(se){super(),this._coords=se[2],this._colors=se[3],this._figures=se[4],this._bounds=se[5],this._bbox=se[7],this._background=se[8],this.matrix=null}_createMeshCanvas(se,ue,pe){const ge=Math.floor(this._bounds[0]),ee=Math.floor(this._bounds[1]),_e=Math.ceil(this._bounds[2])-ge,he=Math.ceil(this._bounds[3])-ee,Pe=Math.min(Math.ceil(Math.abs(_e*se[0]*1.1)),3e3),De=Math.min(Math.ceil(Math.abs(he*se[1]*1.1)),3e3),be=_e/Pe,Te=he/De,ze={coords:this._coords,colors:this._colors,offsetX:-ge,offsetY:-ee,scaleX:1/be,scaleY:1/Te},Qe=Pe+2*2,Fe=De+2*2,nt=pe.getCanvas("mesh",Qe,Fe,!1),at=nt.context,ht=at.createImageData(Pe,De);if(ue){const we=ht.data;for(let W=0,Y=we.length;W<Y;W+=4)we[W]=ue[0],we[W+1]=ue[1],we[W+2]=ue[2],we[W+3]=255}for(const we of this._figures)X(ht,we,ze);return at.putImageData(ht,2,2),{canvas:nt.canvas,offsetX:ge-2*be,offsetY:ee-2*Te,scaleX:be,scaleY:Te}}getPattern(se,ue,pe,te){Q(se,this._bbox);let oe;if(te===B.SHADING)oe=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(se));else if(oe=R.Util.singularValueDecompose2dScale(ue.baseTransform),this.matrix){const ge=R.Util.singularValueDecompose2dScale(this.matrix);oe=[oe[0]*ge[0],oe[1]*ge[1]]}const Ae=this._createMeshCanvas(oe,te===B.SHADING?null:this._background,ue.cachedCanvases);return te!==B.SHADING&&(se.setTransform(...ue.baseTransform),this.matrix&&se.transform(...this.matrix)),se.translate(Ae.offsetX,Ae.offsetY),se.scale(Ae.scaleX,Ae.scaleY),se.createPattern(Ae.canvas,"no-repeat")}}class le extends ve{getPattern(){return"hotpink"}}function ne(ae){switch(ae[0]){case"RadialAxial":return new fe(ae);case"Mesh":return new Ee(ae);case"Dummy":return new le}throw new Error("Unknown IR type: ".concat(ae[0]))}const re={COLORED:1,UNCOLORED:2},q=class q{constructor(se,ue,pe,te,oe){this.operatorList=se[2],this.matrix=se[3]||[1,0,0,1,0,0],this.bbox=se[4],this.xstep=se[5],this.ystep=se[6],this.paintType=se[7],this.tilingType=se[8],this.color=ue,this.ctx=pe,this.canvasGraphicsFactory=te,this.baseTransform=oe}createPatternCanvas(se){const ue=this.operatorList,pe=this.bbox,te=this.xstep,oe=this.ystep,Ae=this.paintType,ge=this.tilingType,ee=this.color,_e=this.canvasGraphicsFactory;(0,R.info)("TilingType: "+ge);const he=pe[0],Pe=pe[1],De=pe[2],be=pe[3],Te=R.Util.singularValueDecompose2dScale(this.matrix),ze=R.Util.singularValueDecompose2dScale(this.baseTransform),Qe=[Te[0]*ze[0],Te[1]*ze[1]],Fe=this.getSizeAndScale(te,this.ctx.canvas.width,Qe[0]),nt=this.getSizeAndScale(oe,this.ctx.canvas.height,Qe[1]),at=se.cachedCanvases.getCanvas("pattern",Fe.size,nt.size,!0),ht=at.context,St=_e.createCanvasGraphics(ht);St.groupLevel=se.groupLevel,this.setFillAndStrokeStyleToContext(St,Ae,ee);let we=he,W=Pe,Y=De,G=be;return he<0&&(we=0,Y+=Math.abs(he)),Pe<0&&(W=0,G+=Math.abs(Pe)),ht.translate(-(Fe.scale*we),-(nt.scale*W)),St.transform(Fe.scale,0,0,nt.scale,0,0),ht.save(),this.clipBbox(St,we,W,Y,G),St.baseTransform=(0,O.getCurrentTransform)(St.ctx),St.executeOperatorList(ue),St.endDrawing(),{canvas:at.canvas,scaleX:Fe.scale,scaleY:nt.scale,offsetX:we,offsetY:W}}getSizeAndScale(se,ue,pe){se=Math.abs(se);const te=Math.max(q.MAX_PATTERN_SIZE,ue);let oe=Math.ceil(se*pe);return oe>=te?oe=te:pe=oe/se,{scale:pe,size:oe}}clipBbox(se,ue,pe,te,oe){const Ae=te-ue,ge=oe-pe;se.ctx.rect(ue,pe,Ae,ge),se.current.updateRectMinMax((0,O.getCurrentTransform)(se.ctx),[ue,pe,te,oe]),se.clip(),se.endPath()}setFillAndStrokeStyleToContext(se,ue,pe){const te=se.ctx,oe=se.current;switch(ue){case re.COLORED:const Ae=this.ctx;te.fillStyle=Ae.fillStyle,te.strokeStyle=Ae.strokeStyle,oe.fillColor=Ae.fillStyle,oe.strokeColor=Ae.strokeStyle;break;case re.UNCOLORED:const ge=R.Util.makeHexColor(pe[0],pe[1],pe[2]);te.fillStyle=ge,te.strokeStyle=ge,oe.fillColor=ge,oe.strokeColor=ge;break;default:throw new R.FormatError("Unsupported paint type: ".concat(ue))}}getPattern(se,ue,pe,te){let oe=pe;te!==B.SHADING&&(oe=R.Util.transform(oe,ue.baseTransform),this.matrix&&(oe=R.Util.transform(oe,this.matrix)));const Ae=this.createPatternCanvas(ue);let ge=new DOMMatrix(oe);ge=ge.translate(Ae.offsetX,Ae.offsetY),ge=ge.scale(1/Ae.scaleX,1/Ae.scaleY);const ee=se.createPattern(Ae.canvas,"repeat");return ee.setTransform(ge),ee}};Dn(q,"MAX_PATTERN_SIZE",3e3);let J=q;$.TilingPattern=J},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=B,$.convertToRGBA=O,$.grayToRGBA=ve;var R=H(1);function O(fe){switch(fe.kind){case R.ImageKind.GRAYSCALE_1BPP:return B(fe);case R.ImageKind.RGB_24BPP:return Q(fe)}return null}function B({src:fe,srcPos:de=0,dest:X,width:Ee,height:le,nonBlackColor:ne=4294967295,inverseDecode:re=!1}){const J=R.FeatureTest.isLittleEndian?4278190080:255,[q,ae]=re?[ne,J]:[J,ne],se=Ee>>3,ue=Ee&7,pe=fe.length;X=new Uint32Array(X.buffer);let te=0;for(let oe=0;oe<le;oe++){for(const ge=de+se;de<ge;de++){const ee=de<pe?fe[de]:255;X[te++]=ee&128?ae:q,X[te++]=ee&64?ae:q,X[te++]=ee&32?ae:q,X[te++]=ee&16?ae:q,X[te++]=ee&8?ae:q,X[te++]=ee&4?ae:q,X[te++]=ee&2?ae:q,X[te++]=ee&1?ae:q}if(ue===0)continue;const Ae=de<pe?fe[de++]:255;for(let ge=0;ge<ue;ge++)X[te++]=Ae&1<<7-ge?ae:q}return{srcPos:de,destPos:te}}function Q({src:fe,srcPos:de=0,dest:X,destPos:Ee=0,width:le,height:ne}){let re=0;const J=fe.length>>2,q=new Uint32Array(fe.buffer,de,J);if(R.FeatureTest.isLittleEndian){for(;re<J-2;re+=3,Ee+=4){const ae=q[re],se=q[re+1],ue=q[re+2];X[Ee]=ae|4278190080,X[Ee+1]=ae>>>24|se<<8|4278190080,X[Ee+2]=se>>>16|ue<<16|4278190080,X[Ee+3]=ue>>>8|4278190080}for(let ae=re*4,se=fe.length;ae<se;ae+=3)X[Ee++]=fe[ae]|fe[ae+1]<<8|fe[ae+2]<<16|4278190080}else{for(;re<J-2;re+=3,Ee+=4){const ae=q[re],se=q[re+1],ue=q[re+2];X[Ee]=ae|255,X[Ee+1]=ae<<24|se>>>8|255,X[Ee+2]=se<<16|ue>>>16|255,X[Ee+3]=ue<<8|255}for(let ae=re*4,se=fe.length;ae<se;ae+=3)X[Ee++]=fe[ae]<<24|fe[ae+1]<<16|fe[ae+2]<<8|255}return{srcPos:de,destPos:Ee}}function ve(fe,de){if(R.FeatureTest.isLittleEndian)for(let X=0,Ee=fe.length;X<Ee;X++)de[X]=fe[X]*65793|4278190080;else for(let X=0,Ee=fe.length;X<Ee;X++)de[X]=fe[X]*16843008|255}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{var fe,Ca,X,Pa,le,Yr;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var R=H(1);const O={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Q(re){switch(re instanceof Error||typeof re=="object"&&re!==null||(0,R.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new R.AbortException(re.message);case"MissingPDFException":return new R.MissingPDFException(re.message);case"PasswordException":return new R.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new R.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new R.UnknownErrorException(re.message,re.details);default:return new R.UnknownErrorException(re.message,re.toString())}}class ve{constructor(J,q,ae){$e(this,fe);$e(this,X);$e(this,le);this.sourceName=J,this.targetName=q,this.comObj=ae,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=se=>{const ue=se.data;if(ue.targetName!==this.sourceName)return;if(ue.stream){He(this,X,Pa).call(this,ue);return}if(ue.callback){const te=ue.callbackId,oe=this.callbackCapabilities[te];if(!oe)throw new Error("Cannot resolve callback ".concat(te));if(delete this.callbackCapabilities[te],ue.callback===O.DATA)oe.resolve(ue.data);else if(ue.callback===O.ERROR)oe.reject(Q(ue.reason));else throw new Error("Unexpected callback case");return}const pe=this.actionHandler[ue.action];if(!pe)throw new Error("Unknown action from worker: ".concat(ue.action));if(ue.callbackId){const te=this.sourceName,oe=ue.sourceName;new Promise(function(Ae){Ae(pe(ue.data))}).then(function(Ae){ae.postMessage({sourceName:te,targetName:oe,callback:O.DATA,callbackId:ue.callbackId,data:Ae})},function(Ae){ae.postMessage({sourceName:te,targetName:oe,callback:O.ERROR,callbackId:ue.callbackId,reason:Q(Ae)})});return}if(ue.streamId){He(this,fe,Ca).call(this,ue);return}pe(ue.data)},ae.addEventListener("message",this._onComObjOnMessage)}on(J,q){const ae=this.actionHandler;if(ae[J])throw new Error('There is already an actionName called "'.concat(J,'"'));ae[J]=q}send(J,q,ae){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:J,data:q},ae)}sendWithPromise(J,q,ae){const se=this.callbackId++,ue=new R.PromiseCapability;this.callbackCapabilities[se]=ue;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:J,callbackId:se,data:q},ae)}catch(pe){ue.reject(pe)}return ue.promise}sendWithStream(J,q,ae,se){const ue=this.streamId++,pe=this.sourceName,te=this.targetName,oe=this.comObj;return new ReadableStream({start:Ae=>{const ge=new R.PromiseCapability;return this.streamControllers[ue]={controller:Ae,startCall:ge,pullCall:null,cancelCall:null,isClosed:!1},oe.postMessage({sourceName:pe,targetName:te,action:J,streamId:ue,data:q,desiredSize:Ae.desiredSize},se),ge.promise},pull:Ae=>{const ge=new R.PromiseCapability;return this.streamControllers[ue].pullCall=ge,oe.postMessage({sourceName:pe,targetName:te,stream:B.PULL,streamId:ue,desiredSize:Ae.desiredSize}),ge.promise},cancel:Ae=>{(0,R.assert)(Ae instanceof Error,"cancel must have a valid reason");const ge=new R.PromiseCapability;return this.streamControllers[ue].cancelCall=ge,this.streamControllers[ue].isClosed=!0,oe.postMessage({sourceName:pe,targetName:te,stream:B.CANCEL,streamId:ue,reason:Q(Ae)}),ge.promise}},ae)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}fe=new WeakSet,Ca=function(J){const q=J.streamId,ae=this.sourceName,se=J.sourceName,ue=this.comObj,pe=this,te=this.actionHandler[J.action],oe={enqueue(Ae,ge=1,ee){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=ge,_e>0&&this.desiredSize<=0&&(this.sinkCapability=new R.PromiseCapability,this.ready=this.sinkCapability.promise),ue.postMessage({sourceName:ae,targetName:se,stream:B.ENQUEUE,streamId:q,chunk:Ae},ee)},close(){this.isCancelled||(this.isCancelled=!0,ue.postMessage({sourceName:ae,targetName:se,stream:B.CLOSE,streamId:q}),delete pe.streamSinks[q])},error(Ae){(0,R.assert)(Ae instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ue.postMessage({sourceName:ae,targetName:se,stream:B.ERROR,streamId:q,reason:Q(Ae)}))},sinkCapability:new R.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:J.desiredSize,ready:null};oe.sinkCapability.resolve(),oe.ready=oe.sinkCapability.promise,this.streamSinks[q]=oe,new Promise(function(Ae){Ae(te(J.data,oe))}).then(function(){ue.postMessage({sourceName:ae,targetName:se,stream:B.START_COMPLETE,streamId:q,success:!0})},function(Ae){ue.postMessage({sourceName:ae,targetName:se,stream:B.START_COMPLETE,streamId:q,reason:Q(Ae)})})},X=new WeakSet,Pa=function(J){const q=J.streamId,ae=this.sourceName,se=J.sourceName,ue=this.comObj,pe=this.streamControllers[q],te=this.streamSinks[q];switch(J.stream){case B.START_COMPLETE:J.success?pe.startCall.resolve():pe.startCall.reject(Q(J.reason));break;case B.PULL_COMPLETE:J.success?pe.pullCall.resolve():pe.pullCall.reject(Q(J.reason));break;case B.PULL:if(!te){ue.postMessage({sourceName:ae,targetName:se,stream:B.PULL_COMPLETE,streamId:q,success:!0});break}te.desiredSize<=0&&J.desiredSize>0&&te.sinkCapability.resolve(),te.desiredSize=J.desiredSize,new Promise(function(oe){var Ae;oe((Ae=te.onPull)==null?void 0:Ae.call(te))}).then(function(){ue.postMessage({sourceName:ae,targetName:se,stream:B.PULL_COMPLETE,streamId:q,success:!0})},function(oe){ue.postMessage({sourceName:ae,targetName:se,stream:B.PULL_COMPLETE,streamId:q,reason:Q(oe)})});break;case B.ENQUEUE:if((0,R.assert)(pe,"enqueue should have stream controller"),pe.isClosed)break;pe.controller.enqueue(J.chunk);break;case B.CLOSE:if((0,R.assert)(pe,"close should have stream controller"),pe.isClosed)break;pe.isClosed=!0,pe.controller.close(),He(this,le,Yr).call(this,pe,q);break;case B.ERROR:(0,R.assert)(pe,"error should have stream controller"),pe.controller.error(Q(J.reason)),He(this,le,Yr).call(this,pe,q);break;case B.CANCEL_COMPLETE:J.success?pe.cancelCall.resolve():pe.cancelCall.reject(Q(J.reason)),He(this,le,Yr).call(this,pe,q);break;case B.CANCEL:if(!te)break;new Promise(function(oe){var Ae;oe((Ae=te.onCancel)==null?void 0:Ae.call(te,Q(J.reason)))}).then(function(){ue.postMessage({sourceName:ae,targetName:se,stream:B.CANCEL_COMPLETE,streamId:q,success:!0})},function(oe){ue.postMessage({sourceName:ae,targetName:se,stream:B.CANCEL_COMPLETE,streamId:q,reason:Q(oe)})}),te.sinkCapability.reject(Q(J.reason)),te.isCancelled=!0,delete this.streamSinks[q];break;default:throw new Error("Unexpected stream case")}},le=new WeakSet,Yr=async function(J,q){var ae,se,ue;await Promise.allSettled([(ae=J.startCall)==null?void 0:ae.promise,(se=J.pullCall)==null?void 0:se.promise,(ue=J.cancelCall)==null?void 0:ue.promise]),delete this.streamControllers[q]},$.MessageHandler=ve},(A,$,H)=>{var B,Q;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var R=H(1);class O{constructor({parsedData:fe,rawData:de}){$e(this,B,void 0);$e(this,Q,void 0);rt(this,B,fe),rt(this,Q,de)}getRaw(){return V(this,Q)}get(fe){var de;return(de=V(this,B).get(fe))!=null?de:null}getAll(){return(0,R.objectFromMap)(V(this,B))}has(fe){return V(this,B).has(fe)}}B=new WeakMap,Q=new WeakMap,$.Metadata=O},(A,$,H)=>{var fe,de,X,Ee,le,ne,Li;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var R=H(1),O=H(8);const B=Symbol("INTERNAL");class Q{constructor(q,ae){$e(this,fe,!0);this.name=q,this.intent=ae}get visible(){return V(this,fe)}_setVisible(q,ae){q!==B&&(0,R.unreachable)("Internal method `_setVisible` called."),rt(this,fe,ae)}}fe=new WeakMap;class ve{constructor(q){$e(this,ne);$e(this,de,null);$e(this,X,new Map);$e(this,Ee,null);$e(this,le,null);if(this.name=null,this.creator=null,q!==null){this.name=q.name,this.creator=q.creator,rt(this,le,q.order);for(const ae of q.groups)V(this,X).set(ae.id,new Q(ae.name,ae.intent));if(q.baseState==="OFF")for(const ae of V(this,X).values())ae._setVisible(B,!1);for(const ae of q.on)V(this,X).get(ae)._setVisible(B,!0);for(const ae of q.off)V(this,X).get(ae)._setVisible(B,!1);rt(this,Ee,this.getHash())}}isVisible(q){if(V(this,X).size===0)return!0;if(!q)return(0,R.warn)("Optional content group not defined."),!0;if(q.type==="OCG")return V(this,X).has(q.id)?V(this,X).get(q.id).visible:((0,R.warn)("Optional content group not found: ".concat(q.id)),!0);if(q.type==="OCMD"){if(q.expression)return He(this,ne,Li).call(this,q.expression);if(!q.policy||q.policy==="AnyOn"){for(const ae of q.ids){if(!V(this,X).has(ae))return(0,R.warn)("Optional content group not found: ".concat(ae)),!0;if(V(this,X).get(ae).visible)return!0}return!1}else if(q.policy==="AllOn"){for(const ae of q.ids){if(!V(this,X).has(ae))return(0,R.warn)("Optional content group not found: ".concat(ae)),!0;if(!V(this,X).get(ae).visible)return!1}return!0}else if(q.policy==="AnyOff"){for(const ae of q.ids){if(!V(this,X).has(ae))return(0,R.warn)("Optional content group not found: ".concat(ae)),!0;if(!V(this,X).get(ae).visible)return!0}return!1}else if(q.policy==="AllOff"){for(const ae of q.ids){if(!V(this,X).has(ae))return(0,R.warn)("Optional content group not found: ".concat(ae)),!0;if(V(this,X).get(ae).visible)return!1}return!0}return(0,R.warn)("Unknown optional content policy ".concat(q.policy,".")),!0}return(0,R.warn)("Unknown group type ".concat(q.type,".")),!0}setVisibility(q,ae=!0){if(!V(this,X).has(q)){(0,R.warn)("Optional content group not found: ".concat(q));return}V(this,X).get(q)._setVisible(B,!!ae),rt(this,de,null)}get hasInitialVisibility(){return V(this,Ee)===null||this.getHash()===V(this,Ee)}getOrder(){return V(this,X).size?V(this,le)?V(this,le).slice():[...V(this,X).keys()]:null}getGroups(){return V(this,X).size>0?(0,R.objectFromMap)(V(this,X)):null}getGroup(q){return V(this,X).get(q)||null}getHash(){if(V(this,de)!==null)return V(this,de);const q=new O.MurmurHash3_64;for(const[ae,se]of V(this,X))q.update("".concat(ae,":").concat(se.visible));return rt(this,de,q.hexdigest())}}de=new WeakMap,X=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakSet,Li=function(q){const ae=q.length;if(ae<2)return!0;const se=q[0];for(let ue=1;ue<ae;ue++){const pe=q[ue];let te;if(Array.isArray(pe))te=He(this,ne,Li).call(this,pe);else if(V(this,X).has(pe))te=V(this,X).get(pe).visible;else return(0,R.warn)("Optional content group not found: ".concat(pe)),!0;switch(se){case"And":if(!te)return!1;break;case"Or":if(te)return!0;break;case"Not":return!te;default:return!0}}return se==="And"},$.OptionalContentConfig=ve},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var R=H(1),O=H(6);class B{constructor({length:de,initialData:X,progressiveDone:Ee=!1,contentDispositionFilename:le=null,disableRange:ne=!1,disableStream:re=!1},J){if((0,R.assert)(J,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ee,this._contentDispositionFilename=le,(X==null?void 0:X.length)>0){const q=X instanceof Uint8Array&&X.byteLength===X.buffer.byteLength?X.buffer:new Uint8Array(X).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=J,this._isStreamingSupported=!re,this._isRangeSupported=!ne,this._contentLength=de,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,ae)=>{this._onReceiveData({begin:q,chunk:ae})}),this._pdfDataRangeTransport.addProgressListener((q,ae)=>{this._onProgress({loaded:q,total:ae})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:de,chunk:X}){const Ee=X instanceof Uint8Array&&X.byteLength===X.buffer.byteLength?X.buffer:new Uint8Array(X).buffer;if(de===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ee):this._queuedChunks.push(Ee);else{const le=this._rangeReaders.some(function(ne){return ne._begin!==de?!1:(ne._enqueue(Ee),!0)});(0,R.assert)(le,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var de,X;return(X=(de=this._fullRequestReader)==null?void 0:de._loaded)!=null?X:0}_onProgress(de){var X,Ee,le,ne;de.total===void 0?(Ee=(X=this._rangeReaders[0])==null?void 0:X.onProgress)==null||Ee.call(X,{loaded:de.loaded}):(ne=(le=this._fullRequestReader)==null?void 0:le.onProgress)==null||ne.call(le,{loaded:de.loaded,total:de.total})}_onProgressiveDone(){var de;(de=this._fullRequestReader)==null||de.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(de){const X=this._rangeReaders.indexOf(de);X>=0&&this._rangeReaders.splice(X,1)}getFullReader(){(0,R.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const de=this._queuedChunks;return this._queuedChunks=null,new Q(this,de,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(de,X){if(X<=this._progressiveDataLength)return null;const Ee=new ve(this,de,X);return this._pdfDataRangeTransport.requestDataRange(de,X),this._rangeReaders.push(Ee),Ee}cancelAllRequests(de){var X;(X=this._fullRequestReader)==null||X.cancel(de);for(const Ee of this._rangeReaders.slice(0))Ee.cancel(de);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class Q{constructor(de,X,Ee=!1,le=null){this._stream=de,this._done=Ee||!1,this._filename=(0,O.isPdfFile)(le)?le:null,this._queuedChunks=X||[],this._loaded=0;for(const ne of this._queuedChunks)this._loaded+=ne.byteLength;this._requests=[],this._headersReady=Promise.resolve(),de._fullRequestReader=this,this.onProgress=null}_enqueue(de){this._done||(this._requests.length>0?this._requests.shift().resolve({value:de,done:!1}):this._queuedChunks.push(de),this._loaded+=de.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const de=new R.PromiseCapability;return this._requests.push(de),de.promise}cancel(de){this._done=!0;for(const X of this._requests)X.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ve{constructor(de,X,Ee){this._stream=de,this._begin=X,this._end=Ee,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(de){if(!this._done){if(this._requests.length===0)this._queuedChunk=de;else{this._requests.shift().resolve({value:de,done:!1});for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const X=this._queuedChunk;return this._queuedChunk=null,{value:X,done:!1}}if(this._done)return{value:void 0,done:!0};const de=new R.PromiseCapability;return this._requests.push(de),de.promise}cancel(de){this._done=!0;for(const X of this._requests)X.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var R=H(1),O=H(20);function B(Ee,le,ne){return{method:"GET",headers:Ee,signal:ne.signal,mode:"cors",credentials:le?"include":"same-origin",redirect:"follow"}}function Q(Ee){const le=new Headers;for(const ne in Ee){const re=Ee[ne];re!==void 0&&le.append(ne,re)}return le}function ve(Ee){return Ee instanceof Uint8Array?Ee.buffer:Ee instanceof ArrayBuffer?Ee:((0,R.warn)("getArrayBuffer - unexpected data format: ".concat(Ee)),new Uint8Array(Ee).buffer)}class fe{constructor(le){this.source=le,this.isHttp=/^https?:/i.test(le.url),this.httpHeaders=this.isHttp&&le.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var le,ne;return(ne=(le=this._fullRequestReader)==null?void 0:le._loaded)!=null?ne:0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new de(this),this._fullRequestReader}getRangeReader(le,ne){if(ne<=this._progressiveDataLength)return null;const re=new X(this,le,ne);return this._rangeRequestReaders.push(re),re}cancelAllRequests(le){var ne;(ne=this._fullRequestReader)==null||ne.cancel(le);for(const re of this._rangeRequestReaders.slice(0))re.cancel(le)}}$.PDFFetchStream=fe;class de{constructor(le){this._stream=le,this._reader=null,this._loaded=0,this._filename=null;const ne=le.source;this._withCredentials=ne.withCredentials||!1,this._contentLength=ne.length,this._headersCapability=new R.PromiseCapability,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._headers=Q(this._stream.httpHeaders);const re=ne.url;fetch(re,B(this._headers,this._withCredentials,this._abortController)).then(J=>{if(!(0,O.validateResponseStatus)(J.status))throw(0,O.createResponseStatusError)(J.status,re);this._reader=J.body.getReader(),this._headersCapability.resolve();const q=ue=>J.headers.get(ue),{allowRangeRequests:ae,suggestedLength:se}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=se||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(q),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new R.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:le,done:ne}=await this._reader.read();return ne?{value:le,done:ne}:(this._loaded+=le.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ve(le),done:!1})}cancel(le){var ne;(ne=this._reader)==null||ne.cancel(le),this._abortController.abort()}}class X{constructor(le,ne,re){this._stream=le,this._reader=null,this._loaded=0;const J=le.source;this._withCredentials=J.withCredentials||!1,this._readCapability=new R.PromiseCapability,this._isStreamingSupported=!J.disableStream,this._abortController=new AbortController,this._headers=Q(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(ne,"-").concat(re-1));const q=J.url;fetch(q,B(this._headers,this._withCredentials,this._abortController)).then(ae=>{if(!(0,O.validateResponseStatus)(ae.status))throw(0,O.createResponseStatusError)(ae.status,q);this._readCapability.resolve(),this._reader=ae.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:le,done:ne}=await this._reader.read();return ne?{value:le,done:ne}:(this._loaded+=le.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:ve(le),done:!1})}cancel(le){var ne;(ne=this._reader)==null||ne.cancel(le),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=fe,$.extractFilenameFromHeader=ve,$.validateRangeRequestCapabilities=Q,$.validateResponseStatus=de;var R=H(1),O=H(21),B=H(6);function Q({getResponseHeader:X,isHttp:Ee,rangeChunkSize:le,disableRange:ne}){const re={allowRangeRequests:!1,suggestedLength:void 0},J=parseInt(X("Content-Length"),10);return!Number.isInteger(J)||(re.suggestedLength=J,J<=2*le)||ne||!Ee||X("Accept-Ranges")!=="bytes"||(X("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function ve(X){const Ee=X("Content-Disposition");if(Ee){let le=(0,O.getFilenameFromContentDispositionHeader)(Ee);if(le.includes("%"))try{le=decodeURIComponent(le)}catch(ne){}if((0,B.isPdfFile)(le))return le}return null}function fe(X,Ee){return X===404||X===0&&Ee.startsWith("file:")?new R.MissingPDFException('Missing PDF "'+Ee+'".'):new R.UnexpectedResponseException("Unexpected server response (".concat(X,') while retrieving PDF "').concat(Ee,'".'),X)}function de(X){return X===200||X===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var R=H(1);function O(B){let Q=!0,ve=fe("filename\\*","i").exec(B);if(ve){ve=ve[1];let J=le(ve);return J=unescape(J),J=ne(J),J=re(J),X(J)}if(ve=Ee(B),ve){const J=re(ve);return X(J)}if(ve=fe("filename","i").exec(B),ve){ve=ve[1];let J=le(ve);return J=re(J),X(J)}function fe(J,q){return new RegExp("(?:^|;)\\s*"+J+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',q)}function de(J,q){if(J){if(!/^[\x00-\xFF]+$/.test(q))return q;try{const ae=new TextDecoder(J,{fatal:!0}),se=(0,R.stringToBytes)(q);q=ae.decode(se),Q=!1}catch(ae){}}return q}function X(J){return Q&&/[\x80-\xff]/.test(J)&&(J=de("utf-8",J),Q&&(J=de("iso-8859-1",J))),J}function Ee(J){const q=[];let ae;const se=fe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ae=se.exec(J))!==null;){let[,pe,te,oe]=ae;if(pe=parseInt(pe,10),pe in q){if(pe===0)break;continue}q[pe]=[te,oe]}const ue=[];for(let pe=0;pe<q.length&&pe in q;++pe){let[te,oe]=q[pe];oe=le(oe),te&&(oe=unescape(oe),pe===0&&(oe=ne(oe))),ue.push(oe)}return ue.join("")}function le(J){if(J.startsWith('"')){const q=J.slice(1).split('\\"');for(let ae=0;ae<q.length;++ae){const se=q[ae].indexOf('"');se!==-1&&(q[ae]=q[ae].slice(0,se),q.length=ae+1),q[ae]=q[ae].replaceAll(/\\(.)/g,"$1")}J=q.join('"')}return J}function ne(J){const q=J.indexOf("'");if(q===-1)return J;const ae=J.slice(0,q),ue=J.slice(q+1).replace(/^[^']*'/,"");return de(ae,ue)}function re(J){return!J.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(J)?J:J.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(q,ae,se,ue){if(se==="q"||se==="Q")return ue=ue.replaceAll("_"," "),ue=ue.replaceAll(/=([0-9a-fA-F]{2})/g,function(pe,te){return String.fromCharCode(parseInt(te,16))}),de(ae,ue);try{ue=atob(ue)}catch(pe){}return de(ae,ue)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var R=H(1),O=H(20);const B=200,Q=206;function ve(le){const ne=le.response;return typeof ne!="string"?ne:(0,R.stringToBytes)(ne).buffer}class fe{constructor(ne,re={}){this.url=ne,this.isHttp=/^https?:/i.test(ne),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ne,re,J){const q={begin:ne,end:re};for(const ae in J)q[ae]=J[ae];return this.request(q)}requestFull(ne){return this.request(ne)}request(ne){const re=new XMLHttpRequest,J=this.currXhrId++,q=this.pendingRequests[J]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const ae in this.httpHeaders){const se=this.httpHeaders[ae];se!==void 0&&re.setRequestHeader(ae,se)}return this.isHttp&&"begin"in ne&&"end"in ne?(re.setRequestHeader("Range","bytes=".concat(ne.begin,"-").concat(ne.end-1)),q.expectedStatus=Q):q.expectedStatus=B,re.responseType="arraybuffer",ne.onError&&(re.onerror=function(ae){ne.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,J),re.onprogress=this.onProgress.bind(this,J),q.onHeadersReceived=ne.onHeadersReceived,q.onDone=ne.onDone,q.onError=ne.onError,q.onProgress=ne.onProgress,re.send(null),J}onProgress(ne,re){var q;const J=this.pendingRequests[ne];J&&((q=J.onProgress)==null||q.call(J,re))}onStateChange(ne,re){var pe,te,oe;const J=this.pendingRequests[ne];if(!J)return;const q=J.xhr;if(q.readyState>=2&&J.onHeadersReceived&&(J.onHeadersReceived(),delete J.onHeadersReceived),q.readyState!==4||!(ne in this.pendingRequests))return;if(delete this.pendingRequests[ne],q.status===0&&this.isHttp){(pe=J.onError)==null||pe.call(J,q.status);return}const ae=q.status||B;if(!(ae===B&&J.expectedStatus===Q)&&ae!==J.expectedStatus){(te=J.onError)==null||te.call(J,q.status);return}const ue=ve(q);if(ae===Q){const Ae=q.getResponseHeader("Content-Range"),ge=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ae);J.onDone({begin:parseInt(ge[1],10),chunk:ue})}else ue?J.onDone({begin:0,chunk:ue}):(oe=J.onError)==null||oe.call(J,q.status)}getRequestXhr(ne){return this.pendingRequests[ne].xhr}isPendingRequest(ne){return ne in this.pendingRequests}abortRequest(ne){const re=this.pendingRequests[ne].xhr;delete this.pendingRequests[ne],re.abort()}}class de{constructor(ne){this._source=ne,this._manager=new fe(ne.url,{httpHeaders:ne.httpHeaders,withCredentials:ne.withCredentials}),this._rangeChunkSize=ne.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ne){const re=this._rangeRequestReaders.indexOf(ne);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new X(this._manager,this._source),this._fullRequestReader}getRangeReader(ne,re){const J=new Ee(this._manager,ne,re);return J.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(J),J}cancelAllRequests(ne){var re;(re=this._fullRequestReader)==null||re.cancel(ne);for(const J of this._rangeRequestReaders.slice(0))J.cancel(ne)}}$.PDFNetworkStream=de;class X{constructor(ne,re){this._manager=ne;const J={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=ne.requestFull(J),this._headersReceivedCapability=new R.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ne=this._fullRequestId,re=this._manager.getRequestXhr(ne),J=se=>re.getResponseHeader(se),{allowRangeRequests:q,suggestedLength:ae}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:J,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});q&&(this._isRangeSupported=!0),this._contentLength=ae||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(J),this._isRangeSupported&&this._manager.abortRequest(ne),this._headersReceivedCapability.resolve()}_onDone(ne){if(ne&&(this._requests.length>0?this._requests.shift().resolve({value:ne.chunk,done:!1}):this._cachedChunks.push(ne.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ne){this._storedError=(0,O.createResponseStatusError)(ne,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ne){var re;(re=this.onProgress)==null||re.call(this,{loaded:ne.loaded,total:ne.lengthComputable?ne.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ne=new R.PromiseCapability;return this._requests.push(ne),ne.promise}cancel(ne){this._done=!0,this._headersReceivedCapability.reject(ne);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ee{constructor(ne,re,J){this._manager=ne;const q={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ne.url,this._requestId=ne.requestRange(re,J,q),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ne;(ne=this.onClosed)==null||ne.call(this,this)}_onDone(ne){const re=ne.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ne){this._storedError=(0,O.createResponseStatusError)(ne,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ne){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:ne.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const ne=new R.PromiseCapability;return this._requests.push(ne),ne.promise}cancel(ne){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var R=H(1),O=H(20);const B=/^file:\/\/\/[a-zA-Z]:\//;function Q(J){const q=require$$5,ae=q.parse(J);return ae.protocol==="file:"||ae.host?ae:/^[a-z]:[/\\]/i.test(J)?q.parse("file:///".concat(J)):(ae.host||(ae.protocol="file:"),ae)}class ve{constructor(q){this.source=q,this.url=Q(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q,ae;return(ae=(q=this._fullRequestReader)==null?void 0:q._loaded)!=null?ae:0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ne(this):new Ee(this),this._fullRequestReader}getRangeReader(q,ae){if(ae<=this._progressiveDataLength)return null;const se=this.isFsUrl?new re(this,q,ae):new le(this,q,ae);return this._rangeRequestReaders.push(se),se}cancelAllRequests(q){var ae;(ae=this._fullRequestReader)==null||ae.cancel(q);for(const se of this._rangeRequestReaders.slice(0))se.cancel(q)}}$.PDFNodeStream=ve;class fe{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const ae=q.source;this._contentLength=ae.length,this._loaded=0,this._filename=null,this._disableRange=ae.disableRange||!1,this._rangeChunkSize=ae.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ae.disableStream,this._isRangeSupported=!ae.disableRange,this._readableStream=null,this._readCapability=new R.PromiseCapability,this._headersCapability=new R.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(se=this.onProgress)==null||se.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",ae=>{this._error(ae)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new R.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class de{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new R.PromiseCapability;const ae=q.source;this._isStreamingSupported=!ae.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(se=this.onProgress)==null||se.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",ae=>{this._error(ae)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function X(J,q){return{protocol:J.protocol,auth:J.auth,host:J.hostname,port:J.port,path:J.path,method:"GET",headers:q}}class Ee extends fe{constructor(q){super(q);const ae=se=>{if(se.statusCode===404){const oe=new R.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=oe,this._headersCapability.reject(oe);return}this._headersCapability.resolve(),this._setReadableStream(se);const ue=oe=>this._readableStream.headers[oe.toLowerCase()],{allowRangeRequests:pe,suggestedLength:te}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pe,this._contentLength=te||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ue)};if(this._request=null,this._url.protocol==="http:"){const se=require$$5;this._request=se.request(X(this._url,q.httpHeaders),ae)}else{const se=require$$5;this._request=se.request(X(this._url,q.httpHeaders),ae)}this._request.on("error",se=>{this._storedError=se,this._headersCapability.reject(se)}),this._request.end()}}class le extends de{constructor(q,ae,se){super(q),this._httpHeaders={};for(const pe in q.httpHeaders){const te=q.httpHeaders[pe];te!==void 0&&(this._httpHeaders[pe]=te)}this._httpHeaders.Range="bytes=".concat(ae,"-").concat(se-1);const ue=pe=>{if(pe.statusCode===404){const te=new R.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=te;return}this._setReadableStream(pe)};if(this._request=null,this._url.protocol==="http:"){const pe=require$$5;this._request=pe.request(X(this._url,this._httpHeaders),ue)}else{const pe=require$$5;this._request=pe.request(X(this._url,this._httpHeaders),ue)}this._request.on("error",pe=>{this._storedError=pe}),this._request.end()}}class ne extends fe{constructor(q){super(q);let ae=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ae=ae.replace(/^\//,""));const se=require$$5;se.lstat(ae,(ue,pe)=>{if(ue){ue.code==="ENOENT"&&(ue=new R.MissingPDFException('Missing PDF "'.concat(ae,'".'))),this._storedError=ue,this._headersCapability.reject(ue);return}this._contentLength=pe.size,this._setReadableStream(se.createReadStream(ae)),this._headersCapability.resolve()})}}class re extends de{constructor(q,ae,se){super(q);let ue=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ue=ue.replace(/^\//,""));const pe=require$$5;this._setReadableStream(pe.createReadStream(ue,{start:ae,end:se-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var R=H(6),O=H(1);const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Q="http://www.w3.org/XML/1998/namespace",ve="http://www.w3.org/1999/xlink",fe=["butt","round","square"],de=["miter","round","bevel"],X=function(pe,te="",oe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!oe)return URL.createObjectURL(new Blob([pe],{type:te}));const Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ge="data:".concat(te,";base64,");for(let ee=0,_e=pe.length;ee<_e;ee+=3){const he=pe[ee]&255,Pe=pe[ee+1]&255,De=pe[ee+2]&255,be=he>>2,Te=(he&3)<<4|Pe>>4,ze=ee+1<_e?(Pe&15)<<2|De>>6:64,Qe=ee+2<_e?De&63:64;ge+=Ae[be]+Ae[Te]+Ae[ze]+Ae[Qe]}return ge},Ee=function(){const pe=new Uint8Array([137,80,78,71,13,10,26,10]),te=12,oe=new Int32Array(256);for(let De=0;De<256;De++){let be=De;for(let Te=0;Te<8;Te++)be=be&1?3988292384^be>>1&2147483647:be>>1&2147483647;oe[De]=be}function Ae(De,be,Te){let ze=-1;for(let Qe=be;Qe<Te;Qe++){const Fe=(ze^De[Qe])&255,nt=oe[Fe];ze=ze>>>8^nt}return ze^-1}function ge(De,be,Te,ze){let Qe=ze;const Fe=be.length;Te[Qe]=Fe>>24&255,Te[Qe+1]=Fe>>16&255,Te[Qe+2]=Fe>>8&255,Te[Qe+3]=Fe&255,Qe+=4,Te[Qe]=De.charCodeAt(0)&255,Te[Qe+1]=De.charCodeAt(1)&255,Te[Qe+2]=De.charCodeAt(2)&255,Te[Qe+3]=De.charCodeAt(3)&255,Qe+=4,Te.set(be,Qe),Qe+=be.length;const nt=Ae(Te,ze+4,Qe);Te[Qe]=nt>>24&255,Te[Qe+1]=nt>>16&255,Te[Qe+2]=nt>>8&255,Te[Qe+3]=nt&255}function ee(De,be,Te){let ze=1,Qe=0;for(let Fe=be;Fe<Te;++Fe)ze=(ze+(De[Fe]&255))%65521,Qe=(Qe+ze)%65521;return Qe<<16|ze}function _e(De){if(!O.isNodeJS)return he(De);try{const be=parseInt(process.versions.node)>=8?De:Buffer.from(De),Te=require$$5.deflateSync(be,{level:9});return Te instanceof Uint8Array?Te:new Uint8Array(Te)}catch(be){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+be)}return he(De)}function he(De){let be=De.length;const Te=65535,ze=Math.ceil(be/Te),Qe=new Uint8Array(2+be+ze*5+4);let Fe=0;Qe[Fe++]=120,Qe[Fe++]=156;let nt=0;for(;be>Te;)Qe[Fe++]=0,Qe[Fe++]=255,Qe[Fe++]=255,Qe[Fe++]=0,Qe[Fe++]=0,Qe.set(De.subarray(nt,nt+Te),Fe),Fe+=Te,nt+=Te,be-=Te;Qe[Fe++]=1,Qe[Fe++]=be&255,Qe[Fe++]=be>>8&255,Qe[Fe++]=~be&65535&255,Qe[Fe++]=(~be&65535)>>8&255,Qe.set(De.subarray(nt),Fe),Fe+=De.length-nt;const at=ee(De,0,De.length);return Qe[Fe++]=at>>24&255,Qe[Fe++]=at>>16&255,Qe[Fe++]=at>>8&255,Qe[Fe++]=at&255,Qe}function Pe(De,be,Te,ze){const Qe=De.width,Fe=De.height;let nt,at,ht;const St=De.data;switch(be){case O.ImageKind.GRAYSCALE_1BPP:at=0,nt=1,ht=Qe+7>>3;break;case O.ImageKind.RGB_24BPP:at=2,nt=8,ht=Qe*3;break;case O.ImageKind.RGBA_32BPP:at=6,nt=8,ht=Qe*4;break;default:throw new Error("invalid format")}const we=new Uint8Array((1+ht)*Fe);let W=0,Y=0;for(let Re=0;Re<Fe;++Re)we[W++]=0,we.set(St.subarray(Y,Y+ht),W),Y+=ht,W+=ht;if(be===O.ImageKind.GRAYSCALE_1BPP&&ze){W=0;for(let Re=0;Re<Fe;Re++){W++;for(let Xe=0;Xe<ht;Xe++)we[W++]^=255}}const G=new Uint8Array([Qe>>24&255,Qe>>16&255,Qe>>8&255,Qe&255,Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255,nt,at,0,0,0]),ie=_e(we),ce=pe.length+te*3+G.length+ie.length,ye=new Uint8Array(ce);let Ce=0;return ye.set(pe,Ce),Ce+=pe.length,ge("IHDR",G,ye,Ce),Ce+=te+G.length,ge("IDATA",ie,ye,Ce),Ce+=te+ie.length,ge("IEND",new Uint8Array(0),ye,Ce),X(ye,"image/png",Te)}return function(be,Te,ze){const Qe=be.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:be.kind;return Pe(be,Qe,Te,ze)}}();class le{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(te,oe){this.x=te,this.y=oe}}function ne(pe){let te=[];const oe=[];for(const Ae of pe){if(Ae.fn==="save"){te.push({fnId:92,fn:"group",items:[]}),oe.push(te),te=te.at(-1).items;continue}Ae.fn==="restore"?te=oe.pop():te.push(Ae)}return te}function re(pe){if(Number.isInteger(pe))return pe.toString();const te=pe.toFixed(10);let oe=te.length-1;if(te[oe]!=="0")return te;do oe--;while(te[oe]==="0");return te.substring(0,te[oe]==="."?oe:oe+1)}function J(pe){if(pe[4]===0&&pe[5]===0){if(pe[1]===0&&pe[2]===0)return pe[0]===1&&pe[3]===1?"":"scale(".concat(re(pe[0])," ").concat(re(pe[3]),")");if(pe[0]===pe[3]&&pe[1]===-pe[2]){const te=Math.acos(pe[0])*180/Math.PI;return"rotate(".concat(re(te),")")}}else if(pe[0]===1&&pe[1]===0&&pe[2]===0&&pe[3]===1)return"translate(".concat(re(pe[4])," ").concat(re(pe[5]),")");return"matrix(".concat(re(pe[0])," ").concat(re(pe[1])," ").concat(re(pe[2])," ").concat(re(pe[3])," ").concat(re(pe[4])," ")+"".concat(re(pe[5]),")")}let q=0,ae=0,se=0;class ue{constructor(te,oe,Ae=!1){(0,R.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new R.DOMSVGFactory,this.current=new le,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=te,this.objs=oe,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ae,this._operatorIdMapping=[];for(const ge in O.OPS)this._operatorIdMapping[O.OPS[ge]]=ge}getObject(te,oe=null){return typeof te=="string"?te.startsWith("g_")?this.commonObjs.get(te):this.objs.get(te):oe}save(){this.transformStack.push(this.transformMatrix);const te=this.current;this.extraStack.push(te),this.current=te.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(te){this.save(),this.executeOpTree(te),this.restore()}loadDependencies(te){const oe=te.fnArray,Ae=te.argsArray;for(let ge=0,ee=oe.length;ge<ee;ge++)if(oe[ge]===O.OPS.dependency)for(const _e of Ae[ge]){const he=_e.startsWith("g_")?this.commonObjs:this.objs,Pe=new Promise(De=>{he.get(_e,De)});this.current.dependencies.push(Pe)}return Promise.all(this.current.dependencies)}transform(te,oe,Ae,ge,ee,_e){const he=[te,oe,Ae,ge,ee,_e];this.transformMatrix=O.Util.transform(this.transformMatrix,he),this.tgrp=null}getSVG(te,oe){this.viewport=oe;const Ae=this._initialize(oe);return this.loadDependencies(te).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(te)),Ae))}convertOpList(te){const oe=this._operatorIdMapping,Ae=te.argsArray,ge=te.fnArray,ee=[];for(let _e=0,he=ge.length;_e<he;_e++){const Pe=ge[_e];ee.push({fnId:Pe,fn:oe[Pe],args:Ae[_e]})}return ne(ee)}executeOpTree(te){for(const oe of te){const Ae=oe.fn,ge=oe.fnId,ee=oe.args;switch(ge|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(ee);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(ee[0],ee[1]);break;case O.OPS.setFont:this.setFont(ee);break;case O.OPS.showText:this.showText(ee[0]);break;case O.OPS.showSpacedText:this.showText(ee[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(ee[0],ee[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(ee[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(ee[0]);break;case O.OPS.setHScale:this.setHScale(ee[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);break;case O.OPS.setTextRise:this.setTextRise(ee[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(ee[0]);break;case O.OPS.setLineWidth:this.setLineWidth(ee[0]);break;case O.OPS.setLineJoin:this.setLineJoin(ee[0]);break;case O.OPS.setLineCap:this.setLineCap(ee[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(ee[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(ee[0],ee[1],ee[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ee[0],ee[1],ee[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(ee);break;case O.OPS.setFillColorN:this.setFillColorN(ee);break;case O.OPS.shadingFill:this.shadingFill(ee[0]);break;case O.OPS.setDash:this.setDash(ee[0],ee[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(ee[0]);break;case O.OPS.setFlatness:this.setFlatness(ee[0]);break;case O.OPS.setGState:this.setGState(ee[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(ee[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ee[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ee[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ee[0],ee[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);break;case O.OPS.constructPath:this.constructPath(ee[0],ee[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(oe.items);break;default:(0,O.warn)("Unimplemented operator ".concat(Ae));break}}}setWordSpacing(te){this.current.wordSpacing=te}setCharSpacing(te){this.current.charSpacing=te}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(te,oe,Ae,ge,ee,_e){const he=this.current;he.textMatrix=he.lineMatrix=[te,oe,Ae,ge,ee,_e],he.textMatrixScale=Math.hypot(te,oe),he.x=he.lineX=0,he.y=he.lineY=0,he.xcoords=[],he.ycoords=[],he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size","".concat(re(he.fontSize),"px")),he.tspan.setAttributeNS(null,"y",re(-he.y)),he.txtElement=this.svgFactory.createElement("svg:text"),he.txtElement.append(he.tspan)}beginText(){const te=this.current;te.x=te.lineX=0,te.y=te.lineY=0,te.textMatrix=O.IDENTITY_MATRIX,te.lineMatrix=O.IDENTITY_MATRIX,te.textMatrixScale=1,te.tspan=this.svgFactory.createElement("svg:tspan"),te.txtElement=this.svgFactory.createElement("svg:text"),te.txtgrp=this.svgFactory.createElement("svg:g"),te.xcoords=[],te.ycoords=[]}moveText(te,oe){const Ae=this.current;Ae.x=Ae.lineX+=te,Ae.y=Ae.lineY+=oe,Ae.xcoords=[],Ae.ycoords=[],Ae.tspan=this.svgFactory.createElement("svg:tspan"),Ae.tspan.setAttributeNS(null,"font-family",Ae.fontFamily),Ae.tspan.setAttributeNS(null,"font-size","".concat(re(Ae.fontSize),"px")),Ae.tspan.setAttributeNS(null,"y",re(-Ae.y))}showText(te){const oe=this.current,Ae=oe.font,ge=oe.fontSize;if(ge===0)return;const ee=oe.fontSizeScale,_e=oe.charSpacing,he=oe.wordSpacing,Pe=oe.fontDirection,De=oe.textHScale*Pe,be=Ae.vertical,Te=be?1:-1,ze=Ae.defaultVMetrics,Qe=ge*oe.fontMatrix[0];let Fe=0;for(const ht of te){if(ht===null){Fe+=Pe*he;continue}else if(typeof ht=="number"){Fe+=Te*ht*ge/1e3;continue}const St=(ht.isSpace?he:0)+_e,we=ht.fontChar;let W,Y,G=ht.width;if(be){let ce;const ye=ht.vmetric||ze;ce=ht.vmetric?ye[1]:G*.5,ce=-ce*Qe;const Ce=ye[2]*Qe;G=ye?-ye[0]:G,W=ce/ee,Y=(Fe+Ce)/ee}else W=Fe/ee,Y=0;(ht.isInFont||Ae.missingFile)&&(oe.xcoords.push(oe.x+W),be&&oe.ycoords.push(-oe.y+Y),oe.tspan.textContent+=we);const ie=be?G*Qe-St*Pe:G*Qe+St*Pe;Fe+=ie}oe.tspan.setAttributeNS(null,"x",oe.xcoords.map(re).join(" ")),be?oe.tspan.setAttributeNS(null,"y",oe.ycoords.map(re).join(" ")):oe.tspan.setAttributeNS(null,"y",re(-oe.y)),be?oe.y-=Fe:oe.x+=Fe*De,oe.tspan.setAttributeNS(null,"font-family",oe.fontFamily),oe.tspan.setAttributeNS(null,"font-size","".concat(re(oe.fontSize),"px")),oe.fontStyle!==B.fontStyle&&oe.tspan.setAttributeNS(null,"font-style",oe.fontStyle),oe.fontWeight!==B.fontWeight&&oe.tspan.setAttributeNS(null,"font-weight",oe.fontWeight);const nt=oe.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(nt===O.TextRenderingMode.FILL||nt===O.TextRenderingMode.FILL_STROKE?(oe.fillColor!==B.fillColor&&oe.tspan.setAttributeNS(null,"fill",oe.fillColor),oe.fillAlpha<1&&oe.tspan.setAttributeNS(null,"fill-opacity",oe.fillAlpha)):oe.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?oe.tspan.setAttributeNS(null,"fill","transparent"):oe.tspan.setAttributeNS(null,"fill","none"),nt===O.TextRenderingMode.STROKE||nt===O.TextRenderingMode.FILL_STROKE){const ht=1/(oe.textMatrixScale||1);this._setStrokeAttributes(oe.tspan,ht)}let at=oe.textMatrix;oe.textRise!==0&&(at=at.slice(),at[5]+=oe.textRise),oe.txtElement.setAttributeNS(null,"transform","".concat(J(at)," scale(").concat(re(De),", -1)")),oe.txtElement.setAttributeNS(Q,"xml:space","preserve"),oe.txtElement.append(oe.tspan),oe.txtgrp.append(oe.txtElement),this._ensureTransformGroup().append(oe.txtElement)}setLeadingMoveText(te,oe){this.setLeading(-oe),this.moveText(te,oe)}addFontStyle(te){if(!te.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const oe=X(te.data,te.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(te.loadedName,'";')+" src: url(".concat(oe,"); }\n")}setFont(te){const oe=this.current,Ae=this.commonObjs.get(te[0]);let ge=te[1];oe.font=Ae,this.embedFonts&&!Ae.missingFile&&!this.embeddedFonts[Ae.loadedName]&&(this.addFontStyle(Ae),this.embeddedFonts[Ae.loadedName]=Ae),oe.fontMatrix=Ae.fontMatrix||O.FONT_IDENTITY_MATRIX;let ee="normal";Ae.black?ee="900":Ae.bold&&(ee="bold");const _e=Ae.italic?"italic":"normal";ge<0?(ge=-ge,oe.fontDirection=-1):oe.fontDirection=1,oe.fontSize=ge,oe.fontFamily=Ae.loadedName,oe.fontWeight=ee,oe.fontStyle=_e,oe.tspan=this.svgFactory.createElement("svg:tspan"),oe.tspan.setAttributeNS(null,"y",re(-oe.y)),oe.xcoords=[],oe.ycoords=[]}endText(){var oe;const te=this.current;te.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((oe=te.txtElement)!=null&&oe.hasChildNodes())&&(te.element=te.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(te){te>0&&(this.current.lineWidth=te)}setLineCap(te){this.current.lineCap=fe[te]}setLineJoin(te){this.current.lineJoin=de[te]}setMiterLimit(te){this.current.miterLimit=te}setStrokeAlpha(te){this.current.strokeAlpha=te}setStrokeRGBColor(te,oe,Ae){this.current.strokeColor=O.Util.makeHexColor(te,oe,Ae)}setFillAlpha(te){this.current.fillAlpha=te}setFillRGBColor(te,oe,Ae){this.current.fillColor=O.Util.makeHexColor(te,oe,Ae),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(te){this.current.strokeColor=this._makeColorN_Pattern(te)}setFillColorN(te){this.current.fillColor=this._makeColorN_Pattern(te)}shadingFill(te){const{width:oe,height:Ae}=this.viewport,ge=O.Util.inverseTransform(this.transformMatrix),[ee,_e,he,Pe]=O.Util.getAxialAlignedBoundingBox([0,0,oe,Ae],ge),De=this.svgFactory.createElement("svg:rect");De.setAttributeNS(null,"x",ee),De.setAttributeNS(null,"y",_e),De.setAttributeNS(null,"width",he-ee),De.setAttributeNS(null,"height",Pe-_e),De.setAttributeNS(null,"fill",this._makeShadingPattern(te)),this.current.fillAlpha<1&&De.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(De)}_makeColorN_Pattern(te){return te[0]==="TilingPattern"?this._makeTilingPattern(te):this._makeShadingPattern(te)}_makeTilingPattern(te){const oe=te[1],Ae=te[2],ge=te[3]||O.IDENTITY_MATRIX,[ee,_e,he,Pe]=te[4],De=te[5],be=te[6],Te=te[7],ze="shading".concat(se++),[Qe,Fe,nt,at]=O.Util.normalizeRect([...O.Util.applyTransform([ee,_e],ge),...O.Util.applyTransform([he,Pe],ge)]),[ht,St]=O.Util.singularValueDecompose2dScale(ge),we=De*ht,W=be*St,Y=this.svgFactory.createElement("svg:pattern");Y.setAttributeNS(null,"id",ze),Y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Y.setAttributeNS(null,"width",we),Y.setAttributeNS(null,"height",W),Y.setAttributeNS(null,"x","".concat(Qe)),Y.setAttributeNS(null,"y","".concat(Fe));const G=this.svg,ie=this.transformMatrix,ce=this.current.fillColor,ye=this.current.strokeColor,Ce=this.svgFactory.create(nt-Qe,at-Fe);if(this.svg=Ce,this.transformMatrix=ge,Te===2){const Re=O.Util.makeHexColor(...oe);this.current.fillColor=Re,this.current.strokeColor=Re}return this.executeOpTree(this.convertOpList(Ae)),this.svg=G,this.transformMatrix=ie,this.current.fillColor=ce,this.current.strokeColor=ye,Y.append(Ce.childNodes[0]),this.defs.append(Y),"url(#".concat(ze,")")}_makeShadingPattern(te){switch(typeof te=="string"&&(te=this.objs.get(te)),te[0]){case"RadialAxial":const oe="shading".concat(se++),Ae=te[3];let ge;switch(te[1]){case"axial":const ee=te[4],_e=te[5];ge=this.svgFactory.createElement("svg:linearGradient"),ge.setAttributeNS(null,"id",oe),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"x1",ee[0]),ge.setAttributeNS(null,"y1",ee[1]),ge.setAttributeNS(null,"x2",_e[0]),ge.setAttributeNS(null,"y2",_e[1]);break;case"radial":const he=te[4],Pe=te[5],De=te[6],be=te[7];ge=this.svgFactory.createElement("svg:radialGradient"),ge.setAttributeNS(null,"id",oe),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"cx",Pe[0]),ge.setAttributeNS(null,"cy",Pe[1]),ge.setAttributeNS(null,"r",be),ge.setAttributeNS(null,"fx",he[0]),ge.setAttributeNS(null,"fy",he[1]),ge.setAttributeNS(null,"fr",De);break;default:throw new Error("Unknown RadialAxial type: ".concat(te[1]))}for(const ee of Ae){const _e=this.svgFactory.createElement("svg:stop");_e.setAttributeNS(null,"offset",ee[0]),_e.setAttributeNS(null,"stop-color",ee[1]),ge.append(_e)}return this.defs.append(ge),"url(#".concat(oe,")");case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(te[0]))}}setDash(te,oe){this.current.dashArray=te,this.current.dashPhase=oe}constructPath(te,oe){const Ae=this.current;let ge=Ae.x,ee=Ae.y,_e=[],he=0;for(const Pe of te)switch(Pe|0){case O.OPS.rectangle:ge=oe[he++],ee=oe[he++];const De=oe[he++],be=oe[he++],Te=ge+De,ze=ee+be;_e.push("M",re(ge),re(ee),"L",re(Te),re(ee),"L",re(Te),re(ze),"L",re(ge),re(ze),"Z");break;case O.OPS.moveTo:ge=oe[he++],ee=oe[he++],_e.push("M",re(ge),re(ee));break;case O.OPS.lineTo:ge=oe[he++],ee=oe[he++],_e.push("L",re(ge),re(ee));break;case O.OPS.curveTo:ge=oe[he+4],ee=oe[he+5],_e.push("C",re(oe[he]),re(oe[he+1]),re(oe[he+2]),re(oe[he+3]),re(ge),re(ee)),he+=6;break;case O.OPS.curveTo2:_e.push("C",re(ge),re(ee),re(oe[he]),re(oe[he+1]),re(oe[he+2]),re(oe[he+3])),ge=oe[he+2],ee=oe[he+3],he+=4;break;case O.OPS.curveTo3:ge=oe[he+2],ee=oe[he+3],_e.push("C",re(oe[he]),re(oe[he+1]),re(ge),re(ee),re(ge),re(ee)),he+=4;break;case O.OPS.closePath:_e.push("Z");break}_e=_e.join(" "),Ae.path&&te.length>0&&te[0]!==O.OPS.rectangle&&te[0]!==O.OPS.moveTo?_e=Ae.path.getAttributeNS(null,"d")+_e:(Ae.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Ae.path)),Ae.path.setAttributeNS(null,"d",_e),Ae.path.setAttributeNS(null,"fill","none"),Ae.element=Ae.path,Ae.setCurrentPoint(ge,ee)}endPath(){const te=this.current;if(te.path=null,!this.pendingClip)return;if(!te.element){this.pendingClip=null;return}const oe="clippath".concat(q++),Ae=this.svgFactory.createElement("svg:clipPath");Ae.setAttributeNS(null,"id",oe),Ae.setAttributeNS(null,"transform",J(this.transformMatrix));const ge=te.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ge.setAttributeNS(null,"clip-rule","evenodd"):ge.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ae.append(ge),this.defs.append(Ae),te.activeClipUrl){te.clipGroup=null;for(const ee of this.extraStack)ee.clipGroup=null;Ae.setAttributeNS(null,"clip-path",te.activeClipUrl)}te.activeClipUrl="url(#".concat(oe,")"),this.tgrp=null}clip(te){this.pendingClip=te}closePath(){const te=this.current;if(te.path){const oe="".concat(te.path.getAttributeNS(null,"d"),"Z");te.path.setAttributeNS(null,"d",oe)}}setLeading(te){this.current.leading=-te}setTextRise(te){this.current.textRise=te}setTextRenderingMode(te){this.current.textRenderingMode=te}setHScale(te){this.current.textHScale=te/100}setRenderingIntent(te){}setFlatness(te){}setGState(te){for(const[oe,Ae]of te)switch(oe){case"LW":this.setLineWidth(Ae);break;case"LC":this.setLineCap(Ae);break;case"LJ":this.setLineJoin(Ae);break;case"ML":this.setMiterLimit(Ae);break;case"D":this.setDash(Ae[0],Ae[1]);break;case"RI":this.setRenderingIntent(Ae);break;case"FL":this.setFlatness(Ae);break;case"Font":this.setFont(Ae);break;case"CA":this.setStrokeAlpha(Ae);break;case"ca":this.setFillAlpha(Ae);break;default:(0,O.warn)("Unimplemented graphic state operator ".concat(oe));break}}fill(){const te=this.current;te.element&&(te.element.setAttributeNS(null,"fill",te.fillColor),te.element.setAttributeNS(null,"fill-opacity",te.fillAlpha),this.endPath())}stroke(){const te=this.current;te.element&&(this._setStrokeAttributes(te.element),te.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(te,oe=1){const Ae=this.current;let ge=Ae.dashArray;oe!==1&&ge.length>0&&(ge=ge.map(function(ee){return oe*ee})),te.setAttributeNS(null,"stroke",Ae.strokeColor),te.setAttributeNS(null,"stroke-opacity",Ae.strokeAlpha),te.setAttributeNS(null,"stroke-miterlimit",re(Ae.miterLimit)),te.setAttributeNS(null,"stroke-linecap",Ae.lineCap),te.setAttributeNS(null,"stroke-linejoin",Ae.lineJoin),te.setAttributeNS(null,"stroke-width",re(oe*Ae.lineWidth)+"px"),te.setAttributeNS(null,"stroke-dasharray",ge.map(re).join(" ")),te.setAttributeNS(null,"stroke-dashoffset",re(oe*Ae.dashPhase)+"px")}eoFill(){var te;(te=this.current.element)==null||te.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var te;(te=this.current.element)==null||te.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x","0"),te.setAttributeNS(null,"y","0"),te.setAttributeNS(null,"width","1px"),te.setAttributeNS(null,"height","1px"),te.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(te)}paintImageXObject(te){const oe=this.getObject(te);if(!oe){(0,O.warn)("Dependent image with object ID ".concat(te," is not ready yet"));return}this.paintInlineImageXObject(oe)}paintInlineImageXObject(te,oe){const Ae=te.width,ge=te.height,ee=Ee(te,this.forceDataSchema,!!oe),_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x","0"),_e.setAttributeNS(null,"y","0"),_e.setAttributeNS(null,"width",re(Ae)),_e.setAttributeNS(null,"height",re(ge)),this.current.element=_e,this.clip("nonzero");const he=this.svgFactory.createElement("svg:image");he.setAttributeNS(ve,"xlink:href",ee),he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y",re(-ge)),he.setAttributeNS(null,"width",re(Ae)+"px"),he.setAttributeNS(null,"height",re(ge)+"px"),he.setAttributeNS(null,"transform","scale(".concat(re(1/Ae)," ").concat(re(-1/ge),")")),oe?oe.append(he):this._ensureTransformGroup().append(he)}paintImageMaskXObject(te){const oe=this.getObject(te.data,te);if(oe.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Ae=this.current,ge=oe.width,ee=oe.height,_e=Ae.fillColor;Ae.maskId="mask".concat(ae++);const he=this.svgFactory.createElement("svg:mask");he.setAttributeNS(null,"id",Ae.maskId);const Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x","0"),Pe.setAttributeNS(null,"y","0"),Pe.setAttributeNS(null,"width",re(ge)),Pe.setAttributeNS(null,"height",re(ee)),Pe.setAttributeNS(null,"fill",_e),Pe.setAttributeNS(null,"mask","url(#".concat(Ae.maskId,")")),this.defs.append(he),this._ensureTransformGroup().append(Pe),this.paintInlineImageXObject(oe,he)}paintFormXObjectBegin(te,oe){if(Array.isArray(te)&&te.length===6&&this.transform(te[0],te[1],te[2],te[3],te[4],te[5]),oe){const Ae=oe[2]-oe[0],ge=oe[3]-oe[1],ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x",oe[0]),ee.setAttributeNS(null,"y",oe[1]),ee.setAttributeNS(null,"width",re(Ae)),ee.setAttributeNS(null,"height",re(ge)),this.current.element=ee,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(te){const oe=this.svgFactory.create(te.width,te.height),Ae=this.svgFactory.createElement("svg:defs");oe.append(Ae),this.defs=Ae;const ge=this.svgFactory.createElement("svg:g");return ge.setAttributeNS(null,"transform",J(te.transform)),oe.append(ge),this.svg=ge,oe}_ensureClipGroup(){if(!this.current.clipGroup){const te=this.svgFactory.createElement("svg:g");te.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(te),this.current.clipGroup=te}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",J(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=ue},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(O){const B=[],Q={items:B,styles:Object.create(null)};function ve(fe){var Ee;if(!fe)return;let de=null;const X=fe.name;if(X==="#text")de=fe.value;else if(H.shouldBuildText(X))(Ee=fe==null?void 0:fe.attributes)!=null&&Ee.textContent?de=fe.attributes.textContent:fe.value&&(de=fe.value);else return;if(de!==null&&B.push({str:de}),!!fe.children)for(const le of fe.children)ve(le)}return ve(O),Q}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=J,$.updateTextLayer=q;var R=H(1),O=H(6);const B=1e5,Q=30,ve=.8,fe=new Map;function de(ae,se){let ue;if(se&&R.FeatureTest.isOffscreenCanvasSupported)ue=new OffscreenCanvas(ae,ae).getContext("2d",{alpha:!1});else{const pe=document.createElement("canvas");pe.width=pe.height=ae,ue=pe.getContext("2d",{alpha:!1})}return ue}function X(ae,se){const ue=fe.get(ae);if(ue)return ue;const pe=de(Q,se);pe.font="".concat(Q,"px ").concat(ae);const te=pe.measureText("");let oe=te.fontBoundingBoxAscent,Ae=Math.abs(te.fontBoundingBoxDescent);if(oe){const ee=oe/(oe+Ae);return fe.set(ae,ee),pe.canvas.width=pe.canvas.height=0,ee}pe.strokeStyle="red",pe.clearRect(0,0,Q,Q),pe.strokeText("g",0,0);let ge=pe.getImageData(0,0,Q,Q).data;Ae=0;for(let ee=ge.length-1-3;ee>=0;ee-=4)if(ge[ee]>0){Ae=Math.ceil(ee/4/Q);break}pe.clearRect(0,0,Q,Q),pe.strokeText("A",0,Q),ge=pe.getImageData(0,0,Q,Q).data,oe=0;for(let ee=0,_e=ge.length;ee<_e;ee+=4)if(ge[ee]>0){oe=Q-Math.floor(ee/4/Q);break}if(pe.canvas.width=pe.canvas.height=0,oe){const ee=oe/(oe+Ae);return fe.set(ae,ee),ee}return fe.set(ae,ve),ve}function Ee(ae,se,ue){const pe=document.createElement("span"),te={angle:0,canvasWidth:0,hasText:se.str!=="",hasEOL:se.hasEOL,fontSize:0};ae._textDivs.push(pe);const oe=R.Util.transform(ae._transform,se.transform);let Ae=Math.atan2(oe[1],oe[0]);const ge=ue[se.fontName];ge.vertical&&(Ae+=Math.PI/2);const ee=Math.hypot(oe[2],oe[3]),_e=ee*X(ge.fontFamily,ae._isOffscreenCanvasSupported);let he,Pe;Ae===0?(he=oe[4],Pe=oe[5]-_e):(he=oe[4]+_e*Math.sin(Ae),Pe=oe[5]-_e*Math.cos(Ae));const De="calc(var(--scale-factor)*",be=pe.style;ae._container===ae._rootContainer?(be.left="".concat((100*he/ae._pageWidth).toFixed(2),"%"),be.top="".concat((100*Pe/ae._pageHeight).toFixed(2),"%")):(be.left="".concat(De).concat(he.toFixed(2),"px)"),be.top="".concat(De).concat(Pe.toFixed(2),"px)")),be.fontSize="".concat(De).concat(ee.toFixed(2),"px)"),be.fontFamily=ge.fontFamily,te.fontSize=ee,pe.setAttribute("role","presentation"),pe.textContent=se.str,pe.dir=se.dir,ae._fontInspectorEnabled&&(pe.dataset.fontName=se.fontName),Ae!==0&&(te.angle=Ae*(180/Math.PI));let Te=!1;if(se.str.length>1)Te=!0;else if(se.str!==" "&&se.transform[0]!==se.transform[3]){const ze=Math.abs(se.transform[0]),Qe=Math.abs(se.transform[3]);ze!==Qe&&Math.max(ze,Qe)/Math.min(ze,Qe)>1.5&&(Te=!0)}Te&&(te.canvasWidth=ge.vertical?se.height:se.width),ae._textDivProperties.set(pe,te),ae._isReadableStream&&ae._layoutText(pe)}function le(ae){const{div:se,scale:ue,properties:pe,ctx:te,prevFontSize:oe,prevFontFamily:Ae}=ae,{style:ge}=se;let ee="";if(pe.canvasWidth!==0&&pe.hasText){const{fontFamily:_e}=ge,{canvasWidth:he,fontSize:Pe}=pe;(oe!==Pe||Ae!==_e)&&(te.font="".concat(Pe*ue,"px ").concat(_e),ae.prevFontSize=Pe,ae.prevFontFamily=_e);const{width:De}=te.measureText(se.textContent);De>0&&(ee="scaleX(".concat(he*ue/De,")"))}pe.angle!==0&&(ee="rotate(".concat(pe.angle,"deg) ").concat(ee)),ee.length>0&&(ge.transform=ee)}function ne(ae){if(ae._canceled)return;const se=ae._textDivs,ue=ae._capability;if(se.length>B){ue.resolve();return}if(!ae._isReadableStream)for(const te of se)ae._layoutText(te);ue.resolve()}class re{constructor({textContentSource:se,container:ue,viewport:pe,textDivs:te,textDivProperties:oe,textContentItemsStr:Ae,isOffscreenCanvasSupported:ge}){var De;this._textContentSource=se,this._isReadableStream=se instanceof ReadableStream,this._container=this._rootContainer=ue,this._textDivs=te||[],this._textContentItemsStr=Ae||[],this._isOffscreenCanvasSupported=ge,this._fontInspectorEnabled=!!((De=globalThis.FontInspector)!=null&&De.enabled),this._reader=null,this._textDivProperties=oe||new WeakMap,this._canceled=!1,this._capability=new R.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:de(0,ge)};const{pageWidth:ee,pageHeight:_e,pageX:he,pageY:Pe}=pe.rawDims;this._transform=[1,0,0,-1,-he,Pe+_e],this._pageWidth=ee,this._pageHeight=_e,(0,O.setLayerDimensions)(ue,pe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new R.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new R.AbortException("TextLayer task cancelled."))}_processItems(se,ue){for(const pe of se){if(pe.str===void 0){if(pe.type==="beginMarkedContentProps"||pe.type==="beginMarkedContent"){const te=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pe.id!==null&&this._container.setAttribute("id","".concat(pe.id)),te.append(this._container)}else pe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pe.str),Ee(this,pe,ue)}}_layoutText(se){const ue=this._layoutTextParams.properties=this._textDivProperties.get(se);if(this._layoutTextParams.div=se,le(this._layoutTextParams),ue.hasText&&this._container.append(se),ue.hasEOL){const pe=document.createElement("br");pe.setAttribute("role","presentation"),this._container.append(pe)}}_render(){const se=new R.PromiseCapability;let ue=Object.create(null);if(this._isReadableStream){const pe=()=>{this._reader.read().then(({value:te,done:oe})=>{if(oe){se.resolve();return}Object.assign(ue,te.styles),this._processItems(te.items,ue),pe()},se.reject)};this._reader=this._textContentSource.getReader(),pe()}else if(this._textContentSource){const{items:pe,styles:te}=this._textContentSource;this._processItems(pe,te),se.resolve()}else throw new Error('No "textContentSource" parameter specified.');se.promise.then(()=>{ue=null,ne(this)},this._capability.reject)}}$.TextLayerRenderTask=re;function J(ae){!ae.textContentSource&&(ae.textContent||ae.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ae.textContentSource=ae.textContent||ae.textContentStream);const{container:se,viewport:ue}=ae,pe=getComputedStyle(se),te=pe.getPropertyValue("visibility"),oe=parseFloat(pe.getPropertyValue("--scale-factor"));te==="visible"&&(!oe||Math.abs(oe-ue.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Ae=new re(ae);return Ae._render(),Ae}function q({container:ae,viewport:se,textDivs:ue,textDivProperties:pe,isOffscreenCanvasSupported:te,mustRotate:oe=!0,mustRescale:Ae=!0}){if(oe&&(0,O.setLayerDimensions)(ae,{rotation:se.rotation}),Ae){const ge=de(0,te),_e={prevFontSize:null,prevFontFamily:null,div:null,scale:se.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ge};for(const he of ue)_e.properties=pe.get(he),_e.div=he,le(_e)}}},(A,$,H)=>{var X,Ee,le,ne,re,J,q,ae,se,ue,pe,Ii,oe,Zr,ge,Di,_e,Oi;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var R=H(1),O=H(4),B=H(28),Q=H(33),ve=H(6),fe=H(34);const Pe=class Pe{constructor({uiManager:be,pageIndex:Te,div:ze,accessibilityManager:Qe,annotationLayer:Fe,viewport:nt,l10n:at}){$e(this,pe);$e(this,oe);$e(this,ge);$e(this,_e);$e(this,X,void 0);$e(this,Ee,!1);$e(this,le,null);$e(this,ne,this.pointerup.bind(this));$e(this,re,this.pointerdown.bind(this));$e(this,J,new Map);$e(this,q,!1);$e(this,ae,!1);$e(this,se,!1);$e(this,ue,void 0);const ht=[B.FreeTextEditor,Q.InkEditor,fe.StampEditor];if(!Pe._initialized){Pe._initialized=!0;for(const St of ht)St.initialize(at)}be.registerEditorTypes(ht),rt(this,ue,be),this.pageIndex=Te,this.div=ze,rt(this,X,Qe),rt(this,le,Fe),this.viewport=nt,V(this,ue).addLayer(this)}get isEmpty(){return V(this,J).size===0}updateToolbar(be){V(this,ue).updateToolbar(be)}updateMode(be=V(this,ue).getMode()){He(this,_e,Oi).call(this),be===R.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),be!==R.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",be===R.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",be===R.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",be===R.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(be){if(!be&&V(this,ue).getMode()!==R.AnnotationEditorType.INK)return;if(!be){for(const ze of V(this,J).values())if(ze.isEmpty()){ze.setInBackground();return}}He(this,oe,Zr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(be){V(this,ue).setEditingState(be)}addCommands(be){V(this,ue).addCommands(be)}enable(){this.div.style.pointerEvents="auto";const be=new Set;for(const ze of V(this,J).values())ze.enableEditing(),ze.annotationElementId&&be.add(ze.annotationElementId);if(!V(this,le))return;const Te=V(this,le).getEditableAnnotations();for(const ze of Te){if(ze.hide(),V(this,ue).isDeletedAnnotationElement(ze.data.id)||be.has(ze.data.id))continue;const Qe=this.deserialize(ze);Qe&&(this.addOrRebuild(Qe),Qe.enableEditing())}}disable(){var Te;rt(this,se,!0),this.div.style.pointerEvents="none";const be=new Set;for(const ze of V(this,J).values()){if(ze.disableEditing(),!ze.annotationElementId||ze.serialize()!==null){be.add(ze.annotationElementId);continue}(Te=this.getEditableAnnotation(ze.annotationElementId))==null||Te.show(),ze.remove()}if(V(this,le)){const ze=V(this,le).getEditableAnnotations();for(const Qe of ze){const{id:Fe}=Qe.data;be.has(Fe)||V(this,ue).isDeletedAnnotationElement(Fe)||Qe.show()}}He(this,_e,Oi).call(this),this.isEmpty&&(this.div.hidden=!0),rt(this,se,!1)}getEditableAnnotation(be){var Te;return((Te=V(this,le))==null?void 0:Te.getEditableAnnotation(be))||null}setActiveEditor(be){V(this,ue).getActive()!==be&&V(this,ue).setActiveEditor(be)}enableClick(){this.div.addEventListener("pointerdown",V(this,re)),this.div.addEventListener("pointerup",V(this,ne))}disableClick(){this.div.removeEventListener("pointerdown",V(this,re)),this.div.removeEventListener("pointerup",V(this,ne))}attach(be){V(this,J).set(be.id,be);const{annotationElementId:Te}=be;Te&&V(this,ue).isDeletedAnnotationElement(Te)&&V(this,ue).removeDeletedAnnotationElement(be)}detach(be){var Te;V(this,J).delete(be.id),(Te=V(this,X))==null||Te.removePointerInTextLayer(be.contentDiv),!V(this,se)&&be.annotationElementId&&V(this,ue).addDeletedAnnotationElement(be)}remove(be){this.detach(be),V(this,ue).removeEditor(be),be.div.contains(document.activeElement)&&setTimeout(()=>{V(this,ue).focusMainContainer()},0),be.div.remove(),be.isAttachedToDOM=!1,V(this,ae)||this.addInkEditorIfNeeded(!1)}changeParent(be){var Te;be.parent!==this&&(be.annotationElementId&&(V(this,ue).addDeletedAnnotationElement(be.annotationElementId),O.AnnotationEditor.deleteAnnotationElement(be),be.annotationElementId=null),this.attach(be),(Te=be.parent)==null||Te.detach(be),be.setParent(this),be.div&&be.isAttachedToDOM&&(be.div.remove(),this.div.append(be.div)))}add(be){if(this.changeParent(be),V(this,ue).addEditor(be),this.attach(be),!be.isAttachedToDOM){const Te=be.render();this.div.append(Te),be.isAttachedToDOM=!0}be.fixAndSetPosition(),be.onceAdded(),V(this,ue).addToAnnotationStorage(be)}moveEditorInDOM(be){var ze;if(!be.isAttachedToDOM)return;const{activeElement:Te}=document;be.div.contains(Te)&&(be._focusEventsAllowed=!1,setTimeout(()=>{be.div.contains(document.activeElement)?be._focusEventsAllowed=!0:(be.div.addEventListener("focusin",()=>{be._focusEventsAllowed=!0},{once:!0}),Te.focus())},0)),be._structTreeParentId=(ze=V(this,X))==null?void 0:ze.moveElementInDOM(this.div,be.div,be.contentDiv,!0)}addOrRebuild(be){be.needsToBeRebuilt()?be.rebuild():this.add(be)}addUndoableEditor(be){const Te=()=>be._uiManager.rebuild(be),ze=()=>{be.remove()};this.addCommands({cmd:Te,undo:ze,mustExec:!1})}getNextId(){return V(this,ue).getId()}pasteEditor(be,Te){V(this,ue).updateToolbar(be),V(this,ue).updateMode(be);const{offsetX:ze,offsetY:Qe}=He(this,ge,Di).call(this),Fe=this.getNextId(),nt=He(this,pe,Ii).call(this,{parent:this,id:Fe,x:ze,y:Qe,uiManager:V(this,ue),isCentered:!0,...Te});nt&&this.add(nt)}deserialize(be){var Te;switch((Te=be.annotationType)!=null?Te:be.annotationEditorType){case R.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(be,this,V(this,ue));case R.AnnotationEditorType.INK:return Q.InkEditor.deserialize(be,this,V(this,ue));case R.AnnotationEditorType.STAMP:return fe.StampEditor.deserialize(be,this,V(this,ue))}return null}addNewEditor(){He(this,oe,Zr).call(this,He(this,ge,Di).call(this),!0)}setSelected(be){V(this,ue).setSelected(be)}toggleSelected(be){V(this,ue).toggleSelected(be)}isSelected(be){return V(this,ue).isSelected(be)}unselect(be){V(this,ue).unselect(be)}pointerup(be){const{isMac:Te}=R.FeatureTest.platform;if(!(be.button!==0||be.ctrlKey&&Te)&&be.target===this.div&&V(this,q)){if(rt(this,q,!1),!V(this,Ee)){rt(this,Ee,!0);return}if(V(this,ue).getMode()===R.AnnotationEditorType.STAMP){V(this,ue).unselectAll();return}He(this,oe,Zr).call(this,be,!1)}}pointerdown(be){if(V(this,q)){rt(this,q,!1);return}const{isMac:Te}=R.FeatureTest.platform;if(be.button!==0||be.ctrlKey&&Te||be.target!==this.div)return;rt(this,q,!0);const ze=V(this,ue).getActive();rt(this,Ee,!ze||ze.isEmpty())}findNewParent(be,Te,ze){const Qe=V(this,ue).findParent(Te,ze);return Qe===null||Qe===this?!1:(Qe.changeParent(be),!0)}destroy(){var be,Te;((be=V(this,ue).getActive())==null?void 0:be.parent)===this&&(V(this,ue).commitOrRemove(),V(this,ue).setActiveEditor(null));for(const ze of V(this,J).values())(Te=V(this,X))==null||Te.removePointerInTextLayer(ze.contentDiv),ze.setParent(null),ze.isAttachedToDOM=!1,ze.div.remove();this.div=null,V(this,J).clear(),V(this,ue).removeLayer(this)}render({viewport:be}){this.viewport=be,(0,ve.setLayerDimensions)(this.div,be);for(const Te of V(this,ue).getEditors(this.pageIndex))this.add(Te);this.updateMode()}update({viewport:be}){V(this,ue).commitOrRemove(),this.viewport=be,(0,ve.setLayerDimensions)(this.div,{rotation:be.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:be,pageHeight:Te}=this.viewport.rawDims;return[be,Te]}};X=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,J=new WeakMap,q=new WeakMap,ae=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakSet,Ii=function(be){switch(V(this,ue).getMode()){case R.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(be);case R.AnnotationEditorType.INK:return new Q.InkEditor(be);case R.AnnotationEditorType.STAMP:return new fe.StampEditor(be)}return null},oe=new WeakSet,Zr=function(be,Te){const ze=this.getNextId(),Qe=He(this,pe,Ii).call(this,{parent:this,id:ze,x:be.offsetX,y:be.offsetY,uiManager:V(this,ue),isCentered:Te});return Qe&&this.add(Qe),Qe},ge=new WeakSet,Di=function(){const{x:be,y:Te,width:ze,height:Qe}=this.div.getBoundingClientRect(),Fe=Math.max(0,be),nt=Math.max(0,Te),at=Math.min(window.innerWidth,be+ze),ht=Math.min(window.innerHeight,Te+Qe),St=(Fe+at)/2-be,we=(nt+ht)/2-Te,[W,Y]=this.viewport.rotation%180===0?[St,we]:[we,St];return{offsetX:W,offsetY:Y}},_e=new WeakSet,Oi=function(){rt(this,ae,!0);for(const be of V(this,J).values())be.isEmpty()&&be.remove();rt(this,ae,!1)},Dn(Pe,"_initialized",!1);let de=Pe;$.AnnotationEditorLayer=de},(A,$,H)=>{var fe,de,X,Ee,le,ne,re,J,q,ae,ka,ue,Ma,te,xa,Ae,Ir,ee,Ni,he,Ta,De,Bi;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var R=H(1),O=H(5),B=H(4),Q=H(29);const Te=class Te extends B.AnnotationEditor{constructor(Fe){super({...Fe,name:"freeTextEditor"});$e(this,ae);$e(this,ue);$e(this,te);$e(this,Ae);$e(this,ee);$e(this,he);$e(this,De);$e(this,fe,this.editorDivBlur.bind(this));$e(this,de,this.editorDivFocus.bind(this));$e(this,X,this.editorDivInput.bind(this));$e(this,Ee,this.editorDivKeydown.bind(this));$e(this,le,void 0);$e(this,ne,"");$e(this,re,"".concat(this.id,"-editor"));$e(this,J,void 0);$e(this,q,null);rt(this,le,Fe.color||Te._defaultColor||B.AnnotationEditor._defaultLineColor),rt(this,J,Fe.fontSize||Te._defaultFontSize)}static get _keyboardManager(){const Fe=Te.prototype,nt=St=>St.isEmpty(),at=O.AnnotationEditorUIManager.TRANSLATE_SMALL,ht=O.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new O.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Fe.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Fe.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Fe._translateEmpty,{args:[-at,0],checker:nt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Fe._translateEmpty,{args:[-ht,0],checker:nt}],[["ArrowRight","mac+ArrowRight"],Fe._translateEmpty,{args:[at,0],checker:nt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Fe._translateEmpty,{args:[ht,0],checker:nt}],[["ArrowUp","mac+ArrowUp"],Fe._translateEmpty,{args:[0,-at],checker:nt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Fe._translateEmpty,{args:[0,-ht],checker:nt}],[["ArrowDown","mac+ArrowDown"],Fe._translateEmpty,{args:[0,at],checker:nt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Fe._translateEmpty,{args:[0,ht],checker:nt}]]))}static initialize(Fe){B.AnnotationEditor.initialize(Fe,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const nt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(nt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Fe,nt){switch(Fe){case R.AnnotationEditorParamsType.FREETEXT_SIZE:Te._defaultFontSize=nt;break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:Te._defaultColor=nt;break}}updateParams(Fe,nt){switch(Fe){case R.AnnotationEditorParamsType.FREETEXT_SIZE:He(this,ae,ka).call(this,nt);break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:He(this,ue,Ma).call(this,nt);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,Te._defaultFontSize],[R.AnnotationEditorParamsType.FREETEXT_COLOR,Te._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,J)],[R.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,le)]]}_translateEmpty(Fe,nt){this._uiManager.translateSelectedEditors(Fe,nt,!0)}getInitialTranslation(){const Fe=this.parentScale;return[-Te._internalPadding*Fe,-(Te._internalPadding+V(this,J))*Fe]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(R.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,Ee)),this.editorDiv.addEventListener("focus",V(this,de)),this.editorDiv.addEventListener("blur",V(this,fe)),this.editorDiv.addEventListener("input",V(this,X)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,Ee)),this.editorDiv.removeEventListener("focus",V(this,de)),this.editorDiv.removeEventListener("blur",V(this,fe)),this.editorDiv.removeEventListener("input",V(this,X)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Fe){this._focusEventsAllowed&&(super.focusin(Fe),Fe.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Fe;if(this.width){He(this,De,Bi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Fe=this._initialOptions)!=null&&Fe.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Fe=V(this,ne),nt=rt(this,ne,He(this,te,xa).call(this).trimEnd());if(Fe===nt)return;const at=ht=>{if(rt(this,ne,ht),!ht){this.remove();return}He(this,ee,Ni).call(this),this._uiManager.rebuild(this),He(this,Ae,Ir).call(this)};this.addCommands({cmd:()=>{at(nt)},undo:()=>{at(Fe)},mustExec:!1}),He(this,Ae,Ir).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Fe){this.enterInEditMode()}keydown(Fe){Fe.target===this.div&&Fe.key==="Enter"&&(this.enterInEditMode(),Fe.preventDefault())}editorDivKeydown(Fe){Te._keyboardManager.exec(this,Fe)}editorDivFocus(Fe){this.isEditing=!0}editorDivBlur(Fe){this.isEditing=!1}editorDivInput(Fe){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Fe,nt;this.width&&(Fe=this.x,nt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,re)),this.enableEditing(),B.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ht=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("aria-label",ht)}),B.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ht=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("default-content",ht)}),this.editorDiv.contentEditable=!0;const{style:at}=this.editorDiv;if(at.fontSize="calc(".concat(V(this,J),"px * var(--scale-factor))"),at.color=V(this,le),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ht,St]=this.parentDimensions;if(this.annotationElementId){const{position:we}=V(this,q);let[W,Y]=this.getInitialTranslation();[W,Y]=this.pageTranslationToScreen(W,Y);const[G,ie]=this.pageDimensions,[ce,ye]=this.pageTranslation;let Ce,Re;switch(this.rotation){case 0:Ce=Fe+(we[0]-ce)/G,Re=nt+this.height-(we[1]-ye)/ie;break;case 90:Ce=Fe+(we[0]-ce)/G,Re=nt-(we[1]-ye)/ie,[W,Y]=[Y,-W];break;case 180:Ce=Fe-this.width+(we[0]-ce)/G,Re=nt-(we[1]-ye)/ie,[W,Y]=[-W,-Y];break;case 270:Ce=Fe+(we[0]-ce-this.height*ie)/G,Re=nt+(we[1]-ye-this.width*G)/ie,[W,Y]=[-Y,W];break}this.setAt(Ce*ht,Re*St,W,Y)}else this.setAt(Fe*ht,nt*St,this.width*ht,this.height*St);He(this,ee,Ni).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Fe,nt,at){let ht=null;if(Fe instanceof Q.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:we,fontColor:W},rect:Y,rotation:G,id:ie},textContent:ce,textPosition:ye,parent:{page:{pageNumber:Ce}}}=Fe;if(!ce||ce.length===0)return null;ht=Fe={annotationType:R.AnnotationEditorType.FREETEXT,color:Array.from(W),fontSize:we,value:ce.join("\n"),position:ye,pageIndex:Ce-1,rect:Y,rotation:G,id:ie,deleted:!1}}const St=super.deserialize(Fe,nt,at);return rt(St,J,Fe.fontSize),rt(St,le,R.Util.makeHexColor(...Fe.color)),rt(St,ne,Fe.value),St.annotationElementId=Fe.id||null,rt(St,q,ht),St}serialize(Fe=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const nt=Te._internalPadding*this.parentScale,at=this.getRect(nt,nt),ht=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,le)),St={annotationType:R.AnnotationEditorType.FREETEXT,color:ht,fontSize:V(this,J),value:V(this,ne),pageIndex:this.pageIndex,rect:at,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Fe?St:this.annotationElementId&&!He(this,he,Ta).call(this,St)?null:(St.id=this.annotationElementId,St)}};fe=new WeakMap,de=new WeakMap,X=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,J=new WeakMap,q=new WeakMap,ae=new WeakSet,ka=function(Fe){const nt=ht=>{this.editorDiv.style.fontSize="calc(".concat(ht,"px * var(--scale-factor))"),this.translate(0,-(ht-V(this,J))*this.parentScale),rt(this,J,ht),He(this,Ae,Ir).call(this)},at=V(this,J);this.addCommands({cmd:()=>{nt(Fe)},undo:()=>{nt(at)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ue=new WeakSet,Ma=function(Fe){const nt=V(this,le);this.addCommands({cmd:()=>{rt(this,le,this.editorDiv.style.color=Fe)},undo:()=>{rt(this,le,this.editorDiv.style.color=nt)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},te=new WeakSet,xa=function(){const Fe=this.editorDiv.getElementsByTagName("div");if(Fe.length===0)return this.editorDiv.innerText;const nt=[];for(const at of Fe)nt.push(at.innerText.replace(/\r\n?|\n/,""));return nt.join("\n")},Ae=new WeakSet,Ir=function(){const[Fe,nt]=this.parentDimensions;let at;if(this.isAttachedToDOM)at=this.div.getBoundingClientRect();else{const{currentLayer:ht,div:St}=this,we=St.style.display;St.style.display="hidden",ht.div.append(this.div),at=St.getBoundingClientRect(),St.remove(),St.style.display=we}this.rotation%180===this.parentRotation%180?(this.width=at.width/Fe,this.height=at.height/nt):(this.width=at.height/Fe,this.height=at.width/nt),this.fixAndSetPosition()},ee=new WeakSet,Ni=function(){if(this.editorDiv.replaceChildren(),!!V(this,ne))for(const Fe of V(this,ne).split("\n")){const nt=document.createElement("div");nt.append(Fe?document.createTextNode(Fe):document.createElement("br")),this.editorDiv.append(nt)}},he=new WeakSet,Ta=function(Fe){const{value:nt,fontSize:at,color:ht,rect:St,pageIndex:we}=V(this,q);return Fe.value!==nt||Fe.fontSize!==at||Fe.rect.some((W,Y)=>Math.abs(W-St[Y])>=1)||Fe.color.some((W,Y)=>W!==ht[Y])||Fe.pageIndex!==we},De=new WeakSet,Bi=function(Fe=!1){if(!this.annotationElementId)return;if(He(this,Ae,Ir).call(this),!Fe&&(this.width===0||this.height===0)){setTimeout(()=>He(this,De,Bi).call(this,!0),0);return}const nt=Te._internalPadding*this.parentScale;V(this,q).rect=this.getRect(nt,nt)},Dn(Te,"_freeTextDefaultContent",""),Dn(Te,"_internalPadding",0),Dn(Te,"_defaultColor",null),Dn(Te,"_defaultFontSize",10),Dn(Te,"_type","freetext");let ve=Te;$.FreeTextEditor=ve},(A,$,H)=>{var Y,ie,_r,ye,$a,Re,Xe,Ge,tt,ct,vt,ut,ft,gt,pt,Ft,ot,Ue,We,lt,At,Ct,qt,Ra,Xt,Jr,nn,ji,an,zi,Ve,Ne,_t,dt,gn,Pn,Ke,Hi,Ot,xt,Bt,zt,Fa,wt,Vi;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var R=H(1),O=H(6),B=H(3),Q=H(30),ve=H(31),fe=H(32);const de=1e3,X=9,Ee=new WeakSet;function le(Nt){return{width:Nt[2]-Nt[0],height:Nt[3]-Nt[1]}}class ne{static create(Me){switch(Me.data.annotationType){case R.AnnotationType.LINK:return new J(Me);case R.AnnotationType.TEXT:return new q(Me);case R.AnnotationType.WIDGET:switch(Me.data.fieldType){case"Tx":return new se(Me);case"Btn":return Me.data.radioButton?new te(Me):Me.data.checkBox?new pe(Me):new oe(Me);case"Ch":return new Ae(Me);case"Sig":return new ue(Me)}return new ae(Me);case R.AnnotationType.POPUP:return new ge(Me);case R.AnnotationType.FREETEXT:return new _e(Me);case R.AnnotationType.LINE:return new he(Me);case R.AnnotationType.SQUARE:return new Pe(Me);case R.AnnotationType.CIRCLE:return new De(Me);case R.AnnotationType.POLYLINE:return new be(Me);case R.AnnotationType.CARET:return new ze(Me);case R.AnnotationType.INK:return new Qe(Me);case R.AnnotationType.POLYGON:return new Te(Me);case R.AnnotationType.HIGHLIGHT:return new Fe(Me);case R.AnnotationType.UNDERLINE:return new nt(Me);case R.AnnotationType.SQUIGGLY:return new at(Me);case R.AnnotationType.STRIKEOUT:return new ht(Me);case R.AnnotationType.STAMP:return new St(Me);case R.AnnotationType.FILEATTACHMENT:return new we(Me);default:return new re(Me)}}}const G=class G{constructor(Me,{isRenderable:U=!1,ignoreBorder:Se=!1,createQuadrilaterals:xe=!1}={}){$e(this,Y,!1);this.isRenderable=U,this.data=Me.data,this.layer=Me.layer,this.linkService=Me.linkService,this.downloadManager=Me.downloadManager,this.imageResourcesPath=Me.imageResourcesPath,this.renderForms=Me.renderForms,this.svgFactory=Me.svgFactory,this.annotationStorage=Me.annotationStorage,this.enableScripting=Me.enableScripting,this.hasJSActions=Me.hasJSActions,this._fieldObjects=Me.fieldObjects,this.parent=Me.parent,U&&(this.container=this._createContainer(Se)),xe&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Me,contentsObj:U,richText:Se}){return!!(Me!=null&&Me.str||U!=null&&U.str||Se!=null&&Se.str)}get hasPopupData(){return G._hasPopupData(this.data)}_createContainer(Me){const{data:U,parent:{page:Se,viewport:xe}}=this,Be=document.createElement("section");Be.setAttribute("data-annotation-id",U.id),this instanceof ae||(Be.tabIndex=de),Be.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Be.setAttribute("aria-haspopup","dialog"),U.noRotate&&Be.classList.add("norotate");const{pageWidth:qe,pageHeight:it,pageX:Et,pageY:Tt}=xe.rawDims;if(!U.rect||this instanceof ge){const{rotation:Wt}=U;return!U.hasOwnCanvas&&Wt!==0&&this.setRotation(Wt,Be),Be}const{width:$t,height:en}=le(U.rect),It=R.Util.normalizeRect([U.rect[0],Se.view[3]-U.rect[1]+Se.view[1],U.rect[2],Se.view[3]-U.rect[3]+Se.view[1]]);if(!Me&&U.borderStyle.width>0){Be.style.borderWidth="".concat(U.borderStyle.width,"px");const Wt=U.borderStyle.horizontalCornerRadius,ln=U.borderStyle.verticalCornerRadius;if(Wt>0||ln>0){const An="calc(".concat(Wt,"px * var(--scale-factor)) / calc(").concat(ln,"px * var(--scale-factor))");Be.style.borderRadius=An}else if(this instanceof te){const An="calc(".concat($t,"px * var(--scale-factor)) / calc(").concat(en,"px * var(--scale-factor))");Be.style.borderRadius=An}switch(U.borderStyle.style){case R.AnnotationBorderStyleType.SOLID:Be.style.borderStyle="solid";break;case R.AnnotationBorderStyleType.DASHED:Be.style.borderStyle="dashed";break;case R.AnnotationBorderStyleType.BEVELED:(0,R.warn)("Unimplemented border style: beveled");break;case R.AnnotationBorderStyleType.INSET:(0,R.warn)("Unimplemented border style: inset");break;case R.AnnotationBorderStyleType.UNDERLINE:Be.style.borderBottomStyle="solid";break}const vn=U.borderColor||null;vn?(rt(this,Y,!0),Be.style.borderColor=R.Util.makeHexColor(vn[0]|0,vn[1]|0,vn[2]|0)):Be.style.borderWidth=0}Be.style.left="".concat(100*(It[0]-Et)/qe,"%"),Be.style.top="".concat(100*(It[1]-Tt)/it,"%");const{rotation:Dt}=U;return U.hasOwnCanvas||Dt===0?(Be.style.width="".concat(100*$t/qe,"%"),Be.style.height="".concat(100*en/it,"%")):this.setRotation(Dt,Be),Be}setRotation(Me,U=this.container){if(!this.data.rect)return;const{pageWidth:Se,pageHeight:xe}=this.parent.viewport.rawDims,{width:Be,height:qe}=le(this.data.rect);let it,Et;Me%180===0?(it=100*Be/Se,Et=100*qe/xe):(it=100*qe/Se,Et=100*Be/xe),U.style.width="".concat(it,"%"),U.style.height="".concat(Et,"%"),U.setAttribute("data-main-rotation",(360-Me)%360)}get _commonActions(){const Me=(U,Se,xe)=>{const Be=xe.detail[U],qe=Be[0],it=Be.slice(1);xe.target.style[Se]=Q.ColorConverters["".concat(qe,"_HTML")](it),this.annotationStorage.setValue(this.data.id,{[Se]:Q.ColorConverters["".concat(qe,"_rgb")](it)})};return(0,R.shadow)(this,"_commonActions",{display:U=>{const{display:Se}=U.detail,xe=Se%2===1;this.container.style.visibility=xe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xe,noPrint:Se===1||Se===2})},print:U=>{this.annotationStorage.setValue(this.data.id,{noPrint:!U.detail.print})},hidden:U=>{const{hidden:Se}=U.detail;this.container.style.visibility=Se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Se,noView:Se})},focus:U=>{setTimeout(()=>U.target.focus({preventScroll:!1}),0)},userName:U=>{U.target.title=U.detail.userName},readonly:U=>{U.target.disabled=U.detail.readonly},required:U=>{this._setRequired(U.target,U.detail.required)},bgColor:U=>{Me("bgColor","backgroundColor",U)},fillColor:U=>{Me("fillColor","backgroundColor",U)},fgColor:U=>{Me("fgColor","color",U)},textColor:U=>{Me("textColor","color",U)},borderColor:U=>{Me("borderColor","borderColor",U)},strokeColor:U=>{Me("strokeColor","borderColor",U)},rotation:U=>{const Se=U.detail.rotation;this.setRotation(Se),this.annotationStorage.setValue(this.data.id,{rotation:Se})}})}_dispatchEventFromSandbox(Me,U){const Se=this._commonActions;for(const xe of Object.keys(U.detail)){const Be=Me[xe]||Se[xe];Be==null||Be(U)}}_setDefaultPropertiesFromJS(Me){if(!this.enableScripting)return;const U=this.annotationStorage.getRawValue(this.data.id);if(!U)return;const Se=this._commonActions;for(const[xe,Be]of Object.entries(U)){const qe=Se[xe];if(qe){const it={detail:{[xe]:Be},target:Me};qe(it),delete U[xe]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Me}=this.data;if(!Me)return;const[U,Se,xe,Be]=this.data.rect;if(Me.length===1){const[,{x:ln,y:vn},{x:An,y:Gn}]=Me[0];if(xe===ln&&Be===vn&&U===An&&Se===Gn)return}const{style:qe}=this.container;let it;if(V(this,Y)){const{borderColor:ln,borderWidth:vn}=qe;qe.borderWidth=0,it=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(ln,'" stroke-width="').concat(vn,'">')],this.container.classList.add("hasBorder")}const Et=xe-U,Tt=Be-Se,{svgFactory:$t}=this,en=$t.createElement("svg");en.classList.add("quadrilateralsContainer"),en.setAttribute("width",0),en.setAttribute("height",0);const It=$t.createElement("defs");en.append(It);const Dt=$t.createElement("clipPath"),Wt="clippath_".concat(this.data.id);Dt.setAttribute("id",Wt),Dt.setAttribute("clipPathUnits","objectBoundingBox"),It.append(Dt);for(const[,{x:ln,y:vn},{x:An,y:Gn}]of Me){const On=$t.createElement("rect"),tr=(An-U)/Et,rr=(Be-vn)/Tt,cr=(ln-An)/Et,Nr=(vn-Gn)/Tt;On.setAttribute("x",tr),On.setAttribute("y",rr),On.setAttribute("width",cr),On.setAttribute("height",Nr),Dt.append(On),it==null||it.push('<rect vector-effect="non-scaling-stroke" x="'.concat(tr,'" y="').concat(rr,'" width="').concat(cr,'" height="').concat(Nr,'"/>'))}V(this,Y)&&(it.push("</g></svg>')"),qe.backgroundImage=it.join("")),this.container.append(en),this.container.style.clipPath="url(#".concat(Wt,")")}_createPopup(){const{container:Me,data:U}=this;Me.setAttribute("aria-haspopup","dialog");const Se=new ge({data:{color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,parentRect:U.rect,borderStyle:0,id:"popup_".concat(U.id),rotation:U.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Se.render())}render(){(0,R.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Me,U=null){const Se=[];if(this._fieldObjects){const xe=this._fieldObjects[Me];if(xe)for(const{page:Be,id:qe,exportValues:it}of xe){if(Be===-1||qe===U)continue;const Et=typeof it=="string"?it:null,Tt=document.querySelector('[data-element-id="'.concat(qe,'"]'));if(Tt&&!Ee.has(Tt)){(0,R.warn)("_getElementsByName - element not allowed: ".concat(qe));continue}Se.push({id:qe,exportValue:Et,domElement:Tt})}return Se}for(const xe of document.getElementsByName(Me)){const{exportValue:Be}=xe,qe=xe.getAttribute("data-element-id");qe!==U&&Ee.has(xe)&&Se.push({id:qe,exportValue:Be,domElement:xe})}return Se}show(){var Me;this.container&&(this.container.hidden=!1),(Me=this.popup)==null||Me.maybeShow()}hide(){var Me;this.container&&(this.container.hidden=!0),(Me=this.popup)==null||Me.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Me=this.getElementsToTriggerPopup();if(Array.isArray(Me))for(const U of Me)U.classList.add("highlightArea");else Me.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Me,data:{id:U}}=this;this.container.addEventListener("dblclick",()=>{var Se;(Se=this.linkService.eventBus)==null||Se.dispatch("switchannotationeditormode",{source:this,mode:Me,editId:U})})}};Y=new WeakMap;let re=G;class J extends re{constructor(U,Se=null){super(U,{isRenderable:!0,ignoreBorder:!!(Se!=null&&Se.ignoreBorder),createQuadrilaterals:!0});$e(this,ie);$e(this,ye);this.isTooltipOnly=U.data.isTooltipOnly}render(){const{data:U,linkService:Se}=this,xe=document.createElement("a");xe.setAttribute("data-element-id",U.id);let Be=!1;return U.url?(Se.addLinkAttributes(xe,U.url,U.newWindow),Be=!0):U.action?(this._bindNamedAction(xe,U.action),Be=!0):U.attachment?(this._bindAttachment(xe,U.attachment),Be=!0):U.setOCGState?(He(this,ye,$a).call(this,xe,U.setOCGState),Be=!0):U.dest?(this._bindLink(xe,U.dest),Be=!0):(U.actions&&(U.actions.Action||U.actions["Mouse Up"]||U.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xe,U),Be=!0),U.resetForm?(this._bindResetFormAction(xe,U.resetForm),Be=!0):this.isTooltipOnly&&!Be&&(this._bindLink(xe,""),Be=!0)),this.container.classList.add("linkAnnotation"),Be&&this.container.append(xe),this.container}_bindLink(U,Se){U.href=this.linkService.getDestinationHash(Se),U.onclick=()=>(Se&&this.linkService.goToDestination(Se),!1),(Se||Se==="")&&He(this,ie,_r).call(this)}_bindNamedAction(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeNamedAction(Se),!1),He(this,ie,_r).call(this)}_bindAttachment(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>{var xe;return(xe=this.downloadManager)==null||xe.openOrDownloadData(this.container,Se.content,Se.filename),!1},He(this,ie,_r).call(this)}_bindJSAction(U,Se){U.href=this.linkService.getAnchorUrl("");const xe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Be of Object.keys(Se.actions)){const qe=xe.get(Be);qe&&(U[qe]=()=>{var it;return(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Se.id,name:Be}}),!1})}U.onclick||(U.onclick=()=>!1),He(this,ie,_r).call(this)}_bindResetFormAction(U,Se){const xe=U.onclick;if(xe||(U.href=this.linkService.getAnchorUrl("")),He(this,ie,_r).call(this),!this._fieldObjects){(0,R.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xe||(U.onclick=()=>!1);return}U.onclick=()=>{var en;xe==null||xe();const{fields:Be,refs:qe,include:it}=Se,Et=[];if(Be.length!==0||qe.length!==0){const It=new Set(qe);for(const Dt of Be){const Wt=this._fieldObjects[Dt]||[];for(const{id:ln}of Wt)It.add(ln)}for(const Dt of Object.values(this._fieldObjects))for(const Wt of Dt)It.has(Wt.id)===it&&Et.push(Wt)}else for(const It of Object.values(this._fieldObjects))Et.push(...It);const Tt=this.annotationStorage,$t=[];for(const It of Et){const{id:Dt}=It;switch($t.push(Dt),It.type){case"text":{const ln=It.defaultValue||"";Tt.setValue(Dt,{value:ln});break}case"checkbox":case"radiobutton":{const ln=It.defaultValue===It.exportValues;Tt.setValue(Dt,{value:ln});break}case"combobox":case"listbox":{const ln=It.defaultValue||"";Tt.setValue(Dt,{value:ln});break}default:continue}const Wt=document.querySelector('[data-element-id="'.concat(Dt,'"]'));if(Wt){if(!Ee.has(Wt)){(0,R.warn)("_bindResetFormAction - element not allowed: ".concat(Dt));continue}}else continue;Wt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((en=this.linkService.eventBus)==null||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$t,name:"ResetForm"}})),!1}}}ie=new WeakSet,_r=function(){this.container.setAttribute("data-internal-link","")},ye=new WeakSet,$a=function(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeSetOCGState(Se),!1),He(this,ie,_r).call(this)};class q extends re{constructor(Me){super(Me,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Me=document.createElement("img");return Me.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Me.alt="[{{type}} Annotation]",Me.dataset.l10nId="text_annotation_type",Me.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Me),this.container}}class ae extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Me){var U;this.data.hasOwnCanvas&&(((U=Me.previousSibling)==null?void 0:U.nodeName)==="CANVAS"&&(Me.previousSibling.hidden=!0),Me.hidden=!1)}_getKeyModifier(Me){const{isWin:U,isMac:Se}=R.FeatureTest.platform;return U&&Me.ctrlKey||Se&&Me.metaKey}_setEventListener(Me,U,Se,xe,Be){Se.includes("mouse")?Me.addEventListener(Se,qe=>{var it;(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xe,value:Be(qe),shift:qe.shiftKey,modifier:this._getKeyModifier(qe)}})}):Me.addEventListener(Se,qe=>{var it;if(Se==="blur"){if(!U.focused||!qe.relatedTarget)return;U.focused=!1}else if(Se==="focus"){if(U.focused)return;U.focused=!0}Be&&((it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xe,value:Be(qe)}}))})}_setEventListeners(Me,U,Se,xe){var Be,qe,it;for(const[Et,Tt]of Se)(Tt==="Action"||(Be=this.data.actions)!=null&&Be[Tt])&&((Tt==="Focus"||Tt==="Blur")&&(U||(U={focused:!1})),this._setEventListener(Me,U,Et,Tt,xe),Tt==="Focus"&&!((qe=this.data.actions)!=null&&qe.Blur)?this._setEventListener(Me,U,"blur","Blur",null):Tt==="Blur"&&!((it=this.data.actions)!=null&&it.Focus)&&this._setEventListener(Me,U,"focus","Focus",null))}_setBackgroundColor(Me){const U=this.data.backgroundColor||null;Me.style.backgroundColor=U===null?"transparent":R.Util.makeHexColor(U[0],U[1],U[2])}_setTextStyle(Me){const U=["left","center","right"],{fontColor:Se}=this.data.defaultAppearanceData,xe=this.data.defaultAppearanceData.fontSize||X,Be=Me.style;let qe;const it=2,Et=Tt=>Math.round(10*Tt)/10;if(this.data.multiLine){const Tt=Math.abs(this.data.rect[3]-this.data.rect[1]-it),$t=Math.round(Tt/(R.LINE_FACTOR*xe))||1,en=Tt/$t;qe=Math.min(xe,Et(en/R.LINE_FACTOR))}else{const Tt=Math.abs(this.data.rect[3]-this.data.rect[1]-it);qe=Math.min(xe,Et(Tt/R.LINE_FACTOR))}Be.fontSize="calc(".concat(qe,"px * var(--scale-factor))"),Be.color=R.Util.makeHexColor(Se[0],Se[1],Se[2]),this.data.textAlignment!==null&&(Be.textAlign=U[this.data.textAlignment])}_setRequired(Me,U){U?Me.setAttribute("required",!0):Me.removeAttribute("required"),Me.setAttribute("aria-required",U)}}class se extends ae{constructor(Me){const U=Me.renderForms||!Me.data.hasAppearance&&!!Me.data.fieldValue;super(Me,{isRenderable:U})}setPropertyOnSiblings(Me,U,Se,xe){const Be=this.annotationStorage;for(const qe of this._getElementsByName(Me.name,Me.id))qe.domElement&&(qe.domElement[U]=Se),Be.setValue(qe.id,{[xe]:Se})}render(){var xe,Be;const Me=this.annotationStorage,U=this.data.id;this.container.classList.add("textWidgetAnnotation");let Se=null;if(this.renderForms){const qe=Me.getValue(U,{value:this.data.fieldValue});let it=qe.value||"";const Et=Me.getValue(U,{charLimit:this.data.maxLen}).charLimit;Et&&it.length>Et&&(it=it.slice(0,Et));let Tt=qe.formattedValue||((xe=this.data.textContent)==null?void 0:xe.join("\n"))||null;Tt&&this.data.comb&&(Tt=Tt.replaceAll(/\s+/g,""));const $t={userValue:it,formattedValue:Tt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Se=document.createElement("textarea"),Se.textContent=Tt!=null?Tt:it,this.data.doNotScroll&&(Se.style.overflowY="hidden")):(Se=document.createElement("input"),Se.type="text",Se.setAttribute("value",Tt!=null?Tt:it),this.data.doNotScroll&&(Se.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Se.hidden=!0),Ee.add(Se),Se.setAttribute("data-element-id",U),Se.disabled=this.data.readOnly,Se.name=this.data.fieldName,Se.tabIndex=de,this._setRequired(Se,this.data.required),Et&&(Se.maxLength=Et),Se.addEventListener("input",It=>{Me.setValue(U,{value:It.target.value}),this.setPropertyOnSiblings(Se,"value",It.target.value,"value"),$t.formattedValue=null}),Se.addEventListener("resetform",It=>{var Wt;const Dt=(Wt=this.data.defaultFieldValue)!=null?Wt:"";Se.value=$t.userValue=Dt,$t.formattedValue=null});let en=It=>{const{formattedValue:Dt}=$t;Dt!=null&&(It.target.value=Dt),It.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Se.addEventListener("focus",Dt=>{if($t.focused)return;const{target:Wt}=Dt;$t.userValue&&(Wt.value=$t.userValue),$t.lastCommittedValue=Wt.value,$t.commitKey=1,$t.focused=!0}),Se.addEventListener("updatefromsandbox",Dt=>{this.showElementAndHideCanvas(Dt.target);const Wt={value(ln){var vn;$t.userValue=(vn=ln.detail.value)!=null?vn:"",Me.setValue(U,{value:$t.userValue.toString()}),ln.target.value=$t.userValue},formattedValue(ln){const{formattedValue:vn}=ln.detail;$t.formattedValue=vn,vn!=null&&ln.target!==document.activeElement&&(ln.target.value=vn),Me.setValue(U,{formattedValue:vn})},selRange(ln){ln.target.setSelectionRange(...ln.detail.selRange)},charLimit:ln=>{var On;const{charLimit:vn}=ln.detail,{target:An}=ln;if(vn===0){An.removeAttribute("maxLength");return}An.setAttribute("maxLength",vn);let Gn=$t.userValue;!Gn||Gn.length<=vn||(Gn=Gn.slice(0,vn),An.value=$t.userValue=Gn,Me.setValue(U,{value:Gn}),(On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Gn,willCommit:!0,commitKey:1,selStart:An.selectionStart,selEnd:An.selectionEnd}}))}};this._dispatchEventFromSandbox(Wt,Dt)}),Se.addEventListener("keydown",Dt=>{var vn;$t.commitKey=1;let Wt=-1;if(Dt.key==="Escape"?Wt=0:Dt.key==="Enter"&&!this.data.multiLine?Wt=2:Dt.key==="Tab"&&($t.commitKey=3),Wt===-1)return;const{value:ln}=Dt.target;$t.lastCommittedValue!==ln&&($t.lastCommittedValue=ln,$t.userValue=ln,(vn=this.linkService.eventBus)==null||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:ln,willCommit:!0,commitKey:Wt,selStart:Dt.target.selectionStart,selEnd:Dt.target.selectionEnd}}))});const It=en;en=null,Se.addEventListener("blur",Dt=>{var ln;if(!$t.focused||!Dt.relatedTarget)return;$t.focused=!1;const{value:Wt}=Dt.target;$t.userValue=Wt,$t.lastCommittedValue!==Wt&&((ln=this.linkService.eventBus)==null||ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Wt,willCommit:!0,commitKey:$t.commitKey,selStart:Dt.target.selectionStart,selEnd:Dt.target.selectionEnd}})),It(Dt)}),(Be=this.data.actions)!=null&&Be.Keystroke&&Se.addEventListener("beforeinput",Dt=>{var rr;$t.lastCommittedValue=null;const{data:Wt,target:ln}=Dt,{value:vn,selectionStart:An,selectionEnd:Gn}=ln;let On=An,tr=Gn;switch(Dt.inputType){case"deleteWordBackward":{const cr=vn.substring(0,An).match(/\w*[^\w]*$/);cr&&(On-=cr[0].length);break}case"deleteWordForward":{const cr=vn.substring(An).match(/^[^\w]*\w*/);cr&&(tr+=cr[0].length);break}case"deleteContentBackward":An===Gn&&(On-=1);break;case"deleteContentForward":An===Gn&&(tr+=1);break}Dt.preventDefault(),(rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:vn,change:Wt||"",willCommit:!1,selStart:On,selEnd:tr}})}),this._setEventListeners(Se,$t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dt=>Dt.target.value)}if(en&&Se.addEventListener("blur",en),this.data.comb){const Dt=(this.data.rect[2]-this.data.rect[0])/Et;Se.classList.add("comb"),Se.style.letterSpacing="calc(".concat(Dt,"px * var(--scale-factor) - 1ch)")}}else Se=document.createElement("div"),Se.textContent=this.data.fieldValue,Se.style.verticalAlign="middle",Se.style.display="table-cell";return this._setTextStyle(Se),this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class ue extends ae{constructor(Me){super(Me,{isRenderable:!!Me.data.hasOwnCanvas})}}class pe extends ae{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){const Me=this.annotationStorage,U=this.data,Se=U.id;let xe=Me.getValue(Se,{value:U.exportValue===U.fieldValue}).value;typeof xe=="string"&&(xe=xe!=="Off",Me.setValue(Se,{value:xe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Be=document.createElement("input");return Ee.add(Be),Be.setAttribute("data-element-id",Se),Be.disabled=U.readOnly,this._setRequired(Be,this.data.required),Be.type="checkbox",Be.name=U.fieldName,xe&&Be.setAttribute("checked",!0),Be.setAttribute("exportValue",U.exportValue),Be.tabIndex=de,Be.addEventListener("change",qe=>{const{name:it,checked:Et}=qe.target;for(const Tt of this._getElementsByName(it,Se)){const $t=Et&&Tt.exportValue===U.exportValue;Tt.domElement&&(Tt.domElement.checked=$t),Me.setValue(Tt.id,{value:$t})}Me.setValue(Se,{value:Et})}),Be.addEventListener("resetform",qe=>{const it=U.defaultFieldValue||"Off";qe.target.checked=it===U.exportValue}),this.enableScripting&&this.hasJSActions&&(Be.addEventListener("updatefromsandbox",qe=>{const it={value(Et){Et.target.checked=Et.detail.value!=="Off",Me.setValue(Se,{value:Et.target.checked})}};this._dispatchEventFromSandbox(it,qe)}),this._setEventListeners(Be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],qe=>qe.target.checked)),this._setBackgroundColor(Be),this._setDefaultPropertiesFromJS(Be),this.container.append(Be),this.container}}class te extends ae{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Me=this.annotationStorage,U=this.data,Se=U.id;let xe=Me.getValue(Se,{value:U.fieldValue===U.buttonValue}).value;typeof xe=="string"&&(xe=xe!==U.buttonValue,Me.setValue(Se,{value:xe}));const Be=document.createElement("input");if(Ee.add(Be),Be.setAttribute("data-element-id",Se),Be.disabled=U.readOnly,this._setRequired(Be,this.data.required),Be.type="radio",Be.name=U.fieldName,xe&&Be.setAttribute("checked",!0),Be.tabIndex=de,Be.addEventListener("change",qe=>{const{name:it,checked:Et}=qe.target;for(const Tt of this._getElementsByName(it,Se))Me.setValue(Tt.id,{value:!1});Me.setValue(Se,{value:Et})}),Be.addEventListener("resetform",qe=>{const it=U.defaultFieldValue;qe.target.checked=it!=null&&it===U.buttonValue}),this.enableScripting&&this.hasJSActions){const qe=U.buttonValue;Be.addEventListener("updatefromsandbox",it=>{const Et={value:Tt=>{const $t=qe===Tt.detail.value;for(const en of this._getElementsByName(Tt.target.name)){const It=$t&&en.id===Se;en.domElement&&(en.domElement.checked=It),Me.setValue(en.id,{value:It})}}};this._dispatchEventFromSandbox(Et,it)}),this._setEventListeners(Be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],it=>it.target.checked)}return this._setBackgroundColor(Be),this._setDefaultPropertiesFromJS(Be),this.container.append(Be),this.container}}class oe extends J{constructor(Me){super(Me,{ignoreBorder:Me.data.hasAppearance})}render(){const Me=super.render();Me.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Me.title=this.data.alternativeText);const U=Me.lastChild;return this.enableScripting&&this.hasJSActions&&U&&(this._setDefaultPropertiesFromJS(U),U.addEventListener("updatefromsandbox",Se=>{this._dispatchEventFromSandbox({},Se)})),Me}}class Ae extends ae{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Me=this.annotationStorage,U=this.data.id,Se=Me.getValue(U,{value:this.data.fieldValue}),xe=document.createElement("select");Ee.add(xe),xe.setAttribute("data-element-id",U),xe.disabled=this.data.readOnly,this._setRequired(xe,this.data.required),xe.name=this.data.fieldName,xe.tabIndex=de;let Be=this.data.combo&&this.data.options.length>0;this.data.combo||(xe.size=this.data.options.length,this.data.multiSelect&&(xe.multiple=!0)),xe.addEventListener("resetform",$t=>{const en=this.data.defaultFieldValue;for(const It of xe.options)It.selected=It.value===en});for(const $t of this.data.options){const en=document.createElement("option");en.textContent=$t.displayValue,en.value=$t.exportValue,Se.value.includes($t.exportValue)&&(en.setAttribute("selected",!0),Be=!1),xe.append(en)}let qe=null;if(Be){const $t=document.createElement("option");$t.value=" ",$t.setAttribute("hidden",!0),$t.setAttribute("selected",!0),xe.prepend($t),qe=()=>{$t.remove(),xe.removeEventListener("input",qe),qe=null},xe.addEventListener("input",qe)}const it=$t=>{const en=$t?"value":"textContent",{options:It,multiple:Dt}=xe;return Dt?Array.prototype.filter.call(It,Wt=>Wt.selected).map(Wt=>Wt[en]):It.selectedIndex===-1?null:It[It.selectedIndex][en]};let Et=it(!1);const Tt=$t=>{const en=$t.target.options;return Array.prototype.map.call(en,It=>({displayValue:It.textContent,exportValue:It.value}))};return this.enableScripting&&this.hasJSActions?(xe.addEventListener("updatefromsandbox",$t=>{const en={value(It){qe==null||qe();const Dt=It.detail.value,Wt=new Set(Array.isArray(Dt)?Dt:[Dt]);for(const ln of xe.options)ln.selected=Wt.has(ln.value);Me.setValue(U,{value:it(!0)}),Et=it(!1)},multipleSelection(It){xe.multiple=!0},remove(It){const Dt=xe.options,Wt=It.detail.remove;Dt[Wt].selected=!1,xe.remove(Wt),Dt.length>0&&Array.prototype.findIndex.call(Dt,vn=>vn.selected)===-1&&(Dt[0].selected=!0),Me.setValue(U,{value:it(!0),items:Tt(It)}),Et=it(!1)},clear(It){for(;xe.length!==0;)xe.remove(0);Me.setValue(U,{value:null,items:[]}),Et=it(!1)},insert(It){const{index:Dt,displayValue:Wt,exportValue:ln}=It.detail.insert,vn=xe.children[Dt],An=document.createElement("option");An.textContent=Wt,An.value=ln,vn?vn.before(An):xe.append(An),Me.setValue(U,{value:it(!0),items:Tt(It)}),Et=it(!1)},items(It){const{items:Dt}=It.detail;for(;xe.length!==0;)xe.remove(0);for(const Wt of Dt){const{displayValue:ln,exportValue:vn}=Wt,An=document.createElement("option");An.textContent=ln,An.value=vn,xe.append(An)}xe.options.length>0&&(xe.options[0].selected=!0),Me.setValue(U,{value:it(!0),items:Tt(It)}),Et=it(!1)},indices(It){const Dt=new Set(It.detail.indices);for(const Wt of It.target.options)Wt.selected=Dt.has(Wt.index);Me.setValue(U,{value:it(!0)}),Et=it(!1)},editable(It){It.target.disabled=!It.detail.editable}};this._dispatchEventFromSandbox(en,$t)}),xe.addEventListener("input",$t=>{var It;const en=it(!0);Me.setValue(U,{value:en}),$t.preventDefault(),(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Et,changeEx:en,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xe,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],$t=>$t.target.value)):xe.addEventListener("input",function($t){Me.setValue(U,{value:it(!0)})}),this.data.combo&&this._setTextStyle(xe),this._setBackgroundColor(xe),this._setDefaultPropertiesFromJS(xe),this.container.append(xe),this.container}}class ge extends re{constructor(Me){const{data:U,elements:Se}=Me;super(Me,{isRenderable:re._hasPopupData(U)}),this.elements=Se}render(){this.container.classList.add("popupAnnotation");const Me=new ee({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),U=[];for(const Se of this.elements)Se.popup=Me,U.push(Se.data.id),Se.addHighlightArea();return this.container.setAttribute("aria-controls",U.map(Se=>"".concat(R.AnnotationPrefix).concat(Se)).join(",")),this.container}}class ee{constructor({container:Me,color:U,elements:Se,titleObj:xe,modificationDate:Be,contentsObj:qe,richText:it,parent:Et,rect:Tt,parentRect:$t,open:en}){$e(this,qt);$e(this,Xt);$e(this,nn);$e(this,an);$e(this,Re,null);$e(this,Xe,He(this,qt,Ra).bind(this));$e(this,Ge,He(this,an,zi).bind(this));$e(this,tt,He(this,nn,ji).bind(this));$e(this,ct,He(this,Xt,Jr).bind(this));$e(this,vt,null);$e(this,ut,null);$e(this,ft,null);$e(this,gt,null);$e(this,pt,null);$e(this,Ft,null);$e(this,ot,!1);$e(this,Ue,null);$e(this,We,null);$e(this,lt,null);$e(this,At,null);$e(this,Ct,!1);var Dt;rt(this,ut,Me),rt(this,At,xe),rt(this,ft,qe),rt(this,lt,it),rt(this,pt,Et),rt(this,vt,U),rt(this,We,Tt),rt(this,Ft,$t),rt(this,gt,Se);const It=O.PDFDateString.toDateObject(Be);It&&rt(this,Re,Et.l10n.get("annotation_date_string",{date:It.toLocaleDateString(),time:It.toLocaleTimeString()})),this.trigger=Se.flatMap(Wt=>Wt.getElementsToTriggerPopup());for(const Wt of this.trigger)Wt.addEventListener("click",V(this,ct)),Wt.addEventListener("mouseenter",V(this,tt)),Wt.addEventListener("mouseleave",V(this,Ge)),Wt.classList.add("popupTriggerArea");for(const Wt of Se)(Dt=Wt.container)==null||Dt.addEventListener("keydown",V(this,Xe));V(this,ut).hidden=!0,en&&He(this,Xt,Jr).call(this)}render(){if(V(this,Ue))return;const{page:{view:Me},viewport:{rawDims:{pageWidth:U,pageHeight:Se,pageX:xe,pageY:Be}}}=V(this,pt),qe=rt(this,Ue,document.createElement("div"));if(qe.className="popup",V(this,vt)){const On=qe.style.outlineColor=R.Util.makeHexColor(...V(this,vt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?qe.style.backgroundColor="color-mix(in srgb, ".concat(On," 30%, white)"):qe.style.backgroundColor=R.Util.makeHexColor(...V(this,vt).map(rr=>Math.floor(.7*(255-rr)+rr)))}const it=document.createElement("span");it.className="header";const Et=document.createElement("h1");if(it.append(Et),{dir:Et.dir,str:Et.textContent}=V(this,At),qe.append(it),V(this,Re)){const On=document.createElement("span");On.classList.add("popupDate"),V(this,Re).then(tr=>{On.textContent=tr}),it.append(On)}const Tt=V(this,ft),$t=V(this,lt);if($t!=null&&$t.str&&(!(Tt!=null&&Tt.str)||Tt.str===$t.str))fe.XfaLayer.render({xfaHtml:$t.html,intent:"richText",div:qe}),qe.lastChild.classList.add("richText","popupContent");else{const On=this._formatContents(Tt);qe.append(On)}let en=!!V(this,Ft),It=en?V(this,Ft):V(this,We);for(const On of V(this,gt))if(!It||R.Util.intersect(On.data.rect,It)!==null){It=On.data.rect,en=!0;break}const Dt=R.Util.normalizeRect([It[0],Me[3]-It[1]+Me[1],It[2],Me[3]-It[3]+Me[1]]),Wt=5,ln=en?It[2]-It[0]+Wt:0,vn=Dt[0]+ln,An=Dt[1],{style:Gn}=V(this,ut);Gn.left="".concat(100*(vn-xe)/U,"%"),Gn.top="".concat(100*(An-Be)/Se,"%"),V(this,ut).append(qe)}_formatContents({str:Me,dir:U}){const Se=document.createElement("p");Se.classList.add("popupContent"),Se.dir=U;const xe=Me.split(/(?:\r\n?|\n)/);for(let Be=0,qe=xe.length;Be<qe;++Be){const it=xe[Be];Se.append(document.createTextNode(it)),Be<qe-1&&Se.append(document.createElement("br"))}return Se}forceHide(){rt(this,Ct,this.isVisible),V(this,Ct)&&(V(this,ut).hidden=!0)}maybeShow(){V(this,Ct)&&(rt(this,Ct,!1),V(this,ut).hidden=!1)}get isVisible(){return V(this,ut).hidden===!1}}Re=new WeakMap,Xe=new WeakMap,Ge=new WeakMap,tt=new WeakMap,ct=new WeakMap,vt=new WeakMap,ut=new WeakMap,ft=new WeakMap,gt=new WeakMap,pt=new WeakMap,Ft=new WeakMap,ot=new WeakMap,Ue=new WeakMap,We=new WeakMap,lt=new WeakMap,At=new WeakMap,Ct=new WeakMap,qt=new WeakSet,Ra=function(Me){Me.altKey||Me.shiftKey||Me.ctrlKey||Me.metaKey||(Me.key==="Enter"||Me.key==="Escape"&&V(this,ot))&&He(this,Xt,Jr).call(this)},Xt=new WeakSet,Jr=function(){rt(this,ot,!V(this,ot)),V(this,ot)?(He(this,nn,ji).call(this),V(this,ut).addEventListener("click",V(this,ct)),V(this,ut).addEventListener("keydown",V(this,Xe))):(He(this,an,zi).call(this),V(this,ut).removeEventListener("click",V(this,ct)),V(this,ut).removeEventListener("keydown",V(this,Xe)))},nn=new WeakSet,ji=function(){V(this,Ue)||this.render(),this.isVisible?V(this,ot)&&V(this,ut).classList.add("focused"):(V(this,ut).hidden=!1,V(this,ut).style.zIndex=parseInt(V(this,ut).style.zIndex)+1e3)},an=new WeakSet,zi=function(){V(this,ut).classList.remove("focused"),!(V(this,ot)||!this.isVisible)&&(V(this,ut).hidden=!0,V(this,ut).style.zIndex=parseInt(V(this,ut).style.zIndex)-1e3)};class _e extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Me.data.textContent,this.textPosition=Me.data.textPosition,this.annotationEditorType=R.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Me=document.createElement("div");Me.classList.add("annotationTextContent"),Me.setAttribute("role","comment");for(const U of this.textContent){const Se=document.createElement("span");Se.textContent=U,Me.append(Se)}this.container.append(Me)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=_e;class he extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,Ve,null)}render(){this.container.classList.add("lineAnnotation");const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0),qe=rt(this,Ve,this.svgFactory.createElement("svg:line"));return qe.setAttribute("x1",U.rect[2]-U.lineCoordinates[0]),qe.setAttribute("y1",U.rect[3]-U.lineCoordinates[1]),qe.setAttribute("x2",U.rect[2]-U.lineCoordinates[2]),qe.setAttribute("y2",U.rect[3]-U.lineCoordinates[3]),qe.setAttribute("stroke-width",U.borderStyle.width||1),qe.setAttribute("stroke","transparent"),qe.setAttribute("fill","transparent"),Be.append(qe),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ve)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ve=new WeakMap;class Pe extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,Ne,null)}render(){this.container.classList.add("squareAnnotation");const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0),qe=U.borderStyle.width,it=rt(this,Ne,this.svgFactory.createElement("svg:rect"));return it.setAttribute("x",qe/2),it.setAttribute("y",qe/2),it.setAttribute("width",Se-qe),it.setAttribute("height",xe-qe),it.setAttribute("stroke-width",qe||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","transparent"),Be.append(it),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ne=new WeakMap;class De extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,_t,null)}render(){this.container.classList.add("circleAnnotation");const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0),qe=U.borderStyle.width,it=rt(this,_t,this.svgFactory.createElement("svg:ellipse"));return it.setAttribute("cx",Se/2),it.setAttribute("cy",xe/2),it.setAttribute("rx",Se/2-qe/2),it.setAttribute("ry",xe/2-qe/2),it.setAttribute("stroke-width",qe||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","transparent"),Be.append(it),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,_t)}addHighlightArea(){this.container.classList.add("highlightArea")}}_t=new WeakMap;class be extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,dt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0);let qe=[];for(const Et of U.vertices){const Tt=Et.x-U.rect[0],$t=U.rect[3]-Et.y;qe.push(Tt+","+$t)}qe=qe.join(" ");const it=rt(this,dt,this.svgFactory.createElement(this.svgElementName));return it.setAttribute("points",qe),it.setAttribute("stroke-width",U.borderStyle.width||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","transparent"),Be.append(it),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,dt)}addHighlightArea(){this.container.classList.add("highlightArea")}}dt=new WeakMap;class Te extends be{constructor(Me){super(Me),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ze extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Qe extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,gn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=R.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0);for(const qe of U.inkLists){let it=[];for(const Tt of qe){const $t=Tt.x-U.rect[0],en=U.rect[3]-Tt.y;it.push("".concat($t,",").concat(en))}it=it.join(" ");const Et=this.svgFactory.createElement(this.svgElementName);V(this,gn).push(Et),Et.setAttribute("points",it),Et.setAttribute("stroke-width",U.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),!U.popupRef&&this.hasPopupData&&this._createPopup(),Be.append(Et)}return this.container.append(Be),this.container}getElementsToTriggerPopup(){return V(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap,$.InkAnnotationElement=Qe;class Fe extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nt extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class at extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ht extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class St extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=St;class we extends re{constructor(U){var Be;super(U,{isRenderable:!0});$e(this,Ke);$e(this,Pn,null);const{filename:Se,content:xe}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(Se,!0),this.content=xe,(Be=this.linkService.eventBus)==null||Be.dispatch("fileattachmentannotation",{source:this,filename:Se,content:xe})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:U,data:Se}=this;let xe;Se.hasAppearance||Se.fillAlpha===0?xe=document.createElement("div"):(xe=document.createElement("img"),xe.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(Se.name)?"paperclip":"pushpin",".svg"),Se.fillAlpha&&Se.fillAlpha<1&&(xe.style="filter: opacity(".concat(Math.round(Se.fillAlpha*100),"%);"))),xe.addEventListener("dblclick",He(this,Ke,Hi).bind(this)),rt(this,Pn,xe);const{isMac:Be}=R.FeatureTest.platform;return U.addEventListener("keydown",qe=>{qe.key==="Enter"&&(Be?qe.metaKey:qe.ctrlKey)&&He(this,Ke,Hi).call(this)}),!Se.popupRef&&this.hasPopupData?this._createPopup():xe.classList.add("popupTriggerArea"),U.append(xe),U}getElementsToTriggerPopup(){return V(this,Pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pn=new WeakMap,Ke=new WeakSet,Hi=function(){var U;(U=this.downloadManager)==null||U.openOrDownloadData(this.container,this.content,this.filename)};class W{constructor({div:Me,accessibilityManager:U,annotationCanvasMap:Se,l10n:xe,page:Be,viewport:qe}){$e(this,zt);$e(this,wt);$e(this,Ot,null);$e(this,xt,null);$e(this,Bt,new Map);this.div=Me,rt(this,Ot,U),rt(this,xt,Se),this.l10n=xe,this.page=Be,this.viewport=qe,this.zIndex=0,this.l10n||(this.l10n=ve.NullL10n)}async render(Me){const{annotations:U}=Me,Se=this.div;(0,O.setLayerDimensions)(Se,this.viewport);const xe=new Map,Be={data:null,layer:Se,linkService:Me.linkService,downloadManager:Me.downloadManager,imageResourcesPath:Me.imageResourcesPath||"",renderForms:Me.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:Me.annotationStorage||new B.AnnotationStorage,enableScripting:Me.enableScripting===!0,hasJSActions:Me.hasJSActions,fieldObjects:Me.fieldObjects,parent:this,elements:null};for(const qe of U){if(qe.noHTML)continue;const it=qe.annotationType===R.AnnotationType.POPUP;if(it){const $t=xe.get(qe.id);if(!$t)continue;Be.elements=$t}else{const{width:$t,height:en}=le(qe.rect);if($t<=0||en<=0)continue}Be.data=qe;const Et=ne.create(Be);if(!Et.isRenderable)continue;if(!it&&qe.popupRef){const $t=xe.get(qe.popupRef);$t?$t.push(Et):xe.set(qe.popupRef,[Et])}Et.annotationEditorType>0&&V(this,Bt).set(Et.data.id,Et);const Tt=Et.render();qe.hidden&&(Tt.style.visibility="hidden"),He(this,zt,Fa).call(this,Tt,qe.id)}He(this,wt,Vi).call(this),await this.l10n.translate(Se)}update({viewport:Me}){const U=this.div;this.viewport=Me,(0,O.setLayerDimensions)(U,{rotation:Me.rotation}),He(this,wt,Vi).call(this),U.hidden=!1}getEditableAnnotations(){return Array.from(V(this,Bt).values())}getEditableAnnotation(Me){return V(this,Bt).get(Me)}}Ot=new WeakMap,xt=new WeakMap,Bt=new WeakMap,zt=new WeakSet,Fa=function(Me,U){var xe;const Se=Me.firstChild||Me;Se.id="".concat(R.AnnotationPrefix).concat(U),this.div.append(Me),(xe=V(this,Ot))==null||xe.moveElementInDOM(this.div,Me,Se,!1)},wt=new WeakSet,Vi=function(){if(!V(this,xt))return;const Me=this.div;for(const[U,Se]of V(this,xt)){const xe=Me.querySelector('[data-annotation-id="'.concat(U,'"]'));if(!xe)continue;const{firstChild:Be}=xe;Be?Be.nodeName==="CANVAS"?Be.replaceWith(Se):Be.before(Se):xe.append(Se)}V(this,xt).clear()},$.AnnotationLayer=W},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}function R(B){return Math.max(0,Math.min(255,255*B))}class O{static CMYK_G([Q,ve,fe,de]){return["G",1-Math.min(1,.3*Q+.59*fe+.11*ve+de)]}static G_CMYK([Q]){return["CMYK",0,0,0,1-Q]}static G_RGB([Q]){return["RGB",Q,Q,Q]}static G_rgb([Q]){return Q=R(Q),[Q,Q,Q]}static G_HTML([Q]){const ve=H(Q);return"#".concat(ve).concat(ve).concat(ve)}static RGB_G([Q,ve,fe]){return["G",.3*Q+.59*ve+.11*fe]}static RGB_rgb(Q){return Q.map(R)}static RGB_HTML(Q){return"#".concat(Q.map(H).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Q,ve,fe,de]){return["RGB",1-Math.min(1,Q+de),1-Math.min(1,fe+de),1-Math.min(1,ve+de)]}static CMYK_rgb([Q,ve,fe,de]){return[R(1-Math.min(1,Q+de)),R(1-Math.min(1,fe+de)),R(1-Math.min(1,ve+de))]}static CMYK_HTML(Q){const ve=this.CMYK_RGB(Q).slice(1);return this.RGB_HTML(ve)}static RGB_CMYK([Q,ve,fe]){const de=1-Q,X=1-ve,Ee=1-fe,le=Math.min(de,X,Ee);return["CMYK",de,X,Ee,le]}}$.ColorConverters=O},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=R;const H={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};H.print_progress_percent="{{progress}}%";function R(Q,ve){switch(Q){case"find_match_count":Q="find_match_count[".concat(ve.total===1?"one":"other","]");break;case"find_match_count_limit":Q="find_match_count_limit[".concat(ve.limit===1?"one":"other","]");break}return H[Q]||""}function O(Q,ve){return ve?Q.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(fe,de)=>de in ve?ve[de]:"{{"+de+"}}"):Q}const B={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Q,ve=null,fe=R(Q,ve)){return O(fe,ve)},async translate(Q){}};$.NullL10n=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var R=H(25);class O{static setupStorage(Q,ve,fe,de,X){const Ee=de.getValue(ve,{value:null});switch(fe.name){case"textarea":if(Ee.value!==null&&(Q.textContent=Ee.value),X==="print")break;Q.addEventListener("input",le=>{de.setValue(ve,{value:le.target.value})});break;case"input":if(fe.attributes.type==="radio"||fe.attributes.type==="checkbox"){if(Ee.value===fe.attributes.xfaOn?Q.setAttribute("checked",!0):Ee.value===fe.attributes.xfaOff&&Q.removeAttribute("checked"),X==="print")break;Q.addEventListener("change",le=>{de.setValue(ve,{value:le.target.checked?le.target.getAttribute("xfaOn"):le.target.getAttribute("xfaOff")})})}else{if(Ee.value!==null&&Q.setAttribute("value",Ee.value),X==="print")break;Q.addEventListener("input",le=>{de.setValue(ve,{value:le.target.value})})}break;case"select":if(Ee.value!==null){Q.setAttribute("value",Ee.value);for(const le of fe.children)le.attributes.value===Ee.value?le.attributes.selected=!0:le.attributes.hasOwnProperty("selected")&&delete le.attributes.selected}Q.addEventListener("input",le=>{const ne=le.target.options,re=ne.selectedIndex===-1?"":ne[ne.selectedIndex].value;de.setValue(ve,{value:re})});break}}static setAttributes({html:Q,element:ve,storage:fe=null,intent:de,linkService:X}){const{attributes:Ee}=ve,le=Q instanceof HTMLAnchorElement;Ee.type==="radio"&&(Ee.name="".concat(Ee.name,"-").concat(de));for(const[ne,re]of Object.entries(Ee))if(re!=null)switch(ne){case"class":re.length&&Q.setAttribute(ne,re.join(" "));break;case"dataId":break;case"id":Q.setAttribute("data-element-id",re);break;case"style":Object.assign(Q.style,re);break;case"textContent":Q.textContent=re;break;default:(!le||ne!=="href"&&ne!=="newWindow")&&Q.setAttribute(ne,re)}le&&X.addLinkAttributes(Q,Ee.href,Ee.newWindow),fe&&Ee.dataId&&this.setupStorage(Q,Ee.dataId,ve,fe)}static render(Q){var J;const ve=Q.annotationStorage,fe=Q.linkService,de=Q.xfaHtml,X=Q.intent||"display",Ee=document.createElement(de.name);de.attributes&&this.setAttributes({html:Ee,element:de,intent:X,linkService:fe});const le=[[de,-1,Ee]],ne=Q.div;if(ne.append(Ee),Q.viewport){const q="matrix(".concat(Q.viewport.transform.join(","),")");ne.style.transform=q}X!=="richText"&&ne.setAttribute("class","xfaLayer xfaFont");const re=[];for(;le.length>0;){const[q,ae,se]=le.at(-1);if(ae+1===q.children.length){le.pop();continue}const ue=q.children[++le.at(-1)[1]];if(ue===null)continue;const{name:pe}=ue;if(pe==="#text"){const oe=document.createTextNode(ue.value);re.push(oe),se.append(oe);continue}const te=(J=ue==null?void 0:ue.attributes)!=null&&J.xmlns?document.createElementNS(ue.attributes.xmlns,pe):document.createElement(pe);if(se.append(te),ue.attributes&&this.setAttributes({html:te,element:ue,storage:ve,intent:X,linkService:fe}),ue.children&&ue.children.length>0)le.push([ue,-1,te]);else if(ue.value){const oe=document.createTextNode(ue.value);R.XfaText.shouldBuildText(pe)&&re.push(oe),te.append(oe)}}for(const q of ne.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))q.setAttribute("readOnly",!0);return{textDivs:re}}static update(Q){const ve="matrix(".concat(Q.viewport.transform.join(","),")");Q.div.style.transform=ve,Q.div.hidden=!1}}$.XfaLayer=O},(A,$,H)=>{var de,X,Ee,le,ne,re,J,q,ae,se,ue,pe,te,oe,Ae,La,ee,Ia,he,Da,De,Oa,Te,Wi,Qe,Na,nt,Ui,ht,Ba,we,ja,Y,za,ie,Ha,ye,Va,Re,dr,Ge,Gi,ct,Qr,ut,ei,gt,Pr,Ft,qi,Ue,ti,lt,Wa,Ct,Xi,Kt,Ua,rn,Ga,Vt,Ki,st,ni,Ne,kr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var R=H(1),O=H(4),B=H(29),Q=H(6),ve=H(5);const dt=class dt extends O.AnnotationEditor{constructor(Ke){super({...Ke,name:"inkEditor"});$e(this,Ae);$e(this,ee);$e(this,he);$e(this,De);$e(this,Te);$e(this,Qe);$e(this,nt);$e(this,ht);$e(this,we);$e(this,Y);$e(this,ie);$e(this,ye);$e(this,Re);$e(this,Ge);$e(this,ct);$e(this,ut);$e(this,gt);$e(this,Ft);$e(this,Ue);$e(this,rn);$e(this,Vt);$e(this,st);$e(this,Ne);$e(this,de,0);$e(this,X,0);$e(this,Ee,this.canvasPointermove.bind(this));$e(this,le,this.canvasPointerleave.bind(this));$e(this,ne,this.canvasPointerup.bind(this));$e(this,re,this.canvasPointerdown.bind(this));$e(this,J,new Path2D);$e(this,q,!1);$e(this,ae,!1);$e(this,se,!1);$e(this,ue,null);$e(this,pe,0);$e(this,te,0);$e(this,oe,null);this.color=Ke.color||null,this.thickness=Ke.thickness||null,this.opacity=Ke.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ke){O.AnnotationEditor.initialize(Ke,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ke,Pt){switch(Ke){case R.AnnotationEditorParamsType.INK_THICKNESS:dt._defaultThickness=Pt;break;case R.AnnotationEditorParamsType.INK_COLOR:dt._defaultColor=Pt;break;case R.AnnotationEditorParamsType.INK_OPACITY:dt._defaultOpacity=Pt/100;break}}updateParams(Ke,Pt){switch(Ke){case R.AnnotationEditorParamsType.INK_THICKNESS:He(this,Ae,La).call(this,Pt);break;case R.AnnotationEditorParamsType.INK_COLOR:He(this,ee,Ia).call(this,Pt);break;case R.AnnotationEditorParamsType.INK_OPACITY:He(this,he,Da).call(this,Pt);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,dt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,dt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(dt._defaultOpacity*100)]]}get propertiesToUpdate(){var Ke;return[[R.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,this.color||dt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Ke=this.opacity)!=null?Ke:dt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(He(this,ct,Qr).call(this),He(this,ut,ei).call(this)),this.isAttachedToDOM||(this.parent.add(this),He(this,gt,Pr).call(this)),He(this,Ne,kr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,ue).disconnect(),rt(this,ue,null),super.remove())}setParent(Ke){!this.parent&&Ke?this._uiManager.removeShouldRescale(this):this.parent&&Ke===null&&this._uiManager.addShouldRescale(this),super.setParent(Ke)}onScaleChanging(){const[Ke,Pt]=this.parentDimensions,Ot=this.width*Ke,xt=this.height*Pt;this.setDimensions(Ot,xt)}enableEditMode(){V(this,q)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,q)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rt(this,q,!0),this.div.classList.add("disabled"),He(this,Ne,kr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ke){this._focusEventsAllowed&&(super.focusin(Ke),this.enableEditMode())}canvasPointerdown(Ke){Ke.button!==0||!this.isInEditMode()||V(this,q)||(this.setInForeground(),Ke.preventDefault(),Ke.type!=="mouse"&&this.div.focus(),He(this,Qe,Na).call(this,Ke.offsetX,Ke.offsetY))}canvasPointermove(Ke){Ke.preventDefault(),He(this,nt,Ui).call(this,Ke.offsetX,Ke.offsetY)}canvasPointerup(Ke){Ke.preventDefault(),He(this,Ge,Gi).call(this,Ke)}canvasPointerleave(Ke){He(this,Ge,Gi).call(this,Ke)}get isResizable(){return!this.isEmpty()&&V(this,q)}render(){if(this.div)return this.div;let Ke,Pt;this.width&&(Ke=this.x,Pt=this.y),super.render(),O.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(En=>{var wt;return(wt=this.div)==null?void 0:wt.setAttribute("aria-label",En)});const[Ot,xt,Bt,zt]=He(this,De,Oa).call(this);if(this.setAt(Ot,xt,0,0),this.setDims(Bt,zt),He(this,ct,Qr).call(this),this.width){const[En,wt]=this.parentDimensions;this.setAspectRatio(this.width*En,this.height*wt),this.setAt(Ke*En,Pt*wt,this.width*En,this.height*wt),rt(this,se,!0),He(this,gt,Pr).call(this),this.setDims(this.width*En,this.height*wt),He(this,Re,dr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return He(this,ut,ei).call(this),this.div}setDimensions(Ke,Pt){const Ot=Math.round(Ke),xt=Math.round(Pt);if(V(this,pe)===Ot&&V(this,te)===xt)return;rt(this,pe,Ot),rt(this,te,xt),this.canvas.style.visibility="hidden";const[Bt,zt]=this.parentDimensions;this.width=Ke/Bt,this.height=Pt/zt,this.fixAndSetPosition(),V(this,q)&&He(this,Ft,qi).call(this,Ke,Pt),He(this,gt,Pr).call(this),He(this,Re,dr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ke,Pt,Ot){var Be,qe,it;if(Ke instanceof B.InkAnnotationElement)return null;const xt=super.deserialize(Ke,Pt,Ot);xt.thickness=Ke.thickness,xt.color=R.Util.makeHexColor(...Ke.color),xt.opacity=Ke.opacity;const[Bt,zt]=xt.pageDimensions,En=xt.width*Bt,wt=xt.height*zt,fn=xt.parentScale,Nt=Ke.thickness/2;rt(xt,q,!0),rt(xt,pe,Math.round(En)),rt(xt,te,Math.round(wt));const{paths:Me,rect:U,rotation:Se}=Ke;for(let{bezier:Et}of Me){Et=He(Be=dt,Kt,Ua).call(Be,Et,U,Se);const Tt=[];xt.paths.push(Tt);let $t=fn*(Et[0]-Nt),en=fn*(Et[1]-Nt);for(let Dt=2,Wt=Et.length;Dt<Wt;Dt+=6){const ln=fn*(Et[Dt]-Nt),vn=fn*(Et[Dt+1]-Nt),An=fn*(Et[Dt+2]-Nt),Gn=fn*(Et[Dt+3]-Nt),On=fn*(Et[Dt+4]-Nt),tr=fn*(Et[Dt+5]-Nt);Tt.push([[$t,en],[ln,vn],[An,Gn],[On,tr]]),$t=On,en=tr}const It=He(this,lt,Wa).call(this,Tt);xt.bezierPath2D.push(It)}const xe=He(qe=xt,Vt,Ki).call(qe);return rt(xt,X,Math.max(O.AnnotationEditor.MIN_SIZE,xe[2]-xe[0])),rt(xt,de,Math.max(O.AnnotationEditor.MIN_SIZE,xe[3]-xe[1])),He(it=xt,Ft,qi).call(it,En,wt),xt}serialize(){if(this.isEmpty())return null;const Ke=this.getRect(0,0),Pt=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:R.AnnotationEditorType.INK,color:Pt,thickness:this.thickness,opacity:this.opacity,paths:He(this,rn,Ga).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ke),pageIndex:this.pageIndex,rect:Ke,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};de=new WeakMap,X=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,J=new WeakMap,q=new WeakMap,ae=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakMap,te=new WeakMap,oe=new WeakMap,Ae=new WeakSet,La=function(Ke){const Pt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ke,He(this,Ne,kr).call(this)},undo:()=>{this.thickness=Pt,He(this,Ne,kr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ee=new WeakSet,Ia=function(Ke){const Pt=this.color;this.addCommands({cmd:()=>{this.color=Ke,He(this,Re,dr).call(this)},undo:()=>{this.color=Pt,He(this,Re,dr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},he=new WeakSet,Da=function(Ke){Ke/=100;const Pt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ke,He(this,Re,dr).call(this)},undo:()=>{this.opacity=Pt,He(this,Re,dr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},De=new WeakSet,Oa=function(){const{parentRotation:Ke,parentDimensions:[Pt,Ot]}=this;switch(Ke){case 90:return[0,Ot,Ot,Pt];case 180:return[Pt,Ot,Pt,Ot];case 270:return[Pt,0,Ot,Pt];default:return[0,0,Pt,Ot]}},Te=new WeakSet,Wi=function(){const{ctx:Ke,color:Pt,opacity:Ot,thickness:xt,parentScale:Bt,scaleFactor:zt}=this;Ke.lineWidth=xt*Bt/zt,Ke.lineCap="round",Ke.lineJoin="round",Ke.miterLimit=10,Ke.strokeStyle="".concat(Pt).concat((0,ve.opacityToHex)(Ot))},Qe=new WeakSet,Na=function(Ke,Pt){var Ot;this.canvas.addEventListener("contextmenu",Q.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,le)),this.canvas.addEventListener("pointermove",V(this,Ee)),this.canvas.addEventListener("pointerup",V(this,ne)),this.canvas.removeEventListener("pointerdown",V(this,re)),this.isEditing=!0,V(this,se)||(rt(this,se,!0),He(this,gt,Pr).call(this),this.thickness||(this.thickness=dt._defaultThickness),this.color||(this.color=dt._defaultColor||O.AnnotationEditor._defaultLineColor),(Ot=this.opacity)!=null||(this.opacity=dt._defaultOpacity)),this.currentPath.push([Ke,Pt]),rt(this,ae,!1),He(this,Te,Wi).call(this),rt(this,oe,()=>{He(this,Y,za).call(this),V(this,oe)&&window.requestAnimationFrame(V(this,oe))}),window.requestAnimationFrame(V(this,oe))},nt=new WeakSet,Ui=function(Ke,Pt){const[Ot,xt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ke===Ot&&Pt===xt)return;const Bt=this.currentPath;let zt=V(this,J);if(Bt.push([Ke,Pt]),rt(this,ae,!0),Bt.length<=2){zt.moveTo(...Bt[0]),zt.lineTo(Ke,Pt);return}Bt.length===3&&(rt(this,J,zt=new Path2D),zt.moveTo(...Bt[0])),He(this,ie,Ha).call(this,zt,...Bt.at(-3),...Bt.at(-2),Ke,Pt)},ht=new WeakSet,Ba=function(){if(this.currentPath.length===0)return;const Ke=this.currentPath.at(-1);V(this,J).lineTo(...Ke)},we=new WeakSet,ja=function(Ke,Pt){rt(this,oe,null),Ke=Math.min(Math.max(Ke,0),this.canvas.width),Pt=Math.min(Math.max(Pt,0),this.canvas.height),He(this,nt,Ui).call(this,Ke,Pt),He(this,ht,Ba).call(this);let Ot;if(this.currentPath.length!==1)Ot=He(this,ye,Va).call(this);else{const wt=[Ke,Pt];Ot=[[wt,wt.slice(),wt.slice(),wt]]}const xt=V(this,J),Bt=this.currentPath;this.currentPath=[],rt(this,J,new Path2D);const zt=()=>{this.allRawPaths.push(Bt),this.paths.push(Ot),this.bezierPath2D.push(xt),this.rebuild()},En=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(He(this,ct,Qr).call(this),He(this,ut,ei).call(this)),He(this,Ne,kr).call(this))};this.addCommands({cmd:zt,undo:En,mustExec:!0})},Y=new WeakSet,za=function(){if(!V(this,ae))return;rt(this,ae,!1);const Ke=Math.ceil(this.thickness*this.parentScale),Pt=this.currentPath.slice(-3),Ot=Pt.map(zt=>zt[0]),xt=Pt.map(zt=>zt[1]);Math.min(...Ot)-Ke,Math.max(...Ot)+Ke,Math.min(...xt)-Ke,Math.max(...xt)+Ke;const{ctx:Bt}=this;Bt.save(),Bt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zt of this.bezierPath2D)Bt.stroke(zt);Bt.stroke(V(this,J)),Bt.restore()},ie=new WeakSet,Ha=function(Ke,Pt,Ot,xt,Bt,zt,En){const wt=(Pt+xt)/2,fn=(Ot+Bt)/2,Nt=(xt+zt)/2,Me=(Bt+En)/2;Ke.bezierCurveTo(wt+2*(xt-wt)/3,fn+2*(Bt-fn)/3,Nt+2*(xt-Nt)/3,Me+2*(Bt-Me)/3,Nt,Me)},ye=new WeakSet,Va=function(){const Ke=this.currentPath;if(Ke.length<=2)return[[Ke[0],Ke[0],Ke.at(-1),Ke.at(-1)]];const Pt=[];let Ot,[xt,Bt]=Ke[0];for(Ot=1;Ot<Ke.length-2;Ot++){const[U,Se]=Ke[Ot],[xe,Be]=Ke[Ot+1],qe=(U+xe)/2,it=(Se+Be)/2,Et=[xt+2*(U-xt)/3,Bt+2*(Se-Bt)/3],Tt=[qe+2*(U-qe)/3,it+2*(Se-it)/3];Pt.push([[xt,Bt],Et,Tt,[qe,it]]),[xt,Bt]=[qe,it]}const[zt,En]=Ke[Ot],[wt,fn]=Ke[Ot+1],Nt=[xt+2*(zt-xt)/3,Bt+2*(En-Bt)/3],Me=[wt+2*(zt-wt)/3,fn+2*(En-fn)/3];return Pt.push([[xt,Bt],Nt,Me,[wt,fn]]),Pt},Re=new WeakSet,dr=function(){if(this.isEmpty()){He(this,Ue,ti).call(this);return}He(this,Te,Wi).call(this);const{canvas:Ke,ctx:Pt}=this;Pt.setTransform(1,0,0,1,0,0),Pt.clearRect(0,0,Ke.width,Ke.height),He(this,Ue,ti).call(this);for(const Ot of this.bezierPath2D)Pt.stroke(Ot)},Ge=new WeakSet,Gi=function(Ke){this.canvas.removeEventListener("pointerleave",V(this,le)),this.canvas.removeEventListener("pointermove",V(this,Ee)),this.canvas.removeEventListener("pointerup",V(this,ne)),this.canvas.addEventListener("pointerdown",V(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Q.noContextMenu)},10),He(this,we,ja).call(this,Ke.offsetX,Ke.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ct=new WeakSet,Qr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",O.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ke=>{var Pt;return(Pt=this.canvas)==null?void 0:Pt.setAttribute("aria-label",Ke)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ut=new WeakSet,ei=function(){rt(this,ue,new ResizeObserver(Ke=>{const Pt=Ke[0].contentRect;Pt.width&&Pt.height&&this.setDimensions(Pt.width,Pt.height)})),V(this,ue).observe(this.div)},gt=new WeakSet,Pr=function(){if(!V(this,se))return;const[Ke,Pt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ke),this.canvas.height=Math.ceil(this.height*Pt),He(this,Ue,ti).call(this)},Ft=new WeakSet,qi=function(Ke,Pt){const Ot=He(this,st,ni).call(this),xt=(Ke-Ot)/V(this,X),Bt=(Pt-Ot)/V(this,de);this.scaleFactor=Math.min(xt,Bt)},Ue=new WeakSet,ti=function(){const Ke=He(this,st,ni).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ke,this.translationY*this.scaleFactor+Ke)},lt=new WeakSet,Wa=function(Ke){const Pt=new Path2D;for(let Ot=0,xt=Ke.length;Ot<xt;Ot++){const[Bt,zt,En,wt]=Ke[Ot];Ot===0&&Pt.moveTo(...Bt),Pt.bezierCurveTo(zt[0],zt[1],En[0],En[1],wt[0],wt[1])}return Pt},Ct=new WeakSet,Xi=function(Ke,Pt,Ot){const[xt,Bt,zt,En]=Pt;switch(Ot){case 0:for(let wt=0,fn=Ke.length;wt<fn;wt+=2)Ke[wt]+=xt,Ke[wt+1]=En-Ke[wt+1];break;case 90:for(let wt=0,fn=Ke.length;wt<fn;wt+=2){const Nt=Ke[wt];Ke[wt]=Ke[wt+1]+xt,Ke[wt+1]=Nt+Bt}break;case 180:for(let wt=0,fn=Ke.length;wt<fn;wt+=2)Ke[wt]=zt-Ke[wt],Ke[wt+1]+=Bt;break;case 270:for(let wt=0,fn=Ke.length;wt<fn;wt+=2){const Nt=Ke[wt];Ke[wt]=zt-Ke[wt+1],Ke[wt+1]=En-Nt}break;default:throw new Error("Invalid rotation")}return Ke},Kt=new WeakSet,Ua=function(Ke,Pt,Ot){const[xt,Bt,zt,En]=Pt;switch(Ot){case 0:for(let wt=0,fn=Ke.length;wt<fn;wt+=2)Ke[wt]-=xt,Ke[wt+1]=En-Ke[wt+1];break;case 90:for(let wt=0,fn=Ke.length;wt<fn;wt+=2){const Nt=Ke[wt];Ke[wt]=Ke[wt+1]-Bt,Ke[wt+1]=Nt-xt}break;case 180:for(let wt=0,fn=Ke.length;wt<fn;wt+=2)Ke[wt]=zt-Ke[wt],Ke[wt+1]-=Bt;break;case 270:for(let wt=0,fn=Ke.length;wt<fn;wt+=2){const Nt=Ke[wt];Ke[wt]=En-Ke[wt+1],Ke[wt+1]=zt-Nt}break;default:throw new Error("Invalid rotation")}return Ke},rn=new WeakSet,Ga=function(Ke,Pt,Ot,xt){var fn,Nt;const Bt=[],zt=this.thickness/2,En=Ke*Pt+zt,wt=Ke*Ot+zt;for(const Me of this.paths){const U=[],Se=[];for(let xe=0,Be=Me.length;xe<Be;xe++){const[qe,it,Et,Tt]=Me[xe],$t=Ke*qe[0]+En,en=Ke*qe[1]+wt,It=Ke*it[0]+En,Dt=Ke*it[1]+wt,Wt=Ke*Et[0]+En,ln=Ke*Et[1]+wt,vn=Ke*Tt[0]+En,An=Ke*Tt[1]+wt;xe===0&&(U.push($t,en),Se.push($t,en)),U.push(It,Dt,Wt,ln,vn,An),Se.push(It,Dt),xe===Be-1&&Se.push(vn,An)}Bt.push({bezier:He(fn=dt,Ct,Xi).call(fn,U,xt,this.rotation),points:He(Nt=dt,Ct,Xi).call(Nt,Se,xt,this.rotation)})}return Bt},Vt=new WeakSet,Ki=function(){let Ke=1/0,Pt=-1/0,Ot=1/0,xt=-1/0;for(const Bt of this.paths)for(const[zt,En,wt,fn]of Bt){const Nt=R.Util.bezierBoundingBox(...zt,...En,...wt,...fn);Ke=Math.min(Ke,Nt[0]),Ot=Math.min(Ot,Nt[1]),Pt=Math.max(Pt,Nt[2]),xt=Math.max(xt,Nt[3])}return[Ke,Ot,Pt,xt]},st=new WeakSet,ni=function(){return V(this,q)?Math.ceil(this.thickness*this.parentScale):0},Ne=new WeakSet,kr=function(Ke=!1){if(this.isEmpty())return;if(!V(this,q)){He(this,Re,dr).call(this);return}const Pt=He(this,Vt,Ki).call(this),Ot=He(this,st,ni).call(this);rt(this,X,Math.max(O.AnnotationEditor.MIN_SIZE,Pt[2]-Pt[0])),rt(this,de,Math.max(O.AnnotationEditor.MIN_SIZE,Pt[3]-Pt[1]));const xt=Math.ceil(Ot+V(this,X)*this.scaleFactor),Bt=Math.ceil(Ot+V(this,de)*this.scaleFactor),[zt,En]=this.parentDimensions;this.width=xt/zt,this.height=Bt/En,this.setAspectRatio(xt,Bt);const wt=this.translationX,fn=this.translationY;this.translationX=-Pt[0],this.translationY=-Pt[1],He(this,gt,Pr).call(this),He(this,Re,dr).call(this),rt(this,pe,xt),rt(this,te,Bt),this.setDims(xt,Bt);const Nt=Ke?Ot/this.scaleFactor/2:0;this.translate(wt-this.translationX-Nt,fn-this.translationY-Nt)},$e(dt,lt),$e(dt,Ct),$e(dt,Kt),Dn(dt,"_defaultColor",null),Dn(dt,"_defaultOpacity",1),Dn(dt,"_defaultThickness",1),Dn(dt,"_type","ink");let fe=dt;$.InkEditor=fe},(A,$,H)=>{var fe,de,X,Ee,le,ne,re,J,q,ae,se,Dr,pe,Or,oe,ri,ge,Yi,_e,qa,Pe,Xa,be,Zi,ze,ii,Fe,Ka;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var R=H(1),O=H(4),B=H(6),Q=H(29);const at=class at extends O.AnnotationEditor{constructor(we){super({...we,name:"stampEditor"});$e(this,se);$e(this,pe);$e(this,oe);$e(this,ge);$e(this,_e);$e(this,Pe);$e(this,be);$e(this,ze);$e(this,Fe);$e(this,fe,null);$e(this,de,null);$e(this,X,null);$e(this,Ee,null);$e(this,le,null);$e(this,ne,null);$e(this,re,null);$e(this,J,null);$e(this,q,!1);$e(this,ae,!1);rt(this,Ee,we.bitmapUrl),rt(this,le,we.bitmapFile)}static initialize(we){O.AnnotationEditor.initialize(we)}static get supportedTypes(){const we=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,R.shadow)(this,"supportedTypes",we.map(W=>"image/".concat(W)))}static get supportedTypesStr(){return(0,R.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(we){return this.supportedTypes.includes(we)}static paste(we,W){W.pasteEditor(R.AnnotationEditorType.STAMP,{bitmapFile:we.getAsFile()})}remove(){var we,W;V(this,de)&&(rt(this,fe,null),this._uiManager.imageManager.deleteId(V(this,de)),(we=V(this,ne))==null||we.remove(),rt(this,ne,null),(W=V(this,re))==null||W.disconnect(),rt(this,re,null)),super.remove()}rebuild(){if(!this.parent){V(this,de)&&He(this,oe,ri).call(this);return}super.rebuild(),this.div!==null&&(V(this,de)&&He(this,oe,ri).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,X)||V(this,fe)||V(this,Ee)||V(this,le))}get isResizable(){return!0}render(){if(this.div)return this.div;let we,W;if(this.width&&(we=this.x,W=this.y),super.render(),this.div.hidden=!0,V(this,fe)?He(this,ge,Yi).call(this):He(this,oe,ri).call(this),this.width){const[Y,G]=this.parentDimensions;this.setAt(we*Y,W*G,this.width*Y,this.height*G)}return this.div}static deserialize(we,W,Y){if(we instanceof Q.StampAnnotationElement)return null;const G=super.deserialize(we,W,Y),{rect:ie,bitmapUrl:ce,bitmapId:ye,isSvg:Ce,accessibilityData:Re}=we;ye&&Y.imageManager.isValidId(ye)?rt(G,de,ye):rt(G,Ee,ce),rt(G,q,Ce);const[Xe,Ge]=G.pageDimensions;return G.width=(ie[2]-ie[0])/Xe,G.height=(ie[3]-ie[1])/Ge,Re&&(G.altTextData=Re),G}serialize(we=!1,W=null){if(this.isEmpty())return null;const Y={annotationType:R.AnnotationEditorType.STAMP,bitmapId:V(this,de),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,q),structTreeParentId:this._structTreeParentId};if(we)return Y.bitmapUrl=He(this,ze,ii).call(this,!0),Y.accessibilityData=this.altTextData,Y;const{decorative:G,altText:ie}=this.altTextData;if(!G&&ie&&(Y.accessibilityData={type:"Figure",alt:ie}),W===null)return Y;W.stamps||(W.stamps=new Map);const ce=V(this,q)?(Y.rect[2]-Y.rect[0])*(Y.rect[3]-Y.rect[1]):null;if(!W.stamps.has(V(this,de)))W.stamps.set(V(this,de),{area:ce,serialized:Y}),Y.bitmap=He(this,ze,ii).call(this,!1);else if(V(this,q)){const ye=W.stamps.get(V(this,de));ce>ye.area&&(ye.area=ce,ye.serialized.bitmap.close(),ye.serialized.bitmap=He(this,ze,ii).call(this,!1))}return Y}};fe=new WeakMap,de=new WeakMap,X=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,J=new WeakMap,q=new WeakMap,ae=new WeakMap,se=new WeakSet,Dr=function(we,W=!1){if(!we){this.remove();return}rt(this,fe,we.bitmap),W||(rt(this,de,we.id),rt(this,q,we.isSvg)),He(this,ge,Yi).call(this)},pe=new WeakSet,Or=function(){rt(this,X,null),this._uiManager.enableWaiting(!1),V(this,ne)&&this.div.focus()},oe=new WeakSet,ri=function(){if(V(this,de)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,de)).then(W=>He(this,se,Dr).call(this,W,!0)).finally(()=>He(this,pe,Or).call(this));return}if(V(this,Ee)){const W=V(this,Ee);rt(this,Ee,null),this._uiManager.enableWaiting(!0),rt(this,X,this._uiManager.imageManager.getFromUrl(W).then(Y=>He(this,se,Dr).call(this,Y)).finally(()=>He(this,pe,Or).call(this)));return}if(V(this,le)){const W=V(this,le);rt(this,le,null),this._uiManager.enableWaiting(!0),rt(this,X,this._uiManager.imageManager.getFromFile(W).then(Y=>He(this,se,Dr).call(this,Y)).finally(()=>He(this,pe,Or).call(this)));return}const we=document.createElement("input");we.type="file",we.accept=at.supportedTypesStr,rt(this,X,new Promise(W=>{we.addEventListener("change",async()=>{if(!we.files||we.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Y=await this._uiManager.imageManager.getFromFile(we.files[0]);He(this,se,Dr).call(this,Y)}W()}),we.addEventListener("cancel",()=>{this.remove(),W()})}).finally(()=>He(this,pe,Or).call(this))),we.click()},ge=new WeakSet,Yi=function(){const{div:we}=this;let{width:W,height:Y}=V(this,fe);const[G,ie]=this.pageDimensions,ce=.75;if(this.width)W=this.width*G,Y=this.height*ie;else if(W>ce*G||Y>ce*ie){const Xe=Math.min(ce*G/W,ce*ie/Y);W*=Xe,Y*=Xe}const[ye,Ce]=this.parentDimensions;this.setDims(W*ye/G,Y*Ce/ie),this._uiManager.enableWaiting(!1);const Re=rt(this,ne,document.createElement("canvas"));we.append(Re),we.hidden=!1,He(this,be,Zi).call(this,W,Y),He(this,Fe,Ka).call(this),V(this,ae)||(this.parent.addUndoableEditor(this),rt(this,ae,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_e=new WeakSet,qa=function(we,W){var ce;const[Y,G]=this.parentDimensions;this.width=we/Y,this.height=W/G,this.setDims(we,W),(ce=this._initialOptions)!=null&&ce.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,J)!==null&&clearTimeout(V(this,J)),rt(this,J,setTimeout(()=>{rt(this,J,null),He(this,be,Zi).call(this,we,W)},200))},Pe=new WeakSet,Xa=function(we,W){const{width:Y,height:G}=V(this,fe);let ie=Y,ce=G,ye=V(this,fe);for(;ie>2*we||ce>2*W;){const Ce=ie,Re=ce;ie>2*we&&(ie=ie>=16384?Math.floor(ie/2)-1:Math.ceil(ie/2)),ce>2*W&&(ce=ce>=16384?Math.floor(ce/2)-1:Math.ceil(ce/2));const Xe=new OffscreenCanvas(ie,ce);Xe.getContext("2d").drawImage(ye,0,0,Ce,Re,0,0,ie,ce),ye=Xe.transferToImageBitmap()}return ye},be=new WeakSet,Zi=function(we,W){we=Math.ceil(we),W=Math.ceil(W);const Y=V(this,ne);if(!Y||Y.width===we&&Y.height===W)return;Y.width=we,Y.height=W;const G=V(this,q)?V(this,fe):He(this,Pe,Xa).call(this,we,W),ie=Y.getContext("2d");ie.filter=this._uiManager.hcmFilter,ie.drawImage(G,0,0,G.width,G.height,0,0,we,W)},ze=new WeakSet,ii=function(we){if(we){if(V(this,q)){const G=this._uiManager.imageManager.getSvgUrl(V(this,de));if(G)return G}const W=document.createElement("canvas");return{width:W.width,height:W.height}=V(this,fe),W.getContext("2d").drawImage(V(this,fe),0,0),W.toDataURL()}if(V(this,q)){const[W,Y]=this.pageDimensions,G=Math.round(this.width*W*B.PixelsPerInch.PDF_TO_CSS_UNITS),ie=Math.round(this.height*Y*B.PixelsPerInch.PDF_TO_CSS_UNITS),ce=new OffscreenCanvas(G,ie);return ce.getContext("2d").drawImage(V(this,fe),0,0,V(this,fe).width,V(this,fe).height,0,0,G,ie),ce.transferToImageBitmap()}return structuredClone(V(this,fe))},Fe=new WeakSet,Ka=function(){rt(this,re,new ResizeObserver(we=>{const W=we[0].contentRect;W.width&&W.height&&He(this,_e,qa).call(this,W.width,W.height)})),V(this,re).observe(this.div)},Dn(at,"_type","stamp");let ve=at;$.StampEditor=ve}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Q.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return ve.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return R.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return fe.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return R.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return R.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return R.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return de.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return R.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return R.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return R.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return R.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return R.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return R.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return R.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return R.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),R=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),Q=__w_pdfjs_require__(5),ve=__w_pdfjs_require__(29),fe=__w_pdfjs_require__(14),de=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,H=pdfExports;function R(K){var me=Object.create(null);return K&&Object.keys(K).forEach(function(ke){if(ke!=="default"){var Le=Object.getOwnPropertyDescriptor(K,ke);Object.defineProperty(me,ke,Le.get?Le:{enumerable:!0,get:function(){return K[ke]}})}}),me.default=K,Object.freeze(me)}var O,B=R($),Q=R(H);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var ve=function(K,me){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,Le){ke.__proto__=Le}||function(ke,Le){for(var Oe in Le)Object.prototype.hasOwnProperty.call(Le,Oe)&&(ke[Oe]=Le[Oe])},ve(K,me)};function fe(K,me){if(typeof me!="function"&&me!==null)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function ke(){this.constructor=K}ve(K,me),K.prototype=me===null?Object.create(me):(ke.prototype=me.prototype,new ke)}var de,X=function(){return X=Object.assign||function(K){for(var me,ke=1,Le=arguments.length;ke<Le;ke++)for(var Oe in me=arguments[ke])Object.prototype.hasOwnProperty.call(me,Oe)&&(K[Oe]=me[Oe]);return K},X.apply(this,arguments)};A.TextDirection=void 0,(de=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",de.LeftToRight="LTR";var Ee,le=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ne=function(K){var me=[];return Object.keys(K).forEach(function(ke){ke&&K[ke]&&me.push(ke)}),me.join(" ")},re=typeof window<"u"?B.useLayoutEffect:B.useEffect,J=function(K){var me=B.useRef(null),ke=K.once,Le=K.threshold,Oe=K.onVisibilityChanged;return re(function(){var je=me.current;if(je){var et=new IntersectionObserver(function(Ye){Ye.forEach(function(Ie){var Je=Ie.isIntersecting,Ze=Ie.intersectionRatio;Oe({isVisible:Je,ratio:Ze}),Je&&ke&&(et.unobserve(je),et.disconnect())})},{threshold:Le||0});return et.observe(je),function(){et.unobserve(je),et.disconnect()}}},[]),me},q=function(K){var me=K.children,ke=K.ignoreDirection,Le=ke!==void 0&&ke,Oe=K.size,je=Oe===void 0?24:Oe,et=B.useContext(le).direction,Ye=!Le&&et===A.TextDirection.RightToLeft,Ie="".concat(je||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:ne({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ye}),focusable:"false",height:Ie,viewBox:"0 0 24 24",width:Ie},me)},ae=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},se=function(K){var me=K.children,ke=K.testId,Le=K.onClick,Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=ke?{"data-testid":ke}:{};return B.createElement("button",X({className:ne({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Oe}),type:"button",onClick:Le},je),me)},ue=function(K){var me=K.size,ke=me===void 0?"4rem":me,Le=K.testId,Oe=B.useState(!1),je=Oe[0],et=Oe[1],Ye=Le?{"data-testid":Le}:{},Ie=J({onVisibilityChanged:function(Je){et(Je.isVisible)}});return B.createElement("div",X({},Ye,{className:ne({"rpv-core__spinner":!0,"rpv-core__spinner--animating":je}),ref:Ie,style:{height:ke,width:ke}}))},pe=function(K){var me=K.ariaLabel,ke=me===void 0?"":me,Le=K.autoFocus,Oe=Le!==void 0&&Le,je=K.placeholder,et=je===void 0?"":je,Ye=K.testId,Ie=K.type,Je=Ie===void 0?"text":Ie,Ze=K.value,yt=Ze===void 0?"":Ze,bt=K.onChange,mt=K.onKeyDown,Lt=mt===void 0?function(){}:mt,Rt=B.useContext(le).direction,Mt=B.useRef(),_n=Rt===A.TextDirection.RightToLeft,Jt={ref:Mt,"data-testid":"","aria-label":ke,className:ne({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":_n}),placeholder:et,value:yt,onChange:function(Qt){return bt(Qt.target.value)},onKeyDown:Lt};return Ye&&(Jt["data-testid"]=Ye),re(function(){if(Oe){var Qt=Mt.current;if(Qt){var cn=window.scrollX,Ht=window.scrollY;Qt.focus(),window.scrollTo(cn,Ht)}}},[]),Je==="text"?B.createElement("input",X({type:"text"},Jt)):B.createElement("input",X({type:"password"},Jt))};(function(K){K[K.ExitFullScreen=0]="ExitFullScreen",K[K.FullScreenChange=1]="FullScreenChange",K[K.FullScreenElement=2]="FullScreenElement",K[K.FullScreenEnabled=3]="FullScreenEnabled",K[K.RequestFullScreen=4]="RequestFullScreen"})(Ee||(Ee={}));var te,oe={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Ae={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ge={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ee=typeof window<"u",_e=ee&&(Ee.FullScreenEnabled in document&&oe||Ae.FullScreenEnabled in document&&Ae||ge.FullScreenEnabled in document&&ge)||oe,he=function(){return ee&&_e.FullScreenEnabled in document&&document[_e.FullScreenEnabled]===!0},Pe=function(K){return ee?K[_e.ExitFullScreen]():Promise.resolve({})},De=function(){return ee?document[_e.FullScreenElement]:null},be=function(K,me){var ke=B.useRef(),Le=function(){ke.current&&clearTimeout(ke.current)};return B.useEffect(function(){return function(){return Le()}},[]),B.useCallback(function(){for(var Oe=[],je=0;je<arguments.length;je++)Oe[je]=arguments[je];Le(),ke.current=setTimeout(function(){K.apply(void 0,Oe)},me)},[K,me])},Te=function(){var K=B.useRef(!1);return B.useEffect(function(){return K.current=!0,function(){K.current=!1}},[]),K},ze=function(K){var me=B.useRef(K);return B.useEffect(function(){me.current=K},[K]),me.current};(function(K){K.NotRenderedYet="NotRenderedYet",K.Rendering="Rendering",K.Rendered="Rendered"})(te||(te={}));var Qe,Fe=-9999,nt=function(K){var me=K.doc,ke=me.numPages,Le=me.loadingTask.docId,Oe=B.useMemo(function(){return Array(ke).fill(null).map(function(Ye,Ie){return{pageIndex:Ie,renderStatus:te.NotRenderedYet,visibility:Fe}})},[Le]),je=B.useRef({currentRenderingPage:-1,startRange:0,endRange:ke-1,visibilities:Oe}),et=function(Ye,Ie){je.current.visibilities[Ye].visibility=Ie};return{getHighestPriorityPage:function(){var Ye=je.current.visibilities.slice(je.current.startRange,je.current.endRange+1).filter(function(bt){return bt.visibility>Fe});if(!Ye.length)return-1;for(var Ie=Ye[0].pageIndex,Je=Ye[Ye.length-1].pageIndex,Ze=Ye.length,yt=0;yt<Ze;yt++){if(Ye[yt].renderStatus===te.Rendering)return-1;if(Ye[yt].renderStatus===te.NotRenderedYet)return Ye[yt].pageIndex}return Je+1<ke&&je.current.visibilities[Je+1].renderStatus!==te.Rendered?Je+1:Ie-1>=0&&je.current.visibilities[Ie-1].renderStatus!==te.Rendered?Ie-1:-1},isInRange:function(Ye){return Ye>=je.current.startRange&&Ye<=je.current.endRange},markNotRendered:function(){for(var Ye=0;Ye<ke;Ye++)je.current.visibilities[Ye].renderStatus=te.NotRenderedYet},markRendered:function(Ye){je.current.visibilities[Ye].renderStatus=te.Rendered},markRendering:function(Ye){je.current.currentRenderingPage!==-1&&je.current.currentRenderingPage!==Ye&&je.current.visibilities[je.current.currentRenderingPage].renderStatus===te.Rendering&&(je.current.visibilities[je.current.currentRenderingPage].renderStatus=te.NotRenderedYet),je.current.visibilities[Ye].renderStatus=te.Rendering,je.current.currentRenderingPage=Ye},setOutOfRange:function(Ye){et(Ye,Fe)},setRange:function(Ye,Ie){je.current.startRange=Ye,je.current.endRange=Ie;for(var Je=0;Je<ke;Je++)(Je<Ye||Je>Ie)&&(je.current.visibilities[Je].visibility=Fe,je.current.visibilities[Je].renderStatus=te.NotRenderedYet)},setVisibility:et}},at={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ht=B.createContext({l10n:at,setL10n:function(){}}),St=0,we=function(){return St++},W=function(K,me,ke){var Le=function(Oe){var je=me.current;if(je){var et=Oe.target;if(et instanceof Element&&et.shadowRoot){var Ye=Oe.composedPath();Ye.length>0&&!je.contains(Ye[0])&&ke()}else je.contains(et)||ke()}};B.useEffect(function(){if(K){var Oe={capture:!0};return document.addEventListener("click",Le,Oe),function(){document.removeEventListener("click",Le,Oe)}}},[])},Y=function(K){var me=function(ke){ke.key==="Escape"&&K()};B.useEffect(function(){return document.addEventListener("keyup",me),function(){document.removeEventListener("keyup",me)}},[])},G=function(K){var me=K.ariaControlsSuffix,ke=K.children,Le=K.closeOnClickOutside,Oe=K.closeOnEscape,je=K.onToggle,et=B.useRef(),Ye=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var Ie=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ie}},[]),Y(function(){et.current&&Oe&&je()}),W(Le,et,je),re(function(){var Ie=et.current;if(Ie){var Je=.75*document.body.clientHeight;Ie.getBoundingClientRect().height>=Je&&(Ie.style.overflow="auto",Ie.style.maxHeight="".concat(Je,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:ne({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ye}),id:"rpv-core__modal-body-".concat(me),ref:et,role:"dialog",tabIndex:-1},ke)},ie=function(K){var me=K.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},me)};A.ToggleStatus=void 0,(Qe=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Qe.Open="Open",Qe.Toggle="Toggle";var ce,ye=function(K){var me=B.useState(K),ke=me[0],Le=me[1];return{opened:ke,toggle:function(Oe){switch(Oe){case A.ToggleStatus.Close:Le(!1);break;case A.ToggleStatus.Open:Le(!0);break;case A.ToggleStatus.Toggle:default:Le(function(je){return!je})}}}},Ce=function(K){var me=K.content,ke=K.isOpened,Le=ke!==void 0&&ke,Oe=K.target,je=ye(Le),et=je.opened,Ye=je.toggle;return B.createElement(B.Fragment,null,Oe&&Oe(Ye,et),et&&me(Ye))};A.Position=void 0,(ce=A.Position||(A.Position={})).TopLeft="TOP_LEFT",ce.TopCenter="TOP_CENTER",ce.TopRight="TOP_RIGHT",ce.RightTop="RIGHT_TOP",ce.RightCenter="RIGHT_CENTER",ce.RightBottom="RIGHT_BOTTOM",ce.BottomLeft="BOTTOM_LEFT",ce.BottomCenter="BOTTOM_CENTER",ce.BottomRight="BOTTOM_RIGHT",ce.LeftTop="LEFT_TOP",ce.LeftCenter="LEFT_CENTER",ce.LeftBottom="LEFT_BOTTOM";var Re,Xe,Ge,tt,ct,vt,ut,ft,gt=function(K,me,ke,Le,Oe){re(function(){var je=me.current,et=K.current,Ye=ke.current;if(et&&je&&Ye){var Ie=Ye.getBoundingClientRect(),Je=function(bt,mt,Lt,Rt){var Mt=mt.getBoundingClientRect(),_n=bt.getBoundingClientRect(),Jt=_n.height,Qt=_n.width,cn=0,Ht=0;switch(Lt){case A.Position.TopLeft:cn=Mt.top-Jt,Ht=Mt.left;break;case A.Position.TopCenter:cn=Mt.top-Jt,Ht=Mt.left+Mt.width/2-Qt/2;break;case A.Position.TopRight:cn=Mt.top-Jt,Ht=Mt.left+Mt.width-Qt;break;case A.Position.RightTop:cn=Mt.top,Ht=Mt.left+Mt.width;break;case A.Position.RightCenter:cn=Mt.top+Mt.height/2-Jt/2,Ht=Mt.left+Mt.width;break;case A.Position.RightBottom:cn=Mt.top+Mt.height-Jt,Ht=Mt.left+Mt.width;break;case A.Position.BottomLeft:cn=Mt.top+Mt.height,Ht=Mt.left;break;case A.Position.BottomCenter:cn=Mt.top+Mt.height,Ht=Mt.left+Mt.width/2-Qt/2;break;case A.Position.BottomRight:cn=Mt.top+Mt.height,Ht=Mt.left+Mt.width-Qt;break;case A.Position.LeftTop:cn=Mt.top,Ht=Mt.left-Qt;break;case A.Position.LeftCenter:cn=Mt.top+Mt.height/2-Jt/2,Ht=Mt.left-Qt;break;case A.Position.LeftBottom:cn=Mt.top+Mt.height-Jt,Ht=Mt.left-Qt}return{left:Ht+(Rt.left||0),top:cn+(Rt.top||0)}}(et,je,Le,Oe),Ze=Je.top,yt=Je.left;et.style.top="".concat(Ze-Ie.top,"px"),et.style.left="".concat(yt-Ie.left,"px")}},[])},pt=function(K){var me,ke=K.customClassName,Le=K.position;return B.createElement("div",{className:ne((me={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Le===A.Position.TopLeft,"rpv-core__arrow--tc":Le===A.Position.TopCenter,"rpv-core__arrow--tr":Le===A.Position.TopRight,"rpv-core__arrow--rt":Le===A.Position.RightTop,"rpv-core__arrow--rc":Le===A.Position.RightCenter,"rpv-core__arrow--rb":Le===A.Position.RightBottom,"rpv-core__arrow--bl":Le===A.Position.BottomLeft,"rpv-core__arrow--bc":Le===A.Position.BottomCenter,"rpv-core__arrow--br":Le===A.Position.BottomRight,"rpv-core__arrow--lt":Le===A.Position.LeftTop,"rpv-core__arrow--lc":Le===A.Position.LeftCenter,"rpv-core__arrow--lb":Le===A.Position.LeftBottom},me["".concat(ke)]=ke!=="",me))})},Ft=function(K){var me=K.ariaControlsSuffix,ke=K.children,Le=K.closeOnClickOutside,Oe=K.offset,je=K.position,et=K.targetRef,Ye=K.onClose,Ie=B.useRef(),Je=B.useRef(),Ze=B.useRef(),yt=B.useContext(le).direction===A.TextDirection.RightToLeft;W(Le,Ie,Ye),gt(Ie,et,Ze,je,Oe),re(function(){var mt=Je.current;if(mt){var Lt=.75*document.body.clientHeight;mt.getBoundingClientRect().height>=Lt&&(mt.style.overflow="auto",mt.style.maxHeight="".concat(Lt,"px"))}},[]);var bt="rpv-core__popover-body-inner-".concat(me);return B.createElement(B.Fragment,null,B.createElement("div",{ref:Ze,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":bt,className:ne({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":yt}),id:"rpv-core__popover-body-".concat(me),ref:Ie,role:"dialog",tabIndex:-1},B.createElement(pt,{customClassName:"rpv-core__popover-body-arrow",position:je}),B.createElement("div",{id:bt,ref:Je},ke)))},ot=function(K){var me=K.closeOnEscape,ke=K.onClose,Le=B.useRef();return Y(function(){Le.current&&me&&ke()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Le})},Ue=function(K){var me=K.ariaControlsSuffix,ke=K.children,Le=K.contentRef,Oe=K.offset,je=K.position,et=K.targetRef,Ye=B.useRef(),Ie=B.useContext(le).direction===A.TextDirection.RightToLeft;return gt(Le,et,Ye,je,Oe),B.createElement(B.Fragment,null,B.createElement("div",{ref:Ye,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:ne({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ie}),id:"rpv-core__tooltip-body-".concat(me),ref:Le,role:"tooltip"},B.createElement(pt,{customClassName:"rpv-core__tooltip-body-arrow",position:je}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},ke)))};A.FullScreenMode=void 0,(Re=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",Re.Entering="Entering",Re.Entered="Entered",Re.EnteredCompletely="EnteredCompletely",Re.Exitting="Exitting",Re.Exited="Exited",A.LayerRenderStatus=void 0,(Xe=A.LayerRenderStatus||(A.LayerRenderStatus={}))[Xe.PreRender=0]="PreRender",Xe[Xe.DidRender=1]="DidRender",A.PageMode=void 0,(Ge=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",Ge.Bookmarks="UseOutlines",Ge.ContentGroup="UseOC",Ge.Default="UserNone",Ge.FullScreen="FullScreen",Ge.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(tt=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",tt.WrongPassword="WrongPassword",A.RotateDirection=void 0,(ct=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",ct.Forward="Forward",A.ScrollMode=void 0,(vt=A.ScrollMode||(A.ScrollMode={})).Page="Page",vt.Horizontal="Horizontal",vt.Vertical="Vertical",vt.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(ut=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",ut.PageFit="PageFit",ut.PageWidth="PageWidth",A.ViewMode=void 0,(ft=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",ft.DualPageWithCover="DualPageWithCover",ft.SinglePage="SinglePage";var We,lt=function(K,me){return K.reduce(function(ke,Le,Oe){return Oe%me?ke[ke.length-1].push(Le):ke.push([Le]),ke},[])},At=function(K,me){switch(me[1].name){case"XYZ":return{bottomOffset:function(ke,Le){return me[3]===null?Le:me[3]},leftOffset:function(ke,Le){return me[2]===null?0:me[2]},pageIndex:K,scaleTo:me[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:K,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:me[2],leftOffset:0,pageIndex:K,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:K,scaleTo:1}}},Ct=new Map,qt=new Map,Kt=function(K,me){return"".concat(K.loadingTask.docId,"___").concat(me.num,"R").concat(me.gen===0?"":me.gen)},Xt=function(K,me,ke){Ct.set(Kt(K,me),ke)},rn=function(K,me){if(!K)return Promise.reject("The document is not loaded yet");var ke="".concat(K.loadingTask.docId,"___").concat(me),Le=qt.get(ke);return Le?Promise.resolve(Le):new Promise(function(Oe,je){K.getPage(me+1).then(function(et){qt.set(ke,et),et.ref&&Xt(K,et.ref,me),Oe(et)})})},nn=function(K,me){return new Promise(function(ke){new Promise(function(Le){typeof me=="string"?K.getDestination(me).then(function(Oe){Le(Oe)}):Le(me)}).then(function(Le){if(typeof Le[0]=="object"&&Le[0]!==null){var Oe=Le[0],je=function(Ye,Ie){var Je=Kt(Ye,Ie);return Ct.has(Je)?Ct.get(Je):null}(K,Oe);je===null?K.getPageIndex(Oe).then(function(Ye){Xt(K,Oe,Ye),nn(K,me).then(function(Ie){return ke(Ie)})}):ke(At(je,Le))}else{var et=At(Le[0],Le);ke(et)}})})};(function(K){K[K.Solid=1]="Solid",K[K.Dashed=2]="Dashed",K[K.Beveled=3]="Beveled",K[K.Inset=4]="Inset",K[K.Underline=5]="Underline"})(We||(We={}));var Vt,an=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),st=function(K,me,ke,Le){var Oe=parseInt(K,10);return Oe>=me&&Oe<=ke?Oe:Le},Ve=function(K){return K.contentsObj?K.contentsObj.str:K.contents||""},Ne=function(K){return K.titleObj?K.titleObj.str:K.title||""},_t=function(K){var me=K.annotation,ke=B.useContext(le).direction,Le=Ne(me),Oe=Ve(me),je=ke===A.TextDirection.RightToLeft,et=B.useRef(),Ye="";if(me.modificationDate){var Ie=function(Je){var Ze=an.exec(Je);if(!Ze)return null;var yt=parseInt(Ze[1],10),bt=st(Ze[2],1,12,1)-1,mt=st(Ze[3],1,31,1),Lt=st(Ze[4],0,23,0),Rt=st(Ze[5],0,59,0),Mt=st(Ze[6],0,59,0),_n=Ze[7]||"Z",Jt=st(Ze[8],0,23,0),Qt=st(Ze[9],0,59,0);switch(_n){case"-":Lt+=Jt,Rt+=Qt;break;case"+":Lt-=Jt,Rt-=Qt}return new Date(Date.UTC(yt,bt,mt,Lt,Rt,Mt))}(me.modificationDate);Ye=Ie?"".concat(Ie.toLocaleDateString(),", ").concat(Ie.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(et.current){var Je=document.querySelector('[data-annotation-id="'.concat(me.id,'"]'));if(Je){var Ze=Je;return Ze.style.zIndex+=1,function(){Ze.style.zIndex="".concat(parseInt(Ze.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:et,className:ne({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":je}),style:{top:me.annotationType===A.AnnotationType.Popup?"":"100%"}},Le&&B.createElement(B.Fragment,null,B.createElement("div",{className:ne({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!je,"rpv-core__annotation-popup-title--rtl":je})},Le),B.createElement("div",{className:"rpv-core__annotation-popup-date"},Ye)),Oe&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Oe.split("\n").map(function(Je,Ze){return B.createElement(B.Fragment,{key:Ze},Je,B.createElement("br",null))})))};(function(K){K.Click="Click",K.Hover="Hover"})(Vt||(Vt={}));var dt,gn=function(K){var me,ke=K.annotation,Le=K.children,Oe=K.ignoreBorder,je=K.hasPopup,et=K.isRenderable,Ye=K.page,Ie=K.viewport,Je=ke.rect,Ze=function(){var on=ye(!1),kn=on.opened,Cn=on.toggle,Mn=B.useState(Vt.Hover),xn=Mn[0],$n=Mn[1];return{opened:kn,closeOnHover:function(){xn===Vt.Hover&&Cn(A.ToggleStatus.Close)},openOnHover:function(){xn===Vt.Hover&&Cn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(xn){case Vt.Click:kn&&$n(Vt.Hover),Cn(A.ToggleStatus.Toggle);break;case Vt.Hover:$n(Vt.Click),Cn(A.ToggleStatus.Open)}}}}(),yt=Ze.closeOnHover,bt=Ze.opened,mt=Ze.openOnHover,Lt=Ze.toggleOnClick,Rt=(me=[Je[0],Ye.view[3]+Ye.view[1]-Je[1],Je[2],Ye.view[3]+Ye.view[1]-Je[3]],[Math.min(me[0],me[2]),Math.min(me[1],me[3]),Math.max(me[0],me[2]),Math.max(me[1],me[3])]),Mt=Je[2]-Je[0],_n=Je[3]-Je[1],Jt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Oe&&ke.borderStyle.width>0){switch(ke.borderStyle.style){case We.Dashed:Jt.borderStyle="dashed";break;case We.Solid:Jt.borderStyle="solid";break;case We.Underline:Jt=Object.assign({borderBottomStyle:"solid"},Jt);case We.Beveled:case We.Inset:}var Qt=ke.borderStyle.width;Jt.borderWidth="".concat(Qt,"px"),ke.borderStyle.style!==We.Underline&&(Mt-=2*Qt,_n-=2*Qt);var cn=ke.borderStyle,Ht=cn.horizontalCornerRadius,un=cn.verticalCornerRadius;(Ht>0||un>0)&&(Jt.borderRadius="".concat(Ht,"px / ").concat(un,"px")),ke.color?Jt.borderColor="rgb(".concat(0|ke.color[0],", ").concat(0|ke.color[1],", ").concat(0|ke.color[2],")"):Jt.borderWidth="0"}return B.createElement(B.Fragment,null,et&&Le({popup:{opened:bt,closeOnHover:yt,openOnHover:mt,toggleOnClick:Lt},slot:{attrs:{style:Object.assign({height:"".concat(_n,"px"),left:"".concat(Rt[0],"px"),top:"".concat(Rt[1],"px"),transform:"matrix(".concat(Ie.transform.join(","),")"),transformOrigin:"-".concat(Rt[0],"px -").concat(Rt[1],"px"),width:"".concat(Mt,"px")},Jt)},children:B.createElement(B.Fragment,null,je&&bt&&B.createElement(_t,{annotation:ke}))}}))},Pn=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et);return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Ke=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(bt){return B.createElement("div",X({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("circle",{cy:Ze/2,fill:"none",rx:Je/2-yt/2,ry:Ze/2-yt/2,stroke:"transparent",strokeWidth:yt||1})),bt.slot.children)})},Pt=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=Ne(me),je=Ve(me),et=!(me.hasPopup!==!1||!Oe&&!je),Ye=function(){var Ie,Je,Ze,yt,bt=me.file;bt&&(Ie=bt.filename,Je=bt.content,Ze=typeof Je=="string"?"":URL.createObjectURL(new Blob([Je],{type:""})),(yt=document.createElement("a")).style.display="none",yt.href=Ze||Ie,yt.setAttribute("download",function(mt){var Lt=mt.split("/").pop();return Lt?Lt.split("#")[0].split("?")[0]:mt}(Ie)),document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),Ze&&URL.revokeObjectURL(Ze))};return B.createElement(gn,{annotation:me,hasPopup:et,ignoreBorder:!0,isRenderable:!0,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onDoubleClick:Ye,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Ot=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et);return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},xt=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=Ne(me),je=Ve(me),et=!(!Oe&&!je),Ye=!me.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(me.parentType)!==-1;return re(function(){if(me.parentId){var Ie=document.querySelector('[data-annotation-id="'.concat(me.parentId,'"]')),Je=document.querySelector('[data-annotation-id="'.concat(me.id,'"]'));if(Ie&&Je){var Ze=parseFloat(Ie.style.left),yt=parseFloat(Ie.style.top)+parseFloat(Ie.style.height);Je.style.left="".concat(Ze,"px"),Je.style.top="".concat(yt,"px"),Je.style.transformOrigin="-".concat(Ze,"px -").concat(yt,"px")}}},[]),B.createElement(gn,{annotation:me,hasPopup:Ye,ignoreBorder:!1,isRenderable:et,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":me.id}),B.createElement(_t,{annotation:me}))})},Bt=function(K){var me=K.annotation,ke=K.childAnnotation,Le=K.page,Oe=K.viewport,je=me.hasPopup===!1,et=Ne(me),Ye=Ve(me),Ie=!!(me.hasPopup||et||Ye);if(me.quadPoints&&me.quadPoints.length>0){var Je=me.quadPoints.map(function(Ze){return Object.assign({},me,{rect:[Ze[2].x,Ze[2].y,Ze[1].x,Ze[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,Je.map(function(Ze,yt){return B.createElement(Bt,{key:yt,annotation:Ze,childAnnotation:ke,page:Le,viewport:Oe})}))}return B.createElement(gn,{annotation:me,hasPopup:je,ignoreBorder:!0,isRenderable:Ie,page:Le,viewport:Oe},function(Ze){return B.createElement(B.Fragment,null,B.createElement("div",X({},Ze.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":me.id,onClick:Ze.popup.toggleOnClick,onMouseEnter:Ze.popup.openOnHover,onMouseLeave:Ze.popup.closeOnHover}),Ze.slot.children),ke&&ke.annotationType===A.AnnotationType.Popup&&Ze.popup.opened&&B.createElement(xt,{annotation:ke,page:Le,viewport:Oe}))})},zt=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(bt){return B.createElement("div",X({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),me.inkLists&&me.inkLists.length&&B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},me.inkLists.map(function(mt,Lt){return B.createElement("polyline",{key:Lt,fill:"none",stroke:"transparent",strokeWidth:yt||1,points:mt.map(function(Rt){return"".concat(Rt.x-Ie[0],",").concat(Ie[3]-Rt.y)}).join(" ")})})),bt.slot.children)})},En=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(bt){return B.createElement("div",X({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:yt||1,x1:Ie[2]-me.lineCoordinates[0],x2:Ie[2]-me.lineCoordinates[2],y1:Ie[3]-me.lineCoordinates[1],y2:Ie[3]-me.lineCoordinates[3]})),bt.slot.children)})},wt=/^([^\w]*)(javascript|data|vbscript)/im,fn=/&#(\w+)(^\w|;)?/g,Nt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Me=/^([^:]+):/gm,U=function(K,me){me===void 0&&(me="about:blank");var ke,Le=(ke=K||"",ke.replace(fn,function(Ye,Ie){return String.fromCharCode(Ie)})).replace(Nt,"").trim();if(!Le)return me;var Oe=Le[0];if(Oe==="."||Oe==="/")return Le;var je=Le.match(Me);if(!je)return Le;var et=je[0];return wt.test(et)?me:Le},Se=function(K){var me,ke=K.annotation,Le=K.annotationContainerRef,Oe=K.doc,je=K.outlines,et=K.page,Ye=K.pageIndex,Ie=K.scale,Je=K.viewport,Ze=K.onExecuteNamedAction,yt=K.onJumpFromLinkAnnotation,bt=K.onJumpToDest,mt=B.useRef(),Lt=je&&je.length&&ke.dest&&typeof ke.dest=="string"?(me=je.find(function(Jt){return Jt.dest===ke.dest}))===null||me===void 0?void 0:me.title:"",Rt=!!(ke.url||ke.dest||ke.action||ke.unsafeUrl),Mt={};if(ke.url||ke.unsafeUrl){var _n=U(ke.url||ke.unsafeUrl,"");_n?Mt={"data-target":"external",href:_n,rel:"noopener noreferrer nofollow",target:ke.newWindow?"_blank":"",title:_n}:Rt=!1}else Mt={href:"","data-annotation-link":ke.id,onClick:function(Jt){Jt.preventDefault(),ke.action?Ze(ke.action):nn(Oe,ke.dest).then(function(Qt){var cn=mt.current,Ht=Le.current;if(cn&&Ht){var un=cn.getBoundingClientRect();Ht.style.setProperty("height","100%"),Ht.style.setProperty("width","100%");var on=Ht.getBoundingClientRect();Ht.style.removeProperty("height"),Ht.style.removeProperty("width");var kn=(un.left-on.left)/Ie,Cn=(on.bottom-un.bottom+un.height)/Ie;yt({bottomOffset:Cn,label:Lt,leftOffset:kn,pageIndex:Ye})}bt(Qt)})}};return Lt&&(Mt=Object.assign({},Mt,{title:Lt,"aria-label":Lt})),B.createElement(gn,{annotation:ke,hasPopup:!1,ignoreBorder:!1,isRenderable:Rt,page:et,viewport:Je},function(Jt){return B.createElement("div",X({},Jt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":ke.id,"data-testid":"core__annotation--link-".concat(ke.id)}),B.createElement("a",X({ref:mt},Mt)))})},xe=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(bt){return B.createElement("div",X({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),me.vertices&&me.vertices.length&&B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:me.vertices.map(function(mt){return"".concat(mt.x-Ie[0],",").concat(Ie[3]-mt.y)}).join(" ")})),bt.slot.children)})},Be=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(bt){return B.createElement("div",X({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),me.vertices&&me.vertices.length&&B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:me.vertices.map(function(mt){return"".concat(mt.x-Ie[0],",").concat(Ie[3]-mt.y)}).join(" ")})),bt.slot.children)})},qe=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(bt){return B.createElement("div",X({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("rect",{height:Ze-yt,fill:"none",stroke:"transparent",strokeWidth:yt||1,x:yt/2,y:yt/2,width:Je-yt})),bt.slot.children)})},it=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et);return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Et=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et);return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Tt=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et);return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},$t=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},en=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},It=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Dt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},Wt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ln=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},vn=function(K){var me=K.annotation,ke=K.childAnnotation,Le=K.page,Oe=K.viewport,je=me.hasPopup===!1,et=Ne(me),Ye=Ve(me),Ie=!!(me.hasPopup||et||Ye),Je=me.name?me.name.toLowerCase():"";return B.createElement(gn,{annotation:me,hasPopup:je,ignoreBorder:!1,isRenderable:Ie,page:Le,viewport:Oe},function(Ze){return B.createElement(B.Fragment,null,B.createElement("div",X({},Ze.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":me.id,onClick:Ze.popup.toggleOnClick,onMouseEnter:Ze.popup.openOnHover,onMouseLeave:Ze.popup.closeOnHover}),Je&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},Je==="check"&&B.createElement(ae,null),Je==="comment"&&B.createElement($t,null),Je==="help"&&B.createElement(en,null),Je==="insert"&&B.createElement(ln,null),Je==="key"&&B.createElement(It,null),Je==="note"&&B.createElement(Dt,null),(Je==="newparagraph"||Je==="paragraph")&&B.createElement(Wt,null)),Ze.slot.children),ke&&ke.annotationType===A.AnnotationType.Popup&&Ze.popup.opened&&B.createElement(xt,{annotation:ke,page:Le,viewport:Oe}))})},An=function(K){var me=K.annotation,ke=K.page,Le=K.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ye=!!(me.hasPopup||je||et);return B.createElement(gn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",X({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Gn=function(K){var me=K.annotations,ke=K.doc,Le=K.outlines,Oe=K.page,je=K.pageIndex,et=K.plugins,Ye=K.rotation,Ie=K.scale,Je=K.onExecuteNamedAction,Ze=K.onJumpFromLinkAnnotation,yt=K.onJumpToDest,bt=B.useRef(),mt=Oe.getViewport({rotation:Ye,scale:Ie}).clone({dontFlip:!0}),Lt=me.filter(function(Rt){return!Rt.parentId});return re(function(){var Rt=bt.current;Rt&&et.forEach(function(Mt){Mt.onAnnotationLayerRender&&Mt.onAnnotationLayerRender({annotations:Lt,container:Rt,pageIndex:je,rotation:Ye,scale:Ie})})},[]),B.createElement("div",{ref:bt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(je)},Lt.map(function(Rt){var Mt=me.find(function(_n){return _n.parentId===Rt.id});switch(Rt.annotationType){case A.AnnotationType.Caret:return B.createElement(Pn,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Circle:return B.createElement(Ke,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.FileAttachment:return B.createElement(Pt,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.FreeText:return B.createElement(Ot,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Highlight:return B.createElement(Bt,{key:Rt.id,annotation:Rt,childAnnotation:Mt,page:Oe,viewport:mt});case A.AnnotationType.Ink:return B.createElement(zt,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Line:return B.createElement(En,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Link:return B.createElement(Se,{key:Rt.id,annotation:Rt,annotationContainerRef:bt,doc:ke,outlines:Le,page:Oe,pageIndex:je,scale:Ie,viewport:mt,onExecuteNamedAction:Je,onJumpFromLinkAnnotation:Ze,onJumpToDest:yt});case A.AnnotationType.Polygon:return B.createElement(xe,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Polyline:return B.createElement(Be,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Popup:return B.createElement(xt,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Square:return B.createElement(qe,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Squiggly:return B.createElement(it,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Stamp:return B.createElement(Et,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.StrikeOut:return B.createElement(Tt,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});case A.AnnotationType.Text:return B.createElement(vn,{key:Rt.id,annotation:Rt,childAnnotation:Mt,page:Oe,viewport:mt});case A.AnnotationType.Underline:return B.createElement(An,{key:Rt.id,annotation:Rt,page:Oe,viewport:mt});default:return B.createElement(B.Fragment,{key:Rt.id})}}))},On=function(K){var me=K.page,ke=K.renderAnnotations,Le=Te(),Oe=B.useState({loading:!0,annotations:[]}),je=Oe[0],et=Oe[1];return B.useEffect(function(){me.getAnnotations({intent:"display"}).then(function(Ye){Le.current&&et({loading:!1,annotations:Ye})})},[]),je.loading?B.createElement(B.Fragment,null):ke(je.annotations)},tr=function(K){var me=K.doc,ke=K.outlines,Le=K.page,Oe=K.pageIndex,je=K.plugins,et=K.rotation,Ye=K.scale,Ie=K.onExecuteNamedAction,Je=K.onJumpFromLinkAnnotation,Ze=K.onJumpToDest;return B.createElement(On,{page:Le,renderAnnotations:function(yt){return B.createElement(Gn,{annotations:yt,doc:me,outlines:ke,page:Le,pageIndex:Oe,plugins:je,rotation:et,scale:Ye,onExecuteNamedAction:Ie,onJumpFromLinkAnnotation:Je,onJumpToDest:Ze})}})},rr=function(K,me){var ke=K%me;return ke===0?K:Math.floor(K-ke)},cr=function(K){var me=K.canvasLayerRef,ke=K.height,Le=K.page,Oe=K.pageIndex,je=K.plugins,et=K.rotation,Ye=K.scale,Ie=K.width,Je=K.onRenderCanvasCompleted,Ze=B.useRef();return re(function(){var yt=Ze.current;yt&&yt.cancel();var bt=me.current;bt.removeAttribute("data-testid"),je.forEach(function(on){on.onCanvasLayerRender&&on.onCanvasLayerRender({ele:bt,pageIndex:Oe,rotation:et,scale:Ye,status:A.LayerRenderStatus.PreRender})});var mt=Le.getViewport({rotation:et,scale:Ye}),Lt=window.devicePixelRatio||1,Rt=Math.sqrt(16777216/(mt.width*mt.height)),Mt=Lt>Rt;Mt?bt.style.transform="scale(1, 1)":bt.style.removeProperty("transform");var _n=Math.min(Rt,Lt),Jt=function(on,kn){var Cn,Mn;if(Math.floor(on)===on)return[on,1];var xn=1/on;if(xn>kn)return[1,kn];if(Math.floor(xn)===xn)return[1,xn];for(var $n=on>1?xn:on,qn=0,jn=1,Xn=1,Hn=1;;){var Wn=qn+Xn,Un=jn+Hn;if(Un>kn)break;$n<=Wn/Un?(Xn=(Cn=[Wn,Un])[0],Hn=Cn[1]):(qn=(Mn=[Wn,Un])[0],jn=Mn[1])}return $n<(qn/jn+Xn/Hn)/2?$n===on?[qn,jn]:[jn,qn]:$n===on?[Xn,Hn]:[Hn,Xn]}(_n,8),Qt=Jt[0],cn=Jt[1];bt.width=rr(mt.width*_n,Qt),bt.height=rr(mt.height*_n,Qt),bt.style.width="".concat(rr(mt.width,cn),"px"),bt.style.height="".concat(rr(mt.height,cn),"px"),bt.hidden=!0;var Ht=bt.getContext("2d",{alpha:!1}),un=Mt||Lt!==1?[_n,0,0,_n,0,0]:null;return Ze.current=Le.render({canvasContext:Ht,transform:un,viewport:mt}),Ze.current.promise.then(function(){bt.hidden=!1,bt.setAttribute("data-testid","core__canvas-layer-".concat(Oe)),je.forEach(function(on){on.onCanvasLayerRender&&on.onCanvasLayerRender({ele:bt,pageIndex:Oe,rotation:et,scale:Ye,status:A.LayerRenderStatus.DidRender})}),Je()},function(){Je()}),function(){bt&&(bt.width=0,bt.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(ke,"px"),width:"".concat(Ie,"px")}},B.createElement("canvas",{ref:me}))},Nr=function(K){var me=K.height,ke=K.page,Le=K.rotation,Oe=K.scale,je=K.width,et=B.useRef();return re(function(){var Ye=et.current,Ie=ke.getViewport({rotation:Le,scale:Oe});ke.getOperatorList().then(function(Je){(function(){var Ze=et.current;Ze&&(Ze.innerHTML="")})(),new Q.SVGGraphics(ke.commonObjs,ke.objs).getSVG(Je,Ie).then(function(Ze){Ze.style.height="".concat(me,"px"),Ze.style.width="".concat(je,"px"),Ye.appendChild(Ze)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:et})},Ya=function(K){var me=K.containerRef,ke=K.page,Le=K.pageIndex,Oe=K.plugins,je=K.rotation,et=K.scale,Ye=K.onRenderTextCompleted,Ie=B.useRef(),Je=function(){var Ze=me.current;Ze&&([].slice.call(Ze.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(yt){return Ze.removeChild(yt)}),[].slice.call(Ze.querySelectorAll('br[role="presentation"]')).forEach(function(yt){return Ze.removeChild(yt)}))};return re(function(){var Ze=Ie.current;Ze&&Ze.cancel();var yt=me.current;if(yt){yt.removeAttribute("data-testid");var bt=ke.getViewport({rotation:je,scale:et});return Oe.forEach(function(mt){mt.onTextLayerRender&&mt.onTextLayerRender({ele:yt,pageIndex:Le,scale:et,status:A.LayerRenderStatus.PreRender})}),ke.getTextContent().then(function(mt){Je(),Ie.current=Q.renderTextLayer({container:yt,textContent:mt,textContentSource:mt,viewport:bt}),Ie.current.promise.then(function(){yt.setAttribute("data-testid","core__text-layer-".concat(Le)),[].slice.call(yt.children).forEach(function(Lt){Lt.classList.contains("rpv-core__text-layer-text--not")||Lt.classList.add("rpv-core__text-layer-text")}),Oe.forEach(function(Lt){Lt.onTextLayerRender&&Lt.onTextLayerRender({ele:yt,pageIndex:Le,scale:et,status:A.LayerRenderStatus.DidRender})}),Ye()},function(){yt.removeAttribute("data-testid"),Ye()})}),function(){var mt;Je(),(mt=Ie.current)===null||mt===void 0||mt.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:me})},Za=function(K){var me=K.doc,ke=K.measureRef,Le=K.outlines,Oe=K.pageIndex,je=K.pageRotation,et=K.pageSize,Ye=K.plugins,Ie=K.renderPage,Je=K.renderQueueKey,Ze=K.rotation,yt=K.scale,bt=K.shouldRender,mt=K.viewMode,Lt=K.onExecuteNamedAction,Rt=K.onJumpFromLinkAnnotation,Mt=K.onJumpToDest,_n=K.onRenderCompleted,Jt=K.onRotatePage,Qt=Te(),cn=B.useState(null),Ht=cn[0],un=cn[1],on=B.useState(!1),kn=on[0],Cn=on[1],Mn=B.useState(!1),xn=Mn[0],$n=Mn[1],qn=B.useRef(),jn=B.useRef(),Xn=Math.abs(Ze+je)%180==0,Hn=et.pageWidth*yt,Wn=et.pageHeight*yt,Un=Xn?Hn:Wn,Vn=Xn?Wn:Hn,er=(et.rotation+Ze+je)%360,lr=B.useRef(0),sr=Ie||function(Zn){return B.createElement(B.Fragment,null,Zn.canvasLayer.children,Zn.textLayer.children,Zn.annotationLayer.children)};return B.useEffect(function(){un(null),Cn(!1),$n(!1)},[je,Ze,yt]),B.useEffect(function(){bt&&Qt.current&&!Ht&&rn(me,Oe).then(function(Zn){Qt.current&&(lr.current=Je,un(Zn))})},[bt,Ht]),B.useEffect(function(){kn&&xn&&(Je!==lr.current?(un(null),Cn(!1),$n(!1)):_n(Oe))},[kn,xn]),B.createElement("div",{className:ne({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":mt===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":mt===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":mt===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Oe),ref:ke,style:{height:"".concat(Vn,"px"),width:"".concat(Un,"px")}},Ht?B.createElement(B.Fragment,null,sr({annotationLayer:{attrs:{},children:B.createElement(tr,{doc:me,outlines:Le,page:Ht,pageIndex:Oe,plugins:Ye,rotation:er,scale:yt,onExecuteNamedAction:Lt,onJumpFromLinkAnnotation:Rt,onJumpToDest:Mt})},canvasLayer:{attrs:{},children:B.createElement(cr,{canvasLayerRef:qn,height:Vn,page:Ht,pageIndex:Oe,plugins:Ye,rotation:er,scale:yt,width:Un,onRenderCanvasCompleted:function(){Qt.current&&Cn(!0)}})},canvasLayerRendered:kn,doc:me,height:Vn,pageIndex:Oe,rotation:er,scale:yt,svgLayer:{attrs:{},children:B.createElement(Nr,{height:Vn,page:Ht,rotation:er,scale:yt,width:Un})},textLayer:{attrs:{},children:B.createElement(Ya,{containerRef:jn,page:Ht,pageIndex:Oe,plugins:Ye,rotation:er,scale:yt,onRenderTextCompleted:function(){Qt.current&&$n(!0)}})},textLayerRendered:xn,width:Un,markRendered:_n,onRotatePage:function(Zn){return Jt(Oe,Zn)}}),Ye.map(function(Zn,nr){return Zn.renderPageLayer?B.createElement(B.Fragment,{key:nr},Zn.renderPageLayer({canvasLayerRef:qn,canvasLayerRendered:kn,doc:me,height:Vn,pageIndex:Oe,rotation:er,scale:yt,textLayerRef:jn,textLayerRendered:xn,width:Un})):B.createElement(B.Fragment,{key:nr})})):B.createElement(ue,{testId:"core__page-layer-loading-".concat(Oe)}))},Ja=function(K,me){var ke=me.rect;return K.height!==ke.height||K.width!==ke.width?ke:K};(function(K){K.Horizontal="Horizontal",K.Vertical="Vertical",K.Both="Both"})(dt||(dt={}));var Qa=function(K){return 1-Math.pow(1-K,4)},Br=1e-4,Ji={left:0,top:0},Qi={capture:!1,passive:!0},eo=function(K){var me=K.elementRef,ke=K.enableSmoothScroll,Le=K.isRtl,Oe=K.scrollDirection,je=K.onSmoothScroll,et=B.useState(Ji),Ye=et[0],Ie=et[1],Je=B.useState(me.current),Ze=Je[0],yt=Je[1],bt=Le?-1:1,mt=B.useRef(Oe);mt.current=Oe;var Lt=B.useRef(Ji),Rt=B.useRef(!0),Mt=B.useCallback(function(){Rt.current=!0,ke&&Ie(Lt.current),je(!1)},[]),_n=B.useCallback(function(){if(Ze){switch(mt.current){case dt.Horizontal:Lt.current={left:bt*Ze.scrollLeft,top:0};break;case dt.Both:Lt.current={left:bt*Ze.scrollLeft,top:Ze.scrollTop};break;case dt.Vertical:default:Lt.current={left:0,top:Ze.scrollTop}}ke&&!Rt.current||Ie(Lt.current)}},[Ze]);re(function(){yt(me.current)}),re(function(){if(Ze)return Ze.addEventListener("scroll",_n,Qi),function(){Ze.removeEventListener("scroll",_n,Qi)}},[Ze]);var Jt=B.useCallback(function(Qt,cn){var Ht=me.current;if(!Ht)return Promise.resolve();var un={left:0,top:0};switch(mt.current){case dt.Horizontal:un.left=bt*Qt.left;break;case dt.Both:un.left=bt*Qt.left,un.top=Qt.top;break;case dt.Vertical:default:un.top=Qt.top}return cn?(Rt.current=!1,je(!0),new Promise(function(on,kn){(function(Cn,Mn,xn,$n,qn,jn){qn===void 0&&(qn=function(nr){return nr}),jn===void 0&&(jn=function(){});var Xn=0,Hn=0,Wn=!1;switch(Mn){case dt.Horizontal:Hn=Cn.scrollLeft,Xn=0;case dt.Both:Hn=Cn.scrollLeft,Xn=Cn.scrollTop;break;case dt.Vertical:default:Hn=0,Xn=Cn.scrollTop}var Un=function(){Wn||(Wn=!0,Cn.scrollLeft=xn.left,Cn.scrollTop=xn.top,jn())};if(Math.abs(Xn-xn.top)<=Br&&Mn===dt.Vertical)Un();else if(Math.abs(Hn-xn.left)<=Br&&Mn===dt.Horizontal)Un();else{var Vn,er=-1,lr=Hn-xn.left,sr=Xn-xn.top,Zn=function(nr){er===-1&&(er=nr);var ur=nr-er,sn=Math.min(ur/$n,1),tn=qn(sn),Ut={left:Hn-lr*tn,top:Xn-sr*tn};switch(Mn){case dt.Horizontal:Cn.scrollLeft=Ut.left;break;case dt.Both:Cn.scrollLeft=Ut.left,Cn.scrollTop=Ut.top;break;case dt.Vertical:default:Cn.scrollTop=Ut.top}Math.abs(Ut.top-xn.top)<=Br&&Math.abs(Ut.left-xn.left)<=Br&&!Wn&&(window.cancelAnimationFrame(Vn),Un()),ur<$n?Vn=window.requestAnimationFrame(Zn):window.cancelAnimationFrame(Vn)};Vn=window.requestAnimationFrame(Zn)}})(Ht,mt.current,un,400,Qa,function(){Mt(),on()})})):new Promise(function(on,kn){switch(mt.current){case dt.Horizontal:Ht.scrollLeft=un.left;break;case dt.Both:Ht.scrollLeft=un.left,Ht.scrollTop=un.top;break;case dt.Vertical:default:Ht.scrollTop=un.top}on()})},[me]);return{scrollOffset:Ye,scrollTo:Jt}},Mr=function(K,me,ke){return Math.max(K,Math.min(ke,me))},to=function(K,me){if(me!==A.ViewMode.DualPageWithCover)return 0;if(!function(Oe){var je=Oe.length;if(je===1)return!1;for(var et=1;et<je;et++)if(Oe[et].height!==Oe[0].height||Oe[et].width!==Oe[0].width)return!0;return!1}(K))return 2*K[0].width;var ke=lt(K.slice(1),2).map(function(Oe){return Oe.length===2?Oe[0].width+Oe[1].width:Oe[0].width}),Le=[K[0].width].concat(ke);return Math.max.apply(Math,Le)},no={left:0,top:0},ro={left:0,top:0},ai={left:0,top:0},io={left:0,top:0},ao={height:0,width:0},ea={left:0,top:0},ta="data-virtual-index",oo=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],so=function(K){var me=K.enableSmoothScroll,ke=K.isRtl,Le=K.numberOfItems,Oe=K.parentRef,je=K.setRenderRange,et=K.sizes,Ye=K.scrollMode,Ie=K.viewMode,Je=B.useState(!1),Ze=Je[0],yt=Je[1],bt=B.useCallback(function(sn){return yt(sn)},[]),mt=B.useRef(Ye);mt.current=Ye;var Lt=B.useRef(Ie);Lt.current=Ie;var Rt=Ye===A.ScrollMode.Wrapped||Ie===A.ViewMode.DualPageWithCover||Ie===A.ViewMode.DualPage?dt.Both:Ye===A.ScrollMode.Horizontal?dt.Horizontal:dt.Vertical,Mt=eo({elementRef:Oe,enableSmoothScroll:me,isRtl:ke,scrollDirection:Rt,onSmoothScroll:bt}),_n=Mt.scrollOffset,Jt=Mt.scrollTo,Qt=function(sn){var tn=sn.elementRef,Ut=B.useState(tn.current),Yt=Ut[0],Gt=Ut[1],dn=B.useRef(!1),hn=B.useReducer(Ja,{height:0,width:0}),Zt=hn[0],jt=hn[1];return re(function(){tn.current!==Yt&&Gt(tn.current)}),re(function(){if(Yt&&!dn.current){dn.current=!0;var pn=Yt.getBoundingClientRect(),yn=pn.height,Nn=pn.width;jt({rect:{height:yn,width:Nn}})}},[Yt]),B.useEffect(function(){if(Yt){var pn=new ResizeObserver(function(yn,Nn){yn.forEach(function(Ln){if(Ln.target===Yt){var Jn=Ln.contentRect,ir=Jn.height,bn=Jn.width;jt({rect:{height:ir,width:bn}})}})});return pn.observe(Yt),function(){pn.unobserve(Yt)}}},[Yt]),Zt}({elementRef:Oe}),cn=B.useRef({scrollOffset:ea,measurements:[]});cn.current.scrollOffset=_n;var Ht=B.useMemo(function(){return Array(Le).fill(-1)},[]),un=B.useState(Ht),on=un[0],kn=un[1],Cn=B.useMemo(function(){var sn=new IntersectionObserver(function(tn){tn.forEach(function(Ut){var Yt=Ut.isIntersecting?Ut.intersectionRatio:-1,Gt=Ut.target.getAttribute(ta);if(Gt){var dn=parseInt(Gt,10);0<=dn&&dn<Le&&kn(function(hn){return hn[dn]=Yt,function(Zt,jt,pn){if(pn||arguments.length===2)for(var yn,Nn=0,Ln=jt.length;Nn<Ln;Nn++)!yn&&Nn in jt||(yn||(yn=Array.prototype.slice.call(jt,0,Nn)),yn[Nn]=jt[Nn]);return Zt.concat(yn||Array.prototype.slice.call(jt))}([],hn,!0)})}})},{threshold:oo});return sn},[]),Mn=B.useMemo(function(){return Ye===A.ScrollMode.Page&&Ie===A.ViewMode.SinglePage?function(sn,tn,Ut){for(var Yt=[],Gt=0;Gt<sn;Gt++){var dn={height:Math.max(tn.height,Ut[Gt].height),width:Math.max(tn.width,Ut[Gt].width)},hn=Gt===0?io:Yt[Gt-1].end,Zt={left:hn.left+dn.width,top:hn.top+dn.height};Yt[Gt]={index:Gt,start:hn,size:dn,end:Zt,visibility:-1}}return Yt}(Le,Qt,et):Ie===A.ViewMode.DualPageWithCover?function(sn,tn,Ut,Yt){for(var Gt=[],dn=0,hn=0,Zt=ai,jt=0;jt<sn;jt++){var pn=jt===0?{height:Yt===A.ScrollMode.Page?Math.max(tn.height,Ut[jt].height):Ut[jt].height,width:Yt===A.ScrollMode.Page?Math.max(tn.width,Ut[jt].width):Ut[jt].width}:{height:Yt===A.ScrollMode.Page?Math.max(tn.height,Ut[jt].height):Ut[jt].height,width:Math.max(tn.width/2,Ut[jt].width)};Yt===A.ScrollMode.Page?Zt=jt===0?ai:{left:jt%2==0?pn.width:0,top:Math.floor((jt-1)/2)*pn.height+Gt[0].end.top}:jt===0?(Zt=ai,dn=Ut[0].height,hn=0):jt%2==1?(Zt={left:0,top:dn+=hn},hn=jt===sn-1?Ut[jt].height:Math.max(Ut[jt].height,Ut[jt+1].height)):Zt={left:Gt[jt-1].end.left,top:dn};var yn={left:Zt.left+pn.width,top:Zt.top+pn.height};Gt[jt]={index:jt,start:Zt,size:pn,end:yn,visibility:-1}}return Gt}(Le,Qt,et,Ye):Ie===A.ViewMode.DualPage?function(sn,tn,Ut,Yt){for(var Gt=[],dn=0,hn=0,Zt=ro,jt=0;jt<sn;jt++){var pn={height:Yt===A.ScrollMode.Page?Math.max(tn.height,Ut[jt].height):Ut[jt].height,width:Math.max(tn.width/2,Ut[jt].width)};Yt===A.ScrollMode.Page?Zt={left:jt%2==0?0:pn.width,top:Math.floor(jt/2)*pn.height}:jt%2==0?(Zt={left:0,top:dn+=hn},hn=jt===sn-1?Ut[jt].height:Math.max(Ut[jt].height,Ut[jt+1].height)):Zt={left:Gt[jt-1].end.left,top:dn};var yn={left:Zt.left+pn.width,top:Zt.top+pn.height};Gt[jt]={index:jt,start:Zt,size:pn,end:yn,visibility:-1}}return Gt}(Le,Qt,et,Ye):function(sn,tn,Ut,Yt){for(var Gt=[],dn=0,hn={left:0,top:0},Zt=0,jt=no,pn=0;pn<sn;pn++){var yn=Ut[pn];if(pn===0)dn=yn.width,hn={left:0,top:0},Zt=yn.height;else switch(Yt){case A.ScrollMode.Wrapped:(dn+=yn.width)<tn.width?(jt={left:Gt[pn-1].end.left,top:hn.top},Zt=Math.max(Zt,yn.height)):(dn=yn.width,hn={left:(jt={left:hn.left,top:hn.top+Zt}).left,top:jt.top},Zt=yn.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:jt=Gt[pn-1].end}var Nn={left:jt.left+yn.width,top:jt.top+yn.height};Gt[pn]={index:pn,start:jt,size:yn,end:Nn,visibility:-1}}return Gt}(Le,Qt,et,Ye)},[Ye,et,Ie,Qt]),xn=Mn[Le-1]?{height:Mn[Le-1].end.top,width:Mn[Le-1].end.left}:ao;cn.current.measurements=Mn;var $n=B.useMemo(function(){var sn=function(pn,yn,Nn,Ln){var Jn=0;switch(pn){case dt.Horizontal:Jn=Ln.left;break;case dt.Vertical:default:Jn=Ln.top}var ir=yn.length-1,bn=function(Fn,hr,yr,zr){for(;Fn<=hr;){var vr=(Fn+hr)/2|0,xr=zr(vr);if(xr<yr)Fn=vr+1;else{if(!(xr>yr))return vr;hr=vr-1}}return Fn>0?Fn-1:0}(0,ir,Jn,function(Fn){switch(pn){case dt.Horizontal:return yn[Fn].start.left;case dt.Both:case dt.Vertical:default:return yn[Fn].start.top}});if(pn===dt.Both)for(var Qn=yn[bn].start.top;bn-1>=0&&yn[bn-1].start.top===Qn&&yn[bn-1].start.left>=Ln.left;)bn--;for(var Bn=bn;Bn<=ir;){var zn={top:yn[Bn].start.top-Ln.top,left:yn[Bn].start.left-Ln.left},Kn={height:Nn.height-zn.top,width:Nn.width-zn.left};if(pn===dt.Horizontal&&Kn.width<0||pn===dt.Vertical&&Kn.height<0||pn===dt.Both&&(Kn.width<0||Kn.height<0))break;Bn++}return{start:bn,end:Bn}}(Rt,Mn,Qt,_n),tn=sn.start,Ut=sn.end,Yt=on.slice(Mr(0,Le,tn),Mr(0,Le,Ut)),Gt=tn+Yt.reduce(function(pn,yn,Nn,Ln){return yn>Ln[pn]?Nn:pn},0),dn=Gt=Mr(0,Le-1,Gt),hn=je({endPage:Ut,numPages:Le,startPage:tn}),Zt=hn.startPage,jt=hn.endPage;switch(Zt=Math.max(Zt,0),jt=Math.min(jt,Le-1),Ie){case A.ViewMode.DualPageWithCover:Gt>0&&(dn=Gt%2==1?Gt:Gt-1),Zt=Zt===0?0:Zt%2==1?Zt:Zt-1,Le-(jt=jt%2==1?jt-1:jt)<=2&&(jt=Le-1);break;case A.ViewMode.DualPage:dn=Gt%2==0?Gt:Gt-1,Zt=Zt%2==0?Zt:Zt-1,jt=jt%2==1?jt:jt-1;break;case A.ViewMode.SinglePage:default:dn=Gt}return{startPage:Zt,endPage:jt,maxVisbilityIndex:dn}},[Mn,Qt,_n,Ie,on]),qn=$n.startPage,jn=$n.endPage,Xn=$n.maxVisbilityIndex,Hn=B.useMemo(function(){for(var sn=[],tn=function(Yt){var Gt=Mn[Yt],dn=X(X({},Gt),{visibility:on[Yt]!==void 0?on[Yt]:-1,measureRef:function(hn){hn&&(hn.setAttribute(ta,"".concat(Yt)),Cn.observe(hn))}});sn.push(dn)},Ut=qn;Ut<=jn;Ut++)tn(Ut);return sn},[qn,jn,on,Mn]),Wn=B.useCallback(function(sn,tn){var Ut=cn.current.measurements[Mr(0,Le-1,sn)],Yt=mt.current===A.ScrollMode.Page?ea:tn;return Ut?Jt({left:Yt.left+Ut.start.left,top:Yt.top+Ut.start.top},me):Promise.resolve()},[Jt,me]),Un=B.useCallback(function(sn,tn){var Ut=cn.current.measurements,Yt=Ut[sn].start,Gt=Ut.find(function(hn){return hn.start.top-Yt.top>1e-12});if(!Gt)return Promise.resolve();var dn=Gt.index;switch(Lt.current){case A.ViewMode.DualPage:dn=dn%2==0?dn:dn+1;break;case A.ViewMode.DualPageWithCover:dn=dn%2==1?dn:dn+1}return Wn(dn,tn)},[]),Vn=B.useCallback(function(sn,tn){for(var Ut=cn.current.measurements,Yt=Ut[sn].start,Gt=sn,dn=!1,hn=Le-1;hn>=0;hn--)if(Yt.top-Ut[hn].start.top>1e-12){dn=!0,Gt=Ut[hn].index;break}if(!dn)return Promise.resolve();switch(Lt.current){case A.ViewMode.DualPage:Gt=Gt%2==0?Gt:Gt-1;break;case A.ViewMode.DualPageWithCover:Gt=Gt%2==0?Gt-1:Gt}return Gt===sn&&(Gt=sn-1),Wn(Gt,tn)},[]),er=B.useCallback(function(sn,tn){if(Lt.current===A.ViewMode.DualPageWithCover||Lt.current===A.ViewMode.DualPage)return Un(sn,tn);switch(mt.current){case A.ScrollMode.Wrapped:return Un(sn,tn);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Wn(sn+1,tn)}},[]),lr=B.useCallback(function(sn,tn){if(Lt.current===A.ViewMode.DualPageWithCover||Lt.current===A.ViewMode.DualPage)return Vn(sn,tn);switch(mt.current){case A.ScrollMode.Wrapped:return Vn(sn,tn);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Wn(sn-1,tn)}},[]),sr=B.useCallback(function(){return function(sn,tn){switch(tn){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(sn.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(sn.height,"px"),width:"100%"}}}(xn,mt.current)},[xn]),Zn=B.useCallback(function(sn){return function(tn,Ut,Yt){return Yt!==A.ScrollMode.Page?{}:{height:"".concat(Ut.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(tn.start.top,"px)")}}(sn,Qt,mt.current)},[Qt]),nr=B.useCallback(function(sn){return function(tn,Ut,Yt,Gt,dn){var hn,Zt,jt,pn,yn,Nn,Ln,Jn=Ut?"right":"left",ir=Ut?-1:1,bn=Yt.length,Qn=tn.start.left*ir,Bn=tn.size,zn=Bn.height,Kn=Bn.width;if(Gt===A.ViewMode.DualPageWithCover){var Fn=dn===A.ScrollMode.Page?0:tn.start.top;return tn.index===0||bn%2==0&&tn.index===bn-1?((hn={height:"".concat(zn,"px"),minWidth:"".concat(to(Yt,Gt),"px"),width:"100%"})[Jn]=0,hn.position="absolute",hn.top=0,hn.transform="translate(".concat(Qn,"px, ").concat(Fn,"px)"),hn):((Zt={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,Zt.position="absolute",Zt.top=0,Zt.transform="translate(".concat(Qn,"px, ").concat(Fn,"px)"),Zt)}if(Gt===A.ViewMode.DualPage)return(jt={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,jt.position="absolute",jt.top=0,jt.transform="translate(".concat(Qn,"px, ").concat(dn===A.ScrollMode.Page?0:tn.start.top,"px)"),jt;switch(dn){case A.ScrollMode.Horizontal:return(pn={height:"100%",width:"".concat(Kn,"px")})[Jn]=0,pn.position="absolute",pn.top=0,pn.transform="translateX(".concat(Qn,"px)"),pn;case A.ScrollMode.Page:return(yn={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,yn.position="absolute",yn.top=0,yn;case A.ScrollMode.Wrapped:return(Nn={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,Nn.position="absolute",Nn.top=0,Nn.transform="translate(".concat(Qn,"px, ").concat(tn.start.top,"px)"),Nn;case A.ScrollMode.Vertical:default:return(Ln={height:"".concat(zn,"px"),width:"100%"})[Jn]=0,Ln.position="absolute",Ln.top=0,Ln.transform="translateY(".concat(tn.start.top,"px)"),Ln}}(sn,ke,et,Lt.current,mt.current)},[ke,et]),ur=B.useCallback(function(sn,tn){var Ut=cn.current,Yt=Ut.measurements,Gt=Ut.scrollOffset,dn=Yt[Mr(0,Le-1,tn)];if(dn){var hn=mt.current===A.ScrollMode.Page?{left:dn.start.left,top:dn.start.top}:{left:Gt.left*sn,top:Gt.top*sn};return Jt(hn,!1)}return Promise.resolve()},[]);return B.useEffect(function(){return function(){Cn.disconnect()}},[]),{boundingClientRect:Qt,isSmoothScrolling:Ze,startPage:qn,endPage:jn,maxVisbilityIndex:Xn,virtualItems:Hn,getContainerStyles:sr,getItemContainerStyles:Zn,getItemStyles:nr,scrollToItem:Wn,scrollToNextItem:er,scrollToPreviousItem:lr,zoom:ur}},oi=function(K,me,ke,Le,Oe,je){var et=ke;switch(!0){case(Oe===A.ViewMode.DualPageWithCover&&je>=3):case(Oe===A.ViewMode.DualPage&&je>=3):et=2*ke;break;default:et=ke}switch(Le){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((K.clientWidth-17)/et,(K.clientHeight-16)/me);case A.SpecialZoomLevel.PageWidth:return(K.clientWidth-17)/et}},co=function(K){var me,ke,Le=K.getCurrentPage,Oe=(me=50,ke=B.useRef([]),B.useEffect(function(){return function(){ke.current=[]}},[]),{push:function(Je){var Ze=ke.current;Ze.length+1>me&&Ze.shift(),Ze.push(Je),ke.current=Ze},map:function(Je){return ke.current.map(function(Ze){return Je(Ze)})},pop:function(){var Je=ke.current;if(Je.length===0)return null;var Ze=Je.pop();return ke.current=Je,Ze}}),je=function(Je){var Ze=B.useRef([]);return B.useEffect(function(){return function(){Ze.current=[]}},[]),{dequeue:function(){var yt=Ze.current;if(yt.length===0)return null;var bt=yt.shift();return Ze.current=yt,bt||null},enqueue:function(yt){var bt=Ze.current;bt.length+1>Je&&bt.pop(),Ze.current=[yt].concat(bt)},map:function(yt){return Ze.current.map(function(bt){return yt(bt)})}}}(50),et=function(){var Je=je.dequeue();return Je&&Oe.push(Je),Je&&Je.pageIndex===Le()?et():Je},Ye=function(){var Je=Oe.pop();return Je&&je.enqueue(Je),Je&&Je.pageIndex===Le()?Ye():Je},Ie=B.useCallback(function(Je){Oe.push(Je)},[]);return{getNextDestination:et,getPreviousDestination:Ye,markVisitedDestination:Ie}},na=function(K){var me=[];return K.map(function(ke){me=me.concat(ke).concat(function(Le){var Oe=[];return Le.items&&Le.items.length>0&&(Oe=Oe.concat(na(Le.items))),Oe}(ke))}),me},ra={capture:!1,passive:!0},lo={height:0,width:0},si={height:0,width:0},uo=function(K){var me=K.getCurrentPage,ke=K.getCurrentScrollMode,Le=K.jumpToPage,Oe=K.targetRef,je=B.useState(A.FullScreenMode.Normal),et=je[0],Ye=je[1],Ie=function(){var on=B.useState(lo),kn=on[0],Cn=on[1],Mn=be(function(){Cn({height:window.innerHeight,width:window.innerWidth})},100);return re(function(){return window.addEventListener("resize",Mn,ra),function(){window.removeEventListener("resize",Mn,ra)}},[]),kn}(),Je=B.useState(si),Ze=Je[0],yt=Je[1],bt=B.useRef(si),mt=B.useRef(me()),Lt=B.useRef(si),Rt=B.useState(Oe.current),Mt=Rt[0],_n=Rt[1],Jt=B.useRef();re(function(){Oe.current!==Mt&&_n(Oe.current)},[]),re(function(){if(Mt){var on=new ResizeObserver(function(kn){kn.forEach(function(Cn){var Mn=Cn.target.getBoundingClientRect(),xn=Mn.height,$n=Mn.width;yt({height:xn,width:$n})})});return on.observe(Mt),function(){on.unobserve(Mt),on.disconnect()}}},[Mt]);var Qt=B.useCallback(function(on){var kn=De();return kn&&kn!==on?(Ye(A.FullScreenMode.Normal),Pe(kn)):Promise.resolve()},[]),cn=B.useCallback(function(on){on&&he()&&(_n(on),Qt(on).then(function(){Jt.current=on,Ye(A.FullScreenMode.Entering),function(kn){ee&&kn[_e.RequestFullScreen]()}(on)}))},[]),Ht=B.useCallback(function(){De()&&(Ye(A.FullScreenMode.Exitting),Pe(document))},[]),un=B.useCallback(function(){Mt&&De()!==Mt&&Ye(A.FullScreenMode.Exitting)},[Mt]);return B.useEffect(function(){switch(et){case A.FullScreenMode.Entering:Jt.current&&(Jt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),mt.current=me(),bt.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:ke()===A.ScrollMode.Page?Le(mt.current).then(function(){Ye(A.FullScreenMode.EnteredCompletely)}):Ye(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Jt.current&&(Jt.current.style.backgroundColor="",Jt.current=null),mt.current=me();break;case A.FullScreenMode.Exited:Ye(A.FullScreenMode.Normal),ke()===A.ScrollMode.Page&&Le(mt.current)}},[et]),B.useEffect(function(){if(et!==A.FullScreenMode.Normal)return et===A.FullScreenMode.Entering&&Ie.height===Ze.height&&Ie.width===Ze.width&&Ie.height>0&&Ie.width>0&&(Lt.current.height===0||Ie.height==Lt.current.height)?(Lt.current={height:window.innerHeight,width:window.innerWidth},void Ye(A.FullScreenMode.Entered)):void(et===A.FullScreenMode.Exitting&&bt.current.height===Ie.height&&bt.current.width===Ie.width&&Ie.height>0&&Ie.width>0&&Ye(A.FullScreenMode.Exited))},[et,Ie,Ze]),B.useEffect(function(){var on;return on=un,ee&&document.addEventListener(_e.FullScreenChange,on),function(){(function(kn){ee&&document.removeEventListener(_e.FullScreenChange,kn)})(un)}},[Mt]),{enterFullScreenMode:cn,exitFullScreenMode:Ht,fullScreenMode:et}},ho={buildPageStyles:function(){return{}},transformSize:function(K){return K.size}},Er={left:0,top:0},fo=function(K){var me=K.currentFile,ke=K.defaultScale,Le=K.doc,Oe=K.enableSmoothScroll,je=K.initialPage,et=K.initialRotation,Ye=K.initialScale,Ie=K.pageLayout,Je=K.pageSizes,Ze=K.plugins,yt=K.renderPage,bt=K.scrollMode,mt=K.setRenderRange,Lt=K.viewMode,Rt=K.viewerState,Mt=K.onDocumentLoad,_n=K.onOpenFile,Jt=K.onPageChange,Qt=K.onRotate,cn=K.onRotatePage,Ht=K.onZoom,un=Le.numPages,on=Le.loadingTask.docId,kn=B.useContext(ht).l10n,Cn=B.useContext(le),Mn=Cn.direction===A.TextDirection.RightToLeft,xn=B.useRef(),$n=B.useRef(),qn=B.useState(je),jn=qn[0],Xn=qn[1],Hn=B.useRef(null),Wn=co({getCurrentPage:function(){return bn.current.pageIndex}}),Un=B.useState(et),Vn=Un[0],er=Un[1],lr=ze(Vn),sr=B.useState(!1),Zn=sr[0],nr=sr[1],ur=B.useState(new Map),sn=ur[0],tn=ur[1],Ut=B.useState(bt),Yt=Ut[0],Gt=Ut[1],dn=ze(Yt),hn=B.useState(Lt),Zt=hn[0],jt=hn[1],pn=ze(Zt),yn=function(kt){var mn=Te(),Sn=B.useState([]),Rn=Sn[0],Tn=Sn[1];return B.useEffect(function(){kt.getOutline().then(function(wn){if(mn.current&&wn!==null){var Yn=na(wn);Tn(Yn)}})},[]),Rn}(Le),Nn=B.useState(Ye),Ln=Nn[0],Jn=Nn[1],ir=ze(Ln),bn=B.useRef(Rt),Qn=B.useRef(typeof ke=="string"?ke:null),Bn=B.useRef(-1),zn=B.useRef(-1),Kn=B.useRef(je),Fn=uo({getCurrentPage:function(){return bn.current.pageIndex},getCurrentScrollMode:function(){return bn.current.scrollMode},jumpToPage:function(kt){return pr(kt)},targetRef:$n}),hr=B.useState(-1),yr=hr[0],zr=hr[1],vr=B.useState(0),xr=vr[0],_o=vr[1],ar=nt({doc:Le});B.useEffect(function(){return function(){Ct.clear(),qt.clear()}},[on]);var sa=B.useMemo(function(){return Object.assign({},ho,Ie)},[]),Eo=B.useMemo(function(){return Array(un).fill(0).map(function(kt,mn){var Sn=[Je[mn].pageHeight,Je[mn].pageWidth],Rn=Math.abs(Vn)%180==0?{height:Sn[0],width:Sn[1]}:{height:Sn[1],width:Sn[0]},Tn={height:Rn.height*Ln,width:Rn.width*Ln};return sa.transformSize({numPages:un,pageIndex:mn,size:Tn})})},[Vn,Ln]),In=so({enableSmoothScroll:Oe,isRtl:Mn,numberOfItems:un,parentRef:$n,scrollMode:Yt,setRenderRange:mt,sizes:Eo,viewMode:Zt}),yo=be(function(){!Qn.current||bn.current.fullScreenMode!==A.FullScreenMode.Normal||je>0&&Kn.current===je||br(Qn.current)},200);(function(kt){var mn=kt.targetRef,Sn=kt.onResize;re(function(){var Rn=new ResizeObserver(function(wn){wn.forEach(function(Yn){Sn(Yn.target)})}),Tn=mn.current;if(Tn)return Rn.observe(Tn),function(){Rn.unobserve(Tn)}},[])})({targetRef:$n,onResize:yo});var fr=function(kt){var mn=kt;Ze.forEach(function(Sn){Sn.onViewerStateChange&&(mn=Sn.onViewerStateChange(mn))}),bn.current=mn},So=function(){return $n.current},wo=function(){return bn.current},Ao=B.useCallback(function(kt){Wn.markVisitedDestination(kt)},[]),ui=B.useCallback(function(kt){var mn=kt.pageIndex,Sn=kt.bottomOffset,Rn=kt.leftOffset,Tn=kt.scaleTo,wn=$n.current,Yn=bn.current;return wn&&Yn?new Promise(function(mr,gi){rn(Le,mn).then(function(Hr){var gr=Hr.getViewport({scale:1}),Vr=0,ma=(typeof Sn=="function"?Sn(gr.width,gr.height):Sn)||0,Wr=(typeof Rn=="function"?Rn(gr.width,gr.height):Rn)||0,Sr=Yn.scale;switch(Tn){case A.SpecialZoomLevel.PageFit:Vr=0,Wr=0,br(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:Sr=oi(wn,Je[mn].pageHeight,Je[mn].pageWidth,A.SpecialZoomLevel.PageWidth,Lt,un),Vr=(gr.height-ma)*Sr,Wr*=Sr,br(Sr);break;default:Vr=(gr.height-ma)*Sr,Wr*=Sr}switch(Yn.scrollMode){case A.ScrollMode.Horizontal:In.scrollToItem(mn,{left:Wr,top:0}).then(function(){mr()});break;case A.ScrollMode.Vertical:default:In.scrollToItem(mn,{left:0,top:Vr}).then(function(){mr()})}})}):Promise.resolve()},[]),ca=B.useCallback(function(kt){return Wn.markVisitedDestination(kt),ui(kt)},[]),Co=B.useCallback(function(){var kt=Wn.getNextDestination();return kt?ui(kt):Promise.resolve()},[]),Po=B.useCallback(function(){var kt=Wn.getPreviousDestination();return kt?ui(kt):Promise.resolve()},[]),ko=B.useCallback(function(){return In.scrollToNextItem(bn.current.pageIndex,Er)},[]),pr=B.useCallback(function(kt){return 0<=kt&&kt<un?In.scrollToItem(kt,Er):Promise.resolve()},[]),Mo=B.useCallback(function(){return In.scrollToPreviousItem(bn.current.pageIndex,Er)},[]),la=B.useCallback(function(kt){var mn,Sn;(mn=kt.name,Sn=mn.split(/\./).pop(),Sn?Sn.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Rn){var Tn=new FileReader;Tn.readAsArrayBuffer(kt),Tn.onload=function(){var wn=new Uint8Array(Tn.result);Rn(wn)}}).then(function(Rn){_n(kt.name,Rn)})},[_n]),ua=B.useCallback(function(kt){var mn=kt===A.RotateDirection.Backward?-90:90,Sn=bn.current.rotation,Rn=Sn===360||Sn===-360?mn:Sn+mn;ar.markNotRendered(),er(Rn),fr(X(X({},bn.current),{rotation:Rn})),Qt({direction:kt,doc:Le,rotation:Rn})},[]),di=B.useCallback(function(kt,mn){var Sn=mn===A.RotateDirection.Backward?-90:90,Rn=bn.current.pagesRotation,Tn=(Rn.has(kt)?Rn.get(kt):et)+Sn,wn=Rn.set(kt,Tn);tn(wn),nr(function(Yn){return!Yn}),fr(X(X({},bn.current),{pagesRotation:wn,rotatedPage:kt})),cn({direction:mn,doc:Le,pageIndex:kt,rotation:Tn}),ar.markRendering(kt),zr(kt)},[]),da=B.useCallback(function(kt){fr(X(X({},bn.current),{scrollMode:kt})),Gt(kt)},[]),ha=B.useCallback(function(kt){fr(X(X({},bn.current),{viewMode:kt})),jt(kt)},[]),br=B.useCallback(function(kt){var mn=$n.current,Sn=bn.current.pageIndex;if(!(Sn<0||Sn>=un)){var Rn=Je[Sn].pageHeight,Tn=Je[Sn].pageWidth,wn=mn?typeof kt=="string"?oi(mn,Rn,Tn,kt,bn.current.viewMode,un):kt:1;Qn.current=typeof kt=="string"?kt:null,wn!==bn.current.scale&&(_o(function(Yn){return Yn+1}),ar.markNotRendered(),Jn(wn),Ht({doc:Le,scale:wn}),fr(X(X({},bn.current),{scale:wn})))}},[]),xo=B.useCallback(function(kt){Fn.enterFullScreenMode(kt)},[]),To=B.useCallback(function(){Fn.exitFullScreenMode()},[]);B.useEffect(function(){fr(X(X({},bn.current),{fullScreenMode:Fn.fullScreenMode}))},[Fn.fullScreenMode]),B.useEffect(function(){var kt={enterFullScreenMode:xo,exitFullScreenMode:To,getPagesContainer:So,getViewerState:wo,jumpToDestination:ca,jumpToNextDestination:Co,jumpToPreviousDestination:Po,jumpToNextPage:ko,jumpToPreviousPage:Mo,jumpToPage:pr,openFile:la,rotate:ua,rotatePage:di,setViewerState:fr,switchScrollMode:da,switchViewMode:ha,zoom:br};return Ze.forEach(function(mn){mn.install&&mn.install(kt)}),function(){Ze.forEach(function(mn){mn.uninstall&&mn.uninstall(kt)})}},[on]),B.useEffect(function(){Mt({doc:Le,file:me}),Ze.forEach(function(kt){kt.onDocumentLoad&&kt.onDocumentLoad({doc:Le,file:me})})},[on]);var hi,fi,pi,fa=In.boundingClientRect;hi=function(){je&&pr(je)},fi=fa.height>0&&fa.width>0,pi=B.useRef(!1),re(function(){fi&&!pi.current&&(pi.current=!0,hi())},[hi,fi]),re(function(){var kt=bn.current.pageIndex;kt>-1&&dn!==Yt&&In.scrollToItem(kt,Er).then(function(){Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Oe||ar.markNotRendered(),Bn.current=-1)})},[Yt]),re(function(){var kt=bn.current.pageIndex;kt>-1&&lr!==Vn&&In.scrollToItem(kt,Er)},[Vn]),re(function(){ir!=0&&ir!=bn.current.scale&&In.zoom(bn.current.scale/ir,bn.current.pageIndex).then(function(){Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(zn.current=-1)})},[Ln]),re(function(){if(pn!==bn.current.viewMode){var kt=In.startPage,mn=In.endPage,Sn=In.virtualItems;ar.markNotRendered(),ar.setRange(kt,mn);for(var Rn=function(wn){var Yn=Sn.find(function(mr){return mr.index===wn});Yn&&ar.setVisibility(wn,Yn.visibility)},Tn=kt;Tn<=mn;Tn++)Rn(Tn);mi()}},[Zt]),re(function(){var kt=bn.current.pageIndex;kt>-1&&pn!==Zt&&In.scrollToItem(kt,Er)},[Zt]),re(function(){var kt=bn.current.pageIndex;kt>0&&kt===je&&Kn.current===je&&Qn.current&&(Kn.current=-1,br(Qn.current))},[jn]),B.useEffect(function(){In.isSmoothScrolling||Hn.current!==null&&Hn.current===jn||(Hn.current=jn,Jt({currentPage:jn,doc:Le}))},[jn,In.isSmoothScrolling]),B.useEffect(function(){Fn.fullScreenMode===A.FullScreenMode.Entering&&bn.current.scrollMode===A.ScrollMode.Page&&(Bn.current=bn.current.pageIndex),Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&bn.current.scrollMode===A.ScrollMode.Page&&Oe&&(Bn.current=-1),Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Qn.current&&(zn.current=bn.current.pageIndex,br(Qn.current))},[Fn.fullScreenMode]),B.useEffect(function(){if(Fn.fullScreenMode!==A.FullScreenMode.Entering&&Fn.fullScreenMode!==A.FullScreenMode.Exitting&&!In.isSmoothScrolling){var kt=In.startPage,mn=In.endPage,Sn=In.maxVisbilityIndex,Rn=In.virtualItems,Tn=Sn,wn=Fn.fullScreenMode===A.FullScreenMode.Entered||Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(wn&&Tn!==Bn.current&&Bn.current>-1||wn&&Tn!==zn.current&&zn.current>-1)){Xn(Tn),fr(X(X({},bn.current),{pageIndex:Tn})),ar.setRange(kt,mn);for(var Yn=function(gi){var Hr=Rn.find(function(gr){return gr.index===gi});Hr&&ar.setVisibility(gi,Hr.visibility)},mr=kt;mr<=mn;mr++)Yn(mr);mi()}}},[In.startPage,In.endPage,In.isSmoothScrolling,In.maxVisbilityIndex,Fn.fullScreenMode,Zn,Vn,Ln]);var $o=B.useCallback(function(kt){ar.markRendered(kt),mi()},[xr]),mi=function(){var kt=ar.getHighestPriorityPage();kt>-1&&ar.isInRange(kt)&&(ar.markRendering(kt),zr(kt))},Ro=function(kt){var mn=jn-1,Sn=jn+1;switch(kt){case"FirstPage":pr(0);break;case"LastPage":pr(un-1);break;case"NextPage":Sn<un&&pr(Sn);break;case"PrevPage":mn>=0&&pr(mn)}},Fo=B.useCallback(function(){var kt=In.virtualItems,mn=[];switch(Zt){case A.ViewMode.DualPage:mn=lt(kt,2);break;case A.ViewMode.DualPageWithCover:kt.length&&(mn=kt[0].index===0?[[kt[0]]].concat(lt(kt.slice(1),2)):lt(kt,2));break;case A.ViewMode.SinglePage:default:mn=lt(kt,1)}var Sn=kn&&kn.core?kn.core.pageLabel:"Page {{pageIndex}}",Rn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:xn,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ne({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Yt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Mn,"rpv-core__inner-pages--single":Yt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":Yt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Yt===A.ScrollMode.Wrapped}),ref:$n,style:{height:"100%",position:"relative"}},children:B.createElement("div",{"data-testid":"core__inner-current-page-".concat(jn),style:Object.assign({"--scale-factor":Ln},In.getContainerStyles())},mn.map(function(Tn){return B.createElement("div",{className:ne({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Yt===A.ScrollMode.Page}),style:In.getItemContainerStyles(Tn[0]),key:"".concat(Tn[0].index,"-").concat(Zt)},Tn.map(function(wn){var Yn=Zt===A.ViewMode.DualPageWithCover&&(wn.index===0||un%2==0&&wn.index===un-1);return B.createElement("div",{"aria-label":Sn.replace("{{pageIndex}}","".concat(wn.index+1)),className:ne({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Zt===A.ViewMode.DualPage&&wn.index%2==0,"rpv-core__inner-page--dual-odd":Zt===A.ViewMode.DualPage&&wn.index%2==1,"rpv-core__inner-page--dual-cover":Yn,"rpv-core__inner-page--dual-cover-even":Zt===A.ViewMode.DualPageWithCover&&!Yn&&wn.index%2==0,"rpv-core__inner-page--dual-cover-odd":Zt===A.ViewMode.DualPageWithCover&&!Yn&&wn.index%2==1,"rpv-core__inner-page--single":Zt===A.ViewMode.SinglePage&&Yt===A.ScrollMode.Page}),role:"region",key:"".concat(wn.index,"-").concat(Zt),style:Object.assign({},In.getItemStyles(wn),sa.buildPageStyles({numPages:un,pageIndex:wn.index,scrollMode:Yt,viewMode:Zt}))},B.createElement(Za,{doc:Le,measureRef:wn.measureRef,outlines:yn,pageIndex:wn.index,pageRotation:sn.has(wn.index)?sn.get(wn.index):0,pageSize:Je[wn.index],plugins:Ze,renderPage:yt,renderQueueKey:xr,rotation:Vn,scale:Ln,shouldRender:yr===wn.index,viewMode:Zt,onExecuteNamedAction:Ro,onJumpFromLinkAnnotation:Ao,onJumpToDest:ca,onRenderCompleted:$o,onRotatePage:di}))}))}))}};return Ze.forEach(function(Tn){Tn.renderViewer&&(Rn=Tn.renderViewer({containerRef:xn,doc:Le,pagesContainerRef:$n,pagesRotation:sn,pageSizes:Je,rotation:Vn,slot:Rn,themeContext:Cn,jumpToPage:pr,openFile:la,rotate:ua,rotatePage:di,switchScrollMode:da,switchViewMode:ha,zoom:br}))}),Rn},[Ze,In]),pa=B.useCallback(function(kt){return B.createElement("div",X({},kt.attrs,{style:kt.attrs&&kt.attrs.style?kt.attrs.style:{}}),kt.children,kt.subSlot&&pa(kt.subSlot))},[]);return pa(Fo())},ia=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],po=function(K){var me=K.defaultScale,ke=K.doc,Le=K.render,Oe=K.scrollMode,je=K.viewMode,et=B.useRef(),Ye=B.useState({pageSizes:[],scale:0}),Ie=Ye[0],Je=Ye[1];return B.useLayoutEffect(function(){var Ze=Array(ke.numPages).fill(0).map(function(yt,bt){return new Promise(function(mt,Lt){rn(ke,bt).then(function(Rt){var Mt=Rt.getViewport({scale:1});mt({pageHeight:Mt.height,pageWidth:Mt.width,rotation:Mt.rotation})})})});Promise.all(Ze).then(function(yt){var bt=et.current;if(bt&&yt.length!==0){var mt=yt[0].pageWidth,Lt=yt[0].pageHeight,Rt=bt.parentElement,Mt=(Rt.clientWidth-45)/mt,_n=(Rt.clientHeight-45)/Lt,Jt=Mt;switch(Oe){case A.ScrollMode.Horizontal:Jt=Math.min(Mt,_n);break;case A.ScrollMode.Vertical:default:Jt=Mt}var Qt,cn,Ht=me?typeof me=="string"?oi(Rt,Lt,mt,me,je,ke.numPages):me:(Qt=Jt,(cn=ia.findIndex(function(un){return un>=Qt}))===-1||cn===0?Qt:ia[cn-1]);Je({pageSizes:yt,scale:Ht})}})},[ke.loadingTask.docId]),Ie.pageSizes.length===0||Ie.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:et},B.createElement(ue,null)):Le(Ie.pageSizes,Ie.scale)},jr=function(){},ci=function(K){function me(ke,Le){var Oe=K.call(this)||this;return Oe.verifyPassword=ke,Oe.passwordStatus=Le,Oe}return fe(me,K),me}(jr),mo=function(K){var me=K.passwordStatus,ke=K.renderProtectedView,Le=K.verifyPassword,Oe=K.onDocumentAskPassword,je=B.useContext(ht).l10n,et=B.useState(""),Ye=et[0],Ie=et[1],Je=B.useContext(le).direction===A.TextDirection.RightToLeft,Ze=function(){return Le(Ye)};return B.useEffect(function(){Oe&&Oe({verifyPassword:Le})},[]),ke?ke({passwordStatus:me,verifyPassword:Le}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:ne({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Je})},B.createElement("div",{className:"rpv-core__asking-password-message"},me===A.PasswordStatus.RequiredPassword&&je.core.askingPassword.requirePasswordToOpen,me===A.PasswordStatus.WrongPassword&&je.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:ne({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Je,"rpv-core__asking-password-input--rtl":Je})},B.createElement(pe,{testId:"core__asking-password-input",type:"password",value:Ye,onChange:Ie,onKeyDown:function(yt){yt.key==="Enter"&&Ze()}})),B.createElement(se,{onClick:Ze},je.core.askingPassword.submit))))},aa=function(K){function me(ke){var Le=K.call(this)||this;return Le.doc=ke,Le}return fe(me,K),me}(jr),oa=function(K){function me(ke){var Le=K.call(this)||this;return Le.error=ke,Le}return fe(me,K),me}(jr),li=function(K){function me(ke){var Le=K.call(this)||this;return Le.percentages=ke,Le}return fe(me,K),me}(jr),go=function(K){var me=K.characterMap,ke=K.file,Le=K.httpHeaders,Oe=K.render,je=K.renderError,et=K.renderLoader,Ye=K.renderProtectedView,Ie=K.transformGetDocumentParams,Je=K.withCredentials,Ze=K.onDocumentAskPassword,yt=B.useContext(le).direction===A.TextDirection.RightToLeft,bt=B.useState(new li(0)),mt=bt[0],Lt=bt[1],Rt=B.useRef(""),Mt=Te();return B.useEffect(function(){Rt.current="",Lt(new li(0));var _n=new Q.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Jt=Object.assign({httpHeaders:Le,withCredentials:Je,worker:_n},typeof ke=="string"?{url:ke}:{data:ke},me?{cMapUrl:me.url,cMapPacked:me.isCompressed}:{}),Qt=Ie?Ie(Jt):Jt,cn=Q.getDocument(Qt);return cn.onPassword=function(Ht,un){switch(un){case Q.PasswordResponses.NEED_PASSWORD:Mt.current&&Lt(new ci(Ht,A.PasswordStatus.RequiredPassword));break;case Q.PasswordResponses.INCORRECT_PASSWORD:Mt.current&&Lt(new ci(Ht,A.PasswordStatus.WrongPassword))}},cn.onProgress=function(Ht){var un=Ht.total>0?Math.min(100,100*Ht.loaded/Ht.total):100;Mt.current&&Rt.current===""&&Lt(new li(un))},cn.promise.then(function(Ht){Rt.current=Ht.loadingTask.docId,Mt.current&&Lt(new aa(Ht))},function(Ht){return Mt.current&&!_n.destroyed&&Lt(new oa({message:Ht.message||"Cannot load document",name:Ht.name}))}),function(){cn.destroy(),_n.destroy()}},[ke]),mt instanceof ci?B.createElement(mo,{passwordStatus:mt.passwordStatus,renderProtectedView:Ye,verifyPassword:mt.verifyPassword,onDocumentAskPassword:Ze}):mt instanceof aa?Oe(mt.doc):mt instanceof oa?je?je(mt.error):B.createElement("div",{className:ne({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":yt})},B.createElement("div",{className:"rpv-core__doc-error-text"},mt.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:ne({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":yt})},et?et(mt.percentages):B.createElement(ue,null))},vo=function(K,me){var ke=B.useMemo(function(){return K==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":K},[]),Le=B.useState(ke),Oe=Le[0],je=Le[1],et=ze(Oe);return B.useEffect(function(){if(K==="auto"){var Ye=window.matchMedia("(prefers-color-scheme: dark)"),Ie=function(Je){je(Je.matches?"dark":"light")};return Ye.addEventListener("change",Ie),function(){return Ye.removeEventListener("change",Ie)}}},[]),B.useEffect(function(){Oe!==et&&me&&me(Oe)},[Oe]),B.useEffect(function(){K!==Oe&&je(K)},[K]),{currentTheme:Oe,setCurrentTheme:je}},bo=function(K){return{startPage:K.startPage-3,endPage:K.endPage+3}};A.Button=function(K){var me=K.children,ke=K.testId,Le=K.onClick,Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=ke?{"data-testid":ke}:{};return B.createElement("button",X({className:ne({"rpv-core__button":!0,"rpv-core__button--rtl":Oe}),type:"button",onClick:Le},je),me)},A.Icon=q,A.LazyRender=function(K){var me=K.attrs,ke=K.children,Le=K.testId,Oe=B.useState(!1),je=Oe[0],et=Oe[1],Ye=Le?X(X({},me),{"data-testid":Le}):me,Ie=J({once:!0,onVisibilityChanged:function(Je){Je.isVisible&&et(!0)}});return B.createElement("div",X({ref:Ie},Ye),je&&ke)},A.LocalizationContext=ht,A.Menu=function(K){var me=K.children,ke=B.useRef(),Le=B.useRef([]),Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=function(Ye){if(ke.current)switch(Ye.key){case"Tab":Ye.preventDefault();break;case"ArrowDown":Ye.preventDefault(),et(function(Ie,Je){return Je+1});break;case"ArrowUp":Ye.preventDefault(),et(function(Ie,Je){return Je-1});break;case"End":Ye.preventDefault(),et(function(Ie,Je){return Ie.length-1});break;case"Home":Ye.preventDefault(),et(function(Ie,Je){return 0})}},et=function(Ye){if(ke.current){var Ie=Le.current,Je=Ie.findIndex(function(yt){return yt.getAttribute("tabindex")==="0"}),Ze=Math.min(Ie.length-1,Math.max(0,Ye(Ie,Je)));Je>=0&&Je<=Ie.length-1&&Ie[Je].setAttribute("tabindex","-1"),Ie[Ze].setAttribute("tabindex","0"),Ie[Ze].focus()}};return re(function(){var Ye=ke.current;if(Ye){var Ie=function(Je){var Ze=[];return Je.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(yt){if(yt instanceof HTMLElement){var bt=yt.parentElement;(bt===Je||window.getComputedStyle(bt).display!=="none")&&Ze.push(yt)}}),Ze}(Ye);Le.current=Ie}},[]),re(function(){return document.addEventListener("keydown",je),function(){document.removeEventListener("keydown",je)}},[]),B.createElement("div",{ref:ke,"aria-orientation":"vertical",className:ne({"rpv-core__menu":!0,"rpv-core__menu--rtl":Oe}),role:"menu",tabIndex:0},me)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(K){var me=K.checked,ke=me!==void 0&&me,Le=K.children,Oe=K.icon,je=Oe===void 0?null:Oe,et=K.isDisabled,Ye=et!==void 0&&et,Ie=K.testId,Je=K.onClick,Ze=B.useContext(le).direction===A.TextDirection.RightToLeft,yt=Ie?{"data-testid":Ie}:{};return B.createElement("button",X({className:ne({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ye,"rpv-core__menu-item--ltr":!Ze,"rpv-core__menu-item--rtl":Ze}),role:"menuitem",tabIndex:-1,type:"button",onClick:Je},yt),B.createElement("div",{className:ne({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ze,"rpv-core__menu-item-icon--rtl":Ze})},je),B.createElement("div",{className:ne({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ze,"rpv-core__menu-item-label--rtl":Ze})},Le),B.createElement("div",{className:ne({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ze,"rpv-core__menu-item-check--rtl":Ze})},ke&&B.createElement(ae,null)))},A.MinimalButton=function(K){var me=K.ariaLabel,ke=me===void 0?"":me,Le=K.ariaKeyShortcuts,Oe=Le===void 0?"":Le,je=K.children,et=K.isDisabled,Ye=et!==void 0&&et,Ie=K.isSelected,Je=Ie!==void 0&&Ie,Ze=K.testId,yt=K.onClick,bt=B.useContext(le).direction===A.TextDirection.RightToLeft,mt=Ze?{"data-testid":Ze}:{};return B.createElement("button",X({"aria-label":ke},Oe&&{"aria-keyshortcuts":Oe},Ye&&{"aria-disabled":!0},{className:ne({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ye,"rpv-core__minimal-button--rtl":bt,"rpv-core__minimal-button--selected":Je}),type:"button",onClick:yt},mt),je)},A.Modal=function(K){var me=K.ariaControlsSuffix,ke=K.closeOnClickOutside,Le=K.closeOnEscape,Oe=K.content,je=K.isOpened,et=je!==void 0&&je,Ye=K.target,Ie=me||"".concat(we());return B.createElement(Ce,{target:Ye?function(Je,Ze){return B.createElement("div",{"aria-expanded":Ze?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ie)},Ye(Je,Ze))}:null,content:function(Je){return B.createElement(ie,null,B.createElement(G,{ariaControlsSuffix:Ie,closeOnClickOutside:ke,closeOnEscape:Le,onToggle:Je},Oe(Je)))},isOpened:et})},A.Popover=function(K){var me=K.ariaHasPopup,ke=me===void 0?"dialog":me,Le=K.ariaControlsSuffix,Oe=K.closeOnClickOutside,je=K.closeOnEscape,et=K.content,Ye=K.lockScroll,Ie=Ye===void 0||Ye,Je=K.offset,Ze=K.position,yt=K.target,bt=ye(!1),mt=bt.opened,Lt=bt.toggle,Rt=B.useRef(),Mt=B.useMemo(function(){return Le||"".concat(we())},[]);return B.createElement("div",{ref:Rt,"aria-expanded":mt?"true":"false","aria-haspopup":ke,"aria-controls":"rpv-core__popver-body-".concat(Mt)},yt(Lt,mt),mt&&B.createElement(B.Fragment,null,Ie&&B.createElement(ot,{closeOnEscape:je,onClose:Lt}),B.createElement(Ft,{ariaControlsSuffix:Mt,closeOnClickOutside:Oe,offset:Je,position:Ze,targetRef:Rt,onClose:Lt},et(Lt))))},A.PrimaryButton=se,A.ProgressBar=function(K){var me=K.progress,ke=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:ne({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":ke})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(me,"%")}},me,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=ue,A.Splitter=function(K){var me=K.constrain,ke=B.useContext(le).direction===A.TextDirection.RightToLeft,Le=B.useRef(),Oe=B.useRef(),je=B.useRef(),et=B.useRef(0),Ye=B.useRef(0),Ie=B.useRef(0),Je=B.useRef(0),Ze={capture:!0},yt=function(mt){var Lt=Le.current,Rt=Oe.current,Mt=je.current;if(Lt&&Rt&&Mt){var _n=Je.current,Jt=mt.clientX-et.current,Qt=Ie.current+(ke?-Jt:Jt),cn=Lt.parentElement.getBoundingClientRect().width,Ht=100*Qt/cn;if(Lt.classList.add("rpv-core__splitter--resizing"),me){var un=cn-Qt-_n;if(!me({firstHalfPercentage:Ht,firstHalfSize:Qt,secondHalfPercentage:100*un/cn,secondHalfSize:un}))return}Rt.style.width="".concat(Ht,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Rt.classList.add("rpv-core__splitter-sibling--resizing"),Mt.classList.add("rpv-core__splitter-sibling--resizing")}},bt=function(mt){var Lt=Le.current,Rt=Oe.current,Mt=je.current;Lt&&Rt&&Mt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Lt.classList.remove("rpv-core__splitter--resizing"),Rt.classList.remove("rpv-core__splitter-sibling--resizing"),Mt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",yt,Ze),document.removeEventListener("mouseup",bt,Ze))};return B.useEffect(function(){var mt=Le.current;mt&&(Je.current=mt.getBoundingClientRect().width,Oe.current=mt.previousElementSibling,je.current=mt.nextElementSibling)},[]),B.createElement("div",{ref:Le,className:"rpv-core__splitter",onMouseDown:function(mt){var Lt=Oe.current;Lt&&(et.current=mt.clientX,Ye.current=mt.clientY,Ie.current=Lt.getBoundingClientRect().width,document.addEventListener("mousemove",yt,Ze),document.addEventListener("mouseup",bt,Ze))}})},A.TextBox=pe,A.ThemeContext=le,A.Tooltip=function(K){var me=K.ariaControlsSuffix,ke=K.content,Le=K.offset,Oe=K.position,je=K.target,et=ye(!1),Ye=et.opened,Ie=et.toggle,Je=B.useRef(),Ze=B.useRef(),yt=B.useMemo(function(){return me||"".concat(we())},[]);Y(function(){Je.current&&document.activeElement&&Je.current.contains(document.activeElement)&&mt()});var bt=function(){Ie(A.ToggleStatus.Open)},mt=function(){Ie(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:Je,"aria-describedby":"rpv-core__tooltip-body-".concat(yt),onBlur:function(Lt){Lt.relatedTarget instanceof HTMLElement&&Lt.currentTarget.parentElement&&Lt.currentTarget.parentElement.contains(Lt.relatedTarget)?Ze.current&&(Ze.current.style.display="none"):mt()},onFocus:bt,onMouseEnter:bt,onMouseLeave:mt},je),Ye&&B.createElement(Ue,{ariaControlsSuffix:yt,contentRef:Ze,offset:Le,position:Oe,targetRef:Je},ke()))},A.Viewer=function(K){var me=K.characterMap,ke=K.defaultScale,Le=K.enableSmoothScroll,Oe=Le===void 0||Le,je=K.fileUrl,et=K.httpHeaders,Ye=et===void 0?{}:et,Ie=K.initialPage,Je=Ie===void 0?0:Ie,Ze=K.pageLayout,yt=K.initialRotation,bt=yt===void 0?0:yt,mt=K.localization,Lt=K.plugins,Rt=Lt===void 0?[]:Lt,Mt=K.renderError,_n=K.renderLoader,Jt=K.renderPage,Qt=K.renderProtectedView,cn=K.scrollMode,Ht=cn===void 0?A.ScrollMode.Vertical:cn,un=K.setRenderRange,on=un===void 0?bo:un,kn=K.transformGetDocumentParams,Cn=K.theme,Mn=Cn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Cn,xn=K.viewMode,$n=xn===void 0?A.ViewMode.SinglePage:xn,qn=K.withCredentials,jn=qn!==void 0&&qn,Xn=K.onDocumentAskPassword,Hn=K.onDocumentLoad,Wn=Hn===void 0?function(){}:Hn,Un=K.onPageChange,Vn=Un===void 0?function(){}:Un,er=K.onRotate,lr=er===void 0?function(){}:er,sr=K.onRotatePage,Zn=sr===void 0?function(){}:sr,nr=K.onSwitchTheme,ur=nr===void 0?function(){}:nr,sn=K.onZoom,tn=sn===void 0?function(){}:sn,Ut=B.useState({data:je,name:typeof je=="string"?je:"",shouldLoad:!1}),Yt=Ut[0],Gt=Ut[1],dn=function(Bn,zn){Gt({data:zn,name:Bn,shouldLoad:!0})},hn=B.useState(!1),Zt=hn[0],jt=hn[1],pn=ze(Yt);B.useEffect(function(){var Bn,zn,Kn,Fn;Bn=pn.data,Fn=typeof(zn=je),(Kn=typeof Bn)=="string"&&Fn==="string"&&Bn===zn||Kn==="object"&&Fn==="object"&&Bn.length===zn.length&&Bn.every(function(hr,yr){return hr===zn[yr]})||Gt({data:je,name:typeof je=="string"?je:"",shouldLoad:Zt})},[je,Zt]);var yn=J({onVisibilityChanged:function(Bn){jt(Bn.isVisible),Bn.isVisible&&Gt(function(zn){return Object.assign({},zn,{shouldLoad:!0})})}}),Nn=typeof Mn=="string"?{direction:A.TextDirection.LeftToRight,theme:Mn}:Mn,Ln=B.useState(mt||at),Jn=Ln[0],ir=Ln[1],bn={l10n:Jn,setL10n:ir},Qn=Object.assign({},{direction:Nn.direction},vo(Nn.theme||"light",ur));return B.useEffect(function(){mt&&ir(mt)},[mt]),B.createElement(ht.Provider,{value:bn},B.createElement(le.Provider,{value:Qn},B.createElement("div",{ref:yn,className:"rpv-core__viewer rpv-core__viewer--".concat(Qn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Yt.shouldLoad&&B.createElement(go,{characterMap:me,file:Yt.data,httpHeaders:Ye,render:function(Bn){return B.createElement(po,{defaultScale:ke,doc:Bn,render:function(zn,Kn){return B.createElement(fo,{currentFile:{data:Yt.data,name:Yt.name},defaultScale:ke,doc:Bn,enableSmoothScroll:Oe,initialPage:Je,initialRotation:bt,initialScale:Kn,pageLayout:Ze,pageSizes:zn,plugins:Rt,renderPage:Jt,scrollMode:Ht,setRenderRange:on,viewMode:$n,viewerState:{file:Yt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:zn[0].pageHeight,pageWidth:zn[0].pageWidth,pagesRotation:new Map,rotation:bt,scale:Kn,scrollMode:Ht,viewMode:$n},onDocumentLoad:Wn,onOpenFile:dn,onPageChange:Vn,onRotate:lr,onRotatePage:Zn,onZoom:tn})},scrollMode:Ht,viewMode:$n})},renderError:Mt,renderLoader:_n,renderProtectedView:Qt,transformGetDocumentParams:kn,withCredentials:jn,onDocumentAskPassword:Xn}))))},A.Worker=function(K){var me=K.children,ke=K.workerUrl;return Q.GlobalWorkerOptions.workerSrc=ke,B.createElement(B.Fragment,null,me)},A.chunk=lt,A.classNames=ne,A.createStore=function(K){var me=K||{},ke={},Le=function(je,et){var Ye;me=X(X({},me),((Ye={})[je]=et,Ye)),(ke[je]||[]).forEach(function(Ie){return Ie(me[je])})},Oe=function(je){return me[je]};return{subscribe:function(je,et){ke[je]=(ke[je]||[]).concat(et)},unsubscribe:function(je,et){ke[je]=(ke[je]||[]).filter(function(Ye){return Ye!==et})},update:function(je,et){Le(je,et)},updateCurrentValue:function(je,et){var Ye=Oe(je);Ye!==void 0&&Le(je,et(Ye))},get:function(je){return Oe(je)}}},A.getDestination=nn,A.getPage=rn,A.isFullScreenEnabled=he,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=be,A.useIntersectionObserver=J,A.useIsMounted=Te,A.useIsomorphicLayoutEffect=re,A.usePrevious=ze,A.useRenderQueue=nt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=core_min;var libExports$g=lib$g.exports,defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$g;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),R=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),Q=R&&R.attachment?R.attachment.clickToDownload:"Click to download",ve=function(fe){var de=H.current,X=[].slice.call(de.getElementsByClassName("rpv-attachment__item"));if(X.length!==0){X.forEach(function(ne){return ne.setAttribute("tabindex","-1")});var Ee=document.activeElement,le=X[Math.min(X.length-1,Math.max(0,fe(X,Ee)))];le.setAttribute("tabindex","0"),le.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var fe=H.current;if(fe){var de=[].slice.call(fe.getElementsByClassName("rpv-attachment__item"));if(B.current=de,de.length>0){var X=de[0];X.focus(),X.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:H,tabIndex:-1,onKeyDown:function(fe){switch(fe.key){case"ArrowDown":fe.preventDefault(),ve(function(de,X){return de.indexOf(X)+1});break;case"ArrowUp":fe.preventDefault(),ve(function(de,X){return de.indexOf(X)-1});break;case"End":fe.preventDefault(),ve(function(de,X){return de.length-1});break;case"Home":fe.preventDefault(),ve(function(de,X){return 0})}}},$.map(function(fe){return n$e.createElement("button",{className:"rpv-attachment__item",key:fe.fileName,tabIndex:-1,title:Q,type:"button",onClick:function(){return de=fe.fileName,X=fe.data,Ee=typeof X=="string"?"":URL.createObjectURL(new Blob([X],{type:""})),(le=document.createElement("a")).style.display="none",le.href=Ee||de,le.setAttribute("download",function(ne){var re=ne.split("/").pop();return re?re.split("#")[0].split("?")[0]:ne}(de)),document.body.appendChild(le),le.click(),document.body.removeChild(le),void(Ee&&URL.revokeObjectURL(Ee));var de,X,Ee,le}},fe.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),Q=B[0],ve=B[1];return n$e.useEffect(function(){$.getAttachments().then(function(fe){var de=fe?Object.keys(fe).map(function(X){return{data:fe[X].content,fileName:fe[X].filename}}):[];ve({files:de,isLoaded:!0})})},[$]),Q.isLoaded?Q.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":R})},O):n$e.createElement(a$e,{files:Q.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),R=H[0],O=H[1],B=function(Q){O(Q)};return n$e.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),R?n$e.createElement(r$e,{doc:R}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$f=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$g;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,H=A.depth,R=A.doc,O=A.index,B=A.isBookmarkExpanded,Q=A.numberOfSiblings,ve=A.pathFromRoot,fe=A.renderBookmarkItem,de=A.store,X=ve?"".concat(ve,".").concat(O):"".concat(O),Ee=o$d.useMemo(function(){return function(ee){var _e=ee.count,he=ee.items;if(_e>=0)return!1;var Pe=he.length;if(Pe===0)return!1;for(var De=he.concat([]);De.length>0;){var be=De.shift(),Te=be.items;be.count&&Te&&be.count>0&&Te.length>0&&(Pe+=Te.length,De=De.concat(Te))}return Math.abs(_e)===Pe}($)},[$]),le=de.get("bookmarkExpandedMap"),ne=B?B({bookmark:$,doc:R,depth:H,index:O}):le.has(X)?le.get(X):!Ee,re=o$d.useState(ne),J=re[0],q=re[1],ae=$.items&&$.items.length>0,se=function(){var ee=!J;de.updateCurrentValue("bookmarkExpandedMap",function(_e){return _e.set(X,ee)}),q(ee)},ue=function(){var ee=$.dest,_e=de.get("jumpToDestination");e$d.getDestination(R,ee).then(function(he){_e&&_e(n$d({label:$.title},he))})},pe=function(){ae&&$.dest&&ue()},te=function(){!ae&&$.dest&&ue()},oe=function(ee,_e){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:ee},_e)},Ae=function(ee,_e){return ae?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(O),onClick:se},J?ee:_e):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},ge=function(ee){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:ee},$.title)};return o$d.createElement("li",{"aria-expanded":J?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":O+1,"aria-setsize":Q,role:"treeitem",tabIndex:-1},fe?fe({bookmark:$,depth:H,hasSubItems:ae,index:O,isExpanded:J,path:X,defaultRenderItem:oe,defaultRenderTitle:ge,defaultRenderToggle:Ae,onClickItem:te,onClickTitle:pe,onToggleSubItems:se}):oe(te,o$d.createElement(o$d.Fragment,null,Ae(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),ge(pe))),ae&&J&&o$d.createElement(m$9,{bookmarks:$.items,depth:H+1,doc:R,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:X,renderBookmarkItem:fe,store:de}))},m$9=function(A){var $=A.bookmarks,H=A.depth,R=H===void 0?0:H,O=A.doc,B=A.isBookmarkExpanded,Q=A.isRoot,ve=A.pathFromRoot,fe=A.renderBookmarkItem,de=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:Q?"tree":"group",tabIndex:-1},$.map(function(X,Ee){return o$d.createElement(c$d,{bookmark:X,depth:R,doc:O,index:Ee,isBookmarkExpanded:B,key:Ee,numberOfSiblings:$.length,pathFromRoot:ve,renderBookmarkItem:fe,store:de})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,H=A.doc,R=A.isBookmarkExpanded,O=A.renderBookmarkItem,B=A.store,Q=o$d.useRef(),ve=function(Ee){var le=Q.current;if(le&&Ee.target instanceof HTMLElement&&le.contains(Ee.target))switch(Ee.key){case"ArrowDown":Ee.preventDefault(),de(function(ne,re){return ne.indexOf(re)+1});break;case"ArrowLeft":Ee.preventDefault(),X(r$d.Collapse);break;case"ArrowRight":Ee.preventDefault(),X(r$d.Expand);break;case"ArrowUp":Ee.preventDefault,de(function(ne,re){return ne.indexOf(re)-1});break;case"End":Ee.preventDefault(),de(function(ne,re){return ne.length-1});break;case" ":case"Enter":case"Space":Ee.preventDefault(),fe();break;case"Home":Ee.preventDefault(),de(function(ne,re){return 0})}},fe=function(){var Ee=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");Ee&&Ee.click()},de=function(Ee){var le=Q.current,ne=[].slice.call(le.getElementsByClassName("rpv-bookmark__item"));if(ne.length!==0){var re=document.activeElement,J=ne[Math.min(ne.length-1,Math.max(0,Ee(ne,re)))];re.setAttribute("tabindex","-1"),J.setAttribute("tabindex","0"),J.focus()}},X=function(Ee){var le=Q.current;if([].slice.call(le.getElementsByClassName("rpv-bookmark__item")).length!==0){var ne=document.activeElement.closest(".rpv-bookmark__item"),re=Ee===r$d.Collapse?"true":"false";if(ne&&ne.parentElement.getAttribute("aria-expanded")===re){var J=ne.querySelector(".rpv-bookmark__toggle");J&&J.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",ve),function(){document.removeEventListener("keydown",ve)}},[]),o$d.useEffect(function(){var Ee=Q.current;if(Ee){var le=[].slice.call(Ee.getElementsByClassName("rpv-bookmark__item"));le.length>0&&(le[0].focus(),le[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:Q},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:R,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:B}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,R=A.renderBookmarkItem,O=A.store,B=o$d.useContext(e$d.LocalizationContext).l10n,Q=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,ve=o$d.useState({isLoaded:!1,items:[]}),fe=ve[0],de=ve[1];return o$d.useEffect(function(){de({isLoaded:!1,items:[]}),$.getOutline().then(function(X){de({isLoaded:!0,items:X||[]})})},[$]),fe.isLoaded?fe.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":Q})},B&&B.bookmark?B.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":Q})},o$d.createElement(l$d,{bookmarks:fe.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:R,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,R=A.store,O=o$d.useState(R.get("doc")),B=O[0],Q=O[1],ve=function(fe){Q(fe)};return o$d.useEffect(function(){return R.subscribe("doc",ve),function(){R.unsubscribe("doc",ve)}},[]),B?o$d.createElement(s$9,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:R}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$e=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$g;function H(J){var q=Object.create(null);return J&&Object.keys(J).forEach(function(ae){if(ae!=="default"){var se=Object.getOwnPropertyDescriptor(J,ae);Object.defineProperty(q,ae,se.get?se:{enumerable:!0,get:function(){return J[ae]}})}}),q.default=J,Object.freeze(q)}var R,O=H(reactExports);A.ThumbnailDirection=void 0,(R=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",R.Vertical="Vertical";var B=function(){return B=Object.assign||function(J){for(var q,ae=1,se=arguments.length;ae<se;ae++)for(var ue in q=arguments[ae])Object.prototype.hasOwnProperty.call(q,ue)&&(J[ue]=q[ue]);return J},B.apply(this,arguments)},Q=function(J){var q=J.doc,ae=J.getPageIndex,se=J.renderSpinner,ue=J.store,pe=J.width,te=q.numPages,oe=ae?ae({numPages:te}):0,Ae=Math.max(0,Math.min(oe,te-1)),ge=ue.get("pagesRotation")||new Map,ee=ge.has(Ae)?ge.get(Ae):0,_e=O.useState(""),he=_e[0],Pe=_e[1],De=$.useIsMounted(),be=O.useRef(),Te=O.useState(ue.get("rotation")||0),ze=Te[0],Qe=Te[1],Fe=O.useState(ee),nt=Fe[0],at=Fe[1],ht=O.useState(!1),St=ht[0],we=ht[1],W=function(ie){var ce=ie.has(Ae)?ie.get(Ae):0;at(ce)},Y=function(ie){Qe(ie)},G=$.useIntersectionObserver({onVisibilityChanged:function(ie){we(ie.isVisible)}});return O.useEffect(function(){if(St){var ie=G.current;ie&&(Pe(""),$.getPage(q,Ae).then(function(ce){var ye=ce.getViewport({scale:1}),Ce=(ye.rotation+ze+nt)%360,Re=Math.abs(ze+nt)%180==0,Xe=Re?ye.width:ye.height,Ge=Re?ye.height:ye.width,tt=document.createElement("canvas"),ct=tt.getContext("2d",{alpha:!1}),vt=ie.clientWidth,ut=ie.clientHeight,ft=pe?pe/Xe:Math.min(vt/Xe,ut/Ge),gt=ft*Xe,pt=ft*Ge;tt.height=pt,tt.width=gt,tt.style.opacity="0";var Ft=ce.getViewport({rotation:Ce,scale:ft});be.current=ce.render({canvasContext:ct,viewport:Ft}),be.current.promise.then(function(){De.current&&Pe(tt.toDataURL()),tt.width=0,tt.height=0},function(){})}))}},[nt,St]),O.useEffect(function(){return ue.subscribe("pagesRotation",W),ue.subscribe("rotation",Y),function(){ue.unsubscribe("pagesRotation",W),ue.unsubscribe("rotation",Y)}},[]),O.useEffect(function(){return function(){var ie;(ie=be.current)===null||ie===void 0||ie.cancel()}},[]),O.createElement("div",{ref:G,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},he?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:he}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},se?se():O.createElement($.Spinner,null)))},ve=function(J){var q=J.getPageIndex,ae=J.renderSpinner,se=J.store,ue=J.width,pe=O.useState(se.get("doc")),te=pe[0],oe=pe[1],Ae=function(ge){oe(ge)};return O.useEffect(function(){return se.subscribe("doc",Ae),function(){se.unsubscribe("doc",Ae)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},te?O.createElement(Q,{doc:te,getPageIndex:q,renderSpinner:ae,store:se,width:ue}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},ae?ae():O.createElement($.Spinner,null)))},fe=function(){return O.createElement($.Spinner,null)},de=O.createContext({renderSpinner:fe}),X=function(J){var q=J.children,ae=J.doc,se=$.useIsMounted(),ue=O.useState({loading:!0,labels:[]}),pe=ue[0],te=ue[1];return O.useEffect(function(){ae.getPageLabels().then(function(oe){se.current&&te({loading:!1,labels:oe||[]})})},[ae.loadingTask.docId]),pe.loading?O.createElement(O.Fragment,null):q(pe.labels)},Ee=function(J){var q=J.page,ae=J.pageHeight,se=J.pageIndex,ue=J.pageWidth,pe=J.rotation,te=J.thumbnailHeight,oe=J.thumbnailWidth,Ae=J.onRenderCompleted,ge=O.useContext($.LocalizationContext).l10n,ee=O.useRef(),_e=O.useState(""),he=_e[0],Pe=_e[1],De=ge&&ge.thumbnail?ge.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var be=ee.current;be&&be.cancel();var Te=document.createElement("canvas"),ze=Te.getContext("2d",{alpha:!1}),Qe=oe,Fe=Qe/(ue/ae),nt=Qe/ue;Te.height=Fe,Te.width=Qe,Te.style.height="".concat(Fe,"px"),Te.style.width="".concat(Qe,"px");var at=q.getViewport({rotation:pe,scale:nt});return ee.current=q.render({canvasContext:ze,viewport:at}),ee.current.promise.then(function(){Pe(Te.toDataURL()),Ae(se)},function(){Ae(se)}),function(){var ht;(ht=ee.current)===null||ht===void 0||ht.cancel()}},[pe]),he?O.createElement("img",{"aria-label":De.replace("{{pageIndex}}","".concat(se+1)),src:he,height:"".concat(te,"px"),width:"".concat(oe,"px")}):O.useContext(de).renderSpinner()},le=function(J){var q=J.doc,ae=J.pageHeight,se=J.pageIndex,ue=J.pageRotation,pe=J.pageWidth,te=J.rotation,oe=J.shouldRender,Ae=J.thumbnailWidth,ge=J.onRenderCompleted,ee=J.onVisibilityChanged,_e=$.useIsMounted(),he=O.useState({height:ae,page:null,viewportRotation:0,width:pe}),Pe=he[0],De=he[1],be=Pe.page,Te=Pe.height,ze=Pe.width,Qe=ze/Te,Fe=Math.abs(te+ue)%180==0,nt=Fe?Ae:Ae/Qe,at=Fe?Ae/Qe:Ae;O.useEffect(function(){oe&&$.getPage(q,se).then(function(we){var W=we.getViewport({scale:1});_e.current&&De({height:W.height,page:we,viewportRotation:W.rotation,width:W.width})})},[oe]);var ht=(Pe.viewportRotation+te+ue)%360,St=$.useIntersectionObserver({onVisibilityChanged:function(we){ee(se,we)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(se),ref:St,style:{height:"".concat(at,"px"),width:"".concat(nt,"px")}},be?O.createElement(Ee,{page:be,pageHeight:Fe?Te:ze,pageIndex:se,pageWidth:Fe?ze:Te,rotation:ht,thumbnailHeight:at,thumbnailWidth:nt,onRenderCompleted:ge}):O.useContext(de).renderSpinner())},ne=function(J){var q=J.currentPage,ae=J.doc,se=J.labels,ue=J.pagesRotation,pe=J.pageHeight,te=J.pageWidth,oe=J.renderCurrentPageLabel,Ae=J.renderThumbnailItem,ge=J.rotatedPage,ee=J.rotation,_e=J.thumbnailDirection,he=J.thumbnailWidth,Pe=J.viewMode,De=J.onJumpToPage,be=J.onRotatePage,Te=ae.numPages,ze=ae.loadingTask.docId,Qe=O.useRef(null),Fe=O.useRef([]),nt=O.useState(q),at=nt[0],ht=nt[1],St=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,we=O.useState(-1),W=we[0],Y=we[1],G=$.useIsMounted(),ie=$.usePrevious(Pe),ce=O.useRef(!1),ye=$.useRenderQueue({doc:ae}),Ce=O.useMemo(function(){return Array(Te).fill(0).map(function(ft,gt){return gt})},[ze]),Re=O.useMemo(function(){switch(Pe){case $.ViewMode.DualPage:return $.chunk(Ce,2);case $.ViewMode.DualPageWithCover:return[[Ce[0]]].concat($.chunk(Ce.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(Ce,1)}},[ze,Pe]),Xe=function(){if(Qe.current){var ft=Fe.current,gt=at+1;gt<ft.length&&(at>=0&&ft[at].setAttribute("tabindex","-1"),ht(gt))}},Ge=function(){if(Qe.current){var ft=Fe.current,gt=at-1;gt>=0&&(at>=0&&ft[at].setAttribute("tabindex","-1"),ht(gt))}},tt=function(){at>=0&&at<Te&&De(at)};$.useIsomorphicLayoutEffect(function(){var ft=Qe.current;ft&&(Fe.current=Array.from(ft.querySelectorAll(".rpv-thumbnail__item")))},[Pe]),O.useEffect(function(){var ft=Fe.current;if(!(ft.length===0||at<0||at>ft.length)){var gt=ft[at];gt.setAttribute("tabindex","0"),gt.focus()}},[at]),$.useIsomorphicLayoutEffect(function(){var ft=Qe.current,gt=Fe.current;if(!(!ft||gt.length===0||q<0||q>gt.length)){var pt=gt[q].closest(".rpv-thumbnail__items");pt&&(_e===A.ThumbnailDirection.Vertical?function(Ft,ot){var Ue=Ft.getBoundingClientRect().top-ot.getBoundingClientRect().top,We=Ft.clientHeight,lt=ot.clientHeight;Ue<0?ot.scrollTop+=Ue:Ue+We<=lt||(ot.scrollTop+=Ue+We-lt)}(pt,ft):function(Ft,ot){var Ue=Ft.getBoundingClientRect().left-ot.getBoundingClientRect().left,We=Ft.clientWidth,lt=ot.clientWidth;Ue<0?ot.scrollLeft+=Ue:Ue+We<=lt||(ot.scrollLeft+=Ue+We-lt)}(pt,ft))}},[q,_e]);var ct=O.useCallback(function(ft){G.current&&(ye.markRendered(ft),ce.current=!1,ut())},[ze]),vt=O.useCallback(function(ft,gt){gt.isVisible?ye.setVisibility(ft,gt.ratio):ye.setOutOfRange(ft),ut()},[ze]),ut=O.useCallback(function(){if(!ce.current){var ft=ye.getHighestPriorityPage();ft>-1&&(ye.markRendering(ft),ce.current=!0,Y(ft))}},[ze]);return O.useEffect(function(){ge>=0&&(ye.markRendering(ge),ce.current=!0,Y(ge))},[ze,ge]),$.useIsomorphicLayoutEffect(function(){ie!==Pe&&(ye.markNotRendered(),ut())},[Pe]),O.createElement("div",{ref:Qe,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":_e===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":St,"rpv-thumbnail__list--vertical":_e===A.ThumbnailDirection.Vertical}),onKeyDown:function(ft){switch(ft.key){case"ArrowDown":Xe();break;case"ArrowUp":Ge();break;case"Enter":tt()}}},Re.map(function(ft,gt){var pt=!1;switch(Pe){case $.ViewMode.DualPage:pt=q===2*gt||q===2*gt+1;break;case $.ViewMode.DualPageWithCover:pt=q===0&&gt===0||gt>0&&q===2*gt-1||gt>0&&q===2*gt;break;case $.ViewMode.SinglePage:default:pt=q===gt}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Pe===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Pe===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Pe===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":pt}),key:"".concat(gt,"___").concat(Pe)},ft.map(function(Ft){return function(ot){var Ue=Pe===$.ViewMode.DualPageWithCover&&(ot===0||Te%2==0&&ot===Te-1),We="".concat(ae.loadingTask.docId,"___").concat(ot),lt=se.length===Te?se[ot]:"".concat(ot+1),At=oe?oe({currentPage:q,pageIndex:ot,numPages:Te,pageLabel:lt}):lt,Ct=ue.has(ot)?ue.get(ot):0,qt=O.createElement(le,{doc:ae,pageHeight:pe,pageIndex:ot,pageRotation:Ct,pageWidth:te,rotation:ee,shouldRender:W===ot,thumbnailWidth:he,onRenderCompleted:ct,onVisibilityChanged:vt});return Ae?Ae({currentPage:q,key:We,numPages:Te,pageIndex:ot,renderPageLabel:O.createElement(O.Fragment,null,At),renderPageThumbnail:qt,onJumpToPage:function(){return De(ot)},onRotatePage:function(Kt){return be(ot,Kt)}}):O.createElement("div",{key:We},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Pe===$.ViewMode.DualPage&&ot%2==0,"rpv-thumbnail__item--dual-odd":Pe===$.ViewMode.DualPage&&ot%2==1,"rpv-thumbnail__item--dual-cover":Ue,"rpv-thumbnail__item--dual-cover-even":Pe===$.ViewMode.DualPageWithCover&&!Ue&&ot%2==0,"rpv-thumbnail__item--dual-cover-odd":Pe===$.ViewMode.DualPageWithCover&&!Ue&&ot%2==1,"rpv-thumbnail__item--single":Pe===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":q===ot}),role:"button",tabIndex:q===ot?0:-1,onClick:function(){return De(ot)}},qt),O.createElement("div",{"data-testid":"thumbnail__label-".concat(ot),className:"rpv-thumbnail__label"},At))}(Ft)}))}))},re=function(J){var q=J.renderCurrentPageLabel,ae=J.renderThumbnailItem,se=J.store,ue=J.thumbnailDirection,pe=J.thumbnailWidth,te=O.useState(se.get("doc")),oe=te[0],Ae=te[1],ge=O.useState(se.get("currentPage")||0),ee=ge[0],_e=ge[1],he=O.useState(se.get("pageHeight")||0),Pe=he[0],De=he[1],be=O.useState(se.get("pageWidth")||0),Te=be[0],ze=be[1],Qe=O.useState(se.get("rotation")||0),Fe=Qe[0],nt=Qe[1],at=O.useState(se.get("pagesRotation")||new Map),ht=at[0],St=at[1],we=O.useState(se.get("rotatedPage")||-1),W=we[0],Y=we[1],G=O.useState(se.get("viewMode")),ie=G[0],ce=G[1],ye=function(gt){_e(gt)},Ce=function(gt){Ae(gt)},Re=function(gt){De(gt)},Xe=function(gt){ze(gt)},Ge=function(gt){nt(gt)},tt=function(gt){St(gt)},ct=function(gt){Y(gt)},vt=function(gt){ce(gt)},ut=function(gt){var pt=se.get("jumpToPage");pt&&pt(gt)},ft=function(gt,pt){se.get("rotatePage")(gt,pt)};return O.useEffect(function(){return se.subscribe("doc",Ce),se.subscribe("pageHeight",Re),se.subscribe("pageWidth",Xe),se.subscribe("rotatedPage",ct),se.subscribe("rotation",Ge),se.subscribe("pagesRotation",tt),se.subscribe("viewMode",vt),function(){se.unsubscribe("doc",Ce),se.unsubscribe("pageHeight",Re),se.unsubscribe("pageWidth",Xe),se.unsubscribe("rotatedPage",ct),se.unsubscribe("rotation",Ge),se.unsubscribe("pagesRotation",tt),se.unsubscribe("viewMode",vt)}},[]),$.useIsomorphicLayoutEffect(function(){return se.subscribe("currentPage",ye),function(){se.unsubscribe("currentPage",ye)}},[]),oe?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(X,{doc:oe},function(gt){return O.createElement(ne,{currentPage:ee,doc:oe,labels:gt,pagesRotation:ht,pageHeight:Pe,pageWidth:Te,renderCurrentPageLabel:q,renderThumbnailItem:ae,rotatedPage:W,rotation:Fe,thumbnailDirection:ue,thumbnailWidth:pe,viewMode:ie,onJumpToPage:ut,onRotatePage:ft})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(de).renderSpinner())};A.thumbnailPlugin=function(J){var q=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),ae=O.useState(""),se=ae[0],ue=ae[1];return{install:function(pe){q.update("jumpToPage",pe.jumpToPage),q.update("rotatePage",pe.rotatePage)},onDocumentLoad:function(pe){ue(pe.doc.loadingTask.docId),q.update("doc",pe.doc)},onViewerStateChange:function(pe){return q.update("currentPage",pe.pageIndex),q.update("pagesRotation",pe.pagesRotation),q.update("pageHeight",pe.pageHeight),q.update("pageWidth",pe.pageWidth),q.update("rotation",pe.rotation),q.update("rotatedPage",pe.rotatedPage),q.update("viewMode",pe.viewMode),pe},Cover:function(pe){return O.createElement(ve,B({},pe,{renderSpinner:J==null?void 0:J.renderSpinner,store:q}))},Thumbnails:O.useCallback(function(pe){return O.createElement(de.Provider,{value:{renderSpinner:(J==null?void 0:J.renderSpinner)||fe}},O.createElement(re,{renderCurrentPageLabel:J==null?void 0:J.renderCurrentPageLabel,renderThumbnailItem:pe==null?void 0:pe.renderThumbnailItem,store:q,thumbnailDirection:(pe==null?void 0:pe.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(J==null?void 0:J.thumbnailWidth)||100}))},[se])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$d=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$g;function H(re){var J=Object.create(null);return re&&Object.keys(re).forEach(function(q){if(q!=="default"){var ae=Object.getOwnPropertyDescriptor(re,q);Object.defineProperty(J,q,ae.get?ae:{enumerable:!0,get:function(){return re[q]}})}}),J.default=re,Object.freeze(J)}var R,O=H(reactExports),B=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))},Q=function(){return Q=Object.assign||function(re){for(var J,q=1,ae=arguments.length;q<ae;q++)for(var se in J=arguments[q])Object.prototype.hasOwnProperty.call(J,se)&&(re[se]=J[se]);return re},Q.apply(this,arguments)};A.SelectionMode=void 0,(R=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",R.Text="Text";var ve=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},fe=function(re){var J=re.children,q=re.mode,ae=re.onClick,se=O.useContext($.LocalizationContext).l10n,ue="",pe=O.createElement(ve,null);switch(q){case A.SelectionMode.Hand:ue=se&&se.selectionMode?se.selectionMode.handTool:"Hand tool",pe=O.createElement(B,null);break;case A.SelectionMode.Text:default:ue=se&&se.selectionMode?se.selectionMode.textSelectionTool:"Text selection tool",pe=O.createElement(ve,null)}return J({icon:pe,label:ue,onClick:ae})},de={left:0,top:8},X=function(re){var J=re.isSelected,q=re.mode,ae=re.onClick,se="";switch(q){case A.SelectionMode.Hand:se="selection-mode__hand-button";break;case A.SelectionMode.Text:default:se="selection-mode__text-button"}return O.createElement(fe,{mode:q,onClick:ae},function(ue){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:ue.label,isSelected:J,testId:se,onClick:ue.onClick},ue.icon),content:function(){return ue.label},offset:de})})},Ee=function(re){var J=re.children,q=re.mode,ae=re.store,se=q===ae.get("selectionMode");return(J||function(ue){return O.createElement(X,{isSelected:se,mode:ue.mode,onClick:ue.onClick})})({isSelected:se,mode:q,onClick:function(){return ae.update("selectionMode",q)}})},le=function(re){var J=re.isSelected,q=re.mode,ae=re.onClick,se="";switch(q){case A.SelectionMode.Hand:se="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:se="selection-mode__text-menu"}return O.createElement(fe,{mode:q,onClick:ae},function(ue){return O.createElement($.MenuItem,{checked:J,icon:ue.icon,testId:se,onClick:ue.onClick},ue.label)})},ne=function(re){var J=re.store,q=O.useRef(null),ae=O.useState(A.SelectionMode.Text),se=ae[0],ue=ae[1],pe=O.useRef({top:0,left:0,x:0,y:0}),te=function(_e){var he=q.current;he&&(he.scrollTop=pe.current.top-(_e.clientY-pe.current.y),he.scrollLeft=pe.current.left-(_e.clientX-pe.current.x))},oe=function(){var _e=q.current;_e&&(_e.classList.add("rpv-selection-mode__grab"),_e.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",oe))},Ae=function(_e){var he=q.current;he&&se!==A.SelectionMode.Text&&(he.classList.remove("rpv-selection-mode__grab"),he.classList.add("rpv-selection-mode__grabbing"),_e.preventDefault(),_e.stopPropagation(),pe.current={left:he.scrollLeft,top:he.scrollTop,x:_e.clientX,y:_e.clientY},document.addEventListener("mousemove",te),document.addEventListener("mouseup",oe))},ge=function(_e){q.current=_e()},ee=function(_e){ue(_e)};return O.useEffect(function(){var _e=q.current;if(_e)return se===A.SelectionMode.Hand?_e.classList.add("rpv-selection-mode__grab"):_e.classList.remove("rpv-selection-mode__grab"),_e.addEventListener("mousedown",Ae),function(){_e.removeEventListener("mousedown",Ae)}},[se]),O.useEffect(function(){return J.subscribe("getPagesContainer",ge),J.subscribe("selectionMode",ee),function(){J.unsubscribe("getPagesContainer",ge),J.unsubscribe("selectionMode",ee)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=ve,A.selectionModePlugin=function(re){var J=O.useMemo(function(){return $.createStore()},[]),q=function(ae){return O.createElement(Ee,Q({},ae,{store:J}))};return{install:function(ae){J.update("selectionMode",re&&re.selectionMode?re.selectionMode:A.SelectionMode.Text),J.update("getPagesContainer",ae.getPagesContainer)},renderViewer:function(ae){var se=ae.slot;return se.subSlot&&se.subSlot.children&&(se.subSlot.children=O.createElement(O.Fragment,null,O.createElement(ne,{store:J}),se.subSlot.children)),se},SwitchSelectionMode:q,SwitchSelectionModeButton:function(ae){return O.createElement(q,{mode:ae.mode},function(se){return O.createElement(X,{isSelected:se.isSelected,mode:se.mode,onClick:function(){se.onClick()}})})},SwitchSelectionModeMenuItem:function(ae){return O.createElement(q,{mode:ae.mode},function(se){return O.createElement(le,{isSelected:se.isSelected,mode:se.mode,onClick:function(){se.onClick(),ae.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$c=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$g;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$c.useContext(e$c.LocalizationContext).l10n,O=R&&R.fullScreen?R.fullScreen.enterFullScreen:"Full screen",B=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:R,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return R},offset:i$c})},f$9=function(A,$){var H=n$c.useState($.get("fullScreenMode")),R=H[0],O=H[1],B=n$c.useCallback(function(Q){O(Q)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",B),function(){$.unsubscribe("fullScreenMode",B)}},[]),{enterFullScreen:function(){var Q=$.get("getPagesContainer");if(Q){var ve=A(Q());$.get("enterFullScreenMode")(ve)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.getFullScreenTarget,O=A.store,B=f$9(R,O),Q=B.enterFullScreen,ve=B.exitFullScreen,fe=B.isFullScreen;return($||function(de){return fe?n$c.createElement(a$c,{onClick:de.onClick}):n$c.createElement(o$c,{enableShortcuts:H,onClick:de.onClick})})({onClick:fe?ve:Q})},S$4=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},R)},d$9=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!R,"rpv-full-screen__exit-button--rtl":R})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R),B=O.enterFullScreen,Q=O.exitFullScreen,ve=O.isFullScreen;return ve&&($||function(fe){return n$c.createElement(d$9,{onClick:fe.onClick})})({onClick:ve?Q:B})},E$5=function(A){var $=A.store,H=A.onEnterFullScreen,R=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),B=O[0],Q=O[1],ve=n$c.useCallback(function(fe){Q(fe)},[]);return n$c.useEffect(function(){switch(B){case e$c.FullScreenMode.EnteredCompletely:H($.get("zoom"));break;case e$c.FullScreenMode.Exited:R($.get("zoom"))}},[B]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",ve),function(){$.unsubscribe("fullScreenMode",ve)}},[]),(B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R).enterFullScreen,B=function(Q){if(!Q.shiftKey&&!Q.altKey&&(e$c.isMac()?Q.metaKey&&Q.ctrlKey&&Q.key==="f":Q.key==="F11")){var ve=$.current;ve&&document.activeElement&&ve.contains(document.activeElement)&&(Q.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(Q){return Q},H=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),R=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(Q){return n$c.createElement(s$8,c$c({},Q,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:R}))},B=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:R},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(Q){R.update("enterFullScreenMode",Q.enterFullScreenMode),R.update("exitFullScreenMode",Q.exitFullScreenMode),R.update("getPagesContainer",Q.getPagesContainer),R.update("zoom",Q.zoom)},onViewerStateChange:function(Q){return R.update("fullScreenMode",Q.fullScreenMode),Q},renderViewer:function(Q){var ve=Q.slot;return ve.subSlot&&(ve.subSlot.children=n$c.createElement(n$c.Fragment,null,H.enableShortcuts&&n$c.createElement(F,{containerRef:Q.containerRef,getFullScreenTarget:$,store:R}),n$c.createElement(E$5,{store:R,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$c.createElement(B,null),ve.subSlot.children)),ve},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(Q){return n$c.createElement(o$c,c$c({enableShortcuts:H.enableShortcuts},Q))})},EnterFullScreenMenuItem:function(Q){return n$c.createElement(O,null,function(ve){return n$c.createElement(S$4,{onClick:function(){ve.onClick(),Q.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$b=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$g;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:R,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return R},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var R=URL.createObjectURL(new Blob([A],{type:H}));c$b(R,$),R&&URL.revokeObjectURL(R)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(R){return btoa(Array(R.length).fill("").map(function(O,B){return String.fromCharCode(R[B])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,R=A.store,O=n$b.useState(R.get("file")),B=O[0],Q=O[1],ve=n$b.useState(R.get("doc")),fe=ve[0],de=ve[1],X=function(le){de(le)},Ee=function(le){Q(le)};return n$b.useEffect(function(){return R.subscribe("doc",X),R.subscribe("file",Ee),function(){R.subscribe("doc",X),R.unsubscribe("file",Ee)}},[]),($||function(le){return n$b.createElement(a$b,{onClick:le.onClick})})({onClick:function(){fe&&B&&u$b(fe,H(B))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},R)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(O){return O.name?(B=O.name,(Q=B.split("/").pop())?Q.split("#")[0].split("?")[0]:B):"document.pdf";var B,Q},R=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:R,DownloadButton:function(){return n$b.createElement(R,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(R,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$a=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$g;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},R=function(O){O&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",R),function(){A.unsubscribe("triggerOpenFile",R)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,B=O&&O.open?O.open.openFile:"Open file",Q=i$a(H),ve=Q.inputRef,fe=Q.openFile,de=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:ve,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:R}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:de,ariaLabel:B,testId:"open__button",onClick:fe},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:H,store:R,onClick:O.onClick})})({onClick:function(O){var B=O.target.files;if(B&&B.length){var Q=R.get("openFile");Q&&Q(B[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,O=R&&R.open?R.open.openFile:"Open file",B=i$a($),Q=B.inputRef,ve=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:ve},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:Q,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),O))},p$7=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),R=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{install:function(O){H.update("openFile",O.openFile)},renderViewer:function(O){var B=O.slot,Q={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:H}),B.children)};return o$a(o$a({},B),Q)},Open:R,OpenButton:function(){return n$a.createElement(R,null)},OpenMenuItem:function(){return n$a.createElement(R,null,function(O){return n$a.createElement(l$a,{store:H,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$9=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$g;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],R=$[1],O=function(B){R(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,R=n$9.useState("1"),O=R[0],B=R[1],Q=i$9($).currentPage,ve=u$9($).numberOfPages;n$9.useEffect(function(){return B("".concat(Q+1))},[Q]);var fe=function(X){var Ee=$.get("jumpToPage");Ee&&Ee(X)},de=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:de,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:B,onKeyDown:function(X){switch(X.key){case"ArrowUp":(ne=Q-1)>=0&&(B("".concat(ne+1)),fe(ne));break;case"ArrowDown":(le=Q+1)<ve&&(B("".concat(le+1)),fe(le));break;case"Enter":Ee=parseInt(O,10),O===""||Ee<1||Ee>ve?B("".concat(Q+1)):fe(Ee-1)}var Ee,le,ne}}))},l$9=function(A){var $=A.children,H=A.doc,R=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),B=O[0],Q=O[1];return n$9.useEffect(function(){H.getPageLabels().then(function(ve){R.current&&Q({loading:!1,labels:ve||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):$(B.labels)},s$7=function(A){var $=A.children,H=A.store,R=function(ve){var fe=n$9.useState(ve.get("doc")),de=fe[0],X=fe[1],Ee=function(le){X(le)};return n$9.useEffect(function(){return ve.subscribe("doc",Ee),function(){ve.unsubscribe("doc",Ee)}},[]),de}(H),O=i$9(H).currentPage,B=u$9(H).numberOfPages,Q=$||function(ve){return n$9.createElement(n$9.Fragment,null,ve.currentPage+1)};return R?n$9.createElement(l$9,{doc:R},function(ve){var fe=ve.length===B&&B>0?ve[O]:"";return Q({currentPage:O,numberOfPages:B,pageLabel:fe})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(m$7,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var R=H.get("jumpToPage");R&&R(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,H=A.store,R=i$9(H).currentPage,O=u$9(H).numberOfPages;return($||function(B){return n$9.createElement(P$2,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:R+1>=O,onClick:function(){var B=H.get("jumpToPage");B&&B(O-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(D,{onClick:R.onClick,isDisabled:R.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var R=H.get("jumpToNextPage");R&&R()}})},T=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},O)},h$5=function(A){var $=A.children,H=A.store,R=u$9(H).numberOfPages;return $?$({numberOfPages:R}):n$9.createElement(n$9.Fragment,null,R)},y$1=function(A){var $=A.containerRef,H=A.numPages,R=A.store,O=i$9(R).currentPage,B=n$9.useRef(O);B.current=O;var Q=n$9.useRef(!1),ve=function(){Q.current=!0},fe=function(){Q.current=!1},de=function(X){var Ee=$.current,le=Q.current||document.activeElement&&Ee.contains(document.activeElement);if(Ee&&le){var ne,re,J=X.altKey&&X.key==="ArrowDown"||!X.shiftKey&&!X.altKey&&X.key==="PageDown",q=X.altKey&&X.key==="ArrowUp"||!X.shiftKey&&!X.altKey&&X.key==="PageUp";if(J)return X.preventDefault(),ne=R.get("jumpToPage"),re=B.current+1,void(ne&&re<H&&ne(re));if(q)return X.preventDefault(),void function(){var ae=R.get("jumpToPage"),se=B.current-1;ae&&se>=0&&ae(se)}();if(e$9.isMac()?X.metaKey&&!X.ctrlKey:X.altKey)switch(X.key){case"ArrowLeft":X.preventDefault(),function(){var ae=R.get("jumpToPreviousDestination");ae&&ae()}();break;case"ArrowRight":X.preventDefault(),function(){var ae=R.get("jumpToNextDestination");ae&&ae()}()}}};return n$9.useEffect(function(){var X=$.current;if(X)return document.addEventListener("keydown",de),X.addEventListener("mouseenter",ve),X.addEventListener("mouseleave",fe),function(){document.removeEventListener("keydown",de),X.removeEventListener("mouseenter",ve),X.removeEventListener("mouseleave",fe)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),R=function(ve){return n$9.createElement(p$6,o$9({},ve,{store:H}))},O=function(ve){return n$9.createElement(b$4,o$9({},ve,{store:H}))},B=function(ve){return n$9.createElement(k$3,o$9({},ve,{store:H}))},Q=function(ve){return n$9.createElement(j,o$9({},ve,{store:H}))};return{install:function(ve){H.update("jumpToDestination",ve.jumpToDestination),H.update("jumpToNextDestination",ve.jumpToNextDestination),H.update("jumpToNextPage",ve.jumpToNextPage),H.update("jumpToPage",ve.jumpToPage),H.update("jumpToPreviousDestination",ve.jumpToPreviousDestination),H.update("jumpToPreviousPage",ve.jumpToPreviousPage)},renderViewer:function(ve){var fe=ve.slot;if(!$.enableShortcuts)return fe;var de={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:ve.containerRef,numPages:ve.doc.numPages,store:H}),fe.children)};return o$9(o$9({},fe),de)},onDocumentLoad:function(ve){H.update("doc",ve.doc),H.update("numberOfPages",ve.doc.numPages)},onViewerStateChange:function(ve){return H.update("currentPage",ve.pageIndex),ve},jumpToNextPage:function(){var ve=H.get("jumpToNextPage");ve&&ve()},jumpToPage:function(ve){var fe=H.get("jumpToPage");fe&&fe(ve)},jumpToPreviousPage:function(){var ve=H.get("jumpToPreviousPage");ve&&ve()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(ve){return n$9.createElement(s$7,o$9({},ve,{store:H}))},GoToFirstPage:R,GoToFirstPageButton:function(){return n$9.createElement(R,null,function(ve){return n$9.createElement(m$7,o$9({},ve))})},GoToFirstPageMenuItem:function(ve){return n$9.createElement(R,null,function(fe){return n$9.createElement(v$5,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(ve){return n$9.createElement(P$2,o$9({},ve))})},GoToLastPageMenuItem:function(ve){return n$9.createElement(O,null,function(fe){return n$9.createElement(E$4,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(ve){return n$9.createElement(D,o$9({},ve))})},GoToNextPageMenuItem:function(ve){return n$9.createElement(B,null,function(fe){return n$9.createElement(T,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},GoToPreviousPage:Q,GoToPreviousPageButton:function(){return n$9.createElement(Q,null,function(ve){return n$9.createElement(N,o$9({},ve))})},GoToPreviousPageMenuItem:function(ve){return n$9.createElement(Q,null,function(fe){return n$9.createElement(I$2,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},NumberOfPages:function(ve){return n$9.createElement(h$5,o$9({},ve,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$8=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$g,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n            M3.5,8.499\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n            M14.5,0.499v4h4"}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,R=a$8.useContext(e$8.LocalizationContext).l10n,O=R&&R.print?R.print.print:"Print",B=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){R.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,R=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),B=O[0],Q=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(ve){ve===null||ve.includes(4)||ve.includes(2048)?H.update("printStatus",o$8.Preparing):Q(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(ve){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},R&&R.print?R.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){ve(),H.update("printStatus",o$8.Cancelled)}},R&&R.print?R.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,R=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,Q=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:Q})),a$8.createElement(e$8.Button,{onClick:R},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,R=A.pageHeight,O=A.pageIndex,B=A.pageWidth,Q=A.rotation,ve=A.onLoad,fe=e$8.useIsMounted(),de=a$8.useRef(),X=a$8.useState(""),Ee=X[0],le=X[1],ne=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var re=de.current;re&&re.cancel();var J=150/72;$.height=Math.floor(R*J),$.width=Math.floor(B*J);var q=$.getContext("2d");q.save(),q.fillStyle="rgb(255, 255, 255)",q.fillRect(0,0,$.width,$.height),q.restore();var ae=H.getViewport({rotation:Q,scale:1});de.current=H.render({canvasContext:q,intent:"print",transform:[J,0,0,J,0,0],viewport:ae}),de.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(se){fe.current&&le(URL.createObjectURL(se)),ne&&ve()}):(fe.current&&le($.toDataURL()),ne&&ve())},function(){})},[]),Ee&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:Ee,onLoad:function(){ne||ve()}}))},f$6=function(A){var $=A.canvas,H=A.doc,R=A.pageIndex,O=A.pageRotation,B=A.pageSize,Q=A.rotation,ve=A.shouldRender,fe=A.onLoad,de=e$8.useIsMounted(),X=a$8.useState(null),Ee=X[0],le=X[1],ne=Math.abs(Q+O)%180==0;a$8.useEffect(function(){ve&&e$8.getPage(H,R).then(function(J){de.current&&le(J)})},[ve]);var re=(B.rotation+Q+O)%360;return Ee&&a$8.createElement(d$6,{canvas:$,page:Ee,pageHeight:ne?B.pageHeight:B.pageWidth,pageIndex:R,pageWidth:ne?B.pageWidth:B.pageHeight,rotation:re,onLoad:fe})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,R=A.pagesRotation,O=A.pageSizes,B=A.printPages,Q=A.printStatus,ve=A.rotation,fe=A.onCancel,de=A.onLoad,X=a$8.useMemo(function(){return document.createElement("canvas")},[]),Ee=a$8.useMemo(function(){var re=document.querySelector(".rpv-print__zone");if(re)return re;var J=document.createElement("div");return J.classList.add("rpv-print__zone"),J.setAttribute("data-testid","print__zone"),document.body.appendChild(J),J},[]);a$8.useEffect(function(){Q===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var re=function(){if(Q===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var J=document.querySelectorAll(".rpv-print__zone");J&&J.forEach(function(q){q.parentElement.removeChild(q)}),X.height=0,X.width=0,document.removeEventListener("mousemove",re),fe()}};return document.addEventListener("mousemove",re),function(){return document.removeEventListener("mousemove",re)}},[Q]);var le=O[0].pageHeight,ne=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(re,J){return a$8.createElement(f$6,{key:re,canvas:X,doc:$,pageIndex:re,pageRotation:R.has(re)?R.get(re):0,pageSize:O[re],rotation:ve,shouldRender:J===H,onLoad:de})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ne,"pt ").concat(le,"pt }")}})),Ee)},v$4=function(A){var $=A.doc,H=A.pagesRotation,R=A.pageSizes,O=A.renderProgressBar,B=A.rotation,Q=A.setPages,ve=A.store,fe=a$8.useState(o$8.Inactive),de=fe[0],X=fe[1],Ee=a$8.useState(0),le=Ee[0],ne=Ee[1],re=a$8.useMemo(function(){var se=$.numPages;return Q($).filter(function(ue){return ue>=0&&ue<se})},[$,Q]),J=re.length,q=function(){ne(0),X(o$8.Inactive)},ae=function(se){return X(se)};return a$8.useEffect(function(){return ve.subscribe("printStatus",ae),function(){ve.unsubscribe("printStatus",ae)}},[]),a$8.createElement(a$8.Fragment,null,de===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:ve}),de===o$8.Preparing&&(O?O(le,J,q):a$8.createElement(m$6,{numLoadedPages:le,numPages:J,onCancel:q})),(de===o$8.Preparing||de===o$8.Ready)&&le<=J&&a$8.createElement(g$4,{doc:$,numLoadedPages:le,pagesRotation:H,pageSizes:R,printPages:re,printStatus:de,rotation:B,onCancel:q,onLoad:function(){var se=le+1;se<=J&&(ne(se),se===J&&X(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,R=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},R)},E$3=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,R=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var B,Q,ve=O.split("-").map(function(fe){return parseInt(fe,10)}).filter(function(fe){return Number.isInteger(fe)});ve.length===1?R.push(ve[0]-1):ve.length===2&&R.push.apply(R,(B=ve[0]-1,Q=ve[1]-1,Array(Q-B+1).fill(0).map(function(fe,de){return B+de})))}),(H=R,H.filter(function(O){return H.indexOf(O)===H.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(B,Q){return Q})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),R=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var B=O.slot,Q={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:H}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:H}),B.children)};return c$8(c$8({},B),Q)},Print:R,PrintButton:function(){return a$8.createElement(R,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(R,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$7=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$g;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n            M14.5,17.005H13\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n            M11.745,6.504L11.745,6.504\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,R=r$7.useState(),O=R[0],B=R[1];return r$7.useEffect(function(){$.getMetadata().then(function(Q){return Promise.resolve(Q)}).then(function(Q){return $.getDownloadInfo().then(function(ve){return Promise.resolve({fileName:Q.contentDispositionFilename||"",info:Q.info,length:ve.length})})}).then(function(Q){B(Q)})},[]),O?H(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,R=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":R})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,R){var O=parseInt(A,10);return O>=$&&O<=H?O:R},p$4=function(A){var $=A.doc,H=A.fileName,R=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,B=function(Q){var ve=function(fe){var de=l$7.exec(fe);if(!de)return null;var X=parseInt(de[1],10),Ee=c$7(de[2],1,12,1)-1,le=c$7(de[3],1,31,1),ne=c$7(de[4],0,23,0),re=c$7(de[5],0,59,0),J=c$7(de[6],0,59,0),q=de[7]||"Z",ae=c$7(de[8],0,23,0),se=c$7(de[9],0,59,0);switch(q){case"-":ne+=ae,re+=se;break;case"+":ne-=ae,re-=se}return new Date(Date.UTC(X,Ee,le,ne,re,J))}(Q);return ve?"".concat(ve.toLocaleDateString(),", ").concat(ve.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(Q){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:Q.fileName||(de=H,X=de.split("/").pop(),X?X.split("#")[0].split("?")[0]:de)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(ve=Q.length,fe=Math.floor(Math.log(ve)/Math.log(1024)),"".concat((ve/Math.pow(1024,fe)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][fe]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:Q.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:Q.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:Q.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:Q.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:Q.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:B(Q.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:B(Q.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:Q.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:Q.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var ve,fe,de,X}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:R},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:R,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return R},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,R=function(Q){var ve=r$7.useState(Q.get("doc")),fe=ve[0],de=ve[1],X=function(Ee){de(Ee)};return r$7.useEffect(function(){return Q.subscribe("doc",X),function(){Q.unsubscribe("doc",X)}},[]),{currentDoc:fe}}(H).currentDoc,O=H.get("fileName")||"",B=$||function(Q){return r$7.createElement(u$7,o$7({},Q))};return R?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(Q){return B({onClick:Q})},content:function(Q){return r$7.createElement(p$4,{doc:R,fileName:O,onToggle:Q})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},R)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(R){return r$7.createElement(f$5,o$7({},R))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$6=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$g;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n            M13.5,1.75L10,4.25l3.5,2.5"}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n            M10.5,1.75l3.5,2.5l-3.5,2.5"}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",Q=$===t$6.RotateDirection.Backward?O:B,ve=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:Q,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},ve),content:function(){return Q},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,R=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:H,onClick:function(){var O=R.get("rotate");O&&O(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",Q=$===t$6.RotateDirection.Backward?O:B,ve=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:ve,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},Q)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(R,O){var B=H.get("rotatePage");B&&B(R,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$5=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$g;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},u$5=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",Q=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",Q=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",Q=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",Q=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",Q=t$5.createElement(d$4,null)}return $({icon:Q,label:B,onClick:R})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:R,onClick:O},function(Q){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Q.label,isDisabled:$,isSelected:H,testId:B,onClick:Q.onClick},Q.icon),content:function(){return Q.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode===H,Q=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(ve){return t$5.createElement(M$2,{isDisabled:Q,isSelected:B,mode:ve.mode,onClick:ve.onClick})})({isDisabled:Q,isSelected:B,mode:H,onClick:function(){a$5(R,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:R,onClick:O},function(Q){return t$5.createElement(e$5.MenuItem,{checked:H,icon:Q.icon,isDisabled:$,testId:B,onClick:Q.onClick},Q.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",Q=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",Q=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",Q=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",Q=t$5.createElement(r$5,null)}return $({icon:Q,label:B,onClick:R})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:R,onClick:O},function(Q){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Q.label,isDisabled:$,isSelected:H,testId:B,onClick:Q.onClick},Q.icon),content:function(){return Q.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode,Q=O===H,ve=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(fe){return t$5.createElement(v$3,{isDisabled:ve,isSelected:Q,mode:fe.mode,onClick:fe.onClick})})({isDisabled:ve,isSelected:Q,mode:H,onClick:function(){h$3(R,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:R,onClick:O},function(Q){return t$5.createElement(e$5.MenuItem,{checked:H,icon:Q.icon,isDisabled:$,testId:B,onClick:Q.onClick},Q.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(R){return t$5.createElement(S$3,i$5({},R,{store:A}))},H=function(R){return t$5.createElement(k$2,i$5({},R,{store:A}))};return{install:function(R){A.update("switchScrollMode",R.switchScrollMode),A.update("switchViewMode",R.switchViewMode)},onViewerStateChange:function(R){return A.update("scrollMode",R.scrollMode),A.update("viewMode",R.viewMode),R},switchScrollMode:function(R){a$5(A,R)},switchViewMode:function(R){h$3(A,R)},SwitchScrollMode:$,SwitchScrollModeButton:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$4=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$g;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,R=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=O.current;R&&B&&R({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(R,O){l$4(R);var B=O.parentNode;B&&B.insertBefore(R,O),l$4(O)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,R=A.renderHighlights,O=A.store,B=A.onHighlightKeyword,Q=r$4.useRef(),ve=r$4.useCallback(function(be){return r$4.createElement(r$4.Fragment,null,be.highlightAreas.map(function(Te,ze){return r$4.createElement(s$3,{index:ze,key:ze,area:Te,onHighlightKeyword:B})}))},[]),fe=R||ve,de=r$4.useState(O.get("matchPosition")),X=de[0],Ee=de[1],le=r$4.useState(O.get("keyword")||[u$4]),ne=le[0],re=le[1],J=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),q=J[0],ae=J[1],se=r$4.useRef(null),ue=r$4.useRef([]),pe=r$4.useState([]),te=pe[0],oe=pe[1],Ae=function(){return!0},ge=r$4.useCallback(function(){return O.get("targetPageFilter")||Ae},[O.get("targetPageFilter")]),ee=function(be){var Te=ue.current;if(Te.length===0)return[];var ze=[],Qe=[].slice.call(be.querySelectorAll(".rpv-core__text-layer-text")),Fe=Te.map(function(nt){return nt.char}).join("");return ne.forEach(function(nt){var at=nt.keyword;if(at.trim()){for(var ht,St=nt.regExp.flags.indexOf("g")===-1?new RegExp(nt.regExp,"".concat(nt.regExp.flags,"g")):nt.regExp,we=[];(ht=St.exec(Fe))!==null;)we.push({keyword:St,startIndex:ht.index,endIndex:St.lastIndex});we.map(function(W){return{keyword:W.keyword,indexes:Te.slice(W.startIndex,W.endIndex)}}).forEach(function(W){var Y=W.indexes.reduce(function(G,ie){return G[ie.spanIndex]=(G[ie.spanIndex]||[]).concat([ie]),G},{});Object.values(Y).forEach(function(G){if(G.length!==1||G[0].char.trim()!==""){var ie=nt.wholeWords?G.slice(1,-1):G,ce=function(ye,Ce,Re,Xe,Ge){var tt=document.createRange(),ct=Xe.firstChild;if(!ct||ct.nodeType!==Node.TEXT_NODE)return null;var vt=ct.textContent.length,ut=Ge[0].charIndexInSpan,ft=Ge.length===1?ut:Ge[Ge.length-1].charIndexInSpan;if(ut>vt||ft+1>vt)return null;tt.setStart(ct,ut),tt.setEnd(ct,ft+1);var gt=document.createElement("span");tt.surroundContents(gt);var pt=gt.getBoundingClientRect(),Ft=Re.getBoundingClientRect(),ot=Ft.height,Ue=Ft.width,We=100*(pt.left-Ft.left)/Ue,lt=100*(pt.top-Ft.top)/ot,At=100*pt.height/ot,Ct=100*pt.width/Ue;return h$2(gt),{keyword:Ce,keywordStr:ye,numPages:$,pageIndex:H,left:We,top:lt,height:At,width:Ct,pageHeight:ot,pageWidth:Ue}}(at,W.keyword,be,Qe[ie[0].spanIndex],ie);ce&&ze.push(ce)}})})}}),ze.sort(d$3)},_e=function(be){be&&be.length>0&&re(be)},he=function(be){return Ee(be)},Pe=function(be){if(be.has(H)){var Te=be.get(H);Te&&ae({ele:Te.ele,pageIndex:H,scale:Te.scale,status:Te.status})}},De=function(){return ne.length===0||ne.length===1&&ne[0].keyword.trim()===""};return r$4.useEffect(function(){if(!De()&&q.status===e$4.LayerRenderStatus.DidRender&&!ue.current.length){var be=q.ele,Te=[].slice.call(be.querySelectorAll(".rpv-core__text-layer-text")).map(function(ze){return ze.textContent}).reduce(function(ze,Qe,Fe){return ze.concat(Qe.split("").map(function(nt,at){return{char:nt,charIndexInSpan:at,spanIndex:Fe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);ue.current=Te}},[ne,q.status]),r$4.useEffect(function(){if(!De()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&ge()({pageIndex:H,numPages:$})){var be=q.ele,Te=ee(be);oe(Te)}},[ne,X,q.status,ue.current]),r$4.useEffect(function(){De()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&oe([])},[ne,q.status]),r$4.useEffect(function(){if(te.length!==0){var be=Q.current;if(X.pageIndex===H&&be&&q.status===e$4.LayerRenderStatus.DidRender){var Te=be.querySelector('.rpv-search__highlight[data-index="'.concat(X.matchIndex,'"]'));if(Te){var ze=function(at,ht){for(var St=at.offsetTop,we=at.offsetLeft,W=at.parentElement;W&&W!==ht;)St+=W.offsetTop,we+=W.offsetLeft,W=W.parentElement;return{left:we,top:St}}(Te,be),Qe=ze.left,Fe=ze.top,nt=O.get("jumpToDestination");nt&&(nt({pageIndex:H,bottomOffset:(be.getBoundingClientRect().height-Fe)/q.scale,leftOffset:Qe/q.scale,scaleTo:q.scale}),se.current&&se.current.classList.remove("rpv-search__highlight--current"),se.current=Te,Te.classList.add("rpv-search__highlight--current"))}}}},[te,X]),r$4.useEffect(function(){return O.subscribe("keyword",_e),O.subscribe("matchPosition",he),O.subscribe("renderStatus",Pe),function(){O.unsubscribe("keyword",_e),O.unsubscribe("matchPosition",he),O.unsubscribe("renderStatus",Pe)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:Q},fe({getCssProperties:i$4,highlightAreas:te}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,R=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),R),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),R=r$4.useMemo(function(){if(H&&H.length===1){var he=g$2(H[0]);return{matchCase:he.regExp.flags.indexOf("i")===-1,wholeWords:he.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(he){var Pe=r$4.useRef(he.get("doc")),De=function(be){Pe.current=be};return r$4.useEffect(function(){return he.subscribe("doc",De),function(){he.unsubscribe("doc",De)}},[]),Pe}(A),B=r$4.useState(H),Q=B[0],ve=B[1],fe=r$4.useState([]),de=fe[0],X=fe[1],Ee=r$4.useState(0),le=Ee[0],ne=Ee[1],re=r$4.useState(R.matchCase),J=re[0],q=re[1],ae=r$4.useRef([]),se=r$4.useState(R.wholeWords),ue=se[0],pe=se[1],te=function(){return!0},oe=r$4.useCallback(function(){return A.get("targetPageFilter")||te},[A.get("targetPageFilter")]),Ae=function(he){var Pe=de.length;if(Q.length===0||Pe===0)return null;var De=he===Pe+1?1:Math.max(1,Math.min(Pe,he));return ne(De),ee(de[De-1])},ge=function(he){return ve(he===""?[]:[he])},ee=function(he){var Pe=A.get("jumpToPage");return Pe&&Pe(he.pageIndex),A.update("matchPosition",{matchIndex:he.matchIndex,pageIndex:he.pageIndex}),he},_e=function(he,Pe,De){var be=O.current;if(!be)return Promise.resolve([]);var Te=be.numPages,ze=he.map(function(Qe){return g$2(Qe,Pe,De)});return A.update("keyword",ze),ne(0),X([]),new Promise(function(Qe,Fe){var nt=ae.current.length===0?function(){var at=O.current;if(!at)return Promise.resolve([]);var ht=Array(at.numPages).fill(0).map(function(St,we){return e$4.getPage(at,we).then(function(W){return W.getTextContent()}).then(function(W){var Y=W.items.map(function(G){return G.str||""}).join("");return Promise.resolve({pageContent:Y,pageIndex:we})})});return Promise.all(ht).then(function(St){return St.sort(function(we,W){return we.pageIndex-W.pageIndex}),Promise.resolve(St.map(function(we){return we.pageContent}))})}().then(function(at){return ae.current=at,Promise.resolve(at)}):Promise.resolve(ae.current);nt.then(function(at){var ht=[];at.forEach(function(St,we){oe()({pageIndex:we,numPages:Te})&&ze.forEach(function(W){for(var Y,G=0;(Y=W.regExp.exec(St))!==null;)ht.push({keyword:W.regExp,matchIndex:G,pageIndex:we,pageText:St,startIndex:Y.index,endIndex:W.regExp.lastIndex}),G++})}),X(ht),ht.length>0&&(ne(1),ee(ht[0])),Qe(ht)})})};return r$4.useEffect(function(){ae.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),ge(""),ne(0),X([]),q(!1),pe(!1)},changeMatchCase:function(he){q(he),Q.length>0&&_e(Q,he,ue)},changeWholeWords:function(he){pe(he),Q.length>0&&_e(Q,J,he)},currentMatch:le,jumpToMatch:Ae,jumpToNextMatch:function(){return Ae(le+1)},jumpToPreviousMatch:function(){return Ae(le-1)},keywords:Q,matchCase:J,numberOfMatches:de.length,wholeWords:ue,search:function(){return _e(Q,J,ue)},searchFor:_e,setKeywords:ve,keyword:Q.length===0?"":($=Q[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:ge,setTargetPages:function(he){A.update("targetPageFilter",he)}}},v$2=function(A){var $=A.children,H=A.store,R=m$3(H),O=r$4.useState(!1),B=O[0],Q=O[1],ve=function(fe){return Q(!0)};return r$4.useEffect(function(){return H.subscribe("doc",ve),function(){H.unsubscribe("doc",ve)}},[]),$(c$4(c$4({},R),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,R=r$4.useRef(!1),O=function(){R.current=!0},B=function(){R.current=!1},Q=function(ve){var fe=$.current;fe&&(ve.shiftKey||ve.altKey||ve.key!=="f"||(e$4.isMac()?ve.metaKey&&!ve.ctrlKey:ve.ctrlKey)&&(R.current||document.activeElement&&fe.contains(document.activeElement))&&(ve.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var ve=$.current;if(ve)return document.addEventListener("keydown",Q),ve.addEventListener("mouseenter",O),ve.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",Q),ve.removeEventListener("mouseenter",O),ve.removeEventListener("mouseleave",B)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,R=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),Q=B[0],ve=B[1],fe=r$4.useState(!1),de=fe[0],X=fe[1],Ee=O===e$4.TextDirection.RightToLeft,le=m$3($),ne=le.clearKeyword,re=le.changeMatchCase,J=le.changeWholeWords,q=le.currentMatch,ae=le.jumpToNextMatch,se=le.jumpToPreviousMatch,ue=le.keyword,pe=le.matchCase,te=le.numberOfMatches,oe=le.wholeWords,Ae=le.search,ge=le.setKeyword,ee=function(be){ve(!0),Ae().then(function(Te){ve(!1),X(!0),be&&be()})};r$4.useEffect(function(){var be=$.get("initialKeyword");be&&be.length===1&&ue&&ee(function(){$.update("initialKeyword",[])})},[]);var _e=R&&R.search?R.search.enterToSearch:"Enter to search",he=R&&R.search?R.search.previousMatch:"Previous match",Pe=R&&R.search?R.search.nextMatch:"Next match",De=R&&R.search?R.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:_e,autoFocus:!0,placeholder:_e,type:"text",value:ue,onChange:function(be){X(!1),ge(be)},onKeyDown:function(be){be.key==="Enter"&&ue&&(de?ae():ee())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!Ee,"rpv-search__popover-counter--rtl":Ee})},Q&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!Q&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},q,"/",te))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:pe,type:"checkbox",onChange:function(be){X(!1),re(be.target.checked)}})," ",R&&R.search?R.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:oe,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(be){X(!1),J(be.target.checked)}})," ",R&&R.search?R.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:Ee?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:he,isDisabled:q<=1,onClick:se},r$4.createElement(o$4,null)),content:function(){return he},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Pe,isDisabled:q>te-1,onClick:ae},r$4.createElement(n$4,null)),content:function(){return Pe},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!Ee,"rpv-search__popover-footer-button--rtl":Ee})},r$4.createElement(e$4.Button,{onClick:function(){H(),ne()}},De))))},w=function(A){var $=A.children,H=A.onClick,R=r$4.useContext(e$4.LocalizationContext).l10n,O=R&&R.search?R.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(Q){Q&&R()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:R},function(Q){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:Q.label,testId:"search__popover-button",onClick:R},Q.icon),content:function(){return Q.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=$||function(Q){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:R},Q))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(Q){return B({onClick:Q})},content:function(Q){return r$4.createElement(E$2,{store:R,onToggle:Q})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),R=m$3(H),O=R.clearKeyword,B=R.jumpToMatch,Q=R.jumpToNextMatch,ve=R.jumpToPreviousMatch,fe=R.searchFor,de=R.setKeywords,X=R.setTargetPages,Ee=function(le){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},le,{store:H}))};return{install:function(le){var ne=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],re=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",ne),H.update("jumpToDestination",le.jumpToDestination),H.update("jumpToPage",le.jumpToPage),H.update("keyword",re)},renderPageLayer:function(le){return r$4.createElement(f$3,{key:le.pageIndex,numPages:le.doc.numPages,pageIndex:le.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(le){var ne=le.slot;return ne.subSlot&&(ne.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:le.containerRef,store:H}),ne.subSlot.children)),ne},uninstall:function(le){var ne=H.get("renderStatus");ne&&ne.clear()},onDocumentLoad:function(le){H.update("doc",le.doc)},onTextLayerRender:function(le){var ne=H.get("renderStatus");ne&&(ne=ne.set(le.pageIndex,le),H.update("renderStatus",ne))},Search:function(le){return r$4.createElement(v$2,c$4({},le,{store:H}))},ShowSearchPopover:Ee,ShowSearchPopoverButton:function(){return r$4.createElement(Ee,null,function(le){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},le))})},clearHighlights:function(){O()},highlight:function(le){var ne=Array.isArray(le)?le:[le];return de(ne),fe(ne)},jumpToMatch:B,jumpToNextMatch:Q,jumpToPreviousMatch:ve,setTargetPages:X}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$3=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$g;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(R){return n$3.createElement(i$3,{onClick:R.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$2=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$g;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10\n            M10.5,5.499v10"}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10"}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(R){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*R.scale),"%"))})({scale:a$2(H).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,H=A.store,R=e$2.useDebounceCallback(function(B){var Q=H.get("zoom");Q&&Q(B)},40),O=function(B){if(B.ctrlKey){B.preventDefault();var Q=B.target.getBoundingClientRect(),ve=1-B.deltaY/100,fe=B.clientX-Q.left,de=B.clientY-Q.top,X=H.get("scale"),Ee=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(fe,de).scale(ve).translate(-fe,-de).scale(X);R(Ee.a)}};return e$2.useIsomorphicLayoutEffect(function(){var B=$.current;if(B)return B.addEventListener("wheel",O,l$2),function(){B.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var Q=H.get("zoom");if(Q){var ve=H.get("scale")||1,fe=1;switch(O.key){case"-":fe=v$1(ve);break;case"=":fe=f$2(ve);break;case"0":fe=1;break;default:fe=ve}fe!==ve&&(O.preventDefault(),Q(fe))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,H=$===void 0?z:$,R=A.scale,O=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,Q=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,ve=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(fe){return n$2.createElement(e$2.MinimalButton,{ariaLabel:ve,testId:"zoom__popover-target",onClick:function(){fe()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!Q,"rpv-zoom__popover-target-scale--rtl":Q})},Math.round(100*R),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(fe){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(de){var X=de;return n$2.createElement(e$2.MenuItem,{key:X,onClick:function(){fe(),O(X)}},function(Ee){switch(Ee){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(X))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(de){return n$2.createElement(e$2.MenuItem,{key:de,onClick:function(){fe(),O(de)}},"".concat(Math.round(100*de),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,H=A.levels,R=A.store;return($||function(O){return n$2.createElement(d$2,{levels:H,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(R).scale,onZoom:function(O){var B=R.get("zoom");B&&B(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomIn:"Zoom in",B=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||h$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(f$2(O))}})},k=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},R)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomOut:"Zoom out",B=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||M$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(v$1(O))}})},Z=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},R)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),R=function(Q){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},Q,{store:H}))},O=function(Q){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},Q,{store:H}))},B=function(Q){return n$2.createElement(g$1,c$2({},Q,{store:H}))};return{renderViewer:function(Q){var ve=Q.slot;if(!$.enableShortcuts)return ve;var fe={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:Q.containerRef,store:H}),n$2.createElement(s$2,{pagesContainerRef:Q.pagesContainerRef,store:H}),ve.children)};return c$2(c$2({},ve),fe)},install:function(Q){H.update("zoom",Q.zoom)},onViewerStateChange:function(Q){return H.update("scale",Q.scale),Q},zoomTo:function(Q){var ve=H.get("zoom");ve&&ve(Q)},CurrentScale:function(Q){return n$2.createElement(u$2,c$2({},Q,{store:H}))},ZoomIn:R,ZoomInButton:function(){return n$2.createElement(R,null,function(Q){return n$2.createElement(h$1,c$2({},Q))})},ZoomInMenuItem:function(Q){return n$2.createElement(R,null,function(ve){return n$2.createElement(k,{onClick:function(){ve.onClick(),Q.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(Q){return n$2.createElement(M$1,c$2({},Q))})},ZoomOutMenuItem:function(Q){return n$2.createElement(O,null,function(ve){return n$2.createElement(Z,{onClick:function(){ve.onClick(),Q.onClick()}})})},Zoom:B,ZoomPopover:function(Q){return n$2.createElement(B,null,function(ve){return n$2.createElement(d$2,c$2({levels:Q==null?void 0:Q.levels},ve))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$1=lib.exports,e$1=libExports$g,t$1=libExports$c,r$1=reactExports,n$1=libExports$b,o$1=libExports$a,a$1=libExports$9,l$1=libExports$8,i$1=libExports$7,c$1=libExports$6,m$1=libExports$5,u$1=libExports$4,s$1=libExports$3,d$1=libExports$2,p=libExports$1;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n            M12,9.5\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,Q=$.GoToFirstPageMenuItem,ve=$.GoToLastPageMenuItem,fe=$.GoToNextPageMenuItem,de=$.GoToPreviousPageMenuItem,X=$.OpenMenuItem,Ee=$.PrintMenuItem,le=$.RotateBackwardMenuItem,ne=$.RotateForwardMenuItem,re=$.ShowPropertiesMenuItem,J=$.SwitchScrollModeMenuItem,q=$.SwitchSelectionModeMenuItem,ae=$.SwitchViewModeMenuItem,se=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:R,target:function(ue,pe){var te=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:R,target:_.createElement(e$1.MinimalButton,{ariaLabel:te,isSelected:pe,testId:"toolbar__more-actions-popover-target",onClick:ue},_.createElement(E,null)),content:function(){return te},offset:g})},content:function(ue){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(se,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(X,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Ee,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(Q,{onClick:ue}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(de,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(fe,{onClick:ue})),_.createElement(ve,{onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(ne,{onClick:ue}),_.createElement(le,{onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(q,{mode:t$1.SelectionMode.Text,onClick:ue}),_.createElement(q,{mode:t$1.SelectionMode.Hand,onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(J,{mode:e$1.ScrollMode.Page,onClick:ue}),_.createElement(J,{mode:e$1.ScrollMode.Vertical,onClick:ue}),_.createElement(J,{mode:e$1.ScrollMode.Horizontal,onClick:ue}),_.createElement(J,{mode:e$1.ScrollMode.Wrapped,onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ae,{mode:e$1.ViewMode.SinglePage,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ae,{mode:e$1.ViewMode.DualPage,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ae,{mode:e$1.ViewMode.DualPageWithCover,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:ue}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=H.CurrentPageInput,B=H.Download,Q=H.EnterFullScreen,ve=H.GoToNextPage,fe=H.GoToPreviousPage,de=H.NumberOfPages,X=H.Open,Ee=H.Print,le=H.ShowSearchPopover,ne=H.SwitchTheme,re=H.Zoom,J=H.ZoomIn,q=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":R}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(le,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(de,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(q,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Q,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(X,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Ee,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),R=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),Q=c$1.propertiesPlugin(),ve=m$1.rotatePlugin(),fe=u$1.scrollModePlugin(),de=s$1.searchPlugin(A?A.searchPlugin:{}),X=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),Ee=d$1.themePlugin(),le=p.zoomPlugin(A?A.zoomPlugin:{}),ne=[$,H,R,O,B,Q,ve,fe,de,X,Ee,le],re=_.useCallback(function(J){var q=$.EnterFullScreen,ae=$.EnterFullScreenMenuItem,se=H.Download,ue=H.DownloadMenuItem,pe=R.Open,te=R.OpenMenuItem,oe=O.CurrentPageInput,Ae=O.CurrentPageLabel,ge=O.GoToFirstPage,ee=O.GoToFirstPageMenuItem,_e=O.GoToLastPage,he=O.GoToLastPageMenuItem,Pe=O.GoToNextPage,De=O.GoToNextPageMenuItem,be=O.GoToPreviousPage,Te=O.GoToPreviousPageMenuItem,ze=O.NumberOfPages,Qe=B.Print,Fe=B.PrintMenuItem,nt=Q.ShowProperties,at=Q.ShowPropertiesMenuItem,ht=ve.Rotate,St=ve.RotateBackwardMenuItem,we=ve.RotateForwardMenuItem,W=fe.SwitchScrollMode,Y=fe.SwitchScrollModeMenuItem,G=fe.SwitchViewMode,ie=fe.SwitchViewModeMenuItem,ce=de.Search,ye=de.ShowSearchPopover,Ce=X.SwitchSelectionMode,Re=X.SwitchSelectionModeMenuItem,Xe=Ee.SwitchTheme,Ge=Ee.SwitchThemeMenuItem,tt=le.CurrentScale,ct=le.Zoom,vt=le.ZoomIn,ut=le.ZoomInMenuItem,ft=le.ZoomOut,gt=le.ZoomOutMenuItem;return _.createElement(I,M({},J,{slot:{CurrentPageInput:oe,CurrentPageLabel:Ae,CurrentScale:tt,Download:se,DownloadMenuItem:ue,EnterFullScreen:q,EnterFullScreenMenuItem:ae,GoToFirstPage:ge,GoToFirstPageMenuItem:ee,GoToLastPage:_e,GoToLastPageMenuItem:he,GoToNextPage:Pe,GoToNextPageMenuItem:De,GoToPreviousPage:be,GoToPreviousPageMenuItem:Te,NumberOfPages:ze,Open:pe,OpenMenuItem:te,Print:Qe,PrintMenuItem:Fe,Rotate:ht,RotateBackwardMenuItem:St,RotateForwardMenuItem:we,Search:ce,ShowProperties:nt,ShowPropertiesMenuItem:at,ShowSearchPopover:ye,SwitchScrollMode:W,SwitchScrollModeMenuItem:Y,SwitchSelectionMode:Ce,SwitchSelectionModeMenuItem:Re,SwitchViewMode:G,SwitchViewModeMenuItem:ie,SwitchTheme:Xe,SwitchThemeMenuItem:Ge,Zoom:ct,ZoomIn:vt,ZoomInMenuItem:ut,ZoomOut:ft,ZoomOutMenuItem:gt}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:R,pageNavigationPluginInstance:O,printPluginInstance:B,propertiesPluginInstance:Q,rotatePluginInstance:ve,scrollModePluginInstance:fe,searchPluginInstance:de,selectionModePluginInstance:X,themePluginInstance:Ee,zoomPluginInstance:le,install:function(J){ne.forEach(function(q){q.install&&q.install(J)})},renderPageLayer:function(J){return _.createElement(_.Fragment,null,ne.map(function(q,ae){return q.renderPageLayer?_.createElement(_.Fragment,{key:ae},q.renderPageLayer(J)):_.createElement(_.Fragment,{key:ae})}))},renderViewer:function(J){var q=J.slot;return ne.forEach(function(ae){ae.renderViewer&&(q=ae.renderViewer(M(M({},J),{slot:q})))}),q},uninstall:function(J){ne.forEach(function(q){q.uninstall&&q.uninstall(J)})},onDocumentLoad:function(J){ne.forEach(function(q){q.onDocumentLoad&&q.onDocumentLoad(J)})},onAnnotationLayerRender:function(J){ne.forEach(function(q){q.onAnnotationLayerRender&&q.onAnnotationLayerRender(J)})},onTextLayerRender:function(J){ne.forEach(function(q){q.onTextLayerRender&&q.onTextLayerRender(J)})},onViewerStateChange:function(J){var q=J;return ne.forEach(function(ae){ae.onViewerStateChange&&(q=ae.onViewerStateChange(q))}),q},renderDefaultToolbar:h,Toolbar:re}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports=lib$c.exports,e=libExports$g,t=reactExports,n=libExports$f,a=libExports$e,r=libExports$d,o=libExports;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,R=A.store,O=A.thumbnailTabContent,B=A.tabs,Q=u.useRef(),ve=u.useContext(e.LocalizationContext).l10n,fe=u.useState(R.get("isCurrentTabOpened")||!1),de=fe[0],X=fe[1],Ee=u.useState(Math.max(R.get("currentTab")||0,0)),le=Ee[0],ne=Ee[1],re=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,J=[{content:O,icon:u.createElement(d,null),title:ve&&ve.defaultLayout?ve.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:ve&&ve.defaultLayout?ve.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:ve&&ve.defaultLayout?ve.defaultLayout.attachment:"Attachment"}],q=B?B(J):J,ae=function(ue){ue>=0&&ue<=q.length-1&&(R.update("isCurrentTabOpened",!0),ne(ue))},se=function(ue){X(ue)};return u.useEffect(function(){return R.subscribe("currentTab",ae),R.subscribe("isCurrentTabOpened",se),function(){R.unsubscribe("currentTab",ae),R.unsubscribe("isCurrentTabOpened",se)}},[]),q.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":de,"rpv-default-layout__sidebar--ltr":!re,"rpv-default-layout__sidebar--rtl":re}),ref:Q},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},q.map(function(ue,pe){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":le===pe,key:pe,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(pe),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(pe),position:re?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:ue.title,isSelected:le===pe,onClick:function(){return function(te){if(le===te){R.update("isCurrentTabOpened",!R.get("isCurrentTabOpened"));var oe=Q.current;oe&&oe.style.width&&oe.style.removeProperty("width")}else R.update("currentTab",te)}(pe)}},ue.icon),content:function(){return ue.title},offset:re?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(le),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":de,"rpv-default-layout__sidebar-content--ltr":!re,"rpv-default-layout__sidebar-content--rtl":re}),role:"tabpanel",tabIndex:-1},q[le].content))),de&&u.createElement(e.Splitter,{constrain:function(ue){return ue.firstHalfPercentage>=20&&ue.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),R=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),Q=H.Attachments,ve=R.Bookmarks,fe=O.Thumbnails,de=B.Toolbar,X=A?A.sidebarTabs:function(le){return le},Ee=[H,R,O,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:R,thumbnailPluginInstance:O,toolbarPluginInstance:B,activateTab:function(le){$.update("currentTab",le)},toggleTab:function(le){var ne=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),ne!==le&&$.update("currentTab",le)},install:function(le){Ee.forEach(function(ne){ne.install&&ne.install(le)})},renderPageLayer:function(le){return u.createElement(u.Fragment,null,Ee.map(function(ne,re){return ne.renderPageLayer?u.createElement(u.Fragment,{key:re},ne.renderPageLayer(le)):u.createElement(u.Fragment,{key:re},u.createElement(u.Fragment,null))}))},renderViewer:function(le){var ne=le.slot;Ee.forEach(function(J){J.renderViewer&&(ne=J.renderViewer(i(i({},le),{slot:ne})))});var re=ne.subSlot&&ne.subSlot.attrs?{className:ne.subSlot.attrs.className,"data-testid":ne.subSlot.attrs["data-testid"],ref:ne.subSlot.attrs.ref,style:ne.subSlot.attrs.style}:{};return ne.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":le.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(Q,null),bookmarkTabContent:u.createElement(ve,null),store:$,thumbnailTabContent:u.createElement(fe,null),tabs:X}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(de):u.createElement(de,null)),u.createElement("div",i({},re),ne.subSlot.children))),ne.children),ne.subSlot.attrs={},ne.subSlot.children=u.createElement(u.Fragment,null),ne},uninstall:function(le){Ee.forEach(function(ne){ne.uninstall&&ne.uninstall(le)})},onDocumentLoad:function(le){Ee.forEach(function(ne){ne.onDocumentLoad&&ne.onDocumentLoad(le)}),A&&A.setInitialTab&&A.setInitialTab(le.doc).then(function(ne){$.update("currentTab",ne),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(le){Ee.forEach(function(ne){ne.onAnnotationLayerRender&&ne.onAnnotationLayerRender(le)})},onTextLayerRender:function(le){Ee.forEach(function(ne){ne.onTextLayerRender&&ne.onTextLayerRender(le)})},onViewerStateChange:function(le){var ne=le;return Ee.forEach(function(re){re.onViewerStateChange&&(ne=re.onViewerStateChange(ne))}),ne}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(R){if(R)switch(R){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};
