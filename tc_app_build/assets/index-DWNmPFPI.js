import{c as L,b as W,f as E,j as e,I as M}from"./index-69AkISz-.js";import{P as Z}from"./index-HMiWKIbn.js";import{r as l}from"./tailwind-nPCoKmcy.js";import{T as I}from"./TextField-2uzPwNdM.js";import{e as q,d as t}from"./router-vSHQYlWC.js";import"./TranslateField-WhUfGY_x.js";import{S as G}from"./PaginationState-zkRYbQwv.js";import"./reactQuery-xwoMMF6K.js";import"./axios-lPgvryBG.js";import"./reactIcons-jqXmw8S_.js";import"./headlessui-kWR29u24.js";import"./formik.esm-feHG9Gj_.js";import"./customInputValidation-jhKsg103.js";import"./ArrowRightIcon-FriVY7EG.js";function de(){var i,j,m,h,f,N,u,b,p,g;const d=q(),[x,B]=t.useState(new Date().toISOString().split("T")[0]),[o,F]=t.useState(new Date().toISOString().split("T")[0]),[n,O]=t.useState(1),[r,V]=t.useState(10),c=L(),a=W({api:(i=E)==null?void 0:i.waterListTcVisit,config:{userId:(j=c==null?void 0:c.user)==null?void 0:j.id,fromDate:x,uptoDate:o,page:n,perPage:r},value:[n,r],options:{enabled:!0}}),R=()=>{a.refetch()};return a.isLoading?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(M,{})}):e.jsx(Z,{title:"Water Visiting List",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(l.Button,{color:"blue",size:"sm",className:"rounded-md py-1.5",onClick:()=>d("/amc-app/water/add-visit"),children:e.jsx("small",{children:"Add New visit"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(I,{className:"w-full",label:"From Date",type:"date",value:x,onChange:s=>B(s.target.value)})}),e.jsx("div",{className:"w-full",children:e.jsx(I,{className:"w-full",label:"To Date",type:"date",value:o,onChange:s=>F(s.target.value)})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(l.Button,{onClick:()=>R(),className:"bg-blue-500 text-white px-3 py-1.5 rounded-md",children:e.jsx("h1",{className:"font-bold text-xs",children:"Search"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),((f=(h=(m=a==null?void 0:a.data)==null?void 0:m.data)==null?void 0:h.data)==null?void 0:f.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[(b=(u=(N=a==null?void 0:a.data)==null?void 0:N.data)==null?void 0:u.data)==null?void 0:b.map((s,H)=>{var w,v,y,A,D,C,S,_,P;return e.jsx(l.Card,{className:"w-full mb-5",children:e.jsxs(l.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-xs",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),e.jsx("p",{className:"text-xs text-end",children:(w=s==null?void 0:s.applicant_name)!=null?w:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Zone:"}),e.jsx("p",{className:"text-xs text-end",children:(v=s==null?void 0:s.zone_name)!=null?v:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Ward:"}),e.jsx("p",{className:"text-xs text-end",children:(y=s==null?void 0:s.ward_name)!=null?y:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Consumer No:"}),e.jsx("p",{className:"text-xs text-end",children:(A=s==null?void 0:s.consumer_no)!=null?A:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Demand amount:"}),e.jsx("p",{className:"text-xs text-end",children:(D=s==null?void 0:s.demand_amount)!=null?D:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:(C=s==null?void 0:s.address)!=null?C:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile No:"}),e.jsx("p",{className:"text-xs text-end",children:(S=s==null?void 0:s.mobile_no)!=null?S:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Remarks:"}),e.jsx("p",{className:"text-xs font-semibold whitespace-pre-wrap",children:(_=s==null?void 0:s.remarks)!=null?_:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1 whitespace-pre-wrap",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Citizen Comment:"}),e.jsx("p",{className:"text-xs font-semibold",children:(P=s==null?void 0:s.citizen_comments)!=null?P:"NA"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(l.Button,{color:"green",size:"sm",onClick:()=>{var T,k,$,z;return d("/amc-app/water/tc-visit-map?consumer-no=".concat((T=s==null?void 0:s.consumer_no)!=null?T:"NA","&mobile-no=").concat((k=s==null?void 0:s.mobile_no)!=null?k:"NA","&name=").concat(($=s==null?void 0:s.applicant_name)!=null?$:"NA","&address=").concat((z=s==null?void 0:s.address)!=null?z:"NA","&lat=").concat(s==null?void 0:s.latitude,"&lng=").concat(s==null?void 0:s.longitude))},children:e.jsx("small",{children:"View Location"})})})]})},s==null?void 0:s.id)}),e.jsx(G,{page:n,setPage:O,perPage:r,setPerPage:V,noOfPage:(g=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:g.last_page})]})}):e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-400",children:"No Data Found"})})]})})}export{de as default};
