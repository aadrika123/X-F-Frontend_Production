import{c as A,b as B,p as k,Q as F,j as s}from"./index-tJbU7ayB.js";import{e as C,d as L}from"./router-vSHQYlWC.js";import{r as l}from"./tailwind-nPCoKmcy.js";import{u as P}from"./formik.esm-feHG9Gj_.js";import{c as _,a as c}from"./index.esm-YegZWto1.js";import{I as M}from"./index.esm-ad4jnpi1.js";import{F as q}from"./FormProvider-fBqmJEVl.js";import{T as z}from"./TextField-QPeamiX3.js";import{S}from"./SelectField-T4CMJ1yZ.js";import"./TranslateField-wCz68bV9.js";import{P as R}from"./index-6o85-u81.js";import{S as W}from"./index-4i8apt2l.js";import"./reactQuery-xwoMMF6K.js";import"./axios-lPgvryBG.js";import"./reactIcons-jqXmw8S_.js";import"./headlessui-kWR29u24.js";import"./customInputValidation-jhKsg103.js";import"./ArrowRightIcon-FriVY7EG.js";function rs(){var i,t,h,p,x,j,f,v,m,b,u,N,g,y;const o=C(),a=A(),{data:r,isLoading:w,refetch:$}=B({api:(i=k)==null?void 0:i.searchApplication,config:a==null?void 0:a.searchSafApp,value:[(t=a==null?void 0:a.searchSafApp)==null?void 0:t.filteredBy,(h=a==null?void 0:a.searchSafApp)==null?void 0:h.searchBy,(p=a==null?void 0:a.searchSafApp)==null?void 0:p.value,a==null?void 0:a.searchSafApp.page,a==null?void 0:a.searchSafApp.perPage],options:{enabled:!!((x=a==null?void 0:a.searchSafApp)!=null&&x.filteredBy)&&!!((j=a==null?void 0:a.searchSafApp)!=null&&j.searchBy)&&!!((f=a==null?void 0:a.searchSafApp)!=null&&f.value)}}),n=P({enableReinitialize:!0,initialValues:a==null?void 0:a.searchSafApp,validationSchema:_().shape({filteredBy:c().required("Filtered By is required"),searchBy:c().required("Search By is required"),value:c().required("Value is required")}),onSubmit:async e=>{try{a==null||a.setSearchSafApp(e)}catch(d){F.error(d==null?void 0:d.message)}}});return s.jsx(R,{title:"Search Applications",children:s.jsxs("div",{className:"p-4",children:[s.jsx(l.Card,{className:"mb-4",children:s.jsxs(l.CardBody,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-sm font-semibold",children:"Search Applications"}),s.jsxs("div",{className:"items-center flex justify-start px-2 py-1 border rounded-lg gap-1 cursor-pointer",onClick:()=>{a==null||a.setSearchSafApp({filteredBy:"",searchBy:"",value:"",page:1,perPage:10}),n==null||n.resetForm()},children:[s.jsx(M,{className:"cursor-pointer text-blue-600",size:"1.2rem"}),s.jsx("small",{className:" text-blue-600 ",children:"Reset"})]})]}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsxs(q,{formik:n,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2",children:[s.jsxs(S,{label:"Filtered By",name:"filteredBy",formik:n,children:[s.jsx("option",{value:"",children:"Select"}),[{label:"SAF",value:"saf"}].map(e=>s.jsx("option",{value:e==null?void 0:e.value,children:e==null?void 0:e.label},e==null?void 0:e.value))]}),s.jsxs(S,{label:"Search By",name:"searchBy",formik:n,children:[s.jsx("option",{value:"",children:"Select"}),[{label:"Application",value:"applicationNo"},{label:"Mobile",value:"mobileNo"},{label:"Name",value:"name"},{label:"Holding",value:"holding"}].map(e=>s.jsx("option",{value:e==null?void 0:e.value,children:e==null?void 0:e.label},e==null?void 0:e.value))]}),s.jsx("div",{className:"col-span-2",children:s.jsx(z,{label:"Value",name:"value",formik:n})})]}),s.jsx("div",{className:"flex justify-center mt-1",children:s.jsx(l.Button,{fullWidth:!0,type:"submit",color:"blue",children:"Search"})})]})]})}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),w?s.jsx("div",{className:"flex justify-center my-16 items-center",children:s.jsx("h1",{className:"font-semibold",children:"Loading..."})}):((m=(v=r==null?void 0:r.data)==null?void 0:v.data)==null?void 0:m.length)>0?s.jsxs(s.Fragment,{children:[((u=(b=r==null?void 0:r.data)==null?void 0:b.data)==null?void 0:u.length)>0?(g=(N=r==null?void 0:r.data)==null?void 0:N.data)==null?void 0:g.map(e=>s.jsxs(L.Fragment,{children:[s.jsxs(l.Card,{className:"w-full",children:[s.jsxs(l.CardBody,{children:[s.jsxs("div",{className:"flex justify-between gap-2 mb-4",children:[s.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-red-900 uppercase rounded-md select-none whitespace-nowrap bg-red-500/20",children:[s.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:s.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-red-900 content-['']"})}),s.jsx("span",{className:"ml-4",children:e==null?void 0:e.current_role})]}),s.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-green-900 uppercase rounded-md select-none whitespace-nowrap bg-green-500/20",children:[s.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:s.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-green-900 content-['']"})}),s.jsx("span",{className:"ml-4",children:e==null?void 0:e.status})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Application No"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs ",children:e==null?void 0:e.saf_no})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Name"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs ",children:e==null?void 0:e.owner_name})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Mobile No"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs ",children:e==null?void 0:e.mobile_no})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Assessment"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs ",children:e==null?void 0:e.assessment_type})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Ward"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs ",children:e==null?void 0:e.new_ward_no})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Address"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs truncate w-40",children:e==null?void 0:e.prop_address})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs font-semibold",children:"Label"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xs truncate capitalize",children:e==null?void 0:e.currentrole})})]})]}),s.jsx(l.CardFooter,{className:"-mt-8",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(l.Button,{onClick:()=>o("/amc-app/property/saf-property-details/".concat(e==null?void 0:e.id)),size:"sm",variant:"text",className:"flex items-center gap-2 bg-gray-200 text-blue-500",children:["View Details",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-4 w-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]}),s.jsxs(l.Button,{onClick:()=>o("/amc-app/property/level-comment/".concat(e==null?void 0:e.id)),size:"sm",variant:"text",className:"flex items-center gap-2 bg-gray-200 text-red-600 capitalize",children:[s.jsx("small",{className:"text-xs",children:"Level Comment"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-4 w-4",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]})]})})]}),s.jsx("div",{className:"border-t border-gray-200 my-2"})]},e==null?void 0:e.id)):null,s.jsx(W,{active:a==null?void 0:a.searchSafApp,noOfPage:(y=r==null?void 0:r.data)==null?void 0:y.total,setActive:a==null?void 0:a.setSearchSafApp})]}):s.jsx("div",{className:"flex justify-center my-16 items-center",children:s.jsx("h1",{className:"font-semibold",children:"No Record Found"})})]})})}export{rs as default};
