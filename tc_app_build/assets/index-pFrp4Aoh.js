import{u as S,l as D,p as F,j as s,r as n}from"./index-CLQTue-1.js";import{u as A}from"./formik.esm-ZMfjvqLZ.js";import"./index.esm-1AmIhvL4.js";import{F as I}from"./FormProvider-6mUm7w2d.js";import{T as _}from"./TextField-d2gTAbft.js";import{S as x}from"./SelectField-b98R2Jr1.js";import{P as T}from"./index-48193XFW.js";import"./module-klvdxqDA.js";import{S as z}from"./index-799-CGVj.js";const Z=[{id:1,label:"Zone A-East",value:"1"},{id:2,label:"Zone B-West",value:"2"},{id:3,label:"Zone C-North",value:"3"},{id:4,label:"Zone D-South",value:"4"}],B=[{id:1,label:"Property",value:"property"},{id:2,label:"Saf",value:"saf"}],m=[{id:1,label:"Cash",value:"CASH"},{id:2,label:"Cheque",value:"CHEQUE"},{id:3,label:"DD",value:"DD"},{id:4,label:"Online",value:"ONLINE"}];function Q(){var j,o,u,f,b,N,v,g,p,y,w,C,k;const{collectionReportProperty:a,setCollectionReportProperty:h,user:i}=S(),l=D({api:(j=F)==null?void 0:j.collectionReport,config:{...a,user:i==null?void 0:i.user_type},value:[a==null?void 0:a.collectionType,a==null?void 0:a.fromDate,a==null?void 0:a.uptoDate,a==null?void 0:a.wardId,a==null?void 0:a.zoneId,a==null?void 0:a.user,a==null?void 0:a.paymentMode,a==null?void 0:a.page,a==null?void 0:a.perPage],options:{enabled:!!(a!=null&&a.collectionType)}}),d=A({enableReinitialize:!0,initialValues:a,onSubmit:e=>{h(e)}}),{values:t}=d,c=D({api:F.getWardByZone,config:{zoneId:t.zoneId},value:[t.zoneId],options:{enabled:!!t.zoneId}});return s.jsx(T,{title:"SAF Verification List",children:s.jsxs("div",{className:"p-4 ",children:[s.jsx(I,{formik:d,children:s.jsx(n.Card,{className:"w-full",children:s.jsxs(n.CardBody,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"font-semibold",children:"SAF Verification"})}),s.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"flex justify-between items-center px-10 py-2 border rounded-lg bg-gray-200",children:B.map(e=>{var r;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{...d.getFieldProps("collectionType",{value:e.value}),value:e.value,checked:(r=t.collectionType)==null?void 0:r.includes(e.value),id:"checked-checkbox",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),s.jsx("label",{htmlFor:"checked-checkbox",className:"ms-2 text-sm font-medium text-gray-900 ",children:e.label})]},e==null?void 0:e.id)})}),s.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"})]}),s.jsx("div",{children:s.jsx(_,{type:"date",label:"From Date",name:"fromDate",formik:d})}),s.jsx("div",{children:s.jsx(_,{type:"date",label:"Upto Date",name:"uptoDate",formik:d})}),s.jsx("div",{className:"-mt-3",children:s.jsxs(x,{name:"zoneId",formik:d,children:[s.jsx("option",{value:"",children:"select"}),Z.map(e=>s.jsx("option",{value:e.value,children:e.label},e.id))]})}),s.jsx("div",{className:"-mt-3",children:s.jsxs(x,{formik:d,name:"wardId",children:[s.jsx("option",{value:"1",children:"select"}),(u=(o=c==null?void 0:c.data)==null?void 0:o.data)==null?void 0:u.map(e=>s.jsx("option",{value:e.id,children:e.ward_name},e.id))]})}),s.jsx("div",{className:" col-span-2",children:s.jsxs(x,{formik:d,name:"paymentMode",children:[s.jsx("option",{value:"",children:"select"}),m==null?void 0:m.map(e=>s.jsx("option",{value:e.value,children:e.label},e.id))]})})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(n.Button,{type:"submit",color:"blue",fullWidth:!0,children:"Search"})})]})})}),s.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"}),s.jsx(z,{active:a,noOfPage:(b=(f=l==null?void 0:l.data)==null?void 0:f.data)==null?void 0:b.total,setActive:h}),s.jsx("div",{className:"border-b-2 border-gray-300 w-full py-1"}),l!=null&&l.isLoading?s.jsx("h1",{className:"mt-24 font-semibold text-sm text-center",children:"Loading..."}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"py-2 mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"font-semibold text-sm",children:"Collection Report"}),s.jsxs("h1",{className:"font-semibold text-sm text-green-700",children:["Total Amount: ",(v=(N=l==null?void 0:l.data)==null?void 0:N.data)==null?void 0:v.totalAmt]})]}),s.jsx("div",{children:((y=(p=(g=l==null?void 0:l.data)==null?void 0:g.data)==null?void 0:p.data)==null?void 0:y.length)>0?(k=(C=(w=l==null?void 0:l.data)==null?void 0:w.data)==null?void 0:C.data)==null?void 0:k.map((e,r)=>s.jsx(n.Card,{className:"mt-2 full",children:s.jsx(n.CardBody,{children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsx("h1",{className:"text-sm font-semibold",children:"Holding No:"}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.holding_no})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["SAF No :"," "]}),s.jsx("h1",{className:"text-sm truncate w-40",children:(e==null?void 0:e.saf_no)||"--"})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Property No :"," "]}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.property_no})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Ward No :"," "]}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.ward_no})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Mobile No :"," "]}),s.jsx("h1",{className:"text-sm truncate w-40",children:e==null?void 0:e.mobile_no})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Tran No :"," "]}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.tran_no})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Duration:"," "]}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.from_upto_fy_qtr})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Tran Date:"," "]}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.tran_date})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsx("h1",{className:"text-sm font-semibold",children:"Mode: "}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.transaction_mode})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsx("h1",{className:"text-sm font-semibold",children:"Mode: "}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.amount})]}),s.jsxs("div",{className:"flex justify-start items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-sm font-semibold",children:["Collector Name:"," "]}),s.jsx("h1",{className:"text-sm",children:e==null?void 0:e.emp_name})]})]})})})},r)):s.jsx("h1",{className:"mt-24 font-semibold text-sm text-center",children:"No Data Found"})})]})})]})})}export{Q as default};
