import{j as e,r as v,u as sa,a as aa,R as Re,i as la,m as ra,l as Gs,S as da,Q as je,p as Pe,e as Js,n as oa}from"./index-FrIfp6aF.js";import{u as Ds,F as ta}from"./formik.esm-ILGRl0OC.js";import{c as $e,a as g,b as ca,d as Zs}from"./index.esm-RkfN_1BU.js";import{F as ea}from"./FormProvider-TMbKSDWq.js";import{T as C}from"./TextField-DsPinPgm.js";import{S as V}from"./SelectField-cwKdI9EX.js";import{R as m}from"./RadioButton-nwE-U6MI.js";import{P as na}from"./index-quOquyFO.js";import{u as ia}from"./useErrorFocusFields-2AwgySSq.js";import{O as ua}from"./OverLayLoader-YjfDZjRn.js";import"./module-HD_M4v_N.js";const pa=$e().shape({floorNo:g().required("Floor No is required"),usagesTypeId:g().required("Usages Type is required"),occupancyTypeId:g().required("Occupancy Type is required"),constructionTypeId:g().required("Construction Type is required"),builtUpArea:g().required("Built Up Area is required"),dateFrom:g().required("Date From is required")});function ha({open:h,setOpen:be,addFloorData:he,masterData:w,safData:B}){var ye,S,a,y,f,ge,s,Ae,_e,ve,Ne,Se,T,qe,Fe,fe,Te,we,me,Ve;const xe=()=>be(!h),A=Ds({enableReinitialize:!0,initialValues:{floorNo:"",floorName:"",usagesTypeId:"",usagesTypeName:"",occupancyTypeId:"",occupancyTypeName:"",constructionTypeId:"",constructionTypeName:"",builtUpArea:"",dateFrom:"",dateTo:""},validationSchema:pa,onSubmit:p=>{var Ce;console.log("values",p),he.setFieldValue("addFloor",[...(Ce=he==null?void 0:he.values)==null?void 0:Ce.addFloor,p]),xe()}});return e.jsxs(ea,{formik:A,children:[h&&e.jsx("div",{onClick:xe,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(h?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Floor"}),e.jsxs("button",{onClick:xe,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"p-4 md:p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsxs(V,{name:"floorNo",selectedText:"floorName",label:"Floor No",formik:A,children:[e.jsx("option",{value:"",children:"Select Floor No"}),(a=(S=(ye=w==null?void 0:w.data)==null?void 0:ye.data)==null?void 0:S.floor_type)==null?void 0:a.map(p=>e.jsx("option",{value:p==null?void 0:p.id,children:p==null?void 0:p.floor_name},p.id))]})}),e.jsx("div",{children:e.jsxs(V,{name:"usagesTypeId",selectedText:"usagesTypeName",label:"Usages Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Usages Type"}),(ge=(f=(y=w==null?void 0:w.data)==null?void 0:y.data)==null?void 0:f.usage_type)==null?void 0:ge.map(p=>e.jsx("option",{value:p==null?void 0:p.id,children:p==null?void 0:p.usage_type},p.id))]})}),e.jsx("div",{children:e.jsxs(V,{name:"occupancyTypeId",selectedText:"occupancyTypeName",label:"Occupancy Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Occupancy Type"}),(_e=(Ae=(s=w==null?void 0:w.data)==null?void 0:s.data)==null?void 0:Ae.occupancy_type)==null?void 0:_e.map(p=>e.jsx("option",{value:p==null?void 0:p.id,children:p==null?void 0:p.occupancy_type},p.id))]})}),e.jsx("div",{children:e.jsxs(V,{name:"constructionTypeId",selectedText:"constructionTypeName",label:"Construction Type",formik:A,children:[e.jsx("option",{value:"",children:"Select Construction Type"}),(Se=(Ne=(ve=w==null?void 0:w.data)==null?void 0:ve.data)==null?void 0:Ne.construction_type)==null?void 0:Se.map(p=>e.jsx("option",{value:p==null?void 0:p.id,children:p==null?void 0:p.construction_type},p.id))]})}),e.jsx("div",{children:e.jsx(C,{name:"builtUpArea",label:"Built Up Area",formik:A})}),e.jsx("div",{children:e.jsx(C,{name:"dateFrom",label:"Date From",formik:A,type:"date",max:(qe=(T=B==null?void 0:B.data)==null?void 0:T.data)!=null&&qe.application_date?(fe=(Fe=B==null?void 0:B.data)==null?void 0:Fe.data)==null?void 0:fe.application_date:""})}),e.jsx("div",{children:e.jsx(C,{name:"dateTo",label:"Date To",formik:A,type:"date",max:(we=(Te=B==null?void 0:B.data)==null?void 0:Te.data)!=null&&we.application_date?(Ve=(me=B==null?void 0:B.data)==null?void 0:me.data)==null?void 0:Ve.application_date:""})})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[e.jsx(v.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:xe,className:"mr-1 bg-gray-300",children:e.jsx("span",{children:"Cancel"})}),e.jsx(v.Button,{type:"submit",size:"sm",children:e.jsx("span",{children:"Add"})})]})]})]})})})]})}const xa=$e().shape({zoneId:g().required("Required"),wardNo:g().required("Required"),propertyType:g().required("Required"),areaOfPlot:g().required("Required"),category:g().required("Required"),isHoardingBoard:g().required("Required").oneOf(["yes","no"]),hoardingArea:g().when("isHoardingBoard",{is:"yes",then:()=>g().required("Required")}),hoardingInstallationDate:g().when("isHoardingBoard",{is:"yes",then:()=>g().required("Required")}),isMobileTower:g().required("Required").oneOf(["yes","no"]),mobileTowerArea:g().when("isMobileTower",{is:"yes",then:()=>g().required("Required")}),mobileTowerInstallationDate:g().when("isMobileTower",{is:"yes",then:()=>g().required("Required")}),isPetrolPump:g().required("Required").oneOf(["yes","no"]),petrolPumpArea:g().when("isPetrolPump",{is:"yes",then:()=>g().required("Required")}),petrolPumpInstallationDate:g().when("isPetrolPump",{is:"yes",then:()=>g().required("Required")}),isRainWaterHarvesting:g().required("Required").oneOf(["yes","no"]),rainWaterHarvestingInstallationDate:g().when("isRainWaterHarvesting",{is:"yes",then:()=>g().required("Required")}),isFloorFromDB:ca().required(),floorFromDB:Zs().when(["isFloorFromDB"],{is:h=>h==!0,then:()=>Zs().of($e().shape({floorNo:g().required("Required"),usageTypeId:g().required("Required"),constructionTypeId:g().required("Required"),occupancyTypeId:g().required("Required"),builtUpArea:g().required("Required"),dateFrom:g().required("Required")}))})});function ma(){var Fe,fe,Te,we,me,Ve,p,Ce,ke,Oe,Ue,Le,ze,He,Ee,Me,We,Ye,Ke,Xe,Qe,Ge,Je,Ze,De,es,ss,as,ls,rs,ds,os,ts,cs,ns,is,us,ps,hs,xs,ys,js,bs,gs,_s,vs,Ns,Fs,fs,Ts,ws,ms,Vs;const{user:h}=sa(),be=aa(),{AutoFocusErrorField:he}=ia(),[w,B]=Re.useState([]),[xe,A]=Re.useState(!1),ye=la({}),{id:S}=ra(),a=Gs({api:Pe.staticSafDetail,config:{applicationId:S},value:[S],options:{enabled:!!S}}),y=Gs({api:Pe.masterSaf,config:{},options:{enabled:!!S}});Re.useEffect(()=>{var l,_,F,N,d,t,I,x,q,R,P,o,$,k,O,U,L,z,H,E,M,W,Y,K,X,Q,G,J,Z,D,ee,se,ae,le,re,de,oe,te,ce,ne,ie,ue,pe,r,n,i,u,Be,Ie,c,j,b,Cs,Bs,Is,As,Ss,qs,Rs,Ps,$s,ks,Os,Us,Ls,zs,Hs,Es,Ms,Ws,Ys,Ks,Xs,Qs;(l=a==null?void 0:a.data)!=null&&l.data&&B([{id:1,title:"Zone",assessedLabel:"Self Assessed",selfAssessedValue:(N=f("zone",(F=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:F.zone_mstr_id))==null?void 0:N.zone_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((I=f("zone",(t=(d=a==null?void 0:a.data)==null?void 0:d.data)==null?void 0:t.lastTcVerificationData))==null?void 0:I.zone_name)||"--",headerName:"basicDetail"},{id:2,title:"Ward No",assessedLabel:"Self Assessed",selfAssessedValue:(R=f("ward_master",(q=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:q.ward_mstr_id))==null?void 0:R.ward_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((k=f("ward_master",($=(o=(P=a==null?void 0:a.data)==null?void 0:P.data)==null?void 0:o.lastTcVerificationData)==null?void 0:$.ward_id))==null?void 0:k.ward_name)||"--",headerName:"basicDetail"},{id:3,title:"Property Type",assessedLabel:"Self Assessed",selfAssessedValue:(L=f("property_type",(U=(O=a==null?void 0:a.data)==null?void 0:O.data)==null?void 0:U.prop_type_mstr_id))==null?void 0:L.property_type,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((M=f("property_type",(E=(H=(z=a==null?void 0:a.data)==null?void 0:z.data)==null?void 0:H.lastTcVerificationData)==null?void 0:E.prop_type_id))==null?void 0:M.property_type)||"--",headerName:"basicDetail"},{id:4,title:"Area of plot(In decimal)",assessedLabel:"Self Assessed",selfAssessedValue:(Y=(W=a==null?void 0:a.data)==null?void 0:W.data)==null?void 0:Y.area_of_plot,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((Q=(X=(K=a==null?void 0:a.data)==null?void 0:K.data)==null?void 0:X.lastTcVerificationData)==null?void 0:Q.area_of_plot)||"--",headerName:"basicDetail"},{id:5,title:"Category",assessedLabel:"Self Assessed",selfAssessedValue:(Z=f("categories",(J=(G=a==null?void 0:a.data)==null?void 0:G.data)==null?void 0:J.category_id))==null?void 0:Z.category,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((ae=f("categories",(se=(ee=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:ee.lastTcVerificationData)==null?void 0:se.category_id))==null?void 0:ae.category)||"--",headerName:"basicDetail"},{id:6,title:"Hoarding Board(s)?",assessedLabel:"Self Assessed",selfAssessedValue:(re=(le=a==null?void 0:a.data)==null?void 0:le.data)!=null&&re.is_hoarding_board?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(te=(oe=(de=a==null?void 0:a.data)==null?void 0:de.data)==null?void 0:oe.lastTcVerificationData)!=null&&te.has_hoarding?"Yes":"No",area:((ie=(ne=(ce=a==null?void 0:a.data)==null?void 0:ce.data)==null?void 0:ne.lastTcVerificationData)==null?void 0:ie.hoarding_area)||"--",installationDate:(r=(pe=(ue=a==null?void 0:a.data)==null?void 0:ue.data)==null?void 0:pe.lastTcVerificationData)==null?void 0:r.hoarding_installation_date},{id:7,title:"Mobile Tower?",assessedLabel:"Self Assessed",selfAssessedValue:(i=(n=a==null?void 0:a.data)==null?void 0:n.data)!=null&&i.is_mobile_tower?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ie=(Be=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:Be.lastTcVerificationData)!=null&&Ie.has_mobile_tower?"Yes":"No",area:((b=(j=(c=a==null?void 0:a.data)==null?void 0:c.data)==null?void 0:j.lastTcVerificationData)==null?void 0:b.tower_area)||"--",installationDate:(Is=(Bs=(Cs=a==null?void 0:a.data)==null?void 0:Cs.data)==null?void 0:Bs.lastTcVerificationData)==null?void 0:Is.tower_installation_date},{id:8,title:"Petrol Pump?",assessedLabel:"Self Assessed",selfAssessedValue:(Ss=(As=a==null?void 0:a.data)==null?void 0:As.data)!=null&&Ss.is_petrol_pump?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ps=(Rs=(qs=a==null?void 0:a.data)==null?void 0:qs.data)==null?void 0:Rs.lastTcVerificationData)!=null&&Ps.has_petrol_pump?"Yes":"No",area:((Os=(ks=($s=a==null?void 0:a.data)==null?void 0:$s.data)==null?void 0:ks.lastTcVerificationData)==null?void 0:Os.underground_area)||"--",installationDate:(zs=(Ls=(Us=a==null?void 0:a.data)==null?void 0:Us.data)==null?void 0:Ls.lastTcVerificationData)==null?void 0:zs.petrol_pump_completion_date},{id:9,title:"Rain Water Harvesting?",assessedLabel:"Self Assessed",selfAssessedValue:(Es=(Hs=a==null?void 0:a.data)==null?void 0:Hs.data)!=null&&Es.is_water_harvesting?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ys=(Ws=(Ms=a==null?void 0:a.data)==null?void 0:Ms.data)==null?void 0:Ws.lastTcVerificationData)!=null&&Ys.has_water_harvesting?"Yes":"No",installationDate:((Qs=(Xs=(Ks=a==null?void 0:a.data)==null?void 0:Ks.data)==null?void 0:Xs.lastTcVerificationData)==null?void 0:Qs.rwh_date)||""}])},[(Fe=a==null?void 0:a.data)==null?void 0:Fe.data,(fe=y==null?void 0:y.data)==null?void 0:fe.data]);const f=(l,_)=>{var F,N,d;return(d=(N=(F=y==null?void 0:y.data)==null?void 0:F.data)==null?void 0:N[l])==null?void 0:d.filter(t=>t.id==_)[0]},ge=()=>{var _,F,N,d,t,I;return[...((N=(F=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:F.floors)==null?void 0:N.length)>0?(I=(t=(d=a==null?void 0:a.data)==null?void 0:d.data)==null?void 0:t.floors)==null?void 0:I.map(x=>({floorId:(x==null?void 0:x.id)||"",checkFloorNo:"1",floorNo:(x==null?void 0:x.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(x==null?void 0:x.usage_type_mstr_id)||"",checkConstructionTypeId:"1",constructionTypeId:(x==null?void 0:x.const_type_mstr_id)||"",checkOccupancyType:"1",occupancyTypeId:(x==null?void 0:x.occupancy_type_mstr_id)||"",checkBuiltUpArea:"1",builtUpArea:(x==null?void 0:x.builtup_area)||"",checkDateFrom:"1",dateFrom:(x==null?void 0:x.date_from)||"",checkDateTo:"1",dateTo:(x==null?void 0:x.date_upto)||""})):[]]},s=Ds({enableReinitialize:!0,initialValues:{isFloorFromDB:!1,zoneCheck:"1",zoneId:((we=(Te=a==null?void 0:a.data)==null?void 0:Te.data)==null?void 0:we.zone_mstr_id)||"",wardNoCheck:"1",wardNo:((Ve=(me=a==null?void 0:a.data)==null?void 0:me.data)==null?void 0:Ve.ward_mstr_id)||"",propertyTypeCheck:"1",propertyType:((Ce=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:Ce.prop_type_mstr_id)||"",areaOfPlotCheck:"1",areaOfPlot:((Oe=(ke=a==null?void 0:a.data)==null?void 0:ke.data)==null?void 0:Oe.area_of_plot)||"",categoryCheck:"1",category:((Le=(Ue=a==null?void 0:a.data)==null?void 0:Ue.data)==null?void 0:Le.category_id)||"",isHoardingBoardCheck:"1",isHoardingBoard:(He=(ze=a==null?void 0:a.data)==null?void 0:ze.data)!=null&&He.is_hoarding_board?"yes":"no",hoardingArea:((Me=(Ee=a==null?void 0:a.data)==null?void 0:Ee.data)==null?void 0:Me.hoarding_area)||"",hoardingInstallationDate:((Ye=(We=a==null?void 0:a.data)==null?void 0:We.data)==null?void 0:Ye.hoarding_installation_date)||"",isMobileTowerCheck:"1",isMobileTower:(Xe=(Ke=a==null?void 0:a.data)==null?void 0:Ke.data)!=null&&Xe.is_mobile_tower?"yes":"no",mobileTowerArea:((Ge=(Qe=a==null?void 0:a.data)==null?void 0:Qe.data)==null?void 0:Ge.tower_area)||"",mobileTowerInstallationDate:((Ze=(Je=a==null?void 0:a.data)==null?void 0:Je.data)==null?void 0:Ze.tower_installation_date)||"",isPetrolPumpCheck:"1",isPetrolPump:(es=(De=a==null?void 0:a.data)==null?void 0:De.data)!=null&&es.is_petrol_pump?"yes":"no",petrolPumpArea:((as=(ss=a==null?void 0:a.data)==null?void 0:ss.data)==null?void 0:as.under_ground_area)||"",petrolPumpInstallationDate:((rs=(ls=a==null?void 0:a.data)==null?void 0:ls.data)==null?void 0:rs.petrol_pump_completion_date)||"",isRainWaterHarvestingCheck:"1",isRainWaterHarvesting:(os=(ds=a==null?void 0:a.data)==null?void 0:ds.data)!=null&&os.is_water_harvesting?"yes":"no",rainWaterHarvestingInstallationDate:((cs=(ts=a==null?void 0:a.data)==null?void 0:ts.data)==null?void 0:cs.rwh_date_from)||"",addFloor:[],floorFromDB:ge(),remark:""},validationSchema:xa,onSubmit:async l=>{da.fire({title:"Are you sure?",text:"You are going to verify naksha of this property ",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(_=>{_.isConfirmed&&Ae(l)}).catch(_=>{var F,N;console.log(_),je.error((N=(F=_==null?void 0:_.response)==null?void 0:F.data)==null?void 0:N.message)})}}),Ae=async l=>{var d,t,I,x,q,R,P;console.log(l);const _=(d=l==null?void 0:l.floorFromDB)==null?void 0:d.map(o=>({floorId:(o==null?void 0:o.floorId)||0,floorNo:o==null?void 0:o.floorNo,useType:o==null?void 0:o.usageTypeId,constructionType:o==null?void 0:o.constructionTypeId,occupancyType:o==null?void 0:o.occupancyTypeId,buildupArea:o==null?void 0:o.builtUpArea,dateFrom:o==null?void 0:o.dateFrom,dateUpto:o==null?void 0:o.dateTo})),F=(t=l==null?void 0:l.addFloor)==null?void 0:t.map(o=>({floorId:0,floorNo:o==null?void 0:o.floorNo,useType:o==null?void 0:o.usagesTypeId,constructionType:o==null?void 0:o.constructionTypeId,occupancyType:o==null?void 0:o.occupancyTypeId,buildupArea:o==null?void 0:o.builtUpArea,dateFrom:o==null?void 0:o.dateFrom,dateUpto:o==null?void 0:o.dateTo})),N={safId:parseInt(S),propertyType:parseInt(l==null?void 0:l.propertyType),category:parseInt(l==null?void 0:l.category),areaOfPlot:parseInt(l==null?void 0:l.areaOfPlot),wardId:parseInt(l==null?void 0:l.wardNo),isMobileTower:(l==null?void 0:l.isMobileTower)=="yes"?1:0,mobileTower:{area:parseInt(l==null?void 0:l.mobileTowerArea),dateFrom:l==null?void 0:l.mobileTowerInstallationDate},isPetrolPump:(l==null?void 0:l.isPetrolPump)=="yes"?1:0,petrolPump:{area:parseInt(l==null?void 0:l.petrolPumpArea),dateFrom:l==null?void 0:l.petrolPumpInstallationDate},isHoardingBoard:(l==null?void 0:l.isHoardingBoard)=="yes"?1:0,hoardingBoard:{area:parseInt(l==null?void 0:l.hoardingArea),dateFrom:l==null?void 0:l.hoardingInstallationDate},isWaterHarvesting:(l==null?void 0:l.isRainWaterHarvesting)=="yes"?1:0,zone:l==null?void 0:l.zoneId,floor:[..._,...F]};if((h==null?void 0:h.role[0])=="TAX COLLECTOR")try{const o=await ye.mutateAsync({api:Pe.safSiteVerification,data:N});(I=o==null?void 0:o.data)!=null&&I.status?(be("/amc-app/property/geo-tagging/".concat(S),{replace:!0}),je.success((x=o==null?void 0:o.data)==null?void 0:x.message)):je.error(((q=o==null?void 0:o.data)==null?void 0:q.message[0])||"Something went wrong, Please try again")}catch(o){je.error(o==null?void 0:o.message),console.log(o)}if((h==null?void 0:h.role[0])=="SENIOUR LIPIK")try{const o=await ye.mutateAsync({api:Pe.safSiteVerification,data:N});(R=o==null?void 0:o.data)!=null&&R.status?be("/amc-app/property/naksha-verification/".concat(S),{replace:!0}):je.error(((P=o==null?void 0:o.data)==null?void 0:P.message[0])||"Something went wrong, Please try again")}catch(o){je.error(o==null?void 0:o.message),console.log(o)}},{submitCount:_e,isSubmitting:ve,errors:Ne,isValid:Se}=s,T=[{id:1,title:"Correct",value:"1"},{id:2,title:"Incorrect",value:"0"}],qe=l=>{var _,F,N,d,t,I,x,q,R,P,o,$,k,O,U,L,z,H,E,M,W,Y,K,X,Q,G,J,Z,D,ee,se,ae,le,re,de,oe,te,ce,ne,ie,ue,pe;if((l==null?void 0:l.id)===1)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"zoneCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.zoneCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("zoneId",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.zone_mstr_id),s.setFieldValue("zoneCheck",r.value)}:()=>{s.setFieldValue("zoneId",""),s.setFieldValue("zoneCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"zoneId",disabled:((_=s==null?void 0:s.values)==null?void 0:_.zoneCheck)=="1",formik:s,children:[e.jsx("option",{value:"",children:"Select"}),(d=(N=(F=y==null?void 0:y.data)==null?void 0:F.data)==null?void 0:N.zone)==null?void 0:d.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.zoneCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.zone_mstr_id),children:r.zone_name},r.id)})]})]});if((l==null?void 0:l.id)===2)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"wardNoCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.wardNoCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("wardNo",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.ward_mstr_id),s.setFieldValue("wardNoCheck",r.value)}:()=>{s.setFieldValue("wardNo",""),s.setFieldValue("wardNoCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"wardNo",disabled:((t=s==null?void 0:s.values)==null?void 0:t.wardNoCheck)=="1",formik:s,children:[e.jsx("option",{value:"",children:"Select"}),(R=(q=(x=(I=y==null?void 0:y.data)==null?void 0:I.data)==null?void 0:x.ward_master)==null?void 0:q.filter(r=>{var n;return r.zone==((n=s==null?void 0:s.values)==null?void 0:n.zoneId)}))==null?void 0:R.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.wardNoCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.ward_mstr_id),children:r.ward_name},r.id)})]})]});if((l==null?void 0:l.id)===3)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"propertyTypeCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.propertyTypeCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("propertyType",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.prop_type_mstr_id),s.setFieldValue("propertyTypeCheck",r.value)}:()=>{s.setFieldValue("propertyType",""),s.setFieldValue("propertyTypeCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"propertyType",formik:s,disabled:((P=s==null?void 0:s.values)==null?void 0:P.propertyTypeCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(k=($=(o=y==null?void 0:y.data)==null?void 0:o.data)==null?void 0:$.property_type)==null?void 0:k.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.propertyTypeCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.prop_type_mstr_id),children:r.property_type},r.id)})]})]});if((l==null?void 0:l.id)===4)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"areaOfPlotCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.areaOfPlotCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("areaOfPlot",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.area_of_plot),s.setFieldValue("areaOfPlotCheck",r.value)}:()=>{s.setFieldValue("areaOfPlot",""),s.setFieldValue("areaOfPlotCheck",r.value)}},r.id)})}),e.jsx(C,{name:"areaOfPlot",formik:s,disabled:((O=s==null?void 0:s.values)==null?void 0:O.areaOfPlotCheck)=="1"})]});if((l==null?void 0:l.id)===5)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"categoryCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.categoryCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("category",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.category_id),s.setFieldValue("categoryCheck",r.value)}:()=>{s.setFieldValue("category",""),s.setFieldValue("categoryCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"category",formik:s,disabled:((U=s==null?void 0:s.values)==null?void 0:U.categoryCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(H=(z=(L=y==null?void 0:y.data)==null?void 0:L.data)==null?void 0:z.categories)==null?void 0:H.map(r=>{var n,i,u;return e.jsx("option",{value:r.id,selected:((n=s==null?void 0:s.values)==null?void 0:n.categoryCheck)=="1"&&r.id==((u=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:u.category_id),children:r.category},r.id)})]})]});if((l==null?void 0:l.id)===6)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isHoardingBoardCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isHoardingBoardCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isHoardingBoard",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_hoarding_board?"yes":"no"),s.setFieldValue("isHoardingBoardCheck",r.value)}:()=>{s.setFieldValue("isHoardingBoard",""),s.setFieldValue("isHoardingBoardCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isHoardingBoard",formik:s,disabled:((E=s==null?void 0:s.values)==null?void 0:E.isHoardingBoardCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isHoardingBoardCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_hoarding_board?"yes":r.value=="no"),children:r.title},r.value)})]}),((M=s==null?void 0:s.values)==null?void 0:M.isHoardingBoard)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"hoardingArea",formik:s}),e.jsx(C,{type:"date",max:(Y=(W=a==null?void 0:a.data)==null?void 0:W.data)!=null&&Y.application_date?(X=(K=a==null?void 0:a.data)==null?void 0:K.data)==null?void 0:X.application_date:"",label:"Hoarding Installation Date",name:"hoardingInstallationDate",formik:s})]})]});if((l==null?void 0:l.id)===7)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isMobileTowerCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isMobileTowerCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isMobileTower",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"yes":"no"),s.setFieldValue("isMobileTowerCheck",r.value)}:()=>{s.setFieldValue("isMobileTower",""),s.setFieldValue("isMobileTowerCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isMobileTower",formik:s,disabled:((Q=s==null?void 0:s.values)==null?void 0:Q.isMobileTowerCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isMobileTowerCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_mobile_tower?"yes":r.value=="no"),children:r.title},r.value)})]}),((G=s==null?void 0:s.values)==null?void 0:G.isMobileTower)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"mobileTowerArea",formik:s}),e.jsx(C,{type:"date",label:"Installation Date",name:"mobileTowerInstallationDate",formik:s,max:(Z=(J=a==null?void 0:a.data)==null?void 0:J.data)!=null&&Z.application_date?(ee=(D=a==null?void 0:a.data)==null?void 0:D.data)==null?void 0:ee.application_date:""})]})]});if((l==null?void 0:l.id)===8)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isPetrolPumpCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isPetrolPumpCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isPetrolPump",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_petrol_pump?"yes":"no"),s.setFieldValue("isPetrolPumpCheck",r.value)}:()=>{s.setFieldValue("isPetrolPump",""),s.setFieldValue("isPetrolPumpCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isPetrolPump",formik:s,disabled:((se=s==null?void 0:s.values)==null?void 0:se.isPetrolPumpCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isPetrolPumpCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_petrol_pump?"yes":r.value=="no"),children:r.title},r.value)})]}),((ae=s==null?void 0:s.values)==null?void 0:ae.isPetrolPump)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(C,{label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"petrolPumpArea",formik:s}),e.jsx(C,{type:"date",label:"Installation Date",name:"petrolPumpInstallationDate",formik:s,max:(re=(le=a==null?void 0:a.data)==null?void 0:le.data)!=null&&re.application_date?(oe=(de=a==null?void 0:a.data)==null?void 0:de.data)==null?void 0:oe.application_date:""})]})]});if((l==null?void 0:l.id)===9)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(r=>{var n;return e.jsx(m,{formik:s,name:"isRainWaterHarvestingCheck",label:r.title,value:r.value,checked:((n=s==null?void 0:s.values)==null?void 0:n.isRainWaterHarvestingCheck)==r.value,onChange:r.value=="1"?()=>{var i,u;s.setFieldValue("isRainWaterHarvesting",(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_water_harvesting?"yes":"no"),s.setFieldValue("isRainWaterHarvestingCheck",r.value)}:()=>{s.setFieldValue("isRainWaterHarvesting",""),s.setFieldValue("isRainWaterHarvestingCheck",r.value)}},r.id)})}),e.jsxs(V,{name:"isRainWaterHarvesting",formik:s,disabled:((te=s==null?void 0:s.values)==null?void 0:te.isRainWaterHarvestingCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(r=>{var n,i,u;return e.jsx("option",{value:r.value,selected:((n=s==null?void 0:s.values)==null?void 0:n.isRainWaterHarvestingCheck)=="1"&&((u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.is_water_harvesting?"yes":r.value=="no"),children:r.title},r.value)})]}),((ce=s==null?void 0:s.values)==null?void 0:ce.isRainWaterHarvesting)=="yes"&&e.jsx("div",{className:"mt-5",children:e.jsx(C,{type:"date",label:"Installation Date",name:"rainWaterHarvestingInstallationDate",formik:s,max:(ie=(ne=a==null?void 0:a.data)==null?void 0:ne.data)!=null&&ie.application_date?(pe=(ue=a==null?void 0:a.data)==null?void 0:ue.data)==null?void 0:pe.application_date:""})})]})};return Js.useEffect(()=>{var l,_;(_=(l=a==null?void 0:a.data)==null?void 0:l.data)!=null&&_.is_agency_verified&&(h==null?void 0:h.role[0])=="TAX COLLECTOR"&&be("/amc-app/property/geo-tagging/".concat(S))},[(is=(ns=a==null?void 0:a.data)==null?void 0:ns.data)==null?void 0:is.is_agency_verified]),Js.useEffect(()=>{var l;((l=s.values)==null?void 0:l.propertyType)==4?(s.setFieldValue("floorFromDB",[]),s.setFieldValue("isFloorFromDB",!1)):(s.setFieldValue("floorFromDB",ge()),s.setFieldValue("isFloorFromDB",!0))},[(us=s.values)==null?void 0:us.propertyType,(hs=(ps=a==null?void 0:a.data)==null?void 0:ps.data)==null?void 0:hs.floors]),Re.useEffect(()=>{he({submitCount:_e,isSubmitting:ve,errors:Ne,isValid:Se})},[Ne,_e,ve]),a.isLoading||y.isLoading?e.jsx(oa,{}):e.jsxs(na,{title:"Saf Site Verification",children:[ye.isLoading&&e.jsx(ua,{}),e.jsx(ha,{open:xe,setOpen:A,addFloorData:s,safData:a,masterData:y}),e.jsxs("div",{className:"p-4 ",children:[e.jsx(v.Card,{className:"w-full",children:e.jsxs(v.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-base font-semibold",children:"Details"})}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),e.jsx("h1",{className:"text-sm",children:(ys=(xs=a==null?void 0:a.data)==null?void 0:xs.data)==null?void 0:ys.saf_no}),e.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),e.jsx("h1",{className:"text-sm",children:(bs=(js=a==null?void 0:a.data)==null?void 0:js.data)==null?void 0:bs.assessment_type}),e.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),e.jsx("h1",{className:"text-sm",children:(_s=(gs=a==null?void 0:a.data)==null?void 0:gs.data)==null?void 0:_s.application_date}),e.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),e.jsx("h1",{className:"text-sm",children:(Ns=(vs=a==null?void 0:a.data)==null?void 0:vs.data)==null?void 0:Ns.applicant_name}),e.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),e.jsx("div",{className:"w-20 truncate",children:e.jsx("h1",{className:"text-sm",children:(Ts=(fs=(Fs=a==null?void 0:a.data)==null?void 0:Fs.data)==null?void 0:fs.owners)==null?void 0:Ts.map(l=>l==null?void 0:l.mobile_no).join(", ")})})]})]})}),e.jsxs(ea,{formik:s,children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:w==null?void 0:w.map((l,_)=>e.jsxs(v.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:l==null?void 0:l.title})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.selfAssessedValue})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Tc Verified :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.tcVerifiedValue})]}),l!=null&&l.has_hoarding||l!=null&&l.has_mobile_tower||l!=null&&l.has_petrol_pump||l!=null&&l.has_water_harvesting?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Area-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.area})]}),e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Date-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.installationDate})]})]}):null]}),qe(l)]})]},_))}),e.jsx("div",{className:"border border-gray-300 w-full my-5"}),((ws=s==null?void 0:s.values)==null?void 0:ws.propertyType)!=4?e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("h1",{className:"text-sm font-semibold text-center",children:"Floor Details"}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx(ta,{name:"floorFromDB",children:l=>{var _,F,N;return e.jsx(e.Fragment,{children:(N=(F=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:F.floors)==null?void 0:N.map((d,t)=>{var I,x,q,R,P,o,$,k,O,U,L,z,H,E,M,W,Y,K,X,Q,G,J,Z,D,ee,se,ae,le,re,de,oe,te,ce,ne,ie,ue,pe,r,n,i,u,Be,Ie;return e.jsx("div",{className:"py-3",children:e.jsxs(v.Card,{className:"w-full ",children:[e.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:(I=f("floor_type",d==null?void 0:d.floor_mstr_id))==null?void 0:I.floor_name}),(d==null?void 0:d.id)==0&&e.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-gray-200  rounded-md select-none whitespace-nowrap bg-blue-900/50",children:[e.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:e.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-blue-900 content-['']"})}),e.jsx("span",{className:"ml-4",children:"Add new floor by TC"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Floor"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(x=f("floor_type",d==null?void 0:d.floor_mstr_id))==null?void 0:x.floor_name})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-3 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-xs",children:(q=f("floor_type",d==null?void 0:d.tc_verified_floor_mstr_id))==null?void 0:q.floor_name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkFloorNo"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkFloorNo)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkFloorNo"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].floorNo"),d==null?void 0:d.floor_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkFloorNo"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].floorNo"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".floorNo"),formik:s,disabled:((P=(R=s==null?void 0:s.values)==null?void 0:R.floorFromDB[t])==null?void 0:P.checkFloorNo)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(k=($=(o=y==null?void 0:y.data)==null?void 0:o.data)==null?void 0:$.floor_type)==null?void 0:k.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkFloorNo)=="1"&&c.id==(d==null?void 0:d.floor_mstr_id),children:c.floor_name},c.id)})]})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Usages Type"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(O=f("usage_type",d==null?void 0:d.usage_type_mstr_id))==null?void 0:O.usage_type})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(U=f("usage_type",d==null?void 0:d.tc_verified_usage_type_mstr_id))==null?void 0:U.usage_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkUsagesType"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkUsagesType)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkUsagesType"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].usageTypeId"),d==null?void 0:d.usage_type_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkUsagesType"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].usageTypeId"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".usageTypeId"),formik:s,disabled:((z=(L=s==null?void 0:s.values)==null?void 0:L.floorFromDB[t])==null?void 0:z.checkUsagesType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(M=(E=(H=y==null?void 0:y.data)==null?void 0:H.data)==null?void 0:E.usage_type)==null?void 0:M.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkUsagesType)=="1"&&c.id==(d==null?void 0:d.usage_type_mstr_id),children:c.usage_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Occupancy Type"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(W=f("occupancy_type",d==null?void 0:d.occupancy_type_mstr_id))==null?void 0:W.occupancy_type})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(Y=f("occupancy_type",d==null?void 0:d.tc_verified_occupancy_type_mstr_id))==null?void 0:Y.occupancy_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkOccupancyType"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkOccupancyType)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkOccupancyType"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].occupancyTypeId"),d==null?void 0:d.occupancy_type_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkOccupancyType"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].occupancyTypeId"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".occupancyTypeId"),formik:s,disabled:((X=(K=s==null?void 0:s.values)==null?void 0:K.floorFromDB[t])==null?void 0:X.checkOccupancyType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(J=(G=(Q=y==null?void 0:y.data)==null?void 0:Q.data)==null?void 0:G.occupancy_type)==null?void 0:J.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkOccupancyType)=="1"&&c.id==(d==null?void 0:d.occupancy_type_mstr_id),children:c.occupancy_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Construction Type"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(Z=f("construction_type",d==null?void 0:d.const_type_mstr_id))==null?void 0:Z.construction_type})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(D=f("construction_type",d==null?void 0:d.tc_verified_const_type_mstr_id))==null?void 0:D.construction_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkConstructionTypeId"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkConstructionTypeId)==c.value,onChange:c.value=="1"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkConstructionTypeId"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].constructionTypeId"),d==null?void 0:d.const_type_mstr_id)}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkConstructionTypeId"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].constructionTypeId"),"")}},c.id)})}),e.jsxs(V,{isDynamic:!0,name:"floorFromDB.".concat(t,".constructionTypeId"),formik:s,disabled:((se=(ee=s==null?void 0:s.values)==null?void 0:ee.floorFromDB[t])==null?void 0:se.checkConstructionTypeId)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(re=(le=(ae=y==null?void 0:y.data)==null?void 0:ae.data)==null?void 0:le.construction_type)==null?void 0:re.map(c=>{var j,b;return e.jsx("option",{value:c.id,selected:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkConstructionTypeId)=="1"&&c.id==(d==null?void 0:d.const_type_mstr_id),children:c.construction_type},c.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Build Up Area (in Sq.Ft)"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.builtup_area})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_builtup_area})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkBuiltUpArea"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkBuiltUpArea)==c.value,onChange:c.value=="0"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkBuiltUpArea"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].builtUpArea"),"")}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkBuiltUpArea"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].builtUpArea"),d==null?void 0:d.builtup_area)}},c.id)})}),e.jsx(C,{isDynamic:!0,name:"floorFromDB.".concat(t,".builtUpArea"),formik:s,disabled:((oe=(de=s==null?void 0:s.values)==null?void 0:de.floorFromDB[t])==null?void 0:oe.checkBuiltUpArea)=="1"})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date From"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.date_from})]}),(h==null?void 0:h.role[0])=="SENIOUR LIPIK"&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_date_from})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkDateFrom"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkDateFrom)==c.value,onChange:c.value=="0"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateFrom"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].dateFrom"),"")}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateFrom"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].dateFrom"),d==null?void 0:d.date_from)}},c.id)})}),e.jsx(C,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(t,".dateFrom"),formik:s,disabled:((ce=(te=s==null?void 0:s.values)==null?void 0:te.floorFromDB[t])==null?void 0:ce.checkDateFrom)=="1",max:(ie=(ne=a==null?void 0:a.data)==null?void 0:ne.data)!=null&&ie.application_date?(pe=(ue=a==null?void 0:a.data)==null?void 0:ue.data)==null?void 0:pe.application_date:""})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(v.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date Upto"})}),e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.date_upto})]}),e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:d==null?void 0:d.tc_verified_date_upto})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:T.map(c=>{var j,b;return e.jsx(m,{formik:s,name:"floorFromDB[".concat(t,"].checkDateTo"),label:c.title,value:c.value,checked:((b=(j=s==null?void 0:s.values)==null?void 0:j.floorFromDB[t])==null?void 0:b.checkDateTo)==c.value,onChange:c.value=="0"?()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateTo"),"0"),s.setFieldValue("floorFromDB[".concat(t,"].dateTo"),"")}:()=>{s.setFieldValue("floorFromDB[".concat(t,"].checkDateTo"),"1"),s.setFieldValue("floorFromDB[".concat(t,"].dateTo"),d==null?void 0:d.date_upto)}},c.id)})}),e.jsx(C,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(t,".dateTo"),formik:s,disabled:((n=(r=s==null?void 0:s.values)==null?void 0:r.floorFromDB[t])==null?void 0:n.checkDateTo)=="1",max:(u=(i=a==null?void 0:a.data)==null?void 0:i.data)!=null&&u.application_date?(Ie=(Be=a==null?void 0:a.data)==null?void 0:Be.data)==null?void 0:Ie.application_date:""})]})]})]})]})},t)})})}}),e.jsx(v.Card,{className:"w-full",children:e.jsxs(v.CardBody,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Add Floor"}),e.jsx(v.Button,{size:"sm",onClick:()=>A(!0),children:"Add Floor"})]}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx("div",{className:"relative overflow-x-auto  sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left  border-slate-400 border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm",children:[e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Floor No"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Usage Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Occupancy Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Construction Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Build Up Area"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date From"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date Upto"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Action"})]})}),e.jsx("tbody",{children:(Vs=(ms=s==null?void 0:s.values)==null?void 0:ms.addFloor)==null?void 0:Vs.map((l,_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.floorName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.usagesTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.occupancyTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.constructionTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.builtUpArea}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateFrom}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateTo}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:e.jsx("button",{onClick:()=>{var F,N;s.setFieldValue("addFloor",(N=(F=s==null?void 0:s.values)==null?void 0:F.addFloor)==null?void 0:N.filter((d,t)=>t!==_))},type:"button",className:"text-xs font-semibold p-1 border border-slate-300 rounded-md bg-red-600 text-white",children:"Remove"})})]},_))})]})})]})})]}):null,e.jsx("div",{className:"border border-gray-300 w-full my-5"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:e.jsx(v.Card,{className:"w-full",children:e.jsxs(v.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsx("div",{className:"flex justify-start items-center gap-2 mb-1",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Remark"})})})}),e.jsx(C,{name:"remark",formik:s,placeholder:"Remark"})]})})}),e.jsx("div",{className:"border border-gray-300 w-full mt-5"}),e.jsx("div",{className:"flex justify-center items-center py-5",children:e.jsx(v.Button,{size:"sm",type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md mt-4 ",children:"SAVE & NEXT"})})]})]})]})}export{ma as default};
