import{c as y,p as v,j as e}from"./index-CUXWRp7E.js";import{f as g,d as f,u as w}from"./router-vn-0iGwJ.js";import{P}from"./index-Nw9NoOgx.js";import{r}from"./tailwind-umh7vczy.js";import{F as S}from"./FormProvider-AqaH0m2Q.js";import{T as F}from"./TextField-lIRIs8bD.js";import{u as _}from"./formik.esm-ilDmhU_v.js";import"./index-9INnh4Fj.js";import{c as C,a as k}from"./index.esm-19LW8OGO.js";import{S as B}from"./index-pxLnVCm9.js";import{u as R}from"./usePathWisePermission-mFuvvguM.js";import"./reactQuery-VYMV1vFj.js";import"./axios-lPgvryBG.js";import"./reactIcons-lANGEfNm.js";import"./headlessui-pLs_kC1m.js";import"./customInputValidation-8tSUGdUh.js";import"./ArrowRightIcon-L63fzh56.js";function X(){var c,o,i,x,m,h,j,p;const{pathname:u}=g(),{result:t}=R(u),[n,b]=f.useState(1),[N,z]=f.useState(10),d=w(),l=_({initialValues:{holdingNo:""},validationSchema:C().shape({holdingNo:k().required("Survey is required")}),onSubmit:s=>{a.refetch()}}),a=y({api:v.getFilterPropDetails,config:{filteredBy:"holdingNo",parameter:l.values.holdingNo,zoneId:"",wardId:"",page:n,perPage:N},key:"holdingListData",options:{enabled:!1}});return e.jsx(P,{title:"Search Survey",children:e.jsxs("div",{className:"px-4 py-4 flex-1",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-3",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Survey"}),e.jsx("div",{children:e.jsx(r.Button,{size:"sm",color:"blue-gray",onClick:()=>d("/amc-app/property/new-survey-basic"),fullWidth:!0,children:e.jsx("small",{children:"New Survey"})})})]}),e.jsx(S,{formik:l,children:e.jsx(r.Card,{children:e.jsx(r.CardBody,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(F,{formik:l,label:"Holding No",name:"holdingNo",placeholder:"Enter holding no"})}),(t==null?void 0:t.create)&&e.jsx("div",{className:"col-span-2 justify-center items-center flex",children:e.jsx(r.Button,{size:"sm",color:"blue",type:"submit",children:e.jsx("small",{children:"Search Holding"})})}),e.jsx("div",{className:"border-t border-gray-200"})]})})})}),e.jsx("div",{className:"mt-4",children:a!=null&&a.isFetching?e.jsx("div",{className:"text-center py-40 text-blue-600",children:"Please Wait...."}):e.jsx(e.Fragment,{children:((i=(o=(c=a==null?void 0:a.data)==null?void 0:c.data)==null?void 0:o.data)==null?void 0:i.length)>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-4 border-b-2"}),(h=(m=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:m.data)==null?void 0:h.map(s=>e.jsx(r.Card,{className:"w-full mb-5",children:e.jsxs(r.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-xs",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Holding No:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.holding_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Property No:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.property_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Zone:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.zone_name})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:s==null?void 0:s.prop_address})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile No:"}),e.jsx("p",{className:"text-xs text-end",children:s==null?void 0:s.mobile_no})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:s==null?void 0:s.owner_name})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Payment Status:"}),e.jsx("p",{className:"text-xs font-semibold ".concat((s==null?void 0:s.paid_status)===1?"text-green-500":"text-red-500"),children:(s==null?void 0:s.paid_status)===1?"Paid":"Pending"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsx("div",{className:"flex items-center justify-around mt-4 -mb-1 gap-6",children:e.jsx("div",{onClick:()=>d("/amc-app/property/survey-for-reassessment/".concat(s==null?void 0:s.id)),className:"text-xs font-bold text-blue-600",children:"Survey for Reassessment"})})]})},s==null?void 0:s.id)),e.jsx("div",{className:"my-4 border-b-2"}),e.jsx(B,{active:n,setActive:b,noOfPage:(p=(j=a==null?void 0:a.data)==null?void 0:j.data)==null?void 0:p.last_page})]}):e.jsx("div",{className:"flex items-center justify-center py-52",children:e.jsx("h1",{color:"gray",className:"text-center text-xs",children:"No Record Found!"})})})})]})})}export{X as default};
