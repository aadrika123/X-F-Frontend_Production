import{b as L,c as E,p as M,j as e,I as W}from"./index-kwyYuGuR.js";import{P as Z}from"./index-tU9B2LIK.js";import{r as c}from"./tailwind-6U-kYQAu.js";import{T as I}from"./TextField-Xxe-cRKK.js";import{u as q,d as t}from"./router-5yjtezO8.js";import"./index-iFVn5AxS.js";import{S as G}from"./PaginationState-cZnz3R-E.js";import"./reactQuery-QTVGT_ni.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./formik.esm-BnzrXcQN.js";import"./customInputValidation-jhKsg103.js";import"./ArrowRightIcon-g-6SOtWO.js";function de(){var o,i,h,j,p,f,N,b,m,u;const O=q(),[d,z]=t.useState(new Date().toISOString().split("T")[0]),[x,F]=t.useState(new Date().toISOString().split("T")[0]),[l,V]=t.useState(1),[n,R]=t.useState(10),r=L(),a=E({api:(o=M)==null?void 0:o.tcVisitList,config:{userId:(i=r==null?void 0:r.user)==null?void 0:i.id,fromDate:d,toDate:x,page:l,perPage:n},value:[l,n],options:{enabled:!0}}),B=()=>{a.refetch()};return a.isLoading?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(W,{})}):e.jsx(Z,{title:"Visiting List",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(I,{className:"w-full",label:"From Date",type:"date",value:d,onChange:s=>z(s.target.value)})}),e.jsx("div",{className:"w-full",children:e.jsx(I,{className:"w-full",label:"To Date",type:"date",value:x,onChange:s=>F(s.target.value)})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>B(),className:"bg-blue-500 text-white px-3 py-1 rounded-md",children:"Search"})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),((p=(j=(h=a==null?void 0:a.data)==null?void 0:h.data)==null?void 0:j.data)==null?void 0:p.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[(b=(N=(f=a==null?void 0:a.data)==null?void 0:f.data)==null?void 0:N.data)==null?void 0:b.map((s,H)=>{var g,w,y,v,A,_,D,P,S;return e.jsx(c.Card,{className:"w-full mb-5",children:e.jsxs(c.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-xs",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),e.jsx("p",{className:"text-xs text-end",children:(g=s==null?void 0:s.owner_name)!=null?g:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Property No:"}),e.jsx("p",{className:"text-xs text-end",children:(w=s==null?void 0:s.property_no)!=null?w:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:(y=s==null?void 0:s.holding_no)!=null?y:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Zone:"}),e.jsx("p",{className:"text-xs text-end",children:(v=s==null?void 0:s.zone_name)!=null?v:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Ward:"}),e.jsx("p",{className:"text-xs text-end",children:(A=s==null?void 0:s.ward_name)!=null?A:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Address:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:(_=s==null?void 0:s.prop_address)!=null?_:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile No:"}),e.jsx("p",{className:"text-xs text-end",children:(D=s==null?void 0:s.mobile_no)!=null?D:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Remarks:"}),e.jsx("p",{className:"text-xs font-semibold whitespace-pre-wrap",children:(P=s==null?void 0:s.remarks)!=null?P:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1 whitespace-pre-wrap",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Citizen Comment:"}),e.jsx("p",{className:"text-xs font-semibold",children:(S=s==null?void 0:s.citizen_comment)!=null?S:"NA"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(c.Button,{color:"green",size:"sm",onClick:()=>{var C,T,$,k;return O("/amc-app/property/tc-visit-map?holding-no=".concat((C=s==null?void 0:s.holding_no)!=null?C:"NA","&property-no=").concat((T=s==null?void 0:s.property_no)!=null?T:"NA","&name=").concat(($=s==null?void 0:s.owner_name)!=null?$:"NA","&address=").concat((k=s==null?void 0:s.prop_address)!=null?k:"NA","&lat=").concat(s==null?void 0:s.latitude,"&lng=").concat(s==null?void 0:s.longitude))},children:e.jsx("small",{children:"View Location"})})})]})},s==null?void 0:s.id)}),e.jsx(G,{page:l,setPage:V,perPage:n,setPerPage:R,noOfPage:(u=(m=a==null?void 0:a.data)==null?void 0:m.data)==null?void 0:u.last_page})]})}):e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-400",children:"No Data Found"})})]})})}export{de as default};
