import{r as o,h as k,o as H,e as _,g as $,p as j,c as q,b as x,u as C,f as r,F as E,j as e,i as T,R as M,d as V,A as D}from"./index-ecda466e.js";import{L as I}from"./ListTableAdvrt-f4515220.js";import{u as O}from"./useSetTitle-2e41623e.js";function R(c,d,m){let h="/admin";c.ctrlKey?window.open(`${h}${d}`,"_blank"):m(d)}function G(){o.useState(!1),o.useState();const[c,d]=o.useState();o.useState(!1),o.useState();const{type:m,filterParam:h,searchValueParam:y}=k(),[N,u]=o.useState(!1),[l,v]=o.useState(),[f,p]=o.useState(!1);o.useState();const{notify:g}=o.useContext(H);O("Search Holding"),console.log("search params...",m," ",h," ",y);const{api_advtSearchPaymentParameters:S}=D(),w=_(),B=$();j(),console.log("last url.......");const A=t=>{p(!1),u(!0);const i={filterBy:t==null?void 0:t.filterBy,parameter:t==null?void 0:t.parameter};console.log("before fetch holding details....",i),V.post(S,i,w).then(a=>{var n,b;console.log("search property list",a==null?void 0:a.data),(n=a==null?void 0:a.data)!=null&&n.status?(v((b=a==null?void 0:a.data)==null?void 0:b.data),p(!0)):g("Something went wrong!!","error"),u(!1)}).catch(a=>{console.log("Error while fetching Filter Data",a),g("Something went wrong!!","error"),u(!1),p(!1)})},P=q({filterBy:x().required("This is a required field !"),parameter:x().required("This is a required field !")}),s=C({initialValues:{filterBy:"",parameter:""},onSubmit:t=>{A(t)},validationSchema:P}),F=(t,i,a)=>{let n=`/agencyApprovedDetail/${i}/${a}/Approve`;R(t,n,B)},L=[{Header:"Application No.",accessor:"application_no"},{Header:"Entity Name",accessor:"entity_name"},{Header:"Mobile No.",accessor:"mobile_no"},{Header:"Action",Cell:({row:t})=>e("button",{onClick:i=>F(i,t.original.id,t.original.type),className:"bg-indigo-500 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 text-white",children:"view"})}];return console.log("application type ",l),r(E,{children:[N&&e(T,{}),r("div",{className:"border shadow-xl bg-white mt-6",children:[e("div",{className:"flex ml-5 mt-2 ",children:e("p",{className:"font-bold text-3xl ml-4 mt-1 text-gray-600",children:"Search For Payment"})}),e("form",{onSubmit:s.handleSubmit,children:r("div",{className:"flex justify-center space-x-8 my-5 m-10",children:[r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",e("span",{className:"text-red-500",children:"*"})]}),r("select",{...s.getFieldProps("filterBy"),className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),e("option",{value:"entityName",children:"Entity Name"}),e("option",{value:"ownerName",children:"Owner Name"}),e("option",{value:"mobileNo",children:"Mobile No"})]}),e("p",{className:"text-red-500 text-xs",children:s.touched.filterBy&&s.errors.filterBy?s.errors.filterBy:null})]}),r("div",{children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By ",c," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",...s.getFieldProps("parameter"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:s.touched.parameter&&s.errors.parameter?s.errors.parameter:null})]}),e("div",{className:"mt-4",children:r("button",{type:"submit",className:"w-full border border-indigo-700 bg-indigo-600 hover:bg-indigo-500 text-white hover:text-black shadow-lg rounded-sm text-base font-semibold px-5 m-3 py-1",children:[" ",r("p",{className:"flex",children:[" ",r("span",{className:"mt-1 mr-2",children:[" ",e(M,{})," "]})," ","Search record"]})]})})]})})]}),r("div",{className:"mt-10",children:[f&&(l==null?void 0:l.length)!=0&&e(I,{columns:L,dataList:l}),f&&(l==null?void 0:l.length)==0&&e("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"}),e("div",{className:"w-full h-40"})]})]})}export{G as default};
