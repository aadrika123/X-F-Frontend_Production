import{j as i,a as k,t as Z,m as Ne,b as fe,S as je,Q as G}from"./index-BmzyyeIl.js";import{e as g,u as ye,f as we,r as Q}from"./react-kJeE4wWB.js";import{P as qe}from"./index-hx76H7S1.js";import{u as U,F as De}from"./formik.esm-u2hvNN2G.js";import{c as K,a as d,f as ve,e as Se}from"./index.esm-APWbThjM.js";import{F as H}from"./FormProvider-tnvqnzZG.js";import{T as q}from"./TextField-CYO3Rrh-.js";import{S as Y}from"./SelectField-EvjuAayu.js";import"./index-FYp6KAEl.js";import{T as J,S as Re}from"./react-select.esm-KPXKAjy-.js";import{O as ge}from"./OverLayLoader-aCHSt9FP.js";import"./module-lhJH5toF.js";function _e({data:e,setData:O,next:D,tradeApplyData:y}){var j,r,l,m,v,t;const o=U({enableReinitialize:!0,initialValues:e,validationSchema:K({licenseNo:d().required("Required"),firmType:d().required("Required"),ownershipType:d().required("Required")}),onSubmit:a=>{D(a)}});return i.jsx(H,{formik:o,children:i.jsxs(g.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Basic Details"})}),i.jsxs(g.CardBody,{children:[i.jsx("div",{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(q,{label:"License No",name:"licenseNo",formik:o,disabled:!0}),i.jsxs(Y,{label:"Firm Type",name:"firmType",formik:o,isRequiredLabel:!0,disabled:!0,children:[i.jsx("option",{value:"",children:"Firm Type"}),(l=(r=(j=y==null?void 0:y.data)==null?void 0:j.data)==null?void 0:r.firmTypeList)==null?void 0:l.map(a=>i.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.firm_type},a==null?void 0:a.id))]}),i.jsxs(Y,{disabled:!0,label:"Ownership Type",name:"ownershipType",formik:o,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Ownership Type"}),(t=(v=(m=y==null?void 0:y.data)==null?void 0:m.data)==null?void 0:v.ownershipTypeList)==null?void 0:t.map(a=>i.jsx("option",{value:a==null?void 0:a.id,children:a==null?void 0:a.ownership_type},a==null?void 0:a.id))]})]})}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx(g.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})})]})]})})}function Fe({data:e,setData:O,next:D,prev:y,tradeApplyData:o,natureOfBusiness:j}){var t,a,p,R,_,F,C,B,n,N,f;const r=U({enableReinitialize:!0,initialValues:e,validationSchema:K({holdingNo:d().required("Required"),zoneId:d().required("Required"),wardNo:d().required("Required"),areaSqft:d().required("Required"),firmName:d().required("Required"),firmNameMarathi:d().required("Required"),firmEstdDate:d().required("Required"),businessAddress:d().required("Required"),landmark:d().required("Required"),pincode:d().required("Required"),premisesOwner:d().required("Required"),businessDescription:d().required("Required"),natureOfBusiness:ve().required("Required")}),onSubmit:s=>{D({...e,...s})}}),{values:l}=r,m=k({api:Z.tradeGetPropByHolding,config:{holdingNo:l==null?void 0:l.holdingNo},value:[l==null?void 0:l.holdingNo],options:{enabled:!1,onSuccess:s=>{var x,h,b,w,c,S,L,T,M,A,z,I,E,P,V,$,W;console.log("res",(x=s==null?void 0:s.data)==null?void 0:x.property),r.setFieldValue("zoneId",(b=(h=s==null?void 0:s.data)==null?void 0:h.property)==null?void 0:b.zone_mstr_id),r.setFieldValue("wardNo",(c=(w=s==null?void 0:s.data)==null?void 0:w.property)==null?void 0:c.ward_mstr_id),r.setFieldValue("areaSqft",(L=(S=s==null?void 0:s.data)==null?void 0:S.property)==null?void 0:L.area_of_plot),r.setFieldValue("businessAddress",(M=(T=s==null?void 0:s.data)==null?void 0:T.property)==null?void 0:M.prop_address),r.setFieldValue("landmark",(z=(A=s==null?void 0:s.data)==null?void 0:A.property)==null?void 0:z.landmark),r.setFieldValue("pincode",(E=(I=s==null?void 0:s.data)==null?void 0:I.property)==null?void 0:E.prop_pin_code),r.setFieldValue("premisesOwner",(V=(P=s==null?void 0:s.data)==null?void 0:P.property)==null?void 0:V.owner_name),r==null||r.setFieldValue("propDtlId",(W=($=s==null?void 0:s.data)==null?void 0:$.property)==null?void 0:W.id)}}}),v=k({api:(t=Ne)==null?void 0:t.getWardByZone,config:{zoneId:l==null?void 0:l.zoneId},value:[l==null?void 0:l.zoneId],options:{enabled:!!(l!=null&&l.zoneId)}});return i.jsxs(H,{formik:r,children:[(m==null?void 0:m.isLoading)&&i.jsx(ge,{}),i.jsxs(g.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Firm Details"})}),i.jsxs(g.CardBody,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[i.jsx(q,{label:"Holding No",name:"holdingNo",formik:r,isRequiredLabel:!0,onBlur:()=>m.refetch()}),i.jsxs(Y,{disabled:e==null?void 0:e.zoneId,label:"Zone",name:"zoneId",formik:r,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Zone"}),(R=(p=(a=o==null?void 0:o.data)==null?void 0:a.data)==null?void 0:p.zone)==null?void 0:R.map(s=>i.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.zone_name},s==null?void 0:s.id))]}),i.jsxs(Y,{disabled:(_=r.values)==null?void 0:_.wardNo,label:"Ward No",name:"wardNo",formik:r,isRequiredLabel:!0,children:[i.jsx("option",{value:"",children:"Ward No"}),(C=(F=v==null?void 0:v.data)==null?void 0:F.data)==null?void 0:C.map(s=>i.jsx("option",{value:s==null?void 0:s.id,children:s==null?void 0:s.ward_name},s==null?void 0:s.id))]}),i.jsx(q,{type:"number",disabled:e==null?void 0:e.areaSqft,label:"Area in Sqft",name:"areaSqft",formik:r,isRequiredLabel:!0}),i.jsx(q,{disabled:e==null?void 0:e.firmName,label:"Firm Name",name:"firmName",formik:r,isRequiredLabel:!0}),i.jsx(J,{disabled:e==null?void 0:e.firmNameMarathi,onChangeText:s=>{r.setFieldValue("firmNameMarathi",s)},value:(B=r==null?void 0:r.values)==null?void 0:B.firmNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],label:"Firm Name (Marathi)",name:"firmNameMarathi",formik:r,isRequiredLabel:!0}),i.jsx(q,{disabled:e==null?void 0:e.firmEstdDate,type:"date",label:"Firm Estd. Date",name:"firmEstdDate",formik:r,isRequiredLabel:!0}),i.jsx(q,{disabled:e==null?void 0:e.businessAddress,label:"Business Address",name:"businessAddress",formik:r,isRequiredLabel:!0}),i.jsx(q,{disabled:e==null?void 0:e.landmark,label:"Landmark",name:"landmark",formik:r,isRequiredLabel:!0}),i.jsx(q,{type:"number",onInput:s=>s.target.value=Math.max(0,parseInt(s.target.value)).toString().slice(0,6),label:"Pincode",name:"pincode",formik:r,disabled:e==null?void 0:e.pincode}),i.jsx(q,{disabled:(n=r.values)==null?void 0:n.holdingNo,label:"Premises Owner",name:"premisesOwner",formik:r,isRequiredLabel:!0}),i.jsx(q,{disabled:e==null?void 0:e.businessDescription,label:"Business Description",name:"businessDescription",formik:r,isRequiredLabel:!0}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(Re,{isDisabled:e==null?void 0:e.natureOfBusiness,value:(N=r==null?void 0:r.values)==null?void 0:N.natureOfBusiness,name:"natureOfBusiness",options:j,className:"basic-multi-select",classNamePrefix:"select",onChange:s=>{r.setFieldValue("natureOfBusiness",s)}}),i.jsx("p",{className:"text-sm text-red-500",children:(f=r==null?void 0:r.errors)==null?void 0:f.natureOfBusiness})]})]}),i.jsx("hr",{className:"my-4"}),i.jsxs("div",{className:"flex justify-between mt-4 gap-4",children:[i.jsx(g.Button,{color:"gray",size:"sm",onClick:()=>y(r.values),children:"Back"}),i.jsx(g.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})]})]})]})]})}function Ce({data:e,setData:O,next:D,prev:y}){const o=U({enableReinitialize:!0,initialValues:e,validationSchema:K({ownerDetails:Se().of(K().shape({businessOwnerName:d().required("Required"),guardianName:d().required("Required"),mobileNo:d().required("Required"),ownerNameMarathi:d().required("Required"),guardianNameMarathi:d().required("Required"),email:d().required("Required")}))}),onSubmit:j=>{D(j)}});return i.jsx(H,{formik:o,children:i.jsxs(g.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Owner"})}),i.jsxs(g.CardBody,{children:[i.jsx("div",{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsx(De,{name:"ownerDetails",children:({push:j,remove:r})=>{var l,m;return i.jsxs(i.Fragment,{children:[(m=(l=o==null?void 0:o.values)==null?void 0:l.ownerDetails)==null?void 0:m.map((v,t)=>{var a,p,R,_,F,C,B,n,N,f,s,x,h,b,w,c;return i.jsxs("div",{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-2",children:[i.jsx(q,{disabled:(p=(a=e==null?void 0:e.ownerDetails)==null?void 0:a[t])==null?void 0:p.businessOwnerName,isDynamic:!0,label:"Business Owner Name",name:"ownerDetails.".concat(t,".businessOwnerName"),formik:o,isRequiredLabel:!0}),i.jsx(q,{disabled:(_=(R=e==null?void 0:e.ownerDetails)==null?void 0:R[t])==null?void 0:_.guardianName,isDynamic:!0,label:"Guardian Name",name:"ownerDetails.".concat(t,".guardianName"),formik:o,isRequiredLabel:!0}),i.jsx(q,{type:"number",onInput:S=>{S.target.value=Math.max(0,parseInt(S.target.value)).toString().slice(0,10)},disabled:(C=(F=e==null?void 0:e.ownerDetails)==null?void 0:F[t])==null?void 0:C.mobileNo,isDynamic:!0,label:"Mobile No",name:"ownerDetails.".concat(t,".mobileNo"),formik:o,isRequiredLabel:!0}),i.jsx(J,{disabled:(n=(B=e==null?void 0:e.ownerDetails)==null?void 0:B[t])==null?void 0:n.ownerNameMarathi,onChangeText:S=>{o.setFieldValue("ownerDetails.".concat(t,".ownerNameMarathi"),S)},value:(s=(f=(N=o==null?void 0:o.values)==null?void 0:N.ownerDetails)==null?void 0:f[t])==null?void 0:s.ownerNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],isDynamic:!0,label:"Owner Name Marathi",name:"ownerDetails.".concat(t,".ownerNameMarathi"),formik:o,isRequiredLabel:!0}),i.jsx(J,{disabled:(h=(x=e==null?void 0:e.ownerDetails)==null?void 0:x[t])==null?void 0:h.guardianNameMarathi,insertCurrentSelectionOnBlur:!0,triggerKeys:["KEY_SPACE"],isDynamic:!0,value:(c=(w=(b=o==null?void 0:o.values)==null?void 0:b.ownerDetails)==null?void 0:w[t])==null?void 0:c.guardianNameMarathi,onChangeText:S=>{o.setFieldValue("ownerDetails.".concat(t,".guardianNameMarathi"),S)},label:"Guardian Name Marathi",name:"ownerDetails.".concat(t,".guardianNameMarathi"),formik:o,isRequiredLabel:!0}),i.jsx(q,{isDynamic:!0,label:"Email",name:"ownerDetails.".concat(t,".email"),formik:o,isRequiredLabel:!0}),t>0&&i.jsx("div",{className:"flex justify-end items-end col-span-2",children:i.jsx(g.Button,{color:"red",size:"sm",onClick:()=>r(t),children:i.jsx("small",{children:"Remove"})})})]}),i.jsx("div",{className:"border-b border-gray-300 my-4"})]},t)}),(e==null?void 0:e.firmType)!=1&&i.jsx("div",{className:"flex justify-center items-end -mt-4",children:i.jsx(g.Button,{size:"sm",onClick:()=>j?j({businessOwnerName:"",guardianName:"",mobileNo:"",ownerNameMarathi:"",guardianNameMarathi:"",email:""}):null,children:"Add Owner"})})]})}})})}),i.jsxs("div",{className:"flex justify-between mt-4 gap-4",children:[i.jsx(g.Button,{color:"gray",size:"sm",onClick:()=>y(o.values),children:"Back"}),i.jsx(g.Button,{color:"blue",type:"submit",size:"sm",children:"Next"})]})]})]})})}function Be({data:e,setData:O,next:D,prev:y,licenseId:o}){var v,t,a,p,R,_,F,C,B;const{mutateAsync:j,isLoading:r}=fe({}),l=U({enableReinitialize:!0,initialValues:{licenseFor:e.licenseFor||"1",licenseCharge:e.licenseCharge||"",penalty:e.penalty||"",denialAmount:e.denialAmount||"",totalCharge:e.totalCharge||""},validationSchema:K().shape({licenseFor:d().required("License For is required"),licenseCharge:d().required("License Charge is required"),penalty:d().required("Penalty is required"),denialAmount:d().required("Denial Amount is required"),totalCharge:d().required("Total Charge is required")}),onSubmit:async(n,{setSubmitting:N})=>{var s,x;const f={initialBusinessDetails:{applyWith:e==null?void 0:e.applyWith,noticeNo:(e==null?void 0:e.noticeNo)||"",noticeDate:(e==null?void 0:e.noticeDate)||"",firmType:(e==null?void 0:e.firmType)||"",ownershipType:(e==null?void 0:e.ownershipType)||"",licenseNo:(e==null?void 0:e.licenseNo)||"",otherFirmType:(e==null?void 0:e.otherFirmType)||""},firmDetails:{wardNo:(e==null?void 0:e.wardNo)||"",holdingNo:(e==null?void 0:e.holdingNo)||"",areaSqft:(e==null?void 0:e.areaSqft)||"",firmName:(e==null?void 0:e.firmName)||"",firmNameMarathi:(e==null?void 0:e.firmNameMarathi)||"",firmEstdDate:(e==null?void 0:e.firmEstdDate)||"",businessAddress:(e==null?void 0:e.businessAddress)||"",landmark:(e==null?void 0:e.landmark)||"",pincode:(e==null?void 0:e.pincode)||"",premisesOwner:(e==null?void 0:e.premisesOwner)||"",businessDescription:(e==null?void 0:e.businessDescription)||"",natureOfBusiness:[{name:(s=e==null?void 0:e.natureOfBusiness)==null?void 0:s.label,id:(x=e==null?void 0:e.natureOfBusiness)==null?void 0:x.value}],tocStatus:0,propDtlId:(e==null?void 0:e.propDtlId)||"",zoneId:(e==null?void 0:e.zoneId)||""},ownerDetails:e==null?void 0:e.ownerDetails,licenseDetails:{licenseFor:n==null?void 0:n.licenseFor,licenseCharge:n==null?void 0:n.licenseCharge,penalty:n==null?void 0:n.penalty,denialAmount:n==null?void 0:n.denialAmount,totalCharge:n==null?void 0:n.totalCharge,paymentMode:"NA",bankName:"",chequeNo:"",chequeDate:"",branchName:""},applicationType:"RENEWAL",licenseId:o||""};je.fire({title:"Are you sure?",text:"You want to proceed with the payment of ₹ ".concat(n==null?void 0:n.totalCharge),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(h=>{h.isConfirmed&&m(n,f)}).catch(h=>{var b,w;G.error((w=(b=h==null?void 0:h.response)==null?void 0:b.data)==null?void 0:w.message)})}}),m=async(n,N)=>{var f,s,x,h,b,w;try{const c=await j({api:Z.tradeAddNew,data:N});(f=c==null?void 0:c.data)!=null&&f.status?(G.success(((s=c==null?void 0:c.data)==null?void 0:s.message)||"Success"),D({...e,...n,message:(x=c==null?void 0:c.data)==null?void 0:x.message,applyLicenseId:(b=(h=c==null?void 0:c.data)==null?void 0:h.data)==null?void 0:b.applyLicenseId})):G.error(((w=c==null?void 0:c.data)==null?void 0:w.message)||"Something went wrong")}catch(c){G.error((c==null?void 0:c.message)||"Something went wrong")}};return k({api:Z.tradeGetDemand,config:{licenseFor:l.values.licenseFor,firmEstdDate:e==null?void 0:e.firmEstdDate,natureOfBusiness:[{id:(v=e.natureOfBusiness)==null?void 0:v.value,name:(t=e.natureOfBusiness)==null?void 0:t.label}],areaSqft:e==null?void 0:e.areaSqft,applicationType:"RENEWAL",tocStatus:0,noticeDate:""},value:[(a=l==null?void 0:l.values)==null?void 0:a.licenseFor],options:{enabled:!!((p=l==null?void 0:l.values)!=null&&p.licenseFor),onSuccess:n=>{var N,f,s,x,h,b;console.log("res",(N=n==null?void 0:n.data)==null?void 0:N.total_charge),l.setFieldValue("licenseCharge",(f=n==null?void 0:n.data)==null?void 0:f.rate),l.setFieldValue("penalty",(s=n==null?void 0:n.data)==null?void 0:s.penalty),l.setFieldValue("denialAmount",((x=n==null?void 0:n.data)==null?void 0:x.arear_amount)+((h=n==null?void 0:n.data)==null?void 0:h.notice_amount)||0),l.setFieldValue("totalCharge",((b=n==null?void 0:n.data)==null?void 0:b.total_charge)||0)}}}),i.jsxs(H,{formik:l,children:[r&&i.jsx(ge,{}),i.jsxs(g.Card,{children:[i.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:i.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Payable Amount"})}),i.jsxs(g.CardBody,{children:[i.jsx("div",{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs(Y,{label:"License For",name:"licenseFor",formik:l,children:[i.jsx("option",{value:"",children:"Select License For"}),i.jsx("option",{value:"1",children:"1 Year"})]})})}),i.jsx("div",{className:"border-t border-gray-200 my-5"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4 ",children:[i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Charge Applied :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((R=l==null?void 0:l.values)==null?void 0:R.licenseCharge)||0]}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Penalty :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((_=l==null?void 0:l.values)==null?void 0:_.penalty)||0]}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Denial Amount :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((F=l==null?void 0:l.values)==null?void 0:F.denialAmount)||0]}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Total Charge :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((C=l==null?void 0:l.values)==null?void 0:C.totalCharge)||0]}),i.jsx("div",{className:"border-t border-gray-200 col-span-2 "}),i.jsx("h1",{className:"text-sm font-semibold text-gray-700",children:"Payable Amount :"}),i.jsxs("h1",{className:"text-sm font-semibold text-gray-700",children:["₹ ",((B=l==null?void 0:l.values)==null?void 0:B.totalCharge)||0]})]}),i.jsxs("div",{className:"flex justify-between mt-4",children:[i.jsx(g.Button,{color:"gray",size:"sm",onClick:()=>y(l.values),children:"Back"}),i.jsx(g.Button,{color:"blue",type:"submit",size:"sm",children:"Final Submit"})]})]})]})]})}function Oe({data:e}){const O=ye();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"border border-gray-200 shadow-md shadow-gray-300 justify-center p-4 sm:w-1/2 lg:w-1/3 w-full bg-white mx-auto flex flex-col h-screen top-0 left-0 right-0 bottom-0 fixed",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 hover:bg-white opacity-0 transition duration-700 hover:opacity-10"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","data-slot":"icon",className:"text-white w-24 h-24 mb-4 mt-12 bg-green-600 max-w-full h-auto mx-auto animate-wiggle rounded-full",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})]}),i.jsx("div",{className:"",children:i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-2xl  text-center mb-6 text-[#40AA15] font-openSans font-semibold",children:"This Application Is Submitted."}),i.jsxs("h3",{className:"text-xl  text-center mb-2 text-gray-400 font-openSans font-semibold ",children:["Generated Application No: ",e==null?void 0:e.message]}),i.jsx("h3",{className:"text-sm  text-center mb-3 text-gray-400 font-openSans font-semibold ",children:"( Keep This application No. for future reference. You can always find your applications in)"})]})}),i.jsx("div",{className:"",children:i.jsx("div",{className:" text-center mt-8 mb-16",children:i.jsxs("button",{onClick:()=>O("/amc-app/trade/application-details/".concat(e==null?void 0:e.applyLicenseId),{replace:!0}),className:"bg-[#1A4D8C] text-sm px-8 py-2 text-white  rounded leading-5 shadow-lg",children:[" ","View Application"]})})})]})})}function Ye(){var R,_,F,C,B;const e=we(),O=(R=new URLSearchParams(e==null?void 0:e.search))==null?void 0:R.get("app-type"),D=(_=new URLSearchParams(e==null?void 0:e.search))==null?void 0:_.get("license-id"),[y,o]=Q.useState([]),[j,r]=Q.useState(1),[l,m]=Q.useState({applyWith:"",noticeNo:"",noticeDate:"",firmType:"",ownershipType:"",licenseNo:"",otherFirmType:"",holdingNo:"",zoneId:"",wardNo:"",areaSqft:"",firmName:"",firmNameMarathi:"",firmEstdDate:"",businessAddress:"",landmark:"",pincode:"",premisesOwner:"",businessDescription:"",natureOfBusiness:null,tocStatus:0,propDtlId:"",ownerDetails:[{businessOwnerName:"",guardianName:"",mobileNo:"",ownerNameMarathi:"",guardianNameMarathi:"",email:""}],licenseFor:"",licenseCharge:"",penalty:"",denialAmount:"",totalCharge:"",message:"",applyLicenseId:""}),v=n=>{console.log(n)},t=(n,N=!1)=>{if(m({...l,...n}),N){v(n);return}r(j+1)},a=n=>{m({...l,...n}),r(j-1)},p=k({api:(F=Z)==null?void 0:F.tradeApplyData,config:{licenseId:D,applicationType:O},value:[O,D],options:{enabled:!!D&&!!O,onSuccess:n=>{var N,f;m(s=>{var x,h,b,w,c,S,L,T,M,A,z,I,E,P,V,$,W,X,ee,ie,ne,se,le,re,ae,oe,te,ce,ue,de,me,he,pe,xe,be;return{...s,ownerDetails:(h=(x=n==null?void 0:n.data)==null?void 0:x.ownerDtl)==null?void 0:h.map(u=>({businessOwnerName:u==null?void 0:u.owner_name,guardianName:u==null?void 0:u.guardian_name,mobileNo:u==null?void 0:u.mobile_no,ownerNameMarathi:u==null?void 0:u.owner_name_marathi,guardianNameMarathi:u==null?void 0:u.guardian_name_marathi,email:u==null?void 0:u.email_id,natureOfBusiness:u==null?void 0:u.nature_of_business})),firmType:(w=(b=n==null?void 0:n.data)==null?void 0:b.licenceDtl)==null?void 0:w.firm_type_id,ownershipType:(S=(c=n==null?void 0:n.data)==null?void 0:c.licenceDtl)==null?void 0:S.ownership_type_id,licenseNo:(T=(L=n==null?void 0:n.data)==null?void 0:L.licenceDtl)==null?void 0:T.license_no,zoneId:(A=(M=n==null?void 0:n.data)==null?void 0:M.licenceDtl)==null?void 0:A.zone_id,wardNo:(I=(z=n==null?void 0:n.data)==null?void 0:z.licenceDtl)==null?void 0:I.ward_id,areaSqft:(P=(E=n==null?void 0:n.data)==null?void 0:E.licenceDtl)==null?void 0:P.area_in_sqft,firmName:($=(V=n==null?void 0:n.data)==null?void 0:V.licenceDtl)==null?void 0:$.firm_name,firmNameMarathi:(X=(W=n==null?void 0:n.data)==null?void 0:W.licenceDtl)==null?void 0:X.firm_name_marathi,firmEstdDate:(ie=(ee=n==null?void 0:n.data)==null?void 0:ee.licenceDtl)==null?void 0:ie.establishment_date,businessAddress:(se=(ne=n==null?void 0:n.data)==null?void 0:ne.licenceDtl)==null?void 0:se.address,landmark:(re=(le=n==null?void 0:n.data)==null?void 0:le.licenceDtl)==null?void 0:re.landmark,pincode:(oe=(ae=n==null?void 0:n.data)==null?void 0:ae.licenceDtl)==null?void 0:oe.pin_code,premisesOwner:(ce=(te=n==null?void 0:n.data)==null?void 0:te.licenceDtl)==null?void 0:ce.premises_owner_name,businessDescription:(de=(ue=n==null?void 0:n.data)==null?void 0:ue.licenceDtl)==null?void 0:de.firm_description,natureOfBusiness:(pe=(he=(me=n==null?void 0:n.data)==null?void 0:me.licenceDtl)==null?void 0:he.nature_of_bussiness)==null?void 0:pe.map(u=>({value:u==null?void 0:u.id,label:u==null?void 0:u.trade_item}))[0],tocStatus:(be=(xe=n==null?void 0:n.data)==null?void 0:xe.licenceDtl)==null?void 0:be.toc_status}}),o((f=(N=n==null?void 0:n.data)==null?void 0:N.natureOfBusiness)==null?void 0:f.map(s=>({value:s==null?void 0:s.id,label:"(".concat(s==null?void 0:s.trade_code,") - ").concat(s==null?void 0:s.trade_item)})))}}});return(C=p==null?void 0:p.data)!=null&&C.status?i.jsx(qe,{title:"Renewal Application",children:i.jsx("div",{className:"p-4",children:{1:i.jsx(_e,{data:l,setData:m,next:t,tradeApplyData:p}),2:i.jsx(Fe,{data:l,setData:m,next:t,prev:a,tradeApplyData:p,natureOfBusiness:y}),3:i.jsx(Ce,{data:l,setData:m,next:t,prev:a}),4:i.jsx(Be,{data:l,setData:m,next:t,prev:a,licenseId:D}),5:i.jsx(Oe,{data:l})}[j]})}):i.jsx("div",{className:"flex justify-center items-center h-96 ",children:i.jsx("div",{className:"text-base font-semibold text-center text-red-900",children:(B=p==null?void 0:p.data)==null?void 0:B.message})})}export{Ye as default};
